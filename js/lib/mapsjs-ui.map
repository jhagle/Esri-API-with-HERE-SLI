{
	"version": 3,
	"file": "mapsjs-uijs",
	"lineCount": 124,
	"mappings": "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",
	"sources": [
		"/home/here/repo/ext-ui/dev/node_modules/closure-library/closure/goog/base.js",
		"out/tmp/src/ui/util/namespace.js",
		"out/tmp/src/ui/util/Events.js",
		"out/tmp/src/ui/dom.js",
		"/home/here/repo/ext-ui/dev/node_modules/closure-library/closure/goog/string/string.js",
		"/home/here/repo/ext-ui/dev/node_modules/closure-library/closure/goog/disposable/disposable.js",
		"/home/here/repo/ext-ui/dev/node_modules/closure-library/closure/goog/events/listenable.js",
		"/home/here/repo/ext-ui/dev/node_modules/closure-library/closure/goog/events/listener.js",
		"/home/here/repo/ext-ui/dev/node_modules/closure-library/closure/goog/object/object.js",
		"/home/here/repo/ext-ui/dev/node_modules/closure-library/closure/goog/events/events.js",
		"/home/here/repo/ext-ui/dev/node_modules/closure-library/closure/goog/useragent/useragent.js",
		"/home/here/repo/ext-ui/dev/node_modules/closure-library/closure/goog/events/browserfeature.js",
		"/home/here/repo/ext-ui/dev/node_modules/closure-library/closure/goog/array/array.js",
		"/home/here/repo/ext-ui/dev/node_modules/closure-library/closure/goog/events/event.js",
		"/home/here/repo/ext-ui/dev/node_modules/closure-library/closure/goog/reflect/reflect.js",
		"/home/here/repo/ext-ui/dev/node_modules/closure-library/closure/goog/events/browserevent.js",
		"/home/here/repo/ext-ui/dev/node_modules/closure-library/closure/goog/events/eventtype.js",
		"/home/here/repo/ext-ui/dev/node_modules/closure-library/closure/goog/events/eventtarget.js",
		"out/tmp/src/ui/base/Element.js",
		"out/tmp/src/ui/base/Container.js",
		"out/tmp/src/ui/base/OverlayPanel.js",
		"out/tmp/src/ui/Control.js",
		"out/tmp/src/ui/base/RadioGroup.js",
		"out/tmp/src/ui/base/Button.js",
		"out/tmp/src/ui/base/PushButton.js",
		"out/tmp/src/ui/LayoutAlignment.js",
		"out/tmp/src/ui/util/VendorPrefix.js",
		"out/tmp/src/ui/css.js",
		"out/tmp/src/ui/panorama/Miniman.js",
		"out/tmp/src/ui/icons/pano.js",
		"out/tmp/src/ui/panorama/Discovery.js",
		"out/tmp/src/ui/Pano.js",
		"out/tmp/src/ui/InfoBubble.js",
		"out/tmp/src/ui/traffic/TrafficIncidents.js",
		"out/tmp/src/ui/MapSettingsControl.js",
		"out/tmp/src/ui/icons/mapSettings.js",
		"out/tmp/src/ui/Layout.js",
		"out/tmp/src/ui/UnitSystem.js",
		"out/tmp/src/ui/i18n/namespace.js",
		"out/tmp/src/ui/i18n/strings-pt-BR.js",
		"out/tmp/src/ui/i18n/strings-fi-FI.js",
		"out/tmp/src/ui/i18n/strings-fr-FR.js",
		"out/tmp/src/ui/i18n/strings-zh-CN.js",
		"out/tmp/src/ui/i18n/strings-tr-TR.js",
		"out/tmp/src/ui/i18n/strings-nl-NL.js",
		"out/tmp/src/ui/i18n/strings-en-US.js",
		"out/tmp/src/ui/i18n/strings-de-DE.js",
		"out/tmp/src/ui/i18n/strings-pt-PT.js",
		"out/tmp/src/ui/i18n/strings-pl-PL.js",
		"out/tmp/src/ui/i18n/strings-it-IT.js",
		"out/tmp/src/ui/i18n/strings-ru-RU.js",
		"out/tmp/src/ui/i18n/strings-es-ES.js",
		"out/tmp/src/ui/i18n/Localization.js",
		"out/tmp/src/ui/UI.js",
		"out/tmp/src/ui/icons/zoom.js",
		"out/tmp/src/ui/ZoomControl.js",
		"out/tmp/src/ui/ScaleBar.js",
		"out/tmp/src/ui/namespace.js"
	],
	"names": [
		"goog.global",
		"goog.typeOf",
		"value",
		"s",
		"Array",
		"Object",
		"className",
		"prototype",
		"toString",
		"call",
		"length",
		"splice",
		"propertyIsEnumerable",
		"goog.isString",
		"val",
		"goog.getUid",
		"obj",
		"goog.UID_PROPERTY_",
		"goog.uidCounter_",
		"Math",
		"random",
		"goog.bindNative_",
		"fn",
		"selfObj",
		"var_args",
		"apply",
		"bind",
		"arguments",
		"goog.bindJs_",
		"Error",
		"boundArgs",
		"slice",
		"newArgs",
		"unshift",
		"goog.bind",
		"Function",
		"indexOf",
		"goog.bind.apply",
		"goog.exportSymbol",
		"publicPath",
		"object",
		"parts",
		"split",
		"cur",
		"execScript",
		"part",
		"shift",
		"undefined",
		"goog.inherits",
		"childCtor",
		"parentCtor",
		"tempCtor",
		"superClass_",
		"H.ui.util.isStockAndroid",
		"ua",
		"navigator",
		"userAgent",
		"isAndroidMobile",
		"regExAppleWebKit",
		"appleWebKitVersion",
		"exec",
		"match",
		"parseFloat",
		"H.ui.util.Events",
		"opt_eventSets",
		"sets_",
		"detectEventSets",
		"H.ui.util.Events.prototype.detectEventSets",
		"win",
		"nav",
		"sets",
		"msPointerEnabled",
		"push",
		"H.ui.util.Events.MSPOINTER",
		"pointerEnabled",
		"H.ui.util.Events.POINTER",
		"H.ui.util.Events.TOUCH",
		"H.ui.util.Events.MOUSE",
		"addEventListener",
		"H.ui.util.Events.prototype.addEventListener",
		"el",
		"type",
		"listener",
		"opt_useCapture",
		"eventName",
		"i",
		"removeEventListener",
		"H.ui.util.Events.prototype.removeEventListener",
		"H.ui.dom.mkEl",
		"doc",
		"opt_className",
		"opt_innerHTML",
		"createElement",
		"innerHTML",
		"H.ui.dom.append",
		"parent",
		"l",
		"appendChild",
		"H.ui.dom.events_",
		"H.ui.dom.on",
		"H.ui.dom.events_.addEventListener",
		"H.ui.dom.off",
		"H.ui.dom.events_.removeEventListener",
		"goog.string.compareElements_",
		"left",
		"right",
		"goog.Disposable",
		"goog.Disposable.MONITORING_MODE",
		"goog.Disposable.MonitoringMode.OFF",
		"goog.Disposable.instances_",
		"OFF",
		"disposed_",
		"dispose",
		"goog.Disposable.prototype.dispose",
		"disposeInternal",
		"uid",
		"goog.Disposable.prototype.disposeInternal",
		"onDisposeCallbacks_",
		"goog.events.ListenableKey.counter_",
		"goog.events.Listener",
		"goog$events$Listener.prototype",
		"goog.events.Listener.prototype",
		"key",
		"removed",
		"callOnce",
		"init",
		"goog.events.Listener.prototype.init",
		"proxy",
		"src",
		"capture",
		"opt_handler",
		"isFunctionListener_",
		"handleEvent",
		"handler",
		"goog.events.Listener.prototype.handleEvent",
		"eventObject",
		"goog.object.forEach",
		"f",
		"goog.events.listeners_",
		"opt_obj",
		"goog.object.PROTOTYPE_FIELDS_",
		"goog.object.extend",
		"target",
		"source",
		"j",
		"goog.object.PROTOTYPE_FIELDS_.length",
		"hasOwnProperty",
		"goog.userAgent.getUserAgentString",
		"goog.userAgent.getNavigator",
		"goog.userAgent.detectedGecko_",
		"goog.userAgent.detectedWebkit_",
		"goog.userAgent.detectedIe_",
		"goog.userAgent.detectedOpera_",
		"product",
		"goog.userAgent.OPERA",
		"goog.userAgent.IE",
		"goog.userAgent.GECKO",
		"goog.userAgent.WEBKIT",
		"goog.userAgent.PLATFORM",
		"platform",
		"ss",
		"goog.userAgent.getDocumentMode_",
		"goog.userAgent.VERSION",
		"version",
		"re",
		"operaVersion",
		"arr",
		"docMode",
		"String",
		"goog.userAgent.isVersionCache_",
		"goog.userAgent.isVersion",
		"order",
		"v1Subs",
		"str",
		"replace",
		"v2Subs",
		"version2",
		"subCount",
		"max",
		"subIdx",
		"v1Sub",
		"v2Sub",
		"v1CompParser",
		"v2CompParser",
		"v1Comp",
		"v2Comp",
		"v1CompNum",
		"parseInt",
		"v2CompNum",
		"goog.userAgent.DOCUMENT_MODE",
		"mode",
		"HAS_W3C_EVENT_SUPPORT",
		"SET_KEY_CODE_TO_PREVENT_DEFAULT",
		"HAS_NAVIGATOR_ONLINE_PROPERTY",
		"HAS_HTML5_NETWORK_EVENT_SUPPORT",
		"HTML5_NETWORK_EVENTS_FIRE_ON_BODY",
		"goog.array.ARRAY_PROTOTYPE_",
		"goog.array.indexOf",
		"goog.array.ARRAY_PROTOTYPE_.indexOf",
		"opt_fromIndex",
		"goog.array.ARRAY_PROTOTYPE_.indexOf.call",
		"fromIndex",
		"goog.events.Event",
		"opt_target",
		"currentTarget",
		"goog$events$Event.prototype",
		"goog.events.Event.prototype",
		"goog.events.Event.prototype.disposeInternal",
		"goog.events.Event.prototype.dispose",
		"propagationStopped_",
		"defaultPrevented",
		"returnValue_",
		"stopPropagation",
		"goog.events.Event.prototype.stopPropagation",
		"preventDefault",
		"goog.events.Event.prototype.preventDefault",
		"goog.reflect.sinkValue",
		"x",
		"goog.nullFunction",
		"goog.events.BrowserEvent",
		"opt_e",
		"opt_currentTarget",
		"goog$events$BrowserEvent.prototype",
		"goog.events.BrowserEvent.prototype",
		"relatedTarget",
		"offsetX",
		"offsetY",
		"clientX",
		"clientY",
		"screenX",
		"screenY",
		"button",
		"keyCode",
		"charCode",
		"ctrlKey",
		"altKey",
		"shiftKey",
		"metaKey",
		"event_",
		"goog.events.BrowserEvent.prototype.init",
		"e",
		"goog.events.Event.call",
		"srcElement",
		"MOUSEOVER",
		"fromElement",
		"MOUSEOUT",
		"toElement",
		"layerX",
		"layerY",
		"pageX",
		"pageY",
		"state",
		"goog.events.BrowserEvent.prototype.stopPropagation",
		"goog.events.BrowserEvent.superClass_.stopPropagation.call",
		"cancelBubble",
		"goog.events.BrowserEvent.prototype.preventDefault",
		"goog.events.BrowserEvent.superClass_.preventDefault.call",
		"be",
		"returnValue",
		"goog.events.BrowserFeature.SET_KEY_CODE_TO_PREVENT_DEFAULT",
		"VK_F1",
		"VK_F12",
		"ex",
		"goog.events.BrowserEvent.prototype.disposeInternal",
		"goog.events.listenerTree_",
		"goog.events.sources_",
		"goog.events.onStringMap_",
		"goog.events.listen",
		"opt_capt",
		"map",
		"count_",
		"srcUid",
		"listenerArray",
		"remaining_",
		"listenerObj",
		"goog.events.getProxy",
		"attachEvent",
		"goog.events.onString_",
		"listenableKey",
		"proxyCallbackFunction",
		"goog.events.handleBrowserEvent_",
		"goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT",
		"v",
		"goog.events.unlisten",
		"objUid",
		"goog.events.unlistenByKey",
		"detachEvent",
		"sourcesArray",
		"goog.array.ARRAY_PROTOTYPE_.splice.call",
		"needsCleanup_",
		"goog.events.cleanUp_",
		"locked_",
		"oldIndex",
		"newIndex",
		"goog.events.removeAll",
		"count",
		"goog.events.fireListeners_",
		"retval",
		"remaining",
		"goog.events.fireListener",
		"Boolean",
		"opt_evt",
		"targetsMap",
		"name",
		"ieEvent",
		"hasCapture",
		"hasBubble",
		"useReturnValue",
		"evt",
		"ancestors",
		"parentNode",
		"goog.events.EventTarget",
		"goog.Disposable.call",
		"goog$events$EventTarget.prototype",
		"goog.events.EventTarget.prototype",
		"parentEventTarget_",
		"getParentEventTarget",
		"goog.events.EventTarget.prototype.getParentEventTarget",
		"setParentEventTarget",
		"goog.events.EventTarget.prototype.setParentEventTarget",
		"goog.events.EventTarget.prototype.addEventListener",
		"opt_capture",
		"opt_handlerScope",
		"goog.events.EventTarget.prototype.removeEventListener",
		"dispatchEvent",
		"goog.events.EventTarget.prototype.dispatchEvent",
		"oldEvent",
		"rv",
		"current",
		"goog.events.EventTarget.prototype.disposeInternal",
		"goog.events.EventTarget.superClass_.disposeInternal.call",
		"H.ui.base.Element",
		"opt_elementType",
		"type_",
		"classNames_",
		"setDisabled",
		"setData",
		"setElement_",
		"H",
		"lang",
		"inherits",
		"render",
		"H.ui.base.Element.prototype.render",
		"join",
		"disabled_",
		"setTooltip",
		"getTooltip",
		"tooltip_",
		"setVisibility",
		"visibility_",
		"getElement",
		"renderInternal",
		"H.ui.base.Element.prototype.renderInternal",
		"goog.exportProperty",
		"isDisabled",
		"H.ui.base.Element.prototype.isDisabled",
		"H.ui.base.Element.prototype.setDisabled",
		"disabled",
		"opt_force",
		"addClass",
		"removeClass",
		"getData",
		"H.ui.base.Element.prototype.getData",
		"data_",
		"H.ui.base.Element.prototype.setData",
		"data",
		"H.ui.base.Element.prototype.setTooltip",
		"tooltip",
		"setAttribute",
		"removeAttribute",
		"H.ui.base.Element.prototype.getElement",
		"H.ui.base.Element.prototype.setVisibility",
		"visibility",
		"style",
		"display",
		"getVisibility",
		"H.ui.base.Element.prototype.getVisibility",
		"H.ui.base.Element.prototype.addClass",
		"H.ui.base.Element.prototype.removeClass",
		"index",
		"remove",
		"H.ui.base.Element.prototype.remove",
		"removeChild",
		"H.ui.base.Element.prototype.disposeInternal",
		"util",
		"getSuperProto",
		"H.ui.base.Element.prototype.dispose",
		"H.ui.base.Container",
		"opt_children",
		"H.ui.base.Element.call",
		"children_",
		"concat",
		"H.ui.base.Container.prototype.setDisabled",
		"addChild",
		"H.ui.base.Container.prototype.addChild",
		"child",
		"ownerDocument",
		"getChildren",
		"H.ui.base.Container.prototype.getChildren",
		"H.ui.base.Container.prototype.removeChild",
		"H.ui.base.Container.prototype.renderInternal",
		"element",
		"H.ui.base.Container.prototype.disposeInternal",
		"forEach",
		"disposeOfChild_",
		"H.ui.base.Container.prototype.disposeOfChild_",
		"H.ui.base.OverlayPanel",
		"state_",
		"H.ui.base.OverlayPanel.State",
		"H.ui.base.Container.call",
		"setState",
		"H.ui.base.OverlayPanel.prototype.setState",
		"getState",
		"H.ui.base.OverlayPanel.prototype.getState",
		"pointToControl",
		"H.ui.base.OverlayPanel.prototype.pointToControl",
		"control",
		"layoutAlignment",
		"alignment_",
		"controlEl",
		"verticalAlignment",
		"bottom",
		"top",
		"margin",
		"test",
		"marginTop",
		"round",
		"offsetHeight",
		"offsetWidth",
		"marginLeft",
		"marginRight",
		"marginBottom",
		"H.ui.base.RadioGroup",
		"opt_options",
		"options",
		"title_",
		"buttons_",
		"onButtonStateChange_",
		"H.ui.base.Button.State",
		"setActiveButton",
		"H.ui.base.RadioGroup.EventType.ACTIVEBUTTONCHANGE",
		"STATECHANGE",
		"setTitle",
		"addButton",
		"H.ui.base.PushButton",
		"ACTIVEBUTTONCHANGE",
		"H.ui.base.RadioGroup.prototype.renderInternal",
		"titleString_",
		"H.ui.base.RadioGroup.prototype.setTitle",
		"title",
		"getTitle",
		"H.ui.base.RadioGroup.prototype.getTitle",
		"H.ui.base.RadioGroup.prototype.addButton",
		"removeButton",
		"H.ui.base.RadioGroup.prototype.removeButton",
		"getButtons",
		"H.ui.base.RadioGroup.prototype.getButtons",
		"H.ui.base.RadioGroup.prototype.setActiveButton",
		"opt_suppressEvent",
		"buttons",
		"H.ui.base.RadioGroup.prototype.disposeInternal",
		"H.ui.base.Button",
		"setLabel",
		"onDown_",
		"onUp_",
		"H.ui.base.Button.prototype.renderInternal",
		"label_",
		"H.ui.base.Button.prototype.getState",
		"H.ui.base.Button.prototype.setState",
		"getLabel",
		"H.ui.base.Button.prototype.getLabel",
		"H.ui.base.Button.prototype.setLabel",
		"label",
		"H.ui.base.Button.prototype.onDown_",
		"H.ui.base.Button.prototype.onUp_",
		"H.ui.base.Button.prototype.disposeInternal",
		"H.ui.base.Button.call",
		"onEnd_",
		"this.onEnd_",
		"onStart_",
		"H.ui.base.PushButton.prototype.renderInternal",
		"toggleState",
		"H.ui.base.PushButton.prototype.toggleState",
		"DOWN",
		"H.ui.base.PushButton.prototype.disposeInternal",
		"H.ui.LayoutAlignment",
		"H.ui.util.VendorPrefix.LIST_JS_",
		"H.ui.css.prefixes_",
		"H.ui.util.VendorPrefix",
		"knownProperties_",
		"probablePrefix_",
		"testStyle_",
		"document",
		"H.ui.css.translate",
		"y",
		"H.ui.css.prefixes_.getPropertyName",
		"property",
		"H.ui.util.VendorPrefix.LIST_JS_.length",
		"prefix",
		"prefixedProp",
		"found",
		"capitalizedProp",
		"H.ui.panorama.Miniman",
		"circleEl",
		"minimanEl",
		"offscreen",
		"man_circle",
		"setPanorama",
		"H.ui.panorama.Miniman.prototype.setPanorama",
		"isAvailable",
		"opt_x",
		"opt_y",
		"man_armup",
		"man_armdown",
		"H.ui.panorama.Discovery",
		"ui",
		"getMap",
		"lastPointerY_",
		"lastPointerX_",
		"Number",
		"MAX_VALUE",
		"onPointerMove_",
		"onPointerStop_",
		"onPointerPanorama_",
		"onMapViewChange_",
		"onMapViewChangeStart_",
		"onMapViewChangeEnd_",
		"onPointerEnter_",
		"onPointerLeave_",
		"miniman_",
		"enterOnTap_",
		"lastTapY_",
		"lastTapX_",
		"onTapPanorama_",
		"onTap_",
		"infoBubble_",
		"H.ui.InfoBubble",
		"getCenter",
		"enabled_",
		"tapCounter_",
		"H$ui$panorama$Discovery.prototype",
		"H.ui.panorama.Discovery.prototype",
		"enable",
		"H.ui.panorama.Discovery.prototype.enable",
		"insertBefore",
		"firstChild",
		"addBubble",
		"close",
		"H.ui.panorama.Discovery.prototype.onPointerLeave_",
		"removeBubble",
		"H.ui.panorama.Discovery.prototype.onPointerEnter_",
		"H.ui.panorama.Discovery.prototype.enterOnTap_",
		"tryEnter",
		"tapTolerance_",
		"disable",
		"H.ui.panorama.Discovery.prototype.disable",
		"bubbleEl",
		"H.ui.panorama.Discovery.prototype.tryEnter",
		"panorama",
		"RenderEngine",
		"getClosestPanoramas",
		"screenToGeo",
		"H.ui.panorama.Discovery.prototype.onPointerMove_",
		"currentPointer",
		"getEngine",
		"Map",
		"EngineType",
		"P2D",
		"pointerX",
		"pointerY",
		"reset_",
		"stopTimeout_",
		"clearTimeout",
		"previewHandle_",
		"cancel",
		"lastPanoramaPosition_",
		"setTimeout",
		"H.ui.panorama.Discovery.prototype.onPointerStop_",
		"H.ui.panorama.Discovery.prototype.onPointerPanorama_",
		"response",
		"that",
		"screenPos",
		"geoToScreen",
		"position",
		"net",
		"images",
		"load",
		"getImageUrl",
		"image",
		"setPosition",
		"setContent",
		"open",
		"H.ui.panorama.Discovery.prototype.onMapViewChangeStart_",
		"H.ui.panorama.Discovery.prototype.onMapViewChangeEnd_",
		"H.ui.panorama.Discovery.prototype.onMapViewChange_",
		"resetTapCounter_",
		"H.ui.panorama.Discovery.prototype.onTap_",
		"isMouse",
		"viewportX",
		"viewportY",
		"tolerance",
		"abs",
		"H.ui.panorama.Discovery.prototype.onTapPanorama_",
		"pos",
		"getLocalization",
		"translate",
		"H.ui.Control",
		"H.ui.LayoutAlignment.TOP_LEFT",
		"setMap",
		"H.ui.Control.prototype.setMap",
		"H.ui.Control.prototype.render",
		"H.ui.Control.prototype.renderInternal",
		"setAlignment",
		"onUnitSystemChange",
		"H.ui.Control.prototype.onUnitSystemChange",
		"onMapEngineTypeChange",
		"H.ui.Control.prototype.onMapEngineTypeChange",
		"H.ui.Control.prototype.getMap",
		"H.ui.Control.prototype.getLocalization",
		"localization",
		"getAlignment",
		"H.ui.Control.prototype.getAlignment",
		"H.ui.Control.prototype.setAlignment",
		"alignment",
		"toUpperCase",
		"H.ui.Pano",
		"states",
		"setupStates_",
		"states_",
		"inactive",
		"coverage",
		"H.ui.Control.call",
		"processMapTypes_",
		"onStateChange",
		"H.ui.base.Button.State.DOWN",
		"leaveButton_",
		"setEngineType",
		"prevState_",
		"H.ui.Pano.prototype.processMapTypes_",
		"mapTypes",
		"fallbackMapTypes",
		"keys",
		"mapTypes_",
		"fallbackMapTypes_",
		"H.ui.Pano.prototype.getBestMatchingLayer_",
		"layer",
		"group",
		"bestMatch",
		"H.ui.Pano.prototype.renderInternal",
		"discovery_",
		"setCenter",
		"PANORAMA",
		"layers",
		"getLayers",
		"onLayersChange_",
		"H.ui.Pano.prototype.onLayersChange_",
		"getBestMatchingLayer_",
		"getBaseLayer",
		"H.ui.Pano.prototype.setState",
		"currState",
		"isPano",
		"coverageButton",
		"prevBaseLayer_",
		"btnState",
		"baseLayer",
		"setBaseLayer",
		"H.ui.Pano.prototype.onMapEngineTypeChange",
		"engineType",
		"onUserClose_",
		"update",
		"deferredUdate_",
		"H.ui.InfoBubble.State",
		"map_",
		"getPosition",
		"H.ui.InfoBubble.prototype.getPosition",
		"position_",
		"H.ui.InfoBubble.prototype.setPosition",
		"geo",
		"Point",
		"fromIPoint",
		"H.ui.InfoBubble.prototype.setMap",
		"H.ui.InfoBubble.prototype.renderInternal",
		"bodyEl_",
		"H.ui.InfoBubble.TAIL_SVG_",
		"closeEl_",
		"H.ui.InfoBubble.CLOSE_SVG_",
		"contentEl_",
		"getViewModel",
		"getViewPort",
		"content_",
		"H.ui.InfoBubble.prototype.deferredUdate_",
		"deferredUdateHandle_",
		"H.ui.InfoBubble.prototype.update",
		"vpWidth",
		"screenCoord",
		"width",
		"overlap",
		"correctedX",
		"min",
		"setContentOffset_",
		"H.ui.InfoBubble.prototype.getState",
		"H.ui.InfoBubble.prototype.setState",
		"H.ui.InfoBubble.prototype.close",
		"H.ui.InfoBubble.prototype.open",
		"getContentElement",
		"H.ui.InfoBubble.prototype.getContentElement",
		"H.ui.InfoBubble.prototype.setContent",
		"content",
		"nodeType",
		"nodeName",
		"H.ui.InfoBubble.prototype.disposeInternal",
		"H.ui.traffic.TrafficIncidents",
		"onIncidentTap_",
		"onIncidentsStateChange_",
		"incidentsBtn_",
		"incidentsBubble_",
		"bubbleMin_",
		"bubbleMax_",
		"setIncidentsLayer",
		"H.ui.traffic.TrafficIncidents.prototype.setIncidentsLayer",
		"incidentsLayer",
		"provider",
		"oldIncidentsLayer",
		"getProvider",
		"updateButtonState",
		"H.ui.traffic.TrafficIncidents.prototype.setUi",
		"ui_",
		"ev",
		"zoom",
		"H.ui.traffic.TrafficIncidents.prototype.updateButtonState",
		"H.ui.base.Button.State.UP",
		"H.ui.traffic.TrafficIncidents.prototype.onIncidentsStateChange_",
		"addLayer",
		"removeLayer",
		"H.ui.traffic.TrafficIncidents.prototype.onIncidentTap_",
		"incidentType",
		"hasKey",
		"H.ui.traffic.TrafficIncidents.INFOBUBBLE_TEMPLATE_.replace",
		"H.ui.MapSettingsControl",
		"onTrafficStateChange_",
		"onTransitStateChange_",
		"onLayerSelect_",
		"closeMenu",
		"menu_",
		"transitBtn_",
		"trafficBtn_",
		"trafficIncidents_",
		"menuButton_",
		"H.ui.icons.mapSettings",
		"entry",
		"addMapTypeEntry",
		"H.ui.LayoutAlignment.BOTTOM_RIGHT",
		"H.ui.MapSettingsControl.prototype.renderInternal",
		"substr",
		"setUi",
		"onBaseLayerChange_",
		"H$ui$MapSettingsControl.prototype",
		"H.ui.MapSettingsControl.prototype",
		"H.ui.MapSettingsControl.prototype.onLayerSelect_",
		"mapTypeButton",
		"mapType",
		"baseLayerToUse",
		"H.ui.MapSettingsControl.prototype.onTrafficStateChange_",
		"H.ui.MapSettingsControl.prototype.onTransitStateChange_",
		"H.ui.MapSettingsControl.prototype.onLayersChange_",
		"H.ui.MapSettingsControl.prototype.onBaseLayerChange_",
		"H.ui.MapSettingsControl.prototype.onMapEngineTypeChange",
		"hide",
		"H.ui.MapSettingsControl.prototype.closeMenu",
		"H.ui.MapSettingsControl.prototype.setIncidentsLayer",
		"H.ui.Layout",
		"uiEl",
		"anchors",
		"corners",
		"H.ui.Layout.CssClassNames.ANCHOR",
		"H.ui.Layout.CssClassNames.HORIZONTAL",
		"H.ui.LayoutAlignment.TOP_CENTER",
		"H.ui.Layout.CssClassNames.TOP",
		"H.ui.Layout.CssClassNames.CENTER",
		"H.ui.LayoutAlignment.TOP_RIGHT",
		"H.ui.LayoutAlignment.LEFT_TOP",
		"H.ui.Layout.CssClassNames.VERTICAL",
		"H.ui.LayoutAlignment.LEFT_MIDDLE",
		"H.ui.Layout.CssClassNames.LEFT",
		"H.ui.Layout.CssClassNames.MIDDLE",
		"H.ui.LayoutAlignment.LEFT_BOTTOM",
		"H.ui.LayoutAlignment.RIGHT_TOP",
		"H.ui.LayoutAlignment.RIGHT_MIDDLE",
		"H.ui.Layout.CssClassNames.RIGHT",
		"H.ui.LayoutAlignment.RIGHT_BOTTOM",
		"H.ui.LayoutAlignment.BOTTOM_LEFT",
		"H.ui.LayoutAlignment.BOTTOM_CENTER",
		"H.ui.Layout.CssClassNames.BOTTOM",
		"anchors_",
		"TOP",
		"BOTTOM",
		"LEFT",
		"RIGHT",
		"CENTER",
		"MIDDLE",
		"HORIZONTAL",
		"VERTICAL",
		"ANCHOR",
		"H.ui.Layout.prototype.update",
		"updateAnchor_",
		"H.ui.Layout.prototype.updateAnchor_",
		"anchor",
		"horizontal",
		"height",
		"put",
		"H.ui.Layout.prototype.put",
		"anchorEl",
		"parentElement",
		"childNodes",
		"H.ui.UnitSystem",
		"H.ui.i18n.defaultLocales",
		"H.ui.i18n.defaultStrings",
		"H.ui.i18n.minimumKeySet",
		"H.ui.i18n.define",
		"locale",
		"H.ui.i18n.defaultLocales.indexOf",
		"H.ui.i18n.defaultLocales.push",
		"H.ui.i18n.minimumKeySet.length",
		"H.ui.i18n.validateMap",
		"minimumKeySet",
		"H.ui.i18n.Localization",
		"opt_translationMap",
		"TypeError",
		"locale_",
		"getLocale",
		"H.ui.i18n.Localization.prototype.getLocale",
		"getKeys",
		"H.ui.i18n.Localization.prototype.getKeys",
		"H.ui.i18n.Localization.prototype.hasKey",
		"H.ui.i18n.Localization.prototype.translate",
		"translation",
		"H.ui.UI",
		"doc_",
		"controls_",
		"bubbles_",
		"el_",
		"onControlAlignmentChanged_",
		"layout_",
		"onUnitSystemToggleRequest_",
		"toggleUnitSystem",
		"onEngineChange_",
		"engineType_",
		"controls",
		"onEngineTypeChange_",
		"unitSystem_",
		"setLocale_",
		"processOptions_",
		"curr",
		"H.ui.UI.prototype.getElement",
		"H.ui.UI.prototype.getMap",
		"setUnitSystem",
		"H.ui.UI.prototype.setUnitSystem",
		"unitSystem",
		"getUnitSystem",
		"H.ui.UI.prototype.setLocale_",
		"localeCode",
		"localization_",
		"H.ui.UI.prototype.getLocalization",
		"H.ui.UI.prototype.toggleUnitSystem",
		"H.ui.UI.prototype.addBubble",
		"bubble",
		"nBubbles",
		"nextSibling",
		"H.ui.UI.prototype.removeBubble",
		"getBubbles",
		"H.ui.UI.prototype.getBubbles",
		"addControl",
		"H.ui.UI.prototype.addControl",
		"getControl",
		"removeControl",
		"H.ui.UI.prototype.removeControl",
		"H.ui.UI.prototype.getControl",
		"H.ui.UI.prototype.disposeInternal",
		"controlKey",
		"H.ui.UI.prototype.dispose",
		"H.ui.UI.prototype.processOptions_",
		"controlOptions",
		"H.ui.ZoomControl",
		"H.ui.ScaleBar",
		"H.ui.UI.prototype.capture",
		"canvas",
		"pixelRatio",
		"callback",
		"opt_errback",
		"scaleBar",
		"ctx",
		"getContext",
		"canvasWidth",
		"canvasHeight",
		"padding",
		"scaleBarCanvas",
		"drawImage",
		"H.ui.UI.createDefault",
		"opt_locale",
		"mapTypeEntries",
		"H.ui.icons.zoom",
		"onZoomBtnStateChange_",
		"zoomInBtn_",
		"zoomOutBtn_",
		"H.ui.icons.zoom.out",
		"out",
		"H.ui.ZoomControl.prototype.onZoomBtnStateChange_",
		"zoomDirection",
		"roundingFunction",
		"ceil",
		"floor",
		"startControl",
		"zoomSpeed_",
		"endControl",
		"endView",
		"H.ui.ZoomControl.prototype.renderInternal",
		"H.ui.ZoomControl.prototype.setAlignment",
		"newPos",
		"second",
		"first",
		"H.ui.ZoomControl.prototype.onMapEngineTypeChange",
		"getZoomSpeed",
		"H.ui.ZoomControl.prototype.getZoomSpeed",
		"zoomSpeed",
		"maxWidth",
		"labelShadowEl_",
		"labelEl_",
		"scaleShadowEl_",
		"scaleEl_",
		"svgEl_",
		"H.ui.ScaleBar.prototype.renderInternal",
		"dispatchToggleUnitSystem_",
		"H.ui.ScaleBar.prototype.capture",
		"scaleBarClone",
		"cloneNode",
		"tmpNode",
		"getAttribute",
		"scaledWidth",
		"scaledHeight",
		"dataUrl",
		"svgToDataUrl",
		"img",
		"H.ui.ScaleBar.prototype.onUnitSystemChange",
		"H.ui.ScaleBar.prototype.onMapEngineTypeChange",
		"H.ui.ScaleBar.prototype.update",
		"delta",
		"getDelta_",
		"halfHeight",
		"geoPoint",
		"halfWidth",
		"pixelDistance",
		"distance",
		"H.ui.ScaleBar.MILE_IN_METERS_",
		"rawDistance",
		"H.ui.ScaleBar.FOOT_IN_METERS_",
		"unit",
		"simplifiedDistance",
		"pow",
		"log",
		"LN10",
		"elementWidth",
		"textContent",
		"getItem",
		"H.ui.buildInfo",
		"BuildInfo",
		"get"
	],
	"sourcesContent": [
		"// Copyright 2006 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview Bootstrap for the Google JS Library (Closure).\n *\n * In uncompiled mode base.js will write out Closure's deps file, unless the\n * global <code>CLOSURE_NO_DEPS</code> is set to true.  This allows projects to\n * include their own deps file(s) from different locations.\n *\n *\n * @provideGoog\n */\n\n\n/**\n * @define {boolean} Overridden to true by the compiler when --closure_pass\n *     or --mark_as_compiled is specified.\n */\nvar COMPILED = false;\n\n\n/**\n * Base namespace for the Closure library.  Checks to see goog is\n * already defined in the current scope before assigning to prevent\n * clobbering if base.js is loaded more than once.\n *\n * @const\n */\nvar goog = goog || {}; // Identifies this file as the Closure base.\n\n\n/**\n * Reference to the global context.  In most cases this will be 'window'.\n */\ngoog.global = this;\n\n\n/**\n * @define {boolean} DEBUG is provided as a convenience so that debugging code\n * that should not be included in a production js_binary can be easily stripped\n * by specifying --define goog.DEBUG=false to the JSCompiler. For example, most\n * toString() methods should be declared inside an \"if (goog.DEBUG)\" conditional\n * because they are generally used for debugging purposes and it is difficult\n * for the JSCompiler to statically determine whether they are used.\n */\ngoog.DEBUG = true;\n\n\n/**\n * @define {string} LOCALE defines the locale being used for compilation. It is\n * used to select locale specific data to be compiled in js binary. BUILD rule\n * can specify this value by \"--define goog.LOCALE=<locale_name>\" as JSCompiler\n * option.\n *\n * Take into account that the locale code format is important. You should use\n * the canonical Unicode format with hyphen as a delimiter. Language must be\n * lowercase, Language Script - Capitalized, Region - UPPERCASE.\n * There are few examples: pt-BR, en, en-US, sr-Latin-BO, zh-Hans-CN.\n *\n * See more info about locale codes here:\n * http://www.unicode.org/reports/tr35/#Unicode_Language_and_Locale_Identifiers\n *\n * For language codes you should use values defined by ISO 693-1. See it here\n * http://www.w3.org/WAI/ER/IG/ert/iso639.htm. There is only one exception from\n * this rule: the Hebrew language. For legacy reasons the old code (iw) should\n * be used instead of the new code (he), see http://wiki/Main/IIISynonyms.\n */\ngoog.LOCALE = 'en';  // default to en\n\n\n/**\n * @define {boolean} Whether this code is running on trusted sites.\n *\n * On untrusted sites, several native functions can be defined or overridden by\n * external libraries like Prototype, Datejs, and JQuery and setting this flag\n * to false forces closure to use its own implementations when possible.\n *\n * If your javascript can be loaded by a third party site and you are wary about\n * relying on non-standard implementations, specify\n * \"--define goog.TRUSTED_SITE=false\" to the JSCompiler.\n */\ngoog.TRUSTED_SITE = true;\n\n\n/**\n * Creates object stubs for a namespace.  The presence of one or more\n * goog.provide() calls indicate that the file defines the given\n * objects/namespaces.  Build tools also scan for provide/require statements\n * to discern dependencies, build dependency files (see deps.js), etc.\n * @see goog.require\n * @param {string} name Namespace provided by this file in the form\n *     \"goog.package.part\".\n */\ngoog.provide = function(name) {\n  if (!COMPILED) {\n    // Ensure that the same namespace isn't provided twice. This is intended\n    // to teach new developers that 'goog.provide' is effectively a variable\n    // declaration. And when JSCompiler transforms goog.provide into a real\n    // variable declaration, the compiled JS should work the same as the raw\n    // JS--even when the raw JS uses goog.provide incorrectly.\n    if (goog.isProvided_(name)) {\n      throw Error('Namespace \"' + name + '\" already declared.');\n    }\n    delete goog.implicitNamespaces_[name];\n\n    var namespace = name;\n    while ((namespace = namespace.substring(0, namespace.lastIndexOf('.')))) {\n      if (goog.getObjectByName(namespace)) {\n        break;\n      }\n      goog.implicitNamespaces_[namespace] = true;\n    }\n  }\n\n  goog.exportPath_(name);\n};\n\n\n/**\n * Marks that the current file should only be used for testing, and never for\n * live code in production.\n *\n * In the case of unit tests, the message may optionally be an exact\n * namespace for the test (e.g. 'goog.stringTest'). The linter will then\n * ignore the extra provide (if not explicitly defined in the code).\n *\n * @param {string=} opt_message Optional message to add to the error that's\n *     raised when used in production code.\n */\ngoog.setTestOnly = function(opt_message) {\n  if (COMPILED && !goog.DEBUG) {\n    opt_message = opt_message || '';\n    throw Error('Importing test-only code into non-debug environment' +\n                opt_message ? ': ' + opt_message : '.');\n  }\n};\n\n\nif (!COMPILED) {\n\n  /**\n   * Check if the given name has been goog.provided. This will return false for\n   * names that are available only as implicit namespaces.\n   * @param {string} name name of the object to look for.\n   * @return {boolean} Whether the name has been provided.\n   * @private\n   */\n  goog.isProvided_ = function(name) {\n    return !goog.implicitNamespaces_[name] && !!goog.getObjectByName(name);\n  };\n\n  /**\n   * Namespaces implicitly defined by goog.provide. For example,\n   * goog.provide('goog.events.Event') implicitly declares\n   * that 'goog' and 'goog.events' must be namespaces.\n   *\n   * @type {Object}\n   * @private\n   */\n  goog.implicitNamespaces_ = {};\n}\n\n\n/**\n * Builds an object structure for the provided namespace path,\n * ensuring that names that already exist are not overwritten. For\n * example:\n * \"a.b.c\" -> a = {};a.b={};a.b.c={};\n * Used by goog.provide and goog.exportSymbol.\n * @param {string} name name of the object that this file defines.\n * @param {*=} opt_object the object to expose at the end of the path.\n * @param {Object=} opt_objectToExportTo The object to add the path to; default\n *     is |goog.global|.\n * @private\n */\ngoog.exportPath_ = function(name, opt_object, opt_objectToExportTo) {\n  var parts = name.split('.');\n  var cur = opt_objectToExportTo || goog.global;\n\n  // Internet Explorer exhibits strange behavior when throwing errors from\n  // methods externed in this manner.  See the testExportSymbolExceptions in\n  // base_test.html for an example.\n  if (!(parts[0] in cur) && cur.execScript) {\n    cur.execScript('var ' + parts[0]);\n  }\n\n  // Certain browsers cannot parse code in the form for((a in b); c;);\n  // This pattern is produced by the JSCompiler when it collapses the\n  // statement above into the conditional loop below. To prevent this from\n  // happening, use a for-loop and reserve the init logic as below.\n\n  // Parentheses added to eliminate strict JS warning in Firefox.\n  for (var part; parts.length && (part = parts.shift());) {\n    if (!parts.length && goog.isDef(opt_object)) {\n      // last part and we have an object; use it\n      cur[part] = opt_object;\n    } else if (cur[part]) {\n      cur = cur[part];\n    } else {\n      cur = cur[part] = {};\n    }\n  }\n};\n\n\n/**\n * Returns an object based on its fully qualified external name.  If you are\n * using a compilation pass that renames property names beware that using this\n * function will not find renamed properties.\n *\n * @param {string} name The fully qualified name.\n * @param {Object=} opt_obj The object within which to look; default is\n *     |goog.global|.\n * @return {?} The value (object or primitive) or, if not found, null.\n */\ngoog.getObjectByName = function(name, opt_obj) {\n  var parts = name.split('.');\n  var cur = opt_obj || goog.global;\n  for (var part; part = parts.shift(); ) {\n    if (goog.isDefAndNotNull(cur[part])) {\n      cur = cur[part];\n    } else {\n      return null;\n    }\n  }\n  return cur;\n};\n\n\n/**\n * Globalizes a whole namespace, such as goog or goog.lang.\n *\n * @param {Object} obj The namespace to globalize.\n * @param {Object=} opt_global The object to add the properties to.\n * @deprecated Properties may be explicitly exported to the global scope, but\n *     this should no longer be done in bulk.\n */\ngoog.globalize = function(obj, opt_global) {\n  var global = opt_global || goog.global;\n  for (var x in obj) {\n    global[x] = obj[x];\n  }\n};\n\n\n/**\n * Adds a dependency from a file to the files it requires.\n * @param {string} relPath The path to the js file.\n * @param {Array} provides An array of strings with the names of the objects\n *                         this file provides.\n * @param {Array} requires An array of strings with the names of the objects\n *                         this file requires.\n */\ngoog.addDependency = function(relPath, provides, requires) {\n  if (!COMPILED) {\n    var provide, require;\n    var path = relPath.replace(/\\\\/g, '/');\n    var deps = goog.dependencies_;\n    for (var i = 0; provide = provides[i]; i++) {\n      deps.nameToPath[provide] = path;\n      if (!(path in deps.pathToNames)) {\n        deps.pathToNames[path] = {};\n      }\n      deps.pathToNames[path][provide] = true;\n    }\n    for (var j = 0; require = requires[j]; j++) {\n      if (!(path in deps.requires)) {\n        deps.requires[path] = {};\n      }\n      deps.requires[path][require] = true;\n    }\n  }\n};\n\n\n\n\n// NOTE(nnaze): The debug DOM loader was included in base.js as an orignal\n// way to do \"debug-mode\" development.  The dependency system can sometimes\n// be confusing, as can the debug DOM loader's asyncronous nature.\n//\n// With the DOM loader, a call to goog.require() is not blocking -- the\n// script will not load until some point after the current script.  If a\n// namespace is needed at runtime, it needs to be defined in a previous\n// script, or loaded via require() with its registered dependencies.\n// User-defined namespaces may need their own deps file.  See http://go/js_deps,\n// http://go/genjsdeps, or, externally, DepsWriter.\n// http://code.google.com/closure/library/docs/depswriter.html\n//\n// Because of legacy clients, the DOM loader can't be easily removed from\n// base.js.  Work is being done to make it disableable or replaceable for\n// different environments (DOM-less JavaScript interpreters like Rhino or V8,\n// for example). See bootstrap/ for more information.\n\n\n/**\n * @define {boolean} Whether to enable the debug loader.\n *\n * If enabled, a call to goog.require() will attempt to load the namespace by\n * appending a script tag to the DOM (if the namespace has been registered).\n *\n * If disabled, goog.require() will simply assert that the namespace has been\n * provided (and depend on the fact that some outside tool correctly ordered\n * the script).\n */\ngoog.ENABLE_DEBUG_LOADER = true;\n\n\n/**\n * Implements a system for the dynamic resolution of dependencies\n * that works in parallel with the BUILD system. Note that all calls\n * to goog.require will be stripped by the JSCompiler when the\n * --closure_pass option is used.\n * @see goog.provide\n * @param {string} name Namespace to include (as was given in goog.provide())\n *     in the form \"goog.package.part\".\n */\ngoog.require = function(name) {\n\n  // if the object already exists we do not need do do anything\n  // TODO(arv): If we start to support require based on file name this has\n  //            to change\n  // TODO(arv): If we allow goog.foo.* this has to change\n  // TODO(arv): If we implement dynamic load after page load we should probably\n  //            not remove this code for the compiled output\n  if (!COMPILED) {\n    if (goog.isProvided_(name)) {\n      return;\n    }\n\n    if (goog.ENABLE_DEBUG_LOADER) {\n      var path = goog.getPathFromDeps_(name);\n      if (path) {\n        goog.included_[path] = true;\n        goog.writeScripts_();\n        return;\n      }\n    }\n\n    var errorMessage = 'goog.require could not find: ' + name;\n    if (goog.global.console) {\n      goog.global.console['error'](errorMessage);\n    }\n\n\n      throw Error(errorMessage);\n\n  }\n};\n\n\n/**\n * Path for included scripts\n * @type {string}\n */\ngoog.basePath = '';\n\n\n/**\n * A hook for overriding the base path.\n * @type {string|undefined}\n */\ngoog.global.CLOSURE_BASE_PATH;\n\n\n/**\n * Whether to write out Closure's deps file. By default,\n * the deps are written.\n * @type {boolean|undefined}\n */\ngoog.global.CLOSURE_NO_DEPS;\n\n\n/**\n * A function to import a single script. This is meant to be overridden when\n * Closure is being run in non-HTML contexts, such as web workers. It's defined\n * in the global scope so that it can be set before base.js is loaded, which\n * allows deps.js to be imported properly.\n *\n * The function is passed the script source, which is a relative URI. It should\n * return true if the script was imported, false otherwise.\n */\ngoog.global.CLOSURE_IMPORT_SCRIPT;\n\n\n/**\n * Null function used for default values of callbacks, etc.\n * @return {void} Nothing.\n */\ngoog.nullFunction = function() {};\n\n\n/**\n * The identity function. Returns its first argument.\n *\n * @param {*=} opt_returnValue The single value that will be returned.\n * @param {...*} var_args Optional trailing arguments. These are ignored.\n * @return {?} The first argument. We can't know the type -- just pass it along\n *      without type.\n * @deprecated Use goog.functions.identity instead.\n */\ngoog.identityFunction = function(opt_returnValue, var_args) {\n  return opt_returnValue;\n};\n\n\n/**\n * When defining a class Foo with an abstract method bar(), you can do:\n *\n * Foo.prototype.bar = goog.abstractMethod\n *\n * Now if a subclass of Foo fails to override bar(), an error\n * will be thrown when bar() is invoked.\n *\n * Note: This does not take the name of the function to override as\n * an argument because that would make it more difficult to obfuscate\n * our JavaScript code.\n *\n * @type {!Function}\n * @throws {Error} when invoked to indicate the method should be\n *   overridden.\n */\ngoog.abstractMethod = function() {\n  throw Error('unimplemented abstract method');\n};\n\n\n/**\n * Adds a {@code getInstance} static method that always return the same instance\n * object.\n * @param {!Function} ctor The constructor for the class to add the static\n *     method to.\n */\ngoog.addSingletonGetter = function(ctor) {\n  ctor.getInstance = function() {\n    if (ctor.instance_) {\n      return ctor.instance_;\n    }\n    if (goog.DEBUG) {\n      // NOTE: JSCompiler can't optimize away Array#push.\n      goog.instantiatedSingletons_[goog.instantiatedSingletons_.length] = ctor;\n    }\n    return ctor.instance_ = new ctor;\n  };\n};\n\n\n/**\n * All singleton classes that have been instantiated, for testing. Don't read\n * it directly, use the {@code goog.testing.singleton} module. The compiler\n * removes this variable if unused.\n * @type {!Array.<!Function>}\n * @private\n */\ngoog.instantiatedSingletons_ = [];\n\n\nif (!COMPILED && goog.ENABLE_DEBUG_LOADER) {\n  /**\n   * Object used to keep track of urls that have already been added. This\n   * record allows the prevention of circular dependencies.\n   * @type {Object}\n   * @private\n   */\n  goog.included_ = {};\n\n\n  /**\n   * This object is used to keep track of dependencies and other data that is\n   * used for loading scripts\n   * @private\n   * @type {Object}\n   */\n  goog.dependencies_ = {\n    pathToNames: {}, // 1 to many\n    nameToPath: {}, // 1 to 1\n    requires: {}, // 1 to many\n    // used when resolving dependencies to prevent us from\n    // visiting the file twice\n    visited: {},\n    written: {} // used to keep track of script files we have written\n  };\n\n\n  /**\n   * Tries to detect whether is in the context of an HTML document.\n   * @return {boolean} True if it looks like HTML document.\n   * @private\n   */\n  goog.inHtmlDocument_ = function() {\n    var doc = goog.global.document;\n    return typeof doc != 'undefined' &&\n           'write' in doc;  // XULDocument misses write.\n  };\n\n\n  /**\n   * Tries to detect the base path of the base.js script that bootstraps Closure\n   * @private\n   */\n  goog.findBasePath_ = function() {\n    if (goog.global.CLOSURE_BASE_PATH) {\n      goog.basePath = goog.global.CLOSURE_BASE_PATH;\n      return;\n    } else if (!goog.inHtmlDocument_()) {\n      return;\n    }\n    var doc = goog.global.document;\n    var scripts = doc.getElementsByTagName('script');\n    // Search backwards since the current script is in almost all cases the one\n    // that has base.js.\n    for (var i = scripts.length - 1; i >= 0; --i) {\n      var src = scripts[i].src;\n      var qmark = src.lastIndexOf('?');\n      var l = qmark == -1 ? src.length : qmark;\n      if (src.substr(l - 7, 7) == 'base.js') {\n        goog.basePath = src.substr(0, l - 7);\n        return;\n      }\n    }\n  };\n\n\n  /**\n   * Imports a script if, and only if, that script hasn't already been imported.\n   * (Must be called at execution time)\n   * @param {string} src Script source.\n   * @private\n   */\n  goog.importScript_ = function(src) {\n    var importScript = goog.global.CLOSURE_IMPORT_SCRIPT ||\n        goog.writeScriptTag_;\n    if (!goog.dependencies_.written[src] && importScript(src)) {\n      goog.dependencies_.written[src] = true;\n    }\n  };\n\n\n  /**\n   * The default implementation of the import function. Writes a script tag to\n   * import the script.\n   *\n   * @param {string} src The script source.\n   * @return {boolean} True if the script was imported, false otherwise.\n   * @private\n   */\n  goog.writeScriptTag_ = function(src) {\n    if (goog.inHtmlDocument_()) {\n      var doc = goog.global.document;\n\n      // If the user tries to require a new symbol after document load,\n      // something has gone terribly wrong. Doing a document.write would\n      // wipe out the page.\n      if (doc.readyState == 'complete') {\n        // Certain test frameworks load base.js multiple times, which tries\n        // to write deps.js each time. If that happens, just fail silently.\n        // These frameworks wipe the page between each load of base.js, so this\n        // is OK.\n        var isDeps = /\\bdeps.js$/.test(src);\n        if (isDeps) {\n          return false;\n        } else {\n          throw Error('Cannot write \"' + src + '\" after document load');\n        }\n      }\n\n      doc.write(\n          '<script type=\"text/javascript\" src=\"' + src + '\"></' + 'script>');\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n\n  /**\n   * Resolves dependencies based on the dependencies added using addDependency\n   * and calls importScript_ in the correct order.\n   * @private\n   */\n  goog.writeScripts_ = function() {\n    // the scripts we need to write this time\n    var scripts = [];\n    var seenScript = {};\n    var deps = goog.dependencies_;\n\n    function visitNode(path) {\n      if (path in deps.written) {\n        return;\n      }\n\n      // we have already visited this one. We can get here if we have cyclic\n      // dependencies\n      if (path in deps.visited) {\n        if (!(path in seenScript)) {\n          seenScript[path] = true;\n          scripts.push(path);\n        }\n        return;\n      }\n\n      deps.visited[path] = true;\n\n      if (path in deps.requires) {\n        for (var requireName in deps.requires[path]) {\n          // If the required name is defined, we assume that it was already\n          // bootstrapped by other means.\n          if (!goog.isProvided_(requireName)) {\n            if (requireName in deps.nameToPath) {\n              visitNode(deps.nameToPath[requireName]);\n            } else {\n              throw Error('Undefined nameToPath for ' + requireName);\n            }\n          }\n        }\n      }\n\n      if (!(path in seenScript)) {\n        seenScript[path] = true;\n        scripts.push(path);\n      }\n    }\n\n    for (var path in goog.included_) {\n      if (!deps.written[path]) {\n        visitNode(path);\n      }\n    }\n\n    for (var i = 0; i < scripts.length; i++) {\n      if (scripts[i]) {\n        goog.importScript_(goog.basePath + scripts[i]);\n      } else {\n        throw Error('Undefined script input');\n      }\n    }\n  };\n\n\n  /**\n   * Looks at the dependency rules and tries to determine the script file that\n   * fulfills a particular rule.\n   * @param {string} rule In the form goog.namespace.Class or project.script.\n   * @return {?string} Url corresponding to the rule, or null.\n   * @private\n   */\n  goog.getPathFromDeps_ = function(rule) {\n    if (rule in goog.dependencies_.nameToPath) {\n      return goog.dependencies_.nameToPath[rule];\n    } else {\n      return null;\n    }\n  };\n\n  goog.findBasePath_();\n\n  // Allow projects to manage the deps files themselves.\n  if (!goog.global.CLOSURE_NO_DEPS) {\n    goog.importScript_(goog.basePath + 'deps.js');\n  }\n}\n\n\n\n//==============================================================================\n// Language Enhancements\n//==============================================================================\n\n\n/**\n * This is a \"fixed\" version of the typeof operator.  It differs from the typeof\n * operator in such a way that null returns 'null' and arrays return 'array'.\n * @param {*} value The value to get the type of.\n * @return {string} The name of the type.\n */\ngoog.typeOf = function(value) {\n  var s = typeof value;\n  if (s == 'object') {\n    if (value) {\n      // Check these first, so we can avoid calling Object.prototype.toString if\n      // possible.\n      //\n      // IE improperly marshals tyepof across execution contexts, but a\n      // cross-context object will still return false for \"instanceof Object\".\n      if (value instanceof Array) {\n        return 'array';\n      } else if (value instanceof Object) {\n        return s;\n      }\n\n      // HACK: In order to use an Object prototype method on the arbitrary\n      //   value, the compiler requires the value be cast to type Object,\n      //   even though the ECMA spec explicitly allows it.\n      var className = Object.prototype.toString.call(\n          /** @type {Object} */ (value));\n      // In Firefox 3.6, attempting to access iframe window objects' length\n      // property throws an NS_ERROR_FAILURE, so we need to special-case it\n      // here.\n      if (className == '[object Window]') {\n        return 'object';\n      }\n\n      // We cannot always use constructor == Array or instanceof Array because\n      // different frames have different Array objects. In IE6, if the iframe\n      // where the array was created is destroyed, the array loses its\n      // prototype. Then dereferencing val.splice here throws an exception, so\n      // we can't use goog.isFunction. Calling typeof directly returns 'unknown'\n      // so that will work. In this case, this function will return false and\n      // most array functions will still work because the array is still\n      // array-like (supports length and []) even though it has lost its\n      // prototype.\n      // Mark Miller noticed that Object.prototype.toString\n      // allows access to the unforgeable [[Class]] property.\n      //  15.2.4.2 Object.prototype.toString ( )\n      //  When the toString method is called, the following steps are taken:\n      //      1. Get the [[Class]] property of this object.\n      //      2. Compute a string value by concatenating the three strings\n      //         \"[object \", Result(1), and \"]\".\n      //      3. Return Result(2).\n      // and this behavior survives the destruction of the execution context.\n      if ((className == '[object Array]' ||\n           // In IE all non value types are wrapped as objects across window\n           // boundaries (not iframe though) so we have to do object detection\n           // for this edge case\n           typeof value.length == 'number' &&\n           typeof value.splice != 'undefined' &&\n           typeof value.propertyIsEnumerable != 'undefined' &&\n           !value.propertyIsEnumerable('splice')\n\n          )) {\n        return 'array';\n      }\n      // HACK: There is still an array case that fails.\n      //     function ArrayImpostor() {}\n      //     ArrayImpostor.prototype = [];\n      //     var impostor = new ArrayImpostor;\n      // this can be fixed by getting rid of the fast path\n      // (value instanceof Array) and solely relying on\n      // (value && Object.prototype.toString.vall(value) === '[object Array]')\n      // but that would require many more function calls and is not warranted\n      // unless closure code is receiving objects from untrusted sources.\n\n      // IE in cross-window calls does not correctly marshal the function type\n      // (it appears just as an object) so we cannot use just typeof val ==\n      // 'function'. However, if the object has a call property, it is a\n      // function.\n      if ((className == '[object Function]' ||\n          typeof value.call != 'undefined' &&\n          typeof value.propertyIsEnumerable != 'undefined' &&\n          !value.propertyIsEnumerable('call'))) {\n        return 'function';\n      }\n\n\n    } else {\n      return 'null';\n    }\n\n  } else if (s == 'function' && typeof value.call == 'undefined') {\n    // In Safari typeof nodeList returns 'function', and on Firefox\n    // typeof behaves similarly for HTML{Applet,Embed,Object}Elements\n    // and RegExps.  We would like to return object for those and we can\n    // detect an invalid function by making sure that the function\n    // object has a call method.\n    return 'object';\n  }\n  return s;\n};\n\n\n/**\n * Returns true if the specified value is not |undefined|.\n * WARNING: Do not use this to test if an object has a property. Use the in\n * operator instead.  Additionally, this function assumes that the global\n * undefined variable has not been redefined.\n * @param {*} val Variable to test.\n * @return {boolean} Whether variable is defined.\n */\ngoog.isDef = function(val) {\n  return val !== undefined;\n};\n\n\n/**\n * Returns true if the specified value is |null|\n * @param {*} val Variable to test.\n * @return {boolean} Whether variable is null.\n */\ngoog.isNull = function(val) {\n  return val === null;\n};\n\n\n/**\n * Returns true if the specified value is defined and not null\n * @param {*} val Variable to test.\n * @return {boolean} Whether variable is defined and not null.\n */\ngoog.isDefAndNotNull = function(val) {\n  // Note that undefined == null.\n  return val != null;\n};\n\n\n/**\n * Returns true if the specified value is an array\n * @param {*} val Variable to test.\n * @return {boolean} Whether variable is an array.\n */\ngoog.isArray = function(val) {\n  return goog.typeOf(val) == 'array';\n};\n\n\n/**\n * Returns true if the object looks like an array. To qualify as array like\n * the value needs to be either a NodeList or an object with a Number length\n * property.\n * @param {*} val Variable to test.\n * @return {boolean} Whether variable is an array.\n */\ngoog.isArrayLike = function(val) {\n  var type = goog.typeOf(val);\n  return type == 'array' || type == 'object' && typeof val.length == 'number';\n};\n\n\n/**\n * Returns true if the object looks like a Date. To qualify as Date-like\n * the value needs to be an object and have a getFullYear() function.\n * @param {*} val Variable to test.\n * @return {boolean} Whether variable is a like a Date.\n */\ngoog.isDateLike = function(val) {\n  return goog.isObject(val) && typeof val.getFullYear == 'function';\n};\n\n\n/**\n * Returns true if the specified value is a string\n * @param {*} val Variable to test.\n * @return {boolean} Whether variable is a string.\n */\ngoog.isString = function(val) {\n  return typeof val == 'string';\n};\n\n\n/**\n * Returns true if the specified value is a boolean\n * @param {*} val Variable to test.\n * @return {boolean} Whether variable is boolean.\n */\ngoog.isBoolean = function(val) {\n  return typeof val == 'boolean';\n};\n\n\n/**\n * Returns true if the specified value is a number\n * @param {*} val Variable to test.\n * @return {boolean} Whether variable is a number.\n */\ngoog.isNumber = function(val) {\n  return typeof val == 'number';\n};\n\n\n/**\n * Returns true if the specified value is a function\n * @param {*} val Variable to test.\n * @return {boolean} Whether variable is a function.\n */\ngoog.isFunction = function(val) {\n  return goog.typeOf(val) == 'function';\n};\n\n\n/**\n * Returns true if the specified value is an object.  This includes arrays\n * and functions.\n * @param {*} val Variable to test.\n * @return {boolean} Whether variable is an object.\n */\ngoog.isObject = function(val) {\n  var type = typeof val;\n  return type == 'object' && val != null || type == 'function';\n  // return Object(val) === val also works, but is slower, especially if val is\n  // not an object.\n};\n\n\n/**\n * Gets a unique ID for an object. This mutates the object so that further\n * calls with the same object as a parameter returns the same value. The unique\n * ID is guaranteed to be unique across the current session amongst objects that\n * are passed into {@code getUid}. There is no guarantee that the ID is unique\n * or consistent across sessions. It is unsafe to generate unique ID for\n * function prototypes.\n *\n * @param {Object} obj The object to get the unique ID for.\n * @return {number} The unique ID for the object.\n */\ngoog.getUid = function(obj) {\n  // TODO(arv): Make the type stricter, do not accept null.\n\n  // In Opera window.hasOwnProperty exists but always returns false so we avoid\n  // using it. As a consequence the unique ID generated for BaseClass.prototype\n  // and SubClass.prototype will be the same.\n  return obj[goog.UID_PROPERTY_] ||\n      (obj[goog.UID_PROPERTY_] = ++goog.uidCounter_);\n};\n\n\n/**\n * Removes the unique ID from an object. This is useful if the object was\n * previously mutated using {@code goog.getUid} in which case the mutation is\n * undone.\n * @param {Object} obj The object to remove the unique ID field from.\n */\ngoog.removeUid = function(obj) {\n  // TODO(arv): Make the type stricter, do not accept null.\n\n  // DOM nodes in IE are not instance of Object and throws exception\n  // for delete. Instead we try to use removeAttribute\n  if ('removeAttribute' in obj) {\n    obj.removeAttribute(goog.UID_PROPERTY_);\n  }\n  /** @preserveTry */\n  try {\n    delete obj[goog.UID_PROPERTY_];\n  } catch (ex) {\n  }\n};\n\n\n/**\n * Name for unique ID property. Initialized in a way to help avoid collisions\n * with other closure javascript on the same page.\n * @type {string}\n * @private\n */\ngoog.UID_PROPERTY_ = 'closure_uid_' + ((Math.random() * 1e9) >>> 0);\n\n\n/**\n * Counter for UID.\n * @type {number}\n * @private\n */\ngoog.uidCounter_ = 0;\n\n\n/**\n * Adds a hash code field to an object. The hash code is unique for the\n * given object.\n * @param {Object} obj The object to get the hash code for.\n * @return {number} The hash code for the object.\n * @deprecated Use goog.getUid instead.\n */\ngoog.getHashCode = goog.getUid;\n\n\n/**\n * Removes the hash code field from an object.\n * @param {Object} obj The object to remove the field from.\n * @deprecated Use goog.removeUid instead.\n */\ngoog.removeHashCode = goog.removeUid;\n\n\n/**\n * Clones a value. The input may be an Object, Array, or basic type. Objects and\n * arrays will be cloned recursively.\n *\n * WARNINGS:\n * <code>goog.cloneObject</code> does not detect reference loops. Objects that\n * refer to themselves will cause infinite recursion.\n *\n * <code>goog.cloneObject</code> is unaware of unique identifiers, and copies\n * UIDs created by <code>getUid</code> into cloned results.\n *\n * @param {*} obj The value to clone.\n * @return {*} A clone of the input value.\n * @deprecated goog.cloneObject is unsafe. Prefer the goog.object methods.\n */\ngoog.cloneObject = function(obj) {\n  var type = goog.typeOf(obj);\n  if (type == 'object' || type == 'array') {\n    if (obj.clone) {\n      return obj.clone();\n    }\n    var clone = type == 'array' ? [] : {};\n    for (var key in obj) {\n      clone[key] = goog.cloneObject(obj[key]);\n    }\n    return clone;\n  }\n\n  return obj;\n};\n\n\n/**\n * A native implementation of goog.bind.\n * @param {Function} fn A function to partially apply.\n * @param {Object|undefined} selfObj Specifies the object which |this| should\n *     point to when the function is run.\n * @param {...*} var_args Additional arguments that are partially\n *     applied to the function.\n * @return {!Function} A partially-applied form of the function bind() was\n *     invoked as a method of.\n * @private\n * @suppress {deprecated} The compiler thinks that Function.prototype.bind\n *     is deprecated because some people have declared a pure-JS version.\n *     Only the pure-JS version is truly deprecated.\n */\ngoog.bindNative_ = function(fn, selfObj, var_args) {\n  return /** @type {!Function} */ (fn.call.apply(fn.bind, arguments));\n};\n\n\n/**\n * A pure-JS implementation of goog.bind.\n * @param {Function} fn A function to partially apply.\n * @param {Object|undefined} selfObj Specifies the object which |this| should\n *     point to when the function is run.\n * @param {...*} var_args Additional arguments that are partially\n *     applied to the function.\n * @return {!Function} A partially-applied form of the function bind() was\n *     invoked as a method of.\n * @private\n */\ngoog.bindJs_ = function(fn, selfObj, var_args) {\n  if (!fn) {\n    throw new Error();\n  }\n\n  if (arguments.length > 2) {\n    var boundArgs = Array.prototype.slice.call(arguments, 2);\n    return function() {\n      // Prepend the bound arguments to the current arguments.\n      var newArgs = Array.prototype.slice.call(arguments);\n      Array.prototype.unshift.apply(newArgs, boundArgs);\n      return fn.apply(selfObj, newArgs);\n    };\n\n  } else {\n    return function() {\n      return fn.apply(selfObj, arguments);\n    };\n  }\n};\n\n\n/**\n * Partially applies this function to a particular 'this object' and zero or\n * more arguments. The result is a new function with some arguments of the first\n * function pre-filled and the value of |this| 'pre-specified'.<br><br>\n *\n * Remaining arguments specified at call-time are appended to the pre-\n * specified ones.<br><br>\n *\n * Also see: {@link #partial}.<br><br>\n *\n * Usage:\n * <pre>var barMethBound = bind(myFunction, myObj, 'arg1', 'arg2');\n * barMethBound('arg3', 'arg4');</pre>\n *\n * @param {?function(this:T, ...)} fn A function to partially apply.\n * @param {T} selfObj Specifies the object which |this| should\n *     point to when the function is run.\n * @param {...*} var_args Additional arguments that are partially\n *     applied to the function.\n * @return {!Function} A partially-applied form of the function bind() was\n *     invoked as a method of.\n * @template T\n * @suppress {deprecated} See above.\n */\ngoog.bind = function(fn, selfObj, var_args) {\n  // TODO(nicksantos): narrow the type signature.\n  if (Function.prototype.bind &&\n      // NOTE(nicksantos): Somebody pulled base.js into the default\n      // Chrome extension environment. This means that for Chrome extensions,\n      // they get the implementation of Function.prototype.bind that\n      // calls goog.bind instead of the native one. Even worse, we don't want\n      // to introduce a circular dependency between goog.bind and\n      // Function.prototype.bind, so we have to hack this to make sure it\n      // works correctly.\n      Function.prototype.bind.toString().indexOf('native code') != -1) {\n    goog.bind = goog.bindNative_;\n  } else {\n    goog.bind = goog.bindJs_;\n  }\n  return goog.bind.apply(null, arguments);\n};\n\n\n/**\n * Like bind(), except that a 'this object' is not required. Useful when the\n * target function is already bound.\n *\n * Usage:\n * var g = partial(f, arg1, arg2);\n * g(arg3, arg4);\n *\n * @param {Function} fn A function to partially apply.\n * @param {...*} var_args Additional arguments that are partially\n *     applied to fn.\n * @return {!Function} A partially-applied form of the function bind() was\n *     invoked as a method of.\n */\ngoog.partial = function(fn, var_args) {\n  var args = Array.prototype.slice.call(arguments, 1);\n  return function() {\n    // Prepend the bound arguments to the current arguments.\n    var newArgs = Array.prototype.slice.call(arguments);\n    newArgs.unshift.apply(newArgs, args);\n    return fn.apply(this, newArgs);\n  };\n};\n\n\n/**\n * Copies all the members of a source object to a target object. This method\n * does not work on all browsers for all objects that contain keys such as\n * toString or hasOwnProperty. Use goog.object.extend for this purpose.\n * @param {Object} target Target.\n * @param {Object} source Source.\n */\ngoog.mixin = function(target, source) {\n  for (var x in source) {\n    target[x] = source[x];\n  }\n\n  // For IE7 or lower, the for-in-loop does not contain any properties that are\n  // not enumerable on the prototype object (for example, isPrototypeOf from\n  // Object.prototype) but also it will not include 'replace' on objects that\n  // extend String and change 'replace' (not that it is common for anyone to\n  // extend anything except Object).\n};\n\n\n/**\n * @return {number} An integer value representing the number of milliseconds\n *     between midnight, January 1, 1970 and the current time.\n */\ngoog.now = (goog.TRUSTED_SITE && Date.now) || (function() {\n  // Unary plus operator converts its operand to a number which in the case of\n  // a date is done by calling getTime().\n  return +new Date();\n});\n\n\n/**\n * Evals javascript in the global scope.  In IE this uses execScript, other\n * browsers use goog.global.eval. If goog.global.eval does not evaluate in the\n * global scope (for example, in Safari), appends a script tag instead.\n * Throws an exception if neither execScript or eval is defined.\n * @param {string} script JavaScript string.\n */\ngoog.globalEval = function(script) {\n  if (goog.global.execScript) {\n    goog.global.execScript(script, 'JavaScript');\n  } else if (goog.global.eval) {\n    // Test to see if eval works\n    if (goog.evalWorksForGlobals_ == null) {\n      goog.global.eval('var _et_ = 1;');\n      if (typeof goog.global['_et_'] != 'undefined') {\n        delete goog.global['_et_'];\n        goog.evalWorksForGlobals_ = true;\n      } else {\n        goog.evalWorksForGlobals_ = false;\n      }\n    }\n\n    if (goog.evalWorksForGlobals_) {\n      goog.global.eval(script);\n    } else {\n      var doc = goog.global.document;\n      var scriptElt = doc.createElement('script');\n      scriptElt.type = 'text/javascript';\n      scriptElt.defer = false;\n      // Note(user): can't use .innerHTML since \"t('<test>')\" will fail and\n      // .text doesn't work in Safari 2.  Therefore we append a text node.\n      scriptElt.appendChild(doc.createTextNode(script));\n      doc.body.appendChild(scriptElt);\n      doc.body.removeChild(scriptElt);\n    }\n  } else {\n    throw Error('goog.globalEval not available');\n  }\n};\n\n\n/**\n * Indicates whether or not we can call 'eval' directly to eval code in the\n * global scope. Set to a Boolean by the first call to goog.globalEval (which\n * empirically tests whether eval works for globals). @see goog.globalEval\n * @type {?boolean}\n * @private\n */\ngoog.evalWorksForGlobals_ = null;\n\n\n/**\n * Optional map of CSS class names to obfuscated names used with\n * goog.getCssName().\n * @type {Object|undefined}\n * @private\n * @see goog.setCssNameMapping\n */\ngoog.cssNameMapping_;\n\n\n/**\n * Optional obfuscation style for CSS class names. Should be set to either\n * 'BY_WHOLE' or 'BY_PART' if defined.\n * @type {string|undefined}\n * @private\n * @see goog.setCssNameMapping\n */\ngoog.cssNameMappingStyle_;\n\n\n/**\n * Handles strings that are intended to be used as CSS class names.\n *\n * This function works in tandem with @see goog.setCssNameMapping.\n *\n * Without any mapping set, the arguments are simple joined with a\n * hyphen and passed through unaltered.\n *\n * When there is a mapping, there are two possible styles in which\n * these mappings are used. In the BY_PART style, each part (i.e. in\n * between hyphens) of the passed in css name is rewritten according\n * to the map. In the BY_WHOLE style, the full css name is looked up in\n * the map directly. If a rewrite is not specified by the map, the\n * compiler will output a warning.\n *\n * When the mapping is passed to the compiler, it will replace calls\n * to goog.getCssName with the strings from the mapping, e.g.\n *     var x = goog.getCssName('foo');\n *     var y = goog.getCssName(this.baseClass, 'active');\n *  becomes:\n *     var x= 'foo';\n *     var y = this.baseClass + '-active';\n *\n * If one argument is passed it will be processed, if two are passed\n * only the modifier will be processed, as it is assumed the first\n * argument was generated as a result of calling goog.getCssName.\n *\n * @param {string} className The class name.\n * @param {string=} opt_modifier A modifier to be appended to the class name.\n * @return {string} The class name or the concatenation of the class name and\n *     the modifier.\n */\ngoog.getCssName = function(className, opt_modifier) {\n  var getMapping = function(cssName) {\n    return goog.cssNameMapping_[cssName] || cssName;\n  };\n\n  var renameByParts = function(cssName) {\n    // Remap all the parts individually.\n    var parts = cssName.split('-');\n    var mapped = [];\n    for (var i = 0; i < parts.length; i++) {\n      mapped.push(getMapping(parts[i]));\n    }\n    return mapped.join('-');\n  };\n\n  var rename;\n  if (goog.cssNameMapping_) {\n    rename = goog.cssNameMappingStyle_ == 'BY_WHOLE' ?\n        getMapping : renameByParts;\n  } else {\n    rename = function(a) {\n      return a;\n    };\n  }\n\n  if (opt_modifier) {\n    return className + '-' + rename(opt_modifier);\n  } else {\n    return rename(className);\n  }\n};\n\n\n/**\n * Sets the map to check when returning a value from goog.getCssName(). Example:\n * <pre>\n * goog.setCssNameMapping({\n *   \"goog\": \"a\",\n *   \"disabled\": \"b\",\n * });\n *\n * var x = goog.getCssName('goog');\n * // The following evaluates to: \"a a-b\".\n * goog.getCssName('goog') + ' ' + goog.getCssName(x, 'disabled')\n * </pre>\n * When declared as a map of string literals to string literals, the JSCompiler\n * will replace all calls to goog.getCssName() using the supplied map if the\n * --closure_pass flag is set.\n *\n * @param {!Object} mapping A map of strings to strings where keys are possible\n *     arguments to goog.getCssName() and values are the corresponding values\n *     that should be returned.\n * @param {string=} opt_style The style of css name mapping. There are two valid\n *     options: 'BY_PART', and 'BY_WHOLE'.\n * @see goog.getCssName for a description.\n */\ngoog.setCssNameMapping = function(mapping, opt_style) {\n  goog.cssNameMapping_ = mapping;\n  goog.cssNameMappingStyle_ = opt_style;\n};\n\n\n/**\n * To use CSS renaming in compiled mode, one of the input files should have a\n * call to goog.setCssNameMapping() with an object literal that the JSCompiler\n * can extract and use to replace all calls to goog.getCssName(). In uncompiled\n * mode, JavaScript code should be loaded before this base.js file that declares\n * a global variable, CLOSURE_CSS_NAME_MAPPING, which is used below. This is\n * to ensure that the mapping is loaded before any calls to goog.getCssName()\n * are made in uncompiled mode.\n *\n * A hook for overriding the CSS name mapping.\n * @type {Object|undefined}\n */\ngoog.global.CLOSURE_CSS_NAME_MAPPING;\n\n\nif (!COMPILED && goog.global.CLOSURE_CSS_NAME_MAPPING) {\n  // This does not call goog.setCssNameMapping() because the JSCompiler\n  // requires that goog.setCssNameMapping() be called with an object literal.\n  goog.cssNameMapping_ = goog.global.CLOSURE_CSS_NAME_MAPPING;\n}\n\n\n/**\n * Gets a localized message.\n *\n * This function is a compiler primitive. If you give the compiler a localized\n * message bundle, it will replace the string at compile-time with a localized\n * version, and expand goog.getMsg call to a concatenated string.\n *\n * Messages must be initialized in the form:\n * <code>\n * var MSG_NAME = goog.getMsg('Hello {$placeholder}', {'placeholder': 'world'});\n * </code>\n *\n * @param {string} str Translatable string, places holders in the form {$foo}.\n * @param {Object=} opt_values Map of place holder name to value.\n * @return {string} message with placeholders filled.\n */\ngoog.getMsg = function(str, opt_values) {\n  var values = opt_values || {};\n  for (var key in values) {\n    var value = ('' + values[key]).replace(/\\$/g, '$$$$');\n    str = str.replace(new RegExp('\\\\{\\\\$' + key + '\\\\}', 'gi'), value);\n  }\n  return str;\n};\n\n\n/**\n * Gets a localized message. If the message does not have a translation, gives a\n * fallback message.\n *\n * This is useful when introducing a new message that has not yet been\n * translated into all languages.\n *\n * This function is a compiler primtive. Must be used in the form:\n * <code>var x = goog.getMsgWithFallback(MSG_A, MSG_B);</code>\n * where MSG_A and MSG_B were initialized with goog.getMsg.\n *\n * @param {string} a The preferred message.\n * @param {string} b The fallback message.\n * @return {string} The best translated message.\n */\ngoog.getMsgWithFallback = function(a, b) {\n  return a;\n};\n\n\n/**\n * Exposes an unobfuscated global namespace path for the given object.\n * Note that fields of the exported object *will* be obfuscated,\n * unless they are exported in turn via this function or\n * goog.exportProperty\n *\n * <p>Also handy for making public items that are defined in anonymous\n * closures.\n *\n * ex. goog.exportSymbol('public.path.Foo', Foo);\n *\n * ex. goog.exportSymbol('public.path.Foo.staticFunction',\n *                       Foo.staticFunction);\n *     public.path.Foo.staticFunction();\n *\n * ex. goog.exportSymbol('public.path.Foo.prototype.myMethod',\n *                       Foo.prototype.myMethod);\n *     new public.path.Foo().myMethod();\n *\n * @param {string} publicPath Unobfuscated name to export.\n * @param {*} object Object the name should point to.\n * @param {Object=} opt_objectToExportTo The object to add the path to; default\n *     is |goog.global|.\n */\ngoog.exportSymbol = function(publicPath, object, opt_objectToExportTo) {\n  goog.exportPath_(publicPath, object, opt_objectToExportTo);\n};\n\n\n/**\n * Exports a property unobfuscated into the object's namespace.\n * ex. goog.exportProperty(Foo, 'staticFunction', Foo.staticFunction);\n * ex. goog.exportProperty(Foo.prototype, 'myMethod', Foo.prototype.myMethod);\n * @param {Object} object Object whose static property is being exported.\n * @param {string} publicName Unobfuscated name to export.\n * @param {*} symbol Object the name should point to.\n */\ngoog.exportProperty = function(object, publicName, symbol) {\n  object[publicName] = symbol;\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * Usage:\n * <pre>\n * function ParentClass(a, b) { }\n * ParentClass.prototype.foo = function(a) { }\n *\n * function ChildClass(a, b, c) {\n *   goog.base(this, a, b);\n * }\n * goog.inherits(ChildClass, ParentClass);\n *\n * var child = new ChildClass('a', 'b', 'see');\n * child.foo(); // works\n * </pre>\n *\n * In addition, a superclass' implementation of a method can be invoked\n * as follows:\n *\n * <pre>\n * ChildClass.prototype.foo = function(a) {\n *   ChildClass.superClass_.foo.call(this, a);\n *   // other code\n * };\n * </pre>\n *\n * @param {Function} childCtor Child class.\n * @param {Function} parentCtor Parent class.\n */\ngoog.inherits = function(childCtor, parentCtor) {\n  /** @constructor */\n  function tempCtor() {};\n  tempCtor.prototype = parentCtor.prototype;\n  childCtor.superClass_ = parentCtor.prototype;\n  childCtor.prototype = new tempCtor();\n  /** @override */\n  childCtor.prototype.constructor = childCtor;\n};\n\n\n/**\n * Call up to the superclass.\n *\n * If this is called from a constructor, then this calls the superclass\n * contructor with arguments 1-N.\n *\n * If this is called from a prototype method, then you must pass\n * the name of the method as the second argument to this function. If\n * you do not, you will get a runtime error. This calls the superclass'\n * method with arguments 2-N.\n *\n * This function only works if you use goog.inherits to express\n * inheritance relationships between your classes.\n *\n * This function is a compiler primitive. At compile-time, the\n * compiler will do macro expansion to remove a lot of\n * the extra overhead that this function introduces. The compiler\n * will also enforce a lot of the assumptions that this function\n * makes, and treat it as a compiler error if you break them.\n *\n * @param {!Object} me Should always be \"this\".\n * @param {*=} opt_methodName The method name if calling a super method.\n * @param {...*} var_args The rest of the arguments.\n * @return {*} The return value of the superclass method.\n */\ngoog.base = function(me, opt_methodName, var_args) {\n  var caller = arguments.callee.caller;\n  if (caller.superClass_) {\n    // This is a constructor. Call the superclass constructor.\n    return caller.superClass_.constructor.apply(\n        me, Array.prototype.slice.call(arguments, 1));\n  }\n\n  var args = Array.prototype.slice.call(arguments, 2);\n  var foundCaller = false;\n  for (var ctor = me.constructor;\n       ctor; ctor = ctor.superClass_ && ctor.superClass_.constructor) {\n    if (ctor.prototype[opt_methodName] === caller) {\n      foundCaller = true;\n    } else if (foundCaller) {\n      return ctor.prototype[opt_methodName].apply(me, args);\n    }\n  }\n\n  // If we did not find the caller in the prototype chain,\n  // then one of two things happened:\n  // 1) The caller is an instance method.\n  // 2) This method was not called by the right caller.\n  if (me[opt_methodName] === caller) {\n    return me.constructor.prototype[opt_methodName].apply(me, args);\n  } else {\n    throw Error(\n        'goog.base called from a method of one name ' +\n        'to a method of a different name');\n  }\n};\n\n\n/**\n * Allow for aliasing within scope functions.  This function exists for\n * uncompiled code - in compiled code the calls will be inlined and the\n * aliases applied.  In uncompiled code the function is simply run since the\n * aliases as written are valid JavaScript.\n * @param {function()} fn Function to call.  This function can contain aliases\n *     to namespaces (e.g. \"var dom = goog.dom\") or classes\n *    (e.g. \"var Timer = goog.Timer\").\n */\ngoog.scope = function(fn) {\n  fn.call(goog.global);\n};\n\n\n",
		"goog.provide('H.ui.util');\n\n\n/**\n * Flag indicates if we're running in stock android browser\n * @type {boolean}\n */\nH.ui.util.isStockAndroid = (function() {\n  var ua = navigator.userAgent,\n      isAndroidMobile = ua.indexOf('Android') > -1 && ua.indexOf('Mozilla/5.0') > -1 && ua.indexOf('AppleWebKit') > -1,\n      regExAppleWebKit = /AppleWebKit\\/([\\d.]+)/,\n      match = regExAppleWebKit.exec(ua),\n      appleWebKitVersion = (match === null ? null : parseFloat(regExAppleWebKit.exec(ua)[1]));\n  return isAndroidMobile && appleWebKitVersion !== null && appleWebKitVersion < 537;\n}());\n",
		"goog.provide('H.ui.util.Events');\n\n\n\n/**\n * This class encapsulates DOM event listener functionality across different event systems (touch, mouse, MS pointer\n * events). Instead of the individual event names this class translates abstract event names to the underlying\n * event names:\n *\n * * start: mousedown, touchstart, pointerdown\n * * end: mouseup, touchend, pointerup\n * * move: mousemove, touchmove, pointermove\n * * cancel: touchcancel, pointercancel\n * * over: mouseover, pointerover\n * * out: mouseout, pointerout\n * * hover: mousehover, pointerhover\n *\n * @constructor\n * @param {Array.<H.ui.util.Events.EventSet>=} opt_eventSets an optional array of event sets to use\n */\nH.ui.util.Events = function(opt_eventSets) {\n  'use strict';\n\n  if (opt_eventSets) {\n    this.sets_ = opt_eventSets;\n  } else {\n    this.sets_ = this.detectEventSets();\n  }\n};\n\n\n/**\n * This method infers which events to listen for from the browser environment.\n *\n * @return {Array.<H.ui.util.Events.EventSet>}\n *\n * @export\n * @publish\n */\nH.ui.util.Events.prototype.detectEventSets = function() {\n  'use strict';\n\n  var win = Function('return this;')(),\n      nav = win.navigator,\n      sets = [];\n  if (nav) {\n    //if we have a navigator object (we are in some kind of browser)...\n    if (nav.msPointerEnabled) {\n      // ...and if the navigator says it is msPointerEnabled (IE9 & IE10)\n      // we use MSPOINTER events\n      sets.push(H.ui.util.Events.MSPOINTER);\n    } else if (nav.pointerEnabled) {\n      // ... or if the navigator say it is pointerEnabled (IE11)\n      // we use POINTER events\n      sets.push(H.ui.util.Events.POINTER);\n    }\n  }\n\n  if (sets.length < 1) {\n    //if we have not detected any event sets yet...\n    if ('TouchEvent' in win) {\n      // ...and if there is a Touch object in the global namespace\n      // we will listen to touch events\n      sets.push(H.ui.util.Events.TOUCH);\n    }\n    // We also listen to mouse events on anything that is not pointer enabled\n    // in addition to touch events since we never know whether a touch device\n    // is also able to have mouse events\n    sets.push(H.ui.util.Events.MOUSE);\n  }\n\n  return sets;\n};\n\n\n/**\n * This method adds event listeners to the provided element. It uses the event sets which are\n * currently registered in this event helper.\n * @param {Element} el the element to which to append the event listener\n * @param {string} type the event type to listen for\n * @param {function(Event)} listener the listener function\n * @param {boolean=} opt_useCapture optional flag to indicate whether to listen in the capture phase or\n *  the bubbling phase\n */\nH.ui.util.Events.prototype.addEventListener = function(el, type, listener, opt_useCapture) {\n  'use strict';\n\n  var sets = this.sets_,\n      eventName,\n      i = sets.length;\n  while (i--) {\n    if ((eventName = sets[i][type])) {\n      el.addEventListener(eventName, listener, opt_useCapture || false);\n    }\n  }\n};\n\n\n/**\n * This method removes previously added event listeners from the provided element. It uses the event sets which are\n * currently registered in this event helper.\n * @param {Element} el the element from which to remove the event listener\n * @param {string} type the event type for which to remove the listener\n * @param {function(Event)} listener the listener function to be remove\n * @param {boolean=} opt_useCapture optional flag indicating whether the listener was added to the capture\n *  or bubbling phase\n */\nH.ui.util.Events.prototype.removeEventListener = function(el, type, listener, opt_useCapture) {\n  'use strict';\n\n  var sets = this.sets_,\n      eventName,\n      i = sets.length;\n  while (i--) {\n    if ((eventName = sets[i][type])) {\n      el.removeEventListener(eventName, listener, opt_useCapture || false);\n    }\n  }\n};\n\n\n/**\n * @typedef {Object.<string, string>}\n */\nH.ui.util.Events.EventSet;\n\n\n/**\n * This event set can be used in pointer enabled environments such as IE11\n * @type {H.ui.util.Events.EventSet}\n * @const\n */\nH.ui.util.Events.POINTER = {\n  'start': 'pointerdown',\n  'end': 'pointerup',\n  'move': 'pointermove',\n  'cancel': 'pointercancel',\n  'over': 'pointerover',\n  'out': 'pointerout',\n  'hover': 'pointerhover'\n};\n\n\n/**\n * This event set can be used in MS-pointer enabled environments such as IE9 and IE10\n * @type {H.ui.util.Events.EventSet}\n * @const\n */\nH.ui.util.Events.MSPOINTER = {\n  'start': 'MSPointerDown',\n  'end': 'MSPointerUp',\n  'move': 'MSPointerMove',\n  'cancel': 'MSPointerCancel',\n  'over': 'MSPointerOver',\n  'out': 'MSPointerOut',\n  'hover': 'MSPointerHover'\n};\n\n\n/**\n * This event set can be used in touch-capable environments.\n * @type {H.ui.util.Events.EventSet}\n * @const\n */\nH.ui.util.Events.TOUCH = {\n  'start': 'touchstart',\n  'end': 'touchend',\n  'move': 'touchmove',\n  'cancel': 'touchcancel'\n};\n\n\n/**\n * This event set can be used in mouse-enabled environments\n * @type {H.ui.util.Events.EventSet}\n * @const\n */\nH.ui.util.Events.MOUSE = {\n  'start': 'mousedown',\n  'end': 'mouseup',\n  'move': 'mousemove',\n  'over': 'mouseover',\n  'out': 'mouseout',\n  'hover': 'mousehover'\n};\n",
		"goog.provide('H.ui.dom');\n\ngoog.require('H.ui.util.Events');\n\n\n/**\n * This methods is a helper method which creates a HTML element with the specified options\n * inside the document to which the UI was attached.\n *\n * @param {Document} doc the document within which to create the element\n * @param {string} type the type of element (e.g. 'div', 'span', etc.).\n * @param {?string=} opt_className an optional class name for the element\n * @param {?string=} opt_innerHTML an optional innerHTML string for the element\n * @param {?string=} opt_cssText an optional cssText to be applied to the element as inline style\n * @return {Element} the created HTMLElement\n */\nH.ui.dom.mkEl = function(doc, type, opt_className, opt_innerHTML, opt_cssText) {\n  'use strict';\n\n  var el = doc.createElement(type);\n\n  if (opt_className) {\n    el.className = opt_className;\n  }\n  if (opt_innerHTML) {\n    el.innerHTML = opt_innerHTML;\n  }\n  if (opt_cssText) {\n    el.style.cssText = opt_cssText;\n  }\n\n  return el;\n};\n\n\n/**\n * This method appends an arbitrary number of child elements to the specified parent.\n * @param {Element} parent\n * @param {...Element} var_args\n * @return {Element} returns the parent HTMLElement\n *\n * @example\n * ui.append(aParentElement, aChildElement, anotherChildElement, yetAnotherChildElement)\n */\nH.ui.dom.append = function(parent, var_args) {\n  'use strict';\n\n  var i = 1,\n      l = arguments.length;\n  for (; i < l; i++) {\n    parent.appendChild(arguments[i]);\n  }\n\n  return parent;\n};\n\n\n/**\n * @type {H.ui.util.Events}\n * @private\n */\nH.ui.dom.events_ = new H.ui.util.Events();\n\n\n/**\n * This method adds event listeners to the provided element. It uses the event sets which are\n * currently registered in this event helper.\n * @param {Element} el the element to which to append the event listener\n * @param {string} type the event type to listen for\n * @param {function(Event)} listener the listener function\n * @param {boolean=} opt_useCapture optional flag to indicate whether to listen in the capture phase or\n *  the bubbling phase\n */\nH.ui.dom.on = function(el, type, listener, opt_useCapture) {\n  'use strict';\n\n  H.ui.dom.events_.addEventListener(el, type, listener, opt_useCapture);\n};\n\n\n/**\n * This method removes previously added event listeners from the provided element. It uses the event sets which are\n * currently registered in this event helper.\n * @param {Element} el the element from which to remove the event listener\n * @param {string} type the event type for which to remove the listener\n * @param {function(Event)} listener the listener function to be remove\n * @param {boolean=} opt_useCapture optional flag indicating whether the listener was added to the capture\n *  or bubbling phase\n */\nH.ui.dom.off = function(el, type, listener, opt_useCapture) {\n  'use strict';\n\n  H.ui.dom.events_.removeEventListener(el, type, listener, opt_useCapture);\n};\n",
		"// Copyright 2006 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview Utilities for string manipulation.\n */\n\n\n/**\n * Namespace for string utilities\n */\ngoog.provide('goog.string');\ngoog.provide('goog.string.Unicode');\n\n\n/**\n * Common Unicode string characters.\n * @enum {string}\n */\ngoog.string.Unicode = {\n  NBSP: '\\xa0'\n};\n\n\n/**\n * Fast prefix-checker.\n * @param {string} str The string to check.\n * @param {string} prefix A string to look for at the start of {@code str}.\n * @return {boolean} True if {@code str} begins with {@code prefix}.\n */\ngoog.string.startsWith = function(str, prefix) {\n  return str.lastIndexOf(prefix, 0) == 0;\n};\n\n\n/**\n * Fast suffix-checker.\n * @param {string} str The string to check.\n * @param {string} suffix A string to look for at the end of {@code str}.\n * @return {boolean} True if {@code str} ends with {@code suffix}.\n */\ngoog.string.endsWith = function(str, suffix) {\n  var l = str.length - suffix.length;\n  return l >= 0 && str.indexOf(suffix, l) == l;\n};\n\n\n/**\n * Case-insensitive prefix-checker.\n * @param {string} str The string to check.\n * @param {string} prefix  A string to look for at the end of {@code str}.\n * @return {boolean} True if {@code str} begins with {@code prefix} (ignoring\n *     case).\n */\ngoog.string.caseInsensitiveStartsWith = function(str, prefix) {\n  return goog.string.caseInsensitiveCompare(\n      prefix, str.substr(0, prefix.length)) == 0;\n};\n\n\n/**\n * Case-insensitive suffix-checker.\n * @param {string} str The string to check.\n * @param {string} suffix A string to look for at the end of {@code str}.\n * @return {boolean} True if {@code str} ends with {@code suffix} (ignoring\n *     case).\n */\ngoog.string.caseInsensitiveEndsWith = function(str, suffix) {\n  return goog.string.caseInsensitiveCompare(\n      suffix, str.substr(str.length - suffix.length, suffix.length)) == 0;\n};\n\n\n/**\n * Case-insensitive equality checker.\n * @param {string} str1 First string to check.\n * @param {string} str2 Second string to check.\n * @return {boolean} True if {@code str1} and {@code str2} are the same string,\n *     ignoring case.\n */\ngoog.string.caseInsensitiveEquals = function(str1, str2) {\n  return str1.toLowerCase() == str2.toLowerCase();\n};\n\n\n/**\n * Does simple python-style string substitution.\n * subs(\"foo%s hot%s\", \"bar\", \"dog\") becomes \"foobar hotdog\".\n * @param {string} str The string containing the pattern.\n * @param {...*} var_args The items to substitute into the pattern.\n * @return {string} A copy of {@code str} in which each occurrence of\n *     {@code %s} has been replaced an argument from {@code var_args}.\n */\ngoog.string.subs = function(str, var_args) {\n  // This appears to be slow, but testing shows it compares more or less\n  // equivalent to the regex.exec method.\n  for (var i = 1; i < arguments.length; i++) {\n    // We cast to String in case an argument is a Function.  Replacing $&, for\n    // example, with $$$& stops the replace from subsituting the whole match\n    // into the resultant string.  $$$& in the first replace becomes $$& in the\n    //  second, which leaves $& in the resultant string.  Also:\n    // $$, $`, $', $n $nn\n    var replacement = String(arguments[i]).replace(/\\$/g, '$$$$');\n    str = str.replace(/\\%s/, replacement);\n  }\n  return str;\n};\n\n\n/**\n * Converts multiple whitespace chars (spaces, non-breaking-spaces, new lines\n * and tabs) to a single space, and strips leading and trailing whitespace.\n * @param {string} str Input string.\n * @return {string} A copy of {@code str} with collapsed whitespace.\n */\ngoog.string.collapseWhitespace = function(str) {\n  // Since IE doesn't include non-breaking-space (0xa0) in their \\s character\n  // class (as required by section 7.2 of the ECMAScript spec), we explicitly\n  // include it in the regexp to enforce consistent cross-browser behavior.\n  return str.replace(/[\\s\\xa0]+/g, ' ').replace(/^\\s+|\\s+$/g, '');\n};\n\n\n/**\n * Checks if a string is empty or contains only whitespaces.\n * @param {string} str The string to check.\n * @return {boolean} True if {@code str} is empty or whitespace only.\n */\ngoog.string.isEmpty = function(str) {\n  // testing length == 0 first is actually slower in all browsers (about the\n  // same in Opera).\n  // Since IE doesn't include non-breaking-space (0xa0) in their \\s character\n  // class (as required by section 7.2 of the ECMAScript spec), we explicitly\n  // include it in the regexp to enforce consistent cross-browser behavior.\n  return /^[\\s\\xa0]*$/.test(str);\n};\n\n\n/**\n * Checks if a string is null, undefined, empty or contains only whitespaces.\n * @param {*} str The string to check.\n * @return {boolean} True if{@code str} is null, undefined, empty, or\n *     whitespace only.\n */\ngoog.string.isEmptySafe = function(str) {\n  return goog.string.isEmpty(goog.string.makeSafe(str));\n};\n\n\n/**\n * Checks if a string is all breaking whitespace.\n * @param {string} str The string to check.\n * @return {boolean} Whether the string is all breaking whitespace.\n */\ngoog.string.isBreakingWhitespace = function(str) {\n  return !/[^\\t\\n\\r ]/.test(str);\n};\n\n\n/**\n * Checks if a string contains all letters.\n * @param {string} str string to check.\n * @return {boolean} True if {@code str} consists entirely of letters.\n */\ngoog.string.isAlpha = function(str) {\n  return !/[^a-zA-Z]/.test(str);\n};\n\n\n/**\n * Checks if a string contains only numbers.\n * @param {*} str string to check. If not a string, it will be\n *     casted to one.\n * @return {boolean} True if {@code str} is numeric.\n */\ngoog.string.isNumeric = function(str) {\n  return !/[^0-9]/.test(str);\n};\n\n\n/**\n * Checks if a string contains only numbers or letters.\n * @param {string} str string to check.\n * @return {boolean} True if {@code str} is alphanumeric.\n */\ngoog.string.isAlphaNumeric = function(str) {\n  return !/[^a-zA-Z0-9]/.test(str);\n};\n\n\n/**\n * Checks if a character is a space character.\n * @param {string} ch Character to check.\n * @return {boolean} True if {code ch} is a space.\n */\ngoog.string.isSpace = function(ch) {\n  return ch == ' ';\n};\n\n\n/**\n * Checks if a character is a valid unicode character.\n * @param {string} ch Character to check.\n * @return {boolean} True if {code ch} is a valid unicode character.\n */\ngoog.string.isUnicodeChar = function(ch) {\n  return ch.length == 1 && ch >= ' ' && ch <= '~' ||\n         ch >= '\\u0080' && ch <= '\\uFFFD';\n};\n\n\n/**\n * Takes a string and replaces newlines with a space. Multiple lines are\n * replaced with a single space.\n * @param {string} str The string from which to strip newlines.\n * @return {string} A copy of {@code str} stripped of newlines.\n */\ngoog.string.stripNewlines = function(str) {\n  return str.replace(/(\\r\\n|\\r|\\n)+/g, ' ');\n};\n\n\n/**\n * Replaces Windows and Mac new lines with unix style: \\r or \\r\\n with \\n.\n * @param {string} str The string to in which to canonicalize newlines.\n * @return {string} {@code str} A copy of {@code} with canonicalized newlines.\n */\ngoog.string.canonicalizeNewlines = function(str) {\n  return str.replace(/(\\r\\n|\\r|\\n)/g, '\\n');\n};\n\n\n/**\n * Normalizes whitespace in a string, replacing all whitespace chars with\n * a space.\n * @param {string} str The string in which to normalize whitespace.\n * @return {string} A copy of {@code str} with all whitespace normalized.\n */\ngoog.string.normalizeWhitespace = function(str) {\n  return str.replace(/\\xa0|\\s/g, ' ');\n};\n\n\n/**\n * Normalizes spaces in a string, replacing all consecutive spaces and tabs\n * with a single space. Replaces non-breaking space with a space.\n * @param {string} str The string in which to normalize spaces.\n * @return {string} A copy of {@code str} with all consecutive spaces and tabs\n *    replaced with a single space.\n */\ngoog.string.normalizeSpaces = function(str) {\n  return str.replace(/\\xa0|[ \\t]+/g, ' ');\n};\n\n\n/**\n * Removes the breaking spaces from the left and right of the string and\n * collapses the sequences of breaking spaces in the middle into single spaces.\n * The original and the result strings render the same way in HTML.\n * @param {string} str A string in which to collapse spaces.\n * @return {string} Copy of the string with normalized breaking spaces.\n */\ngoog.string.collapseBreakingSpaces = function(str) {\n  return str.replace(/[\\t\\r\\n ]+/g, ' ').replace(\n      /^[\\t\\r\\n ]+|[\\t\\r\\n ]+$/g, '');\n};\n\n\n/**\n * Trims white spaces to the left and right of a string.\n * @param {string} str The string to trim.\n * @return {string} A trimmed copy of {@code str}.\n */\ngoog.string.trim = function(str) {\n  // Since IE doesn't include non-breaking-space (0xa0) in their \\s character\n  // class (as required by section 7.2 of the ECMAScript spec), we explicitly\n  // include it in the regexp to enforce consistent cross-browser behavior.\n  return str.replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g, '');\n};\n\n\n/**\n * Trims whitespaces at the left end of a string.\n * @param {string} str The string to left trim.\n * @return {string} A trimmed copy of {@code str}.\n */\ngoog.string.trimLeft = function(str) {\n  // Since IE doesn't include non-breaking-space (0xa0) in their \\s character\n  // class (as required by section 7.2 of the ECMAScript spec), we explicitly\n  // include it in the regexp to enforce consistent cross-browser behavior.\n  return str.replace(/^[\\s\\xa0]+/, '');\n};\n\n\n/**\n * Trims whitespaces at the right end of a string.\n * @param {string} str The string to right trim.\n * @return {string} A trimmed copy of {@code str}.\n */\ngoog.string.trimRight = function(str) {\n  // Since IE doesn't include non-breaking-space (0xa0) in their \\s character\n  // class (as required by section 7.2 of the ECMAScript spec), we explicitly\n  // include it in the regexp to enforce consistent cross-browser behavior.\n  return str.replace(/[\\s\\xa0]+$/, '');\n};\n\n\n/**\n * A string comparator that ignores case.\n * -1 = str1 less than str2\n *  0 = str1 equals str2\n *  1 = str1 greater than str2\n *\n * @param {string} str1 The string to compare.\n * @param {string} str2 The string to compare {@code str1} to.\n * @return {number} The comparator result, as described above.\n */\ngoog.string.caseInsensitiveCompare = function(str1, str2) {\n  var test1 = String(str1).toLowerCase();\n  var test2 = String(str2).toLowerCase();\n\n  if (test1 < test2) {\n    return -1;\n  } else if (test1 == test2) {\n    return 0;\n  } else {\n    return 1;\n  }\n};\n\n\n/**\n * Regular expression used for splitting a string into substrings of fractional\n * numbers, integers, and non-numeric characters.\n * @type {RegExp}\n * @private\n */\ngoog.string.numerateCompareRegExp_ = /(\\.\\d+)|(\\d+)|(\\D+)/g;\n\n\n/**\n * String comparison function that handles numbers in a way humans might expect.\n * Using this function, the string \"File 2.jpg\" sorts before \"File 10.jpg\". The\n * comparison is mostly case-insensitive, though strings that are identical\n * except for case are sorted with the upper-case strings before lower-case.\n *\n * This comparison function is significantly slower (about 500x) than either\n * the default or the case-insensitive compare. It should not be used in\n * time-critical code, but should be fast enough to sort several hundred short\n * strings (like filenames) with a reasonable delay.\n *\n * @param {string} str1 The string to compare in a numerically sensitive way.\n * @param {string} str2 The string to compare {@code str1} to.\n * @return {number} less than 0 if str1 < str2, 0 if str1 == str2, greater than\n *     0 if str1 > str2.\n */\ngoog.string.numerateCompare = function(str1, str2) {\n  if (str1 == str2) {\n    return 0;\n  }\n  if (!str1) {\n    return -1;\n  }\n  if (!str2) {\n    return 1;\n  }\n\n  // Using match to split the entire string ahead of time turns out to be faster\n  // for most inputs than using RegExp.exec or iterating over each character.\n  var tokens1 = str1.toLowerCase().match(goog.string.numerateCompareRegExp_);\n  var tokens2 = str2.toLowerCase().match(goog.string.numerateCompareRegExp_);\n\n  var count = Math.min(tokens1.length, tokens2.length);\n\n  for (var i = 0; i < count; i++) {\n    var a = tokens1[i];\n    var b = tokens2[i];\n\n    // Compare pairs of tokens, returning if one token sorts before the other.\n    if (a != b) {\n\n      // Only if both tokens are integers is a special comparison required.\n      // Decimal numbers are sorted as strings (e.g., '.09' < '.1').\n      var num1 = parseInt(a, 10);\n      if (!isNaN(num1)) {\n        var num2 = parseInt(b, 10);\n        if (!isNaN(num2) && num1 - num2) {\n          return num1 - num2;\n        }\n      }\n      return a < b ? -1 : 1;\n    }\n  }\n\n  // If one string is a substring of the other, the shorter string sorts first.\n  if (tokens1.length != tokens2.length) {\n    return tokens1.length - tokens2.length;\n  }\n\n  // The two strings must be equivalent except for case (perfect equality is\n  // tested at the head of the function.) Revert to default ASCII-betical string\n  // comparison to stablize the sort.\n  return str1 < str2 ? -1 : 1;\n};\n\n\n/**\n * URL-encodes a string\n * @param {*} str The string to url-encode.\n * @return {string} An encoded copy of {@code str} that is safe for urls.\n *     Note that '#', ':', and other characters used to delimit portions\n *     of URLs *will* be encoded.\n */\ngoog.string.urlEncode = function(str) {\n  return encodeURIComponent(String(str));\n};\n\n\n/**\n * URL-decodes the string. We need to specially handle '+'s because\n * the javascript library doesn't convert them to spaces.\n * @param {string} str The string to url decode.\n * @return {string} The decoded {@code str}.\n */\ngoog.string.urlDecode = function(str) {\n  return decodeURIComponent(str.replace(/\\+/g, ' '));\n};\n\n\n/**\n * Converts \\n to <br>s or <br />s.\n * @param {string} str The string in which to convert newlines.\n * @param {boolean=} opt_xml Whether to use XML compatible tags.\n * @return {string} A copy of {@code str} with converted newlines.\n */\ngoog.string.newLineToBr = function(str, opt_xml) {\n  return str.replace(/(\\r\\n|\\r|\\n)/g, opt_xml ? '<br />' : '<br>');\n};\n\n\n/**\n * Escape double quote '\"' characters in addition to '&', '<', and '>' so that a\n * string can be included in an HTML tag attribute value within double quotes.\n *\n * It should be noted that > doesn't need to be escaped for the HTML or XML to\n * be valid, but it has been decided to escape it for consistency with other\n * implementations.\n *\n * NOTE(user):\n * HtmlEscape is often called during the generation of large blocks of HTML.\n * Using statics for the regular expressions and strings is an optimization\n * that can more than half the amount of time IE spends in this function for\n * large apps, since strings and regexes both contribute to GC allocations.\n *\n * Testing for the presence of a character before escaping increases the number\n * of function calls, but actually provides a speed increase for the average\n * case -- since the average case often doesn't require the escaping of all 4\n * characters and indexOf() is much cheaper than replace().\n * The worst case does suffer slightly from the additional calls, therefore the\n * opt_isLikelyToContainHtmlChars option has been included for situations\n * where all 4 HTML entities are very likely to be present and need escaping.\n *\n * Some benchmarks (times tended to fluctuate +-0.05ms):\n *                                     FireFox                     IE6\n * (no chars / average (mix of cases) / all 4 chars)\n * no checks                     0.13 / 0.22 / 0.22         0.23 / 0.53 / 0.80\n * indexOf                       0.08 / 0.17 / 0.26         0.22 / 0.54 / 0.84\n * indexOf + re test             0.07 / 0.17 / 0.28         0.19 / 0.50 / 0.85\n *\n * An additional advantage of checking if replace actually needs to be called\n * is a reduction in the number of object allocations, so as the size of the\n * application grows the difference between the various methods would increase.\n *\n * @param {string} str string to be escaped.\n * @param {boolean=} opt_isLikelyToContainHtmlChars Don't perform a check to see\n *     if the character needs replacing - use this option if you expect each of\n *     the characters to appear often. Leave false if you expect few html\n *     characters to occur in your strings, such as if you are escaping HTML.\n * @return {string} An escaped copy of {@code str}.\n */\ngoog.string.htmlEscape = function(str, opt_isLikelyToContainHtmlChars) {\n\n  if (opt_isLikelyToContainHtmlChars) {\n    return str.replace(goog.string.amperRe_, '&amp;')\n          .replace(goog.string.ltRe_, '&lt;')\n          .replace(goog.string.gtRe_, '&gt;')\n          .replace(goog.string.quotRe_, '&quot;');\n\n  } else {\n    // quick test helps in the case when there are no chars to replace, in\n    // worst case this makes barely a difference to the time taken\n    if (!goog.string.allRe_.test(str)) return str;\n\n    // str.indexOf is faster than regex.test in this case\n    if (str.indexOf('&') != -1) {\n      str = str.replace(goog.string.amperRe_, '&amp;');\n    }\n    if (str.indexOf('<') != -1) {\n      str = str.replace(goog.string.ltRe_, '&lt;');\n    }\n    if (str.indexOf('>') != -1) {\n      str = str.replace(goog.string.gtRe_, '&gt;');\n    }\n    if (str.indexOf('\"') != -1) {\n      str = str.replace(goog.string.quotRe_, '&quot;');\n    }\n    return str;\n  }\n};\n\n\n/**\n * Regular expression that matches an ampersand, for use in escaping.\n * @type {RegExp}\n * @private\n */\ngoog.string.amperRe_ = /&/g;\n\n\n/**\n * Regular expression that matches a less than sign, for use in escaping.\n * @type {RegExp}\n * @private\n */\ngoog.string.ltRe_ = /</g;\n\n\n/**\n * Regular expression that matches a greater than sign, for use in escaping.\n * @type {RegExp}\n * @private\n */\ngoog.string.gtRe_ = />/g;\n\n\n/**\n * Regular expression that matches a double quote, for use in escaping.\n * @type {RegExp}\n * @private\n */\ngoog.string.quotRe_ = /\\\"/g;\n\n\n/**\n * Regular expression that matches any character that needs to be escaped.\n * @type {RegExp}\n * @private\n */\ngoog.string.allRe_ = /[&<>\\\"]/;\n\n\n/**\n * Unescapes an HTML string.\n *\n * @param {string} str The string to unescape.\n * @return {string} An unescaped copy of {@code str}.\n */\ngoog.string.unescapeEntities = function(str) {\n  if (goog.string.contains(str, '&')) {\n    // We are careful not to use a DOM if we do not have one. We use the []\n    // notation so that the JSCompiler will not complain about these objects and\n    // fields in the case where we have no DOM.\n    if ('document' in goog.global) {\n      return goog.string.unescapeEntitiesUsingDom_(str);\n    } else {\n      // Fall back on pure XML entities\n      return goog.string.unescapePureXmlEntities_(str);\n    }\n  }\n  return str;\n};\n\n\n/**\n * Unescapes an HTML string using a DOM to resolve non-XML, non-numeric\n * entities. This function is XSS-safe and whitespace-preserving.\n * @private\n * @param {string} str The string to unescape.\n * @return {string} The unescaped {@code str} string.\n */\ngoog.string.unescapeEntitiesUsingDom_ = function(str) {\n  var seen = {'&amp;': '&', '&lt;': '<', '&gt;': '>', '&quot;': '\"'};\n  var div = document.createElement('div');\n  // Match as many valid entity characters as possible. If the actual entity\n  // happens to be shorter, it will still work as innerHTML will return the\n  // trailing characters unchanged. Since the entity characters do not include\n  // open angle bracket, there is no chance of XSS from the innerHTML use.\n  // Since no whitespace is passed to innerHTML, whitespace is preserved.\n  return str.replace(goog.string.HTML_ENTITY_PATTERN_, function(s, entity) {\n    // Check for cached entity.\n    var value = seen[s];\n    if (value) {\n      return value;\n    }\n    // Check for numeric entity.\n    if (entity.charAt(0) == '#') {\n      // Prefix with 0 so that hex entities (e.g. &#x10) parse as hex numbers.\n      var n = Number('0' + entity.substr(1));\n      if (!isNaN(n)) {\n        value = String.fromCharCode(n);\n      }\n    }\n    // Fall back to innerHTML otherwise.\n    if (!value) {\n      // Append a non-entity character to avoid a bug in Webkit that parses\n      // an invalid entity at the end of innerHTML text as the empty string.\n      div.innerHTML = s + ' ';\n      // Then remove the trailing character from the result.\n      value = div.firstChild.nodeValue.slice(0, -1);\n    }\n    // Cache and return.\n    return seen[s] = value;\n  });\n};\n\n\n/**\n * Unescapes XML entities.\n * @private\n * @param {string} str The string to unescape.\n * @return {string} An unescaped copy of {@code str}.\n */\ngoog.string.unescapePureXmlEntities_ = function(str) {\n  return str.replace(/&([^;]+);/g, function(s, entity) {\n    switch (entity) {\n      case 'amp':\n        return '&';\n      case 'lt':\n        return '<';\n      case 'gt':\n        return '>';\n      case 'quot':\n        return '\"';\n      default:\n        if (entity.charAt(0) == '#') {\n          // Prefix with 0 so that hex entities (e.g. &#x10) parse as hex.\n          var n = Number('0' + entity.substr(1));\n          if (!isNaN(n)) {\n            return String.fromCharCode(n);\n          }\n        }\n        // For invalid entities we just return the entity\n        return s;\n    }\n  });\n};\n\n\n/**\n * Regular expression that matches an HTML entity.\n * See also HTML5: Tokenization / Tokenizing character references.\n * @private\n * @type {!RegExp}\n */\ngoog.string.HTML_ENTITY_PATTERN_ = /&([^;\\s<&]+);?/g;\n\n\n/**\n * Do escaping of whitespace to preserve spatial formatting. We use character\n * entity #160 to make it safer for xml.\n * @param {string} str The string in which to escape whitespace.\n * @param {boolean=} opt_xml Whether to use XML compatible tags.\n * @return {string} An escaped copy of {@code str}.\n */\ngoog.string.whitespaceEscape = function(str, opt_xml) {\n  return goog.string.newLineToBr(str.replace(/  /g, ' &#160;'), opt_xml);\n};\n\n\n/**\n * Strip quote characters around a string.  The second argument is a string of\n * characters to treat as quotes.  This can be a single character or a string of\n * multiple character and in that case each of those are treated as possible\n * quote characters. For example:\n *\n * <pre>\n * goog.string.stripQuotes('\"abc\"', '\"`') --> 'abc'\n * goog.string.stripQuotes('`abc`', '\"`') --> 'abc'\n * </pre>\n *\n * @param {string} str The string to strip.\n * @param {string} quoteChars The quote characters to strip.\n * @return {string} A copy of {@code str} without the quotes.\n */\ngoog.string.stripQuotes = function(str, quoteChars) {\n  var length = quoteChars.length;\n  for (var i = 0; i < length; i++) {\n    var quoteChar = length == 1 ? quoteChars : quoteChars.charAt(i);\n    if (str.charAt(0) == quoteChar && str.charAt(str.length - 1) == quoteChar) {\n      return str.substring(1, str.length - 1);\n    }\n  }\n  return str;\n};\n\n\n/**\n * Truncates a string to a certain length and adds '...' if necessary.  The\n * length also accounts for the ellipsis, so a maximum length of 10 and a string\n * 'Hello World!' produces 'Hello W...'.\n * @param {string} str The string to truncate.\n * @param {number} chars Max number of characters.\n * @param {boolean=} opt_protectEscapedCharacters Whether to protect escaped\n *     characters from being cut off in the middle.\n * @return {string} The truncated {@code str} string.\n */\ngoog.string.truncate = function(str, chars, opt_protectEscapedCharacters) {\n  if (opt_protectEscapedCharacters) {\n    str = goog.string.unescapeEntities(str);\n  }\n\n  if (str.length > chars) {\n    str = str.substring(0, chars - 3) + '...';\n  }\n\n  if (opt_protectEscapedCharacters) {\n    str = goog.string.htmlEscape(str);\n  }\n\n  return str;\n};\n\n\n/**\n * Truncate a string in the middle, adding \"...\" if necessary,\n * and favoring the beginning of the string.\n * @param {string} str The string to truncate the middle of.\n * @param {number} chars Max number of characters.\n * @param {boolean=} opt_protectEscapedCharacters Whether to protect escaped\n *     characters from being cutoff in the middle.\n * @param {number=} opt_trailingChars Optional number of trailing characters to\n *     leave at the end of the string, instead of truncating as close to the\n *     middle as possible.\n * @return {string} A truncated copy of {@code str}.\n */\ngoog.string.truncateMiddle = function(str, chars,\n    opt_protectEscapedCharacters, opt_trailingChars) {\n  if (opt_protectEscapedCharacters) {\n    str = goog.string.unescapeEntities(str);\n  }\n\n  if (opt_trailingChars && str.length > chars) {\n    if (opt_trailingChars > chars) {\n      opt_trailingChars = chars;\n    }\n    var endPoint = str.length - opt_trailingChars;\n    var startPoint = chars - opt_trailingChars;\n    str = str.substring(0, startPoint) + '...' + str.substring(endPoint);\n  } else if (str.length > chars) {\n    // Favor the beginning of the string:\n    var half = Math.floor(chars / 2);\n    var endPos = str.length - half;\n    half += chars % 2;\n    str = str.substring(0, half) + '...' + str.substring(endPos);\n  }\n\n  if (opt_protectEscapedCharacters) {\n    str = goog.string.htmlEscape(str);\n  }\n\n  return str;\n};\n\n\n/**\n * Special chars that need to be escaped for goog.string.quote.\n * @private\n * @type {Object}\n */\ngoog.string.specialEscapeChars_ = {\n  '\\0': '\\\\0',\n  '\\b': '\\\\b',\n  '\\f': '\\\\f',\n  '\\n': '\\\\n',\n  '\\r': '\\\\r',\n  '\\t': '\\\\t',\n  '\\x0B': '\\\\x0B', // '\\v' is not supported in JScript\n  '\"': '\\\\\"',\n  '\\\\': '\\\\\\\\'\n};\n\n\n/**\n * Character mappings used internally for goog.string.escapeChar.\n * @private\n * @type {Object}\n */\ngoog.string.jsEscapeCache_ = {\n  '\\'': '\\\\\\''\n};\n\n\n/**\n * Encloses a string in double quotes and escapes characters so that the\n * string is a valid JS string.\n * @param {string} s The string to quote.\n * @return {string} A copy of {@code s} surrounded by double quotes.\n */\ngoog.string.quote = function(s) {\n  s = String(s);\n  if (s.quote) {\n    return s.quote();\n  } else {\n    var sb = ['\"'];\n    for (var i = 0; i < s.length; i++) {\n      var ch = s.charAt(i);\n      var cc = ch.charCodeAt(0);\n      sb[i + 1] = goog.string.specialEscapeChars_[ch] ||\n          ((cc > 31 && cc < 127) ? ch : goog.string.escapeChar(ch));\n    }\n    sb.push('\"');\n    return sb.join('');\n  }\n};\n\n\n/**\n * Takes a string and returns the escaped string for that character.\n * @param {string} str The string to escape.\n * @return {string} An escaped string representing {@code str}.\n */\ngoog.string.escapeString = function(str) {\n  var sb = [];\n  for (var i = 0; i < str.length; i++) {\n    sb[i] = goog.string.escapeChar(str.charAt(i));\n  }\n  return sb.join('');\n};\n\n\n/**\n * Takes a character and returns the escaped string for that character. For\n * example escapeChar(String.fromCharCode(15)) -> \"\\\\x0E\".\n * @param {string} c The character to escape.\n * @return {string} An escaped string representing {@code c}.\n */\ngoog.string.escapeChar = function(c) {\n  if (c in goog.string.jsEscapeCache_) {\n    return goog.string.jsEscapeCache_[c];\n  }\n\n  if (c in goog.string.specialEscapeChars_) {\n    return goog.string.jsEscapeCache_[c] = goog.string.specialEscapeChars_[c];\n  }\n\n  var rv = c;\n  var cc = c.charCodeAt(0);\n  if (cc > 31 && cc < 127) {\n    rv = c;\n  } else {\n    // tab is 9 but handled above\n    if (cc < 256) {\n      rv = '\\\\x';\n      if (cc < 16 || cc > 256) {\n        rv += '0';\n      }\n    } else {\n      rv = '\\\\u';\n      if (cc < 4096) { // \\u1000\n        rv += '0';\n      }\n    }\n    rv += cc.toString(16).toUpperCase();\n  }\n\n  return goog.string.jsEscapeCache_[c] = rv;\n};\n\n\n/**\n * Takes a string and creates a map (Object) in which the keys are the\n * characters in the string. The value for the key is set to true. You can\n * then use goog.object.map or goog.array.map to change the values.\n * @param {string} s The string to build the map from.\n * @return {Object} The map of characters used.\n */\n// TODO(arv): It seems like we should have a generic goog.array.toMap. But do\n//            we want a dependency on goog.array in goog.string?\ngoog.string.toMap = function(s) {\n  var rv = {};\n  for (var i = 0; i < s.length; i++) {\n    rv[s.charAt(i)] = true;\n  }\n  return rv;\n};\n\n\n/**\n * Checks whether a string contains a given substring.\n * @param {string} s The string to test.\n * @param {string} ss The substring to test for.\n * @return {boolean} True if {@code s} contains {@code ss}.\n */\ngoog.string.contains = function(s, ss) {\n  return s.indexOf(ss) != -1;\n};\n\n\n/**\n * Returns the non-overlapping occurrences of ss in s.\n * If either s or ss evalutes to false, then returns zero.\n * @param {string} s The string to look in.\n * @param {string} ss The string to look for.\n * @return {number} Number of occurrences of ss in s.\n */\ngoog.string.countOf = function(s, ss) {\n  return s && ss ? s.split(ss).length - 1 : 0;\n};\n\n\n/**\n * Removes a substring of a specified length at a specific\n * index in a string.\n * @param {string} s The base string from which to remove.\n * @param {number} index The index at which to remove the substring.\n * @param {number} stringLength The length of the substring to remove.\n * @return {string} A copy of {@code s} with the substring removed or the full\n *     string if nothing is removed or the input is invalid.\n */\ngoog.string.removeAt = function(s, index, stringLength) {\n  var resultStr = s;\n  // If the index is greater or equal to 0 then remove substring\n  if (index >= 0 && index < s.length && stringLength > 0) {\n    resultStr = s.substr(0, index) +\n        s.substr(index + stringLength, s.length - index - stringLength);\n  }\n  return resultStr;\n};\n\n\n/**\n *  Removes the first occurrence of a substring from a string.\n *  @param {string} s The base string from which to remove.\n *  @param {string} ss The string to remove.\n *  @return {string} A copy of {@code s} with {@code ss} removed or the full\n *      string if nothing is removed.\n */\ngoog.string.remove = function(s, ss) {\n  var re = new RegExp(goog.string.regExpEscape(ss), '');\n  return s.replace(re, '');\n};\n\n\n/**\n *  Removes all occurrences of a substring from a string.\n *  @param {string} s The base string from which to remove.\n *  @param {string} ss The string to remove.\n *  @return {string} A copy of {@code s} with {@code ss} removed or the full\n *      string if nothing is removed.\n */\ngoog.string.removeAll = function(s, ss) {\n  var re = new RegExp(goog.string.regExpEscape(ss), 'g');\n  return s.replace(re, '');\n};\n\n\n/**\n * Escapes characters in the string that are not safe to use in a RegExp.\n * @param {*} s The string to escape. If not a string, it will be casted\n *     to one.\n * @return {string} A RegExp safe, escaped copy of {@code s}.\n */\ngoog.string.regExpEscape = function(s) {\n  return String(s).replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g, '\\\\$1').\n      replace(/\\x08/g, '\\\\x08');\n};\n\n\n/**\n * Repeats a string n times.\n * @param {string} string The string to repeat.\n * @param {number} length The number of times to repeat.\n * @return {string} A string containing {@code length} repetitions of\n *     {@code string}.\n */\ngoog.string.repeat = function(string, length) {\n  return new Array(length + 1).join(string);\n};\n\n\n/**\n * Pads number to given length and optionally rounds it to a given precision.\n * For example:\n * <pre>padNumber(1.25, 2, 3) -> '01.250'\n * padNumber(1.25, 2) -> '01.25'\n * padNumber(1.25, 2, 1) -> '01.3'\n * padNumber(1.25, 0) -> '1.25'</pre>\n *\n * @param {number} num The number to pad.\n * @param {number} length The desired length.\n * @param {number=} opt_precision The desired precision.\n * @return {string} {@code num} as a string with the given options.\n */\ngoog.string.padNumber = function(num, length, opt_precision) {\n  var s = goog.isDef(opt_precision) ? num.toFixed(opt_precision) : String(num);\n  var index = s.indexOf('.');\n  if (index == -1) {\n    index = s.length;\n  }\n  return goog.string.repeat('0', Math.max(0, length - index)) + s;\n};\n\n\n/**\n * Returns a string representation of the given object, with\n * null and undefined being returned as the empty string.\n *\n * @param {*} obj The object to convert.\n * @return {string} A string representation of the {@code obj}.\n */\ngoog.string.makeSafe = function(obj) {\n  return obj == null ? '' : String(obj);\n};\n\n\n/**\n * Concatenates string expressions. This is useful\n * since some browsers are very inefficient when it comes to using plus to\n * concat strings. Be careful when using null and undefined here since\n * these will not be included in the result. If you need to represent these\n * be sure to cast the argument to a String first.\n * For example:\n * <pre>buildString('a', 'b', 'c', 'd') -> 'abcd'\n * buildString(null, undefined) -> ''\n * </pre>\n * @param {...*} var_args A list of strings to concatenate. If not a string,\n *     it will be casted to one.\n * @return {string} The concatenation of {@code var_args}.\n */\ngoog.string.buildString = function(var_args) {\n  return Array.prototype.join.call(arguments, '');\n};\n\n\n/**\n * Returns a string with at least 64-bits of randomness.\n *\n * Doesn't trust Javascript's random function entirely. Uses a combination of\n * random and current timestamp, and then encodes the string in base-36 to\n * make it shorter.\n *\n * @return {string} A random string, e.g. sn1s7vb4gcic.\n */\ngoog.string.getRandomString = function() {\n  var x = 2147483648;\n  return Math.floor(Math.random() * x).toString(36) +\n         Math.abs(Math.floor(Math.random() * x) ^ goog.now()).toString(36);\n};\n\n\n/**\n * Compares two version numbers.\n *\n * @param {string|number} version1 Version of first item.\n * @param {string|number} version2 Version of second item.\n *\n * @return {number}  1 if {@code version1} is higher.\n *                   0 if arguments are equal.\n *                  -1 if {@code version2} is higher.\n */\ngoog.string.compareVersions = function(version1, version2) {\n  var order = 0;\n  // Trim leading and trailing whitespace and split the versions into\n  // subversions.\n  var v1Subs = goog.string.trim(String(version1)).split('.');\n  var v2Subs = goog.string.trim(String(version2)).split('.');\n  var subCount = Math.max(v1Subs.length, v2Subs.length);\n\n  // Iterate over the subversions, as long as they appear to be equivalent.\n  for (var subIdx = 0; order == 0 && subIdx < subCount; subIdx++) {\n    var v1Sub = v1Subs[subIdx] || '';\n    var v2Sub = v2Subs[subIdx] || '';\n\n    // Split the subversions into pairs of numbers and qualifiers (like 'b').\n    // Two different RegExp objects are needed because they are both using\n    // the 'g' flag.\n    var v1CompParser = new RegExp('(\\\\d*)(\\\\D*)', 'g');\n    var v2CompParser = new RegExp('(\\\\d*)(\\\\D*)', 'g');\n    do {\n      var v1Comp = v1CompParser.exec(v1Sub) || ['', '', ''];\n      var v2Comp = v2CompParser.exec(v2Sub) || ['', '', ''];\n      // Break if there are no more matches.\n      if (v1Comp[0].length == 0 && v2Comp[0].length == 0) {\n        break;\n      }\n\n      // Parse the numeric part of the subversion. A missing number is\n      // equivalent to 0.\n      var v1CompNum = v1Comp[1].length == 0 ? 0 : parseInt(v1Comp[1], 10);\n      var v2CompNum = v2Comp[1].length == 0 ? 0 : parseInt(v2Comp[1], 10);\n\n      // Compare the subversion components. The number has the highest\n      // precedence. Next, if the numbers are equal, a subversion without any\n      // qualifier is always higher than a subversion with any qualifier. Next,\n      // the qualifiers are compared as strings.\n      order = goog.string.compareElements_(v1CompNum, v2CompNum) ||\n          goog.string.compareElements_(v1Comp[2].length == 0,\n              v2Comp[2].length == 0) ||\n          goog.string.compareElements_(v1Comp[2], v2Comp[2]);\n      // Stop as soon as an inequality is discovered.\n    } while (order == 0);\n  }\n\n  return order;\n};\n\n\n/**\n * Compares elements of a version number.\n *\n * @param {string|number|boolean} left An element from a version number.\n * @param {string|number|boolean} right An element from a version number.\n *\n * @return {number}  1 if {@code left} is higher.\n *                   0 if arguments are equal.\n *                  -1 if {@code right} is higher.\n * @private\n */\ngoog.string.compareElements_ = function(left, right) {\n  if (left < right) {\n    return -1;\n  } else if (left > right) {\n    return 1;\n  }\n  return 0;\n};\n\n\n/**\n * Maximum value of #goog.string.hashCode, exclusive. 2^32.\n * @type {number}\n * @private\n */\ngoog.string.HASHCODE_MAX_ = 0x100000000;\n\n\n/**\n * String hash function similar to java.lang.String.hashCode().\n * The hash code for a string is computed as\n * s[0] * 31 ^ (n - 1) + s[1] * 31 ^ (n - 2) + ... + s[n - 1],\n * where s[i] is the ith character of the string and n is the length of\n * the string. We mod the result to make it between 0 (inclusive) and 2^32\n * (exclusive).\n * @param {string} str A string.\n * @return {number} Hash value for {@code str}, between 0 (inclusive) and 2^32\n *  (exclusive). The empty string returns 0.\n */\ngoog.string.hashCode = function(str) {\n  var result = 0;\n  for (var i = 0; i < str.length; ++i) {\n    result = 31 * result + str.charCodeAt(i);\n    // Normalize to 4 byte range, 0 ... 2^32.\n    result %= goog.string.HASHCODE_MAX_;\n  }\n  return result;\n};\n\n\n/**\n * The most recent unique ID. |0 is equivalent to Math.floor in this case.\n * @type {number}\n * @private\n */\ngoog.string.uniqueStringCounter_ = Math.random() * 0x80000000 | 0;\n\n\n/**\n * Generates and returns a string which is unique in the current document.\n * This is useful, for example, to create unique IDs for DOM elements.\n * @return {string} A unique id.\n */\ngoog.string.createUniqueString = function() {\n  return 'goog_' + goog.string.uniqueStringCounter_++;\n};\n\n\n/**\n * Converts the supplied string to a number, which may be Ininity or NaN.\n * This function strips whitespace: (toNumber(' 123') === 123)\n * This function accepts scientific notation: (toNumber('1e1') === 10)\n *\n * This is better than Javascript's built-in conversions because, sadly:\n *     (Number(' ') === 0) and (parseFloat('123a') === 123)\n *\n * @param {string} str The string to convert.\n * @return {number} The number the supplied string represents, or NaN.\n */\ngoog.string.toNumber = function(str) {\n  var num = Number(str);\n  if (num == 0 && goog.string.isEmpty(str)) {\n    return NaN;\n  }\n  return num;\n};\n\n\n/**\n * Converts a string from selector-case to camelCase (e.g. from\n * \"multi-part-string\" to \"multiPartString\"), useful for converting\n * CSS selectors and HTML dataset keys to their equivalent JS properties.\n * @param {string} str The string in selector-case form.\n * @return {string} The string in camelCase form.\n */\ngoog.string.toCamelCase = function(str) {\n  return String(str).replace(/\\-([a-z])/g, function(all, match) {\n    return match.toUpperCase();\n  });\n};\n\n\n/**\n * Converts a string from camelCase to selector-case (e.g. from\n * \"multiPartString\" to \"multi-part-string\"), useful for converting JS\n * style and dataset properties to equivalent CSS selectors and HTML keys.\n * @param {string} str The string in camelCase form.\n * @return {string} The string in selector-case form.\n */\ngoog.string.toSelectorCase = function(str) {\n  return String(str).replace(/([A-Z])/g, '-$1').toLowerCase();\n};\n\n\n/**\n * Converts a string into TitleCase. First character of the string is always\n * capitalized in addition to the first letter of every subsequent word.\n * Words are delimited by one or more whitespaces by default. Custom delimiters\n * can optionally be specified to replace the default, which doesn't preserve\n * whitespace delimiters and instead must be explicitly included if needed.\n *\n * Default delimiter => \" \":\n *    goog.string.toTitleCase('oneTwoThree')    => 'OneTwoThree'\n *    goog.string.toTitleCase('one two three')  => 'One Two Three'\n *    goog.string.toTitleCase('  one   two   ') => '  One   Two   '\n *    goog.string.toTitleCase('one_two_three')  => 'One_two_three'\n *    goog.string.toTitleCase('one-two-three')  => 'One-two-three'\n *\n * Custom delimiter => \"_-.\":\n *    goog.string.toTitleCase('oneTwoThree', '_-.')       => 'OneTwoThree'\n *    goog.string.toTitleCase('one two three', '_-.')     => 'One two three'\n *    goog.string.toTitleCase('  one   two   ', '_-.')    => '  one   two   '\n *    goog.string.toTitleCase('one_two_three', '_-.')     => 'One_Two_Three'\n *    goog.string.toTitleCase('one-two-three', '_-.')     => 'One-Two-Three'\n *    goog.string.toTitleCase('one...two...three', '_-.') => 'One...Two...Three'\n *    goog.string.toTitleCase('one. two. three', '_-.')   => 'One. two. three'\n *    goog.string.toTitleCase('one-two.three', '_-.')     => 'One-Two.Three'\n *\n * @param {string} str String value in camelCase form.\n * @param {string=} opt_delimiters Custom delimiter character set used to\n *      distinguish words in the string value. Each character represents a\n *      single delimiter. When provided, default whitespace delimiter is\n *      overridden and must be explicitly included if needed.\n * @return {string} String value in TitleCase form.\n */\ngoog.string.toTitleCase = function(str, opt_delimiters) {\n  var delimiters = goog.isString(opt_delimiters) ?\n      goog.string.regExpEscape(opt_delimiters) : '\\\\s';\n\n  // For IE8, we need to prevent using an empty character set. Otherwise,\n  // incorrect matching will occur.\n  delimiters = delimiters ? '|[' + delimiters + ']+' : '';\n\n  var regexp = new RegExp('(^' + delimiters + ')([a-z])', 'g');\n  return str.replace(regexp, function(all, p1, p2) {\n    return p1 + p2.toUpperCase();\n  });\n};\n\n\n/**\n * Parse a string in decimal or hexidecimal ('0xFFFF') form.\n *\n * To parse a particular radix, please use parseInt(string, radix) directly. See\n * https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/parseInt\n *\n * This is a wrapper for the built-in parseInt function that will only parse\n * numbers as base 10 or base 16.  Some JS implementations assume strings\n * starting with \"0\" are intended to be octal. ES3 allowed but discouraged\n * this behavior. ES5 forbids it.  This function emulates the ES5 behavior.\n *\n * For more information, see Mozilla JS Reference: http://goo.gl/8RiFj\n *\n * @param {string|number|null|undefined} value The value to be parsed.\n * @return {number} The number, parsed. If the string failed to parse, this\n *     will be NaN.\n */\ngoog.string.parseInt = function(value) {\n  // Force finite numbers to strings.\n  if (isFinite(value)) {\n    value = String(value);\n  }\n\n  if (goog.isString(value)) {\n    // If the string starts with '0x' or '-0x', parse as hex.\n    return /^\\s*-?0x/i.test(value) ?\n        parseInt(value, 16) : parseInt(value, 10);\n  }\n\n  return NaN;\n};\n",
		"// Copyright 2005 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview Implements the disposable interface. The dispose method is used\n * to clean up references and resources.\n * @author arv@google.com (Erik Arvidsson)\n */\n\n\ngoog.provide('goog.Disposable');\ngoog.provide('goog.dispose');\n\ngoog.require('goog.disposable.IDisposable');\n\n\n\n/**\n * Class that provides the basic implementation for disposable objects. If your\n * class holds one or more references to COM objects, DOM nodes, or other\n * disposable objects, it should extend this class or implement the disposable\n * interface (defined in goog.disposable.IDisposable).\n * @constructor\n * @implements {goog.disposable.IDisposable}\n */\ngoog.Disposable = function() {\n  if (goog.Disposable.MONITORING_MODE != goog.Disposable.MonitoringMode.OFF) {\n    this.creationStack = new Error().stack;\n    goog.Disposable.instances_[goog.getUid(this)] = this;\n  }\n};\n\n\n/**\n * @enum {number} Different monitoring modes for Disposable.\n */\ngoog.Disposable.MonitoringMode = {\n  /**\n   * No monitoring.\n   */\n  OFF: 0,\n  /**\n   * Creating and disposing the goog.Disposable instances is monitored. All\n   * disposable objects need to call the {@code goog.Disposable} base\n   * constructor. The PERMANENT mode must bet switched on before creating any\n   * goog.Disposable instances.\n   */\n  PERMANENT: 1,\n  /**\n   * INTERACTIVE mode can be switched on and off on the fly without producing\n   * errors. It also doesn't warn if the disposable objects don't call the\n   * {@code goog.Disposable} base constructor.\n   */\n  INTERACTIVE: 2\n};\n\n\n/**\n * @define {number} The monitoring mode of the goog.Disposable\n *     instances. Default is OFF. Switching on the monitoring is only\n *     recommended for debugging because it has a significant impact on\n *     performance and memory usage. If switched off, the monitoring code\n *     compiles down to 0 bytes.\n */\ngoog.Disposable.MONITORING_MODE = 0;\n\n\n/**\n * Maps the unique ID of every undisposed {@code goog.Disposable} object to\n * the object itself.\n * @type {!Object.<number, !goog.Disposable>}\n * @private\n */\ngoog.Disposable.instances_ = {};\n\n\n/**\n * @return {!Array.<!goog.Disposable>} All {@code goog.Disposable} objects that\n *     haven't been disposed of.\n */\ngoog.Disposable.getUndisposedObjects = function() {\n  var ret = [];\n  for (var id in goog.Disposable.instances_) {\n    if (goog.Disposable.instances_.hasOwnProperty(id)) {\n      ret.push(goog.Disposable.instances_[Number(id)]);\n    }\n  }\n  return ret;\n};\n\n\n/**\n * Clears the registry of undisposed objects but doesn't dispose of them.\n */\ngoog.Disposable.clearUndisposedObjects = function() {\n  goog.Disposable.instances_ = {};\n};\n\n\n/**\n * Whether the object has been disposed of.\n * @type {boolean}\n * @private\n */\ngoog.Disposable.prototype.disposed_ = false;\n\n\n/**\n * Callbacks to invoke when this object is disposed.\n * @type {Array.<!Function>}\n * @private\n */\ngoog.Disposable.prototype.onDisposeCallbacks_;\n\n\n/**\n * If monitoring the goog.Disposable instances is enabled, stores the creation\n * stack trace of the Disposable instance.\n * @type {string}\n */\ngoog.Disposable.prototype.creationStack;\n\n\n/**\n * @return {boolean} Whether the object has been disposed of.\n * @override\n */\ngoog.Disposable.prototype.isDisposed = function() {\n  return this.disposed_;\n};\n\n\n/**\n * @return {boolean} Whether the object has been disposed of.\n * @deprecated Use {@link #isDisposed} instead.\n */\ngoog.Disposable.prototype.getDisposed = goog.Disposable.prototype.isDisposed;\n\n\n/**\n * Disposes of the object. If the object hasn't already been disposed of, calls\n * {@link #disposeInternal}. Classes that extend {@code goog.Disposable} should\n * override {@link #disposeInternal} in order to delete references to COM\n * objects, DOM nodes, and other disposable objects. Reentrant.\n *\n * @return {void} Nothing.\n * @override\n */\ngoog.Disposable.prototype.dispose = function() {\n  if (!this.disposed_) {\n    // Set disposed_ to true first, in case during the chain of disposal this\n    // gets disposed recursively.\n    this.disposed_ = true;\n    this.disposeInternal();\n    if (goog.Disposable.MONITORING_MODE != goog.Disposable.MonitoringMode.OFF) {\n      var uid = goog.getUid(this);\n      if (goog.Disposable.MONITORING_MODE ==\n          goog.Disposable.MonitoringMode.PERMANENT &&\n          !goog.Disposable.instances_.hasOwnProperty(uid)) {\n        throw Error(this + ' did not call the goog.Disposable base ' +\n            'constructor or was disposed of after a clearUndisposedObjects ' +\n            'call');\n      }\n      delete goog.Disposable.instances_[uid];\n    }\n  }\n};\n\n\n/**\n * Associates a disposable object with this object so that they will be disposed\n * together.\n * @param {goog.disposable.IDisposable} disposable that will be disposed when\n *     this object is disposed.\n */\ngoog.Disposable.prototype.registerDisposable = function(disposable) {\n  this.addOnDisposeCallback(goog.partial(goog.dispose, disposable));\n};\n\n\n/**\n * Invokes a callback function when this object is disposed. Callbacks are\n * invoked in the order in which they were added.\n * @param {function(this:T):?} callback The callback function.\n * @param {T=} opt_scope An optional scope to call the callback in.\n * @template T\n */\ngoog.Disposable.prototype.addOnDisposeCallback = function(callback, opt_scope) {\n  if (!this.onDisposeCallbacks_) {\n    this.onDisposeCallbacks_ = [];\n  }\n  this.onDisposeCallbacks_.push(goog.bind(callback, opt_scope));\n};\n\n\n/**\n * Deletes or nulls out any references to COM objects, DOM nodes, or other\n * disposable objects. Classes that extend {@code goog.Disposable} should\n * override this method.\n * Not reentrant. To avoid calling it twice, it must only be called from the\n * subclass' {@code disposeInternal} method. Everywhere else the public\n * {@code dispose} method must be used.\n * For example:\n * <pre>\n *   mypackage.MyClass = function() {\n *     goog.base(this);\n *     // Constructor logic specific to MyClass.\n *     ...\n *   };\n *   goog.inherits(mypackage.MyClass, goog.Disposable);\n *\n *   mypackage.MyClass.prototype.disposeInternal = function() {\n *     // Dispose logic specific to MyClass.\n *     ...\n *     // Call superclass's disposeInternal at the end of the subclass's, like\n *     // in C++, to avoid hard-to-catch issues.\n *     goog.base(this, 'disposeInternal');\n *   };\n * </pre>\n * @protected\n */\ngoog.Disposable.prototype.disposeInternal = function() {\n  if (this.onDisposeCallbacks_) {\n    while (this.onDisposeCallbacks_.length) {\n      this.onDisposeCallbacks_.shift()();\n    }\n  }\n};\n\n\n/**\n * Returns True if we can verify the object is disposed.\n * Calls {@code isDisposed} on the argument if it supports it.  If obj\n * is not an object with an isDisposed() method, return false.\n * @param {*} obj The object to investigate.\n * @return {boolean} True if we can verify the object is disposed.\n */\ngoog.Disposable.isDisposed = function(obj) {\n  if (obj && typeof obj.isDisposed == 'function') {\n    return obj.isDisposed();\n  }\n  return false;\n};\n\n\n/**\n * Calls {@code dispose} on the argument if it supports it. If obj is not an\n *     object with a dispose() method, this is a no-op.\n * @param {*} obj The object to dispose of.\n */\ngoog.dispose = function(obj) {\n  if (obj && typeof obj.dispose == 'function') {\n    obj.dispose();\n  }\n};\n\n\n/**\n * Calls {@code dispose} on each member of the list that supports it. (If the\n * member is an ArrayLike, then {@code goog.disposeAll()} will be called\n * recursively on each of its members.) If the member is not an object with a\n * {@code dispose()} method, then it is ignored.\n * @param {...*} var_args The list.\n */\ngoog.disposeAll = function(var_args) {\n  for (var i = 0, len = arguments.length; i < len; ++i) {\n    var disposable = arguments[i];\n    if (goog.isArrayLike(disposable)) {\n      goog.disposeAll.apply(null, disposable);\n    } else {\n      goog.dispose(disposable);\n    }\n  }\n};\n",
		"// Copyright 2012 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview An interface for a listenable JavaScript object.\n *\n * WARNING(chrishenry): DO NOT USE! SUPPORT NOT FULLY IMPLEMENTED.\n */\n\ngoog.provide('goog.events.Listenable');\ngoog.provide('goog.events.ListenableKey');\n\n\n\n/**\n * A listenable interface. Also see goog.events.EventTarget.\n * @interface\n */\ngoog.events.Listenable = function() {};\n\n\n/**\n * Whether to use the new listenable interface and mechanism in\n * goog.events and goog.events.EventTarget.\n *\n * TODO(user): Remove this once launched and stable.\n *\n * @type {boolean}\n */\ngoog.events.Listenable.USE_LISTENABLE_INTERFACE = false;\n\n\n/**\n * An expando property to indicate that an object implements\n * goog.events.Listenable.\n *\n * See addImplementation/isImplementedBy.\n *\n * @type {string}\n * @const\n * @private\n */\ngoog.events.Listenable.IMPLEMENTED_BY_PROP_ = '__closure_listenable';\n\n\n/**\n * Marks a given class (constructor) as an implementation of\n * Listenable, do that we can query that fact at runtime. The class\n * must have already implemented the interface.\n * @param {!Function} cls The class constructor. The corresponding\n *     class must have already implemented the interface.\n */\ngoog.events.Listenable.addImplementation = function(cls) {\n  cls.prototype[goog.events.Listenable.IMPLEMENTED_BY_PROP_] = true;\n};\n\n\n/**\n * @param {Object} obj The object to check.\n * @return {boolean} Whether a given instance implements\n *     Listenable. The class/superclass of the instance must call\n *     addImplementation.\n */\ngoog.events.Listenable.isImplementedBy = function(obj) {\n  return !!(obj && obj[goog.events.Listenable.IMPLEMENTED_BY_PROP_]);\n};\n\n\n/**\n * Adds an event listener. A listener can only be added once to an\n * object and if it is added again the key for the listener is\n * returned. Note that if the existing listener is a one-off listener\n * (registered via listenOnce), it will no longer be a one-off\n * listener after a call to listen().\n *\n * @param {string} type Event type or array of event types.\n * @param {!Function} listener Callback method, or an object\n *     with a handleEvent function.\n * @param {boolean=} opt_useCapture Whether to fire in capture phase\n *     (defaults to false).\n * @param {Object=} opt_listenerScope Object in whose scope to call the\n *     listener.\n * @return {goog.events.ListenableKey} Unique key for the listener.\n */\ngoog.events.Listenable.prototype.listen;\n\n\n/**\n * Adds an event listener that is removed automatically after the\n * listener fired once.\n *\n * If an existing listener already exists, listenOnce will do\n * nothing. In particular, if the listener was previously registered\n * via listen(), listenOnce() will not turn the listener into a\n * one-off listener. Similarly, if there is already an existing\n * one-off listener, listenOnce does not modify the listeners (it is\n * still a once listener).\n *\n * @param {string} type Event type or array of event types.\n * @param {!Function} listener Callback method, or an object\n *     with a handleEvent function.\n * @param {boolean=} opt_useCapture Whether to fire in capture phase\n *     (defaults to false).\n * @param {Object=} opt_listenerScope Object in whose scope to call the\n *     listener.\n * @return {goog.events.ListenableKey} Unique key for the listener.\n */\ngoog.events.Listenable.prototype.listenOnce;\n\n\n/**\n * Removes an event listener which was added with listen() or listenOnce().\n *\n * Implementation needs to call goog.events.cleanUp.\n *\n * @param {string} type Event type or array of event types.\n * @param {!Function} listener Callback method, or an object\n *     with a handleEvent function. TODO(user): Consider whether\n *     we can remove Object.\n * @param {boolean=} opt_useCapture Whether to fire in capture phase\n *     (defaults to false).\n * @param {Object=} opt_listenerScope Object in whose scope to call\n *     the listener.\n * @return {boolean} Whether any listener was removed.\n */\ngoog.events.Listenable.prototype.unlisten;\n\n\n/**\n * Removes an event listener which was added with listen() by the key\n * returned by listen().\n *\n * Implementation needs to call goog.events.cleanUp.\n *\n * @param {goog.events.ListenableKey} key The key returned by\n *     listen() or listenOnce().\n * @return {boolean} Whether any listener was removed.\n */\ngoog.events.Listenable.prototype.unlistenByKey;\n\n\n/**\n * Dispatches an event (or event like object) and calls all listeners\n * listening for events of this type. The type of the event is decided by the\n * type property on the event object.\n *\n * If any of the listeners returns false OR calls preventDefault then this\n * function will return false.  If one of the capture listeners calls\n * stopPropagation, then the bubble listeners won't fire.\n *\n * @param {goog.events.EventLike} e Event object.\n * @return {boolean} If anyone called preventDefault on the event object (or\n *     if any of the listeners returns false this will also return false.\n */\ngoog.events.Listenable.prototype.dispatchEvent;\n\n\n/**\n * Removes all listeners from this listenable. If type is specified,\n * it will only remove listeners of the particular type. otherwise all\n * registered listeners will be removed.\n *\n * Implementation needs to call goog.events.cleanUp for each removed\n * listener.\n *\n * @param {string=} opt_type Type of event to remove, default is to\n *     remove all types.\n * @return {number} Number of listeners removed.\n */\ngoog.events.Listenable.prototype.removeAllListeners;\n\n\n/**\n * Fires all registered listeners in this listenable for the given\n * type and capture mode, passing them the given eventObject. This\n * does not perform actual capture/bubble. Only implementors of the\n * interface should be using this.\n *\n * @param {string} type The type of the listeners to fire.\n * @param {boolean} capture The capture mode of the listeners to fire.\n * @param {goog.events.Event} eventObject The event object to fire.\n * @return {boolean} Whether all listeners succeeded without\n *     attempting to prevent default behavior. If any listener returns\n *     false or called goog.events.Event#preventDefault, this returns\n *     false.\n */\ngoog.events.Listenable.prototype.fireListeners;\n\n\n/**\n * Gets all listeners in this listenable for the given type and\n * capture mode.\n *\n * @param {string} type The type of the listeners to fire.\n * @param {boolean} capture The capture mode of the listeners to fire.\n * @return {!Array.<goog.events.ListenableKey>} An array of registered\n *     listeners.\n */\ngoog.events.Listenable.prototype.getListeners;\n\n\n/**\n * Gets the goog.events.ListenableKey for the event or null if no such\n * listener is in use.\n *\n * @param {string} type The name of the event without the 'on' prefix.\n * @param {!Function} listener The listener function to get.\n * @param {boolean=} capture Whether the listener is a capturing listener.\n * @param {Object=} opt_listenerScope Object in whose scope to call the\n *     listener.\n * @return {goog.events.ListenableKey} the found listener or null if not found.\n */\ngoog.events.Listenable.prototype.getListener;\n\n\n/**\n * Whether there is any active listeners matching the specified\n * signature. If either the type or capture parameters are\n * unspecified, the function will match on the remaining criteria.\n *\n * @param {string=} opt_type Event type.\n * @param {boolean=} opt_capture Whether to check for capture or bubble\n *     listeners.\n * @return {boolean} Whether there is any active listeners matching\n *     the requested type and/or capture phase.\n */\ngoog.events.Listenable.prototype.hasListener;\n\n\n\n/**\n * An interface that describes a single registered listener.\n * @interface\n */\ngoog.events.ListenableKey = function() {};\n\n\n/**\n * Counter used to create a unique key\n * @type {number}\n * @private\n */\ngoog.events.ListenableKey.counter_ = 0;\n\n\n/**\n * Reserves a key to be used for ListenableKey#key field.\n * @return {number} A number to be used to fill ListenableKey#key\n *     field.\n */\ngoog.events.ListenableKey.reserveKey = function() {\n  return ++goog.events.ListenableKey.counter_;\n};\n\n\n/**\n * The source event target.\n * @type {!(Object|goog.events.Listenable|goog.events.EventTarget)}\n */\ngoog.events.ListenableKey.prototype.src;\n\n\n/**\n * The event type the listener is listening to.\n * @type {string}\n */\ngoog.events.ListenableKey.prototype.type;\n\n\n/**\n * The listener function.\n * TODO(user): Narrow the type if possible.\n * @type {Function|Object}\n */\ngoog.events.ListenableKey.prototype.listener;\n\n\n/**\n * Whether the listener works on capture phase.\n * @type {boolean}\n */\ngoog.events.ListenableKey.prototype.capture;\n\n\n/**\n * The 'this' object for the listener function's scope.\n * @type {Object}\n */\ngoog.events.ListenableKey.prototype.handler;\n\n\n/**\n * A globally unique number to identify the key.\n * @type {number}\n */\ngoog.events.ListenableKey.prototype.key;\n",
		"// Copyright 2005 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview Listener object.\n * @see ../demos/events.html\n */\n\ngoog.provide('goog.events.Listener');\n\ngoog.require('goog.events.ListenableKey');\n\n\n\n/**\n * Simple class that stores information about a listener\n * @implements {goog.events.ListenableKey}\n * @constructor\n */\ngoog.events.Listener = function() {\n  if (goog.events.Listener.ENABLE_MONITORING) {\n    this.creationStack = new Error().stack;\n  }\n};\n\n\n/**\n * @define {boolean} Whether to enable the monitoring of the\n *     goog.events.Listener instances. Switching on the monitoring is only\n *     recommended for debugging because it has a significant impact on\n *     performance and memory usage. If switched off, the monitoring code\n *     compiles down to 0 bytes.\n */\ngoog.events.Listener.ENABLE_MONITORING = false;\n\n\n/**\n * Whether the listener is a function or an object that implements handleEvent.\n * @type {boolean}\n * @private\n */\ngoog.events.Listener.prototype.isFunctionListener_;\n\n\n/**\n * Call back function or an object with a handleEvent function.\n * @type {Function|Object|null}\n */\ngoog.events.Listener.prototype.listener;\n\n\n/**\n * Proxy for callback that passes through {@link goog.events#HandleEvent_}\n * @type {Function}\n */\ngoog.events.Listener.prototype.proxy;\n\n\n/**\n * Object or node that callback is listening to\n * @type {Object|goog.events.Listenable|goog.events.EventTarget}\n */\ngoog.events.Listener.prototype.src;\n\n\n/**\n * Type of event\n * @type {string}\n */\ngoog.events.Listener.prototype.type;\n\n\n/**\n * Whether the listener is being called in the capture or bubble phase\n * @type {boolean}\n */\ngoog.events.Listener.prototype.capture;\n\n\n/**\n * Optional object whose context to execute the listener in\n * @type {Object|undefined}\n */\ngoog.events.Listener.prototype.handler;\n\n\n/**\n * The key of the listener.\n * @type {number}\n * @override\n */\ngoog.events.Listener.prototype.key = 0;\n\n\n/**\n * Whether the listener has been removed.\n * @type {boolean}\n */\ngoog.events.Listener.prototype.removed = false;\n\n\n/**\n * Whether to remove the listener after it has been called.\n * @type {boolean}\n */\ngoog.events.Listener.prototype.callOnce = false;\n\n\n/**\n * If monitoring the goog.events.Listener instances is enabled, stores the\n * creation stack trace of the Disposable instance.\n * @type {string}\n */\ngoog.events.Listener.prototype.creationStack;\n\n\n/**\n * Initializes the listener.\n * @param {Function|Object} listener Callback function, or an object with a\n *     handleEvent function.\n * @param {Function} proxy Wrapper for the listener that patches the event.\n * @param {Object} src Source object for the event.\n * @param {string} type Event type.\n * @param {boolean} capture Whether in capture or bubble phase.\n * @param {Object=} opt_handler Object in whose context to execute the callback.\n */\ngoog.events.Listener.prototype.init = function(listener, proxy, src, type,\n                                               capture, opt_handler) {\n  // we do the test of the listener here so that we do  not need to\n  // continiously do this inside handleEvent\n  if (goog.isFunction(listener)) {\n    this.isFunctionListener_ = true;\n  } else if (listener && listener.handleEvent &&\n      goog.isFunction(listener.handleEvent)) {\n    this.isFunctionListener_ = false;\n  } else {\n    throw Error('Invalid listener argument');\n  }\n\n  this.listener = listener;\n  this.proxy = proxy;\n  this.src = src;\n  this.type = type;\n  this.capture = !!capture;\n  this.handler = opt_handler;\n  this.callOnce = false;\n  this.key = goog.events.ListenableKey.reserveKey();\n  this.removed = false;\n};\n\n\n/**\n * Calls the internal listener\n * @param {Object} eventObject Event object to be passed to listener.\n * @return {boolean} The result of the internal listener call.\n */\ngoog.events.Listener.prototype.handleEvent = function(eventObject) {\n  if (this.isFunctionListener_) {\n    return this.listener.call(this.handler || this.src, eventObject);\n  }\n  return this.listener.handleEvent.call(this.listener, eventObject);\n};\n",
		"// Copyright 2006 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview Utilities for manipulating objects/maps/hashes.\n */\n\ngoog.provide('goog.object');\n\n\n/**\n * Calls a function for each element in an object/map/hash.\n *\n * @param {Object.<K,V>} obj The object over which to iterate.\n * @param {function(this:T,V,?,Object.<K,V>):?} f The function to call\n *     for every element. This function takes 3 arguments (the element, the\n *     index and the object) and the return value is ignored.\n * @param {T=} opt_obj This is used as the 'this' object within f.\n * @template T,K,V\n */\ngoog.object.forEach = function(obj, f, opt_obj) {\n  for (var key in obj) {\n    f.call(opt_obj, obj[key], key, obj);\n  }\n};\n\n\n/**\n * Calls a function for each element in an object/map/hash. If that call returns\n * true, adds the element to a new object.\n *\n * @param {Object.<K,V>} obj The object over which to iterate.\n * @param {function(this:T,V,?,Object.<K,V>):boolean} f The function to call\n *     for every element. This\n *     function takes 3 arguments (the element, the index and the object)\n *     and should return a boolean. If the return value is true the\n *     element is added to the result object. If it is false the\n *     element is not included.\n * @param {T=} opt_obj This is used as the 'this' object within f.\n * @return {!Object.<K,V>} a new object in which only elements that passed the\n *     test are present.\n * @template T,K,V\n */\ngoog.object.filter = function(obj, f, opt_obj) {\n  var res = {};\n  for (var key in obj) {\n    if (f.call(opt_obj, obj[key], key, obj)) {\n      res[key] = obj[key];\n    }\n  }\n  return res;\n};\n\n\n/**\n * For every element in an object/map/hash calls a function and inserts the\n * result into a new object.\n *\n * @param {Object.<K,V>} obj The object over which to iterate.\n * @param {function(this:T,V,?,Object.<K,V>):R} f The function to call\n *     for every element. This function\n *     takes 3 arguments (the element, the index and the object)\n *     and should return something. The result will be inserted\n *     into a new object.\n * @param {T=} opt_obj This is used as the 'this' object within f.\n * @return {!Object.<K,R>} a new object with the results from f.\n * @template T,K,V,R\n */\ngoog.object.map = function(obj, f, opt_obj) {\n  var res = {};\n  for (var key in obj) {\n    res[key] = f.call(opt_obj, obj[key], key, obj);\n  }\n  return res;\n};\n\n\n/**\n * Calls a function for each element in an object/map/hash. If any\n * call returns true, returns true (without checking the rest). If\n * all calls return false, returns false.\n *\n * @param {Object.<K,V>} obj The object to check.\n * @param {function(this:T,V,?,Object.<K,V>):boolean} f The function to\n *     call for every element. This function\n *     takes 3 arguments (the element, the index and the object) and should\n *     return a boolean.\n * @param {T=} opt_obj This is used as the 'this' object within f.\n * @return {boolean} true if any element passes the test.\n * @template T,K,V\n */\ngoog.object.some = function(obj, f, opt_obj) {\n  for (var key in obj) {\n    if (f.call(opt_obj, obj[key], key, obj)) {\n      return true;\n    }\n  }\n  return false;\n};\n\n\n/**\n * Calls a function for each element in an object/map/hash. If\n * all calls return true, returns true. If any call returns false, returns\n * false at this point and does not continue to check the remaining elements.\n *\n * @param {Object.<K,V>} obj The object to check.\n * @param {?function(this:T,V,?,Object.<K,V>):boolean} f The function to\n *     call for every element. This function\n *     takes 3 arguments (the element, the index and the object) and should\n *     return a boolean.\n * @param {T=} opt_obj This is used as the 'this' object within f.\n * @return {boolean} false if any element fails the test.\n * @template T,K,V\n */\ngoog.object.every = function(obj, f, opt_obj) {\n  for (var key in obj) {\n    if (!f.call(opt_obj, obj[key], key, obj)) {\n      return false;\n    }\n  }\n  return true;\n};\n\n\n/**\n * Returns the number of key-value pairs in the object map.\n *\n * @param {Object} obj The object for which to get the number of key-value\n *     pairs.\n * @return {number} The number of key-value pairs in the object map.\n */\ngoog.object.getCount = function(obj) {\n  // JS1.5 has __count__ but it has been deprecated so it raises a warning...\n  // in other words do not use. Also __count__ only includes the fields on the\n  // actual object and not in the prototype chain.\n  var rv = 0;\n  for (var key in obj) {\n    rv++;\n  }\n  return rv;\n};\n\n\n/**\n * Returns one key from the object map, if any exists.\n * For map literals the returned key will be the first one in most of the\n * browsers (a know exception is Konqueror).\n *\n * @param {Object} obj The object to pick a key from.\n * @return {string|undefined} The key or undefined if the object is empty.\n */\ngoog.object.getAnyKey = function(obj) {\n  for (var key in obj) {\n    return key;\n  }\n};\n\n\n/**\n * Returns one value from the object map, if any exists.\n * For map literals the returned value will be the first one in most of the\n * browsers (a know exception is Konqueror).\n *\n * @param {Object.<K,V>} obj The object to pick a value from.\n * @return {V|undefined} The value or undefined if the object is empty.\n * @template K,V\n */\ngoog.object.getAnyValue = function(obj) {\n  for (var key in obj) {\n    return obj[key];\n  }\n};\n\n\n/**\n * Whether the object/hash/map contains the given object as a value.\n * An alias for goog.object.containsValue(obj, val).\n *\n * @param {Object.<K,V>} obj The object in which to look for val.\n * @param {V} val The object for which to check.\n * @return {boolean} true if val is present.\n * @template K,V\n */\ngoog.object.contains = function(obj, val) {\n  return goog.object.containsValue(obj, val);\n};\n\n\n/**\n * Returns the values of the object/map/hash.\n *\n * @param {Object.<K,V>} obj The object from which to get the values.\n * @return {!Array.<V>} The values in the object/map/hash.\n * @template K,V\n */\ngoog.object.getValues = function(obj) {\n  var res = [];\n  var i = 0;\n  for (var key in obj) {\n    res[i++] = obj[key];\n  }\n  return res;\n};\n\n\n/**\n * Returns the keys of the object/map/hash.\n *\n * @param {Object} obj The object from which to get the keys.\n * @return {!Array.<string>} Array of property keys.\n */\ngoog.object.getKeys = function(obj) {\n  var res = [];\n  var i = 0;\n  for (var key in obj) {\n    res[i++] = key;\n  }\n  return res;\n};\n\n\n/**\n * Get a value from an object multiple levels deep.  This is useful for\n * pulling values from deeply nested objects, such as JSON responses.\n * Example usage: getValueByKeys(jsonObj, 'foo', 'entries', 3)\n *\n * @param {!Object} obj An object to get the value from.  Can be array-like.\n * @param {...(string|number|!Array.<number|string>)} var_args A number of keys\n *     (as strings, or numbers, for array-like objects).  Can also be\n *     specified as a single array of keys.\n * @return {*} The resulting value.  If, at any point, the value for a key\n *     is undefined, returns undefined.\n */\ngoog.object.getValueByKeys = function(obj, var_args) {\n  var isArrayLike = goog.isArrayLike(var_args);\n  var keys = isArrayLike ? var_args : arguments;\n\n  // Start with the 2nd parameter for the variable parameters syntax.\n  for (var i = isArrayLike ? 0 : 1; i < keys.length; i++) {\n    obj = obj[keys[i]];\n    if (!goog.isDef(obj)) {\n      break;\n    }\n  }\n\n  return obj;\n};\n\n\n/**\n * Whether the object/map/hash contains the given key.\n *\n * @param {Object} obj The object in which to look for key.\n * @param {*} key The key for which to check.\n * @return {boolean} true If the map contains the key.\n */\ngoog.object.containsKey = function(obj, key) {\n  return key in obj;\n};\n\n\n/**\n * Whether the object/map/hash contains the given value. This is O(n).\n *\n * @param {Object.<K,V>} obj The object in which to look for val.\n * @param {V} val The value for which to check.\n * @return {boolean} true If the map contains the value.\n * @template K,V\n */\ngoog.object.containsValue = function(obj, val) {\n  for (var key in obj) {\n    if (obj[key] == val) {\n      return true;\n    }\n  }\n  return false;\n};\n\n\n/**\n * Searches an object for an element that satisfies the given condition and\n * returns its key.\n * @param {Object.<K,V>} obj The object to search in.\n * @param {function(this:T,V,string,Object.<K,V>):boolean} f The\n *      function to call for every element. Takes 3 arguments (the value,\n *     the key and the object) and should return a boolean.\n * @param {T=} opt_this An optional \"this\" context for the function.\n * @return {string|undefined} The key of an element for which the function\n *     returns true or undefined if no such element is found.\n * @template T,K,V\n */\ngoog.object.findKey = function(obj, f, opt_this) {\n  for (var key in obj) {\n    if (f.call(opt_this, obj[key], key, obj)) {\n      return key;\n    }\n  }\n  return undefined;\n};\n\n\n/**\n * Searches an object for an element that satisfies the given condition and\n * returns its value.\n * @param {Object.<K,V>} obj The object to search in.\n * @param {function(this:T,V,string,Object.<K,V>):boolean} f The function\n *     to call for every element. Takes 3 arguments (the value, the key\n *     and the object) and should return a boolean.\n * @param {T=} opt_this An optional \"this\" context for the function.\n * @return {V} The value of an element for which the function returns true or\n *     undefined if no such element is found.\n * @template T,K,V\n */\ngoog.object.findValue = function(obj, f, opt_this) {\n  var key = goog.object.findKey(obj, f, opt_this);\n  return key && obj[key];\n};\n\n\n/**\n * Whether the object/map/hash is empty.\n *\n * @param {Object} obj The object to test.\n * @return {boolean} true if obj is empty.\n */\ngoog.object.isEmpty = function(obj) {\n  for (var key in obj) {\n    return false;\n  }\n  return true;\n};\n\n\n/**\n * Removes all key value pairs from the object/map/hash.\n *\n * @param {Object} obj The object to clear.\n */\ngoog.object.clear = function(obj) {\n  for (var i in obj) {\n    delete obj[i];\n  }\n};\n\n\n/**\n * Removes a key-value pair based on the key.\n *\n * @param {Object} obj The object from which to remove the key.\n * @param {*} key The key to remove.\n * @return {boolean} Whether an element was removed.\n */\ngoog.object.remove = function(obj, key) {\n  var rv;\n  if ((rv = key in obj)) {\n    delete obj[key];\n  }\n  return rv;\n};\n\n\n/**\n * Adds a key-value pair to the object. Throws an exception if the key is\n * already in use. Use set if you want to change an existing pair.\n *\n * @param {Object.<K,V>} obj The object to which to add the key-value pair.\n * @param {string} key The key to add.\n * @param {V} val The value to add.\n * @template K,V\n */\ngoog.object.add = function(obj, key, val) {\n  if (key in obj) {\n    throw Error('The object already contains the key \"' + key + '\"');\n  }\n  goog.object.set(obj, key, val);\n};\n\n\n/**\n * Returns the value for the given key.\n *\n * @param {Object.<K,V>} obj The object from which to get the value.\n * @param {string} key The key for which to get the value.\n * @param {R=} opt_val The value to return if no item is found for the given\n *     key (default is undefined).\n * @return {V|R|undefined} The value for the given key.\n * @template K,V,R\n */\ngoog.object.get = function(obj, key, opt_val) {\n  if (key in obj) {\n    return obj[key];\n  }\n  return opt_val;\n};\n\n\n/**\n * Adds a key-value pair to the object/map/hash.\n *\n * @param {Object.<K,V>} obj The object to which to add the key-value pair.\n * @param {string} key The key to add.\n * @param {K} value The value to add.\n * @template K,V\n */\ngoog.object.set = function(obj, key, value) {\n  obj[key] = value;\n};\n\n\n/**\n * Adds a key-value pair to the object/map/hash if it doesn't exist yet.\n *\n * @param {Object.<K,V>} obj The object to which to add the key-value pair.\n * @param {string} key The key to add.\n * @param {V} value The value to add if the key wasn't present.\n * @return {V} The value of the entry at the end of the function.\n * @template K,V\n */\ngoog.object.setIfUndefined = function(obj, key, value) {\n  return key in obj ? obj[key] : (obj[key] = value);\n};\n\n\n/**\n * Does a flat clone of the object.\n *\n * @param {Object.<K,V>} obj Object to clone.\n * @return {!Object.<K,V>} Clone of the input object.\n * @template K,V\n */\ngoog.object.clone = function(obj) {\n  // We cannot use the prototype trick because a lot of methods depend on where\n  // the actual key is set.\n\n  var res = {};\n  for (var key in obj) {\n    res[key] = obj[key];\n  }\n  return res;\n  // We could also use goog.mixin but I wanted this to be independent from that.\n};\n\n\n/**\n * Clones a value. The input may be an Object, Array, or basic type. Objects and\n * arrays will be cloned recursively.\n *\n * WARNINGS:\n * <code>goog.object.unsafeClone</code> does not detect reference loops. Objects\n * that refer to themselves will cause infinite recursion.\n *\n * <code>goog.object.unsafeClone</code> is unaware of unique identifiers, and\n * copies UIDs created by <code>getUid</code> into cloned results.\n *\n * @param {*} obj The value to clone.\n * @return {*} A clone of the input value.\n */\ngoog.object.unsafeClone = function(obj) {\n  var type = goog.typeOf(obj);\n  if (type == 'object' || type == 'array') {\n    if (obj.clone) {\n      return obj.clone();\n    }\n    var clone = type == 'array' ? [] : {};\n    for (var key in obj) {\n      clone[key] = goog.object.unsafeClone(obj[key]);\n    }\n    return clone;\n  }\n\n  return obj;\n};\n\n\n/**\n * Returns a new object in which all the keys and values are interchanged\n * (keys become values and values become keys). If multiple keys map to the\n * same value, the chosen transposed value is implementation-dependent.\n *\n * @param {Object} obj The object to transpose.\n * @return {!Object} The transposed object.\n */\ngoog.object.transpose = function(obj) {\n  var transposed = {};\n  for (var key in obj) {\n    transposed[obj[key]] = key;\n  }\n  return transposed;\n};\n\n\n/**\n * The names of the fields that are defined on Object.prototype.\n * @type {Array.<string>}\n * @private\n */\ngoog.object.PROTOTYPE_FIELDS_ = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n\n\n/**\n * Extends an object with another object.\n * This operates 'in-place'; it does not create a new Object.\n *\n * Example:\n * var o = {};\n * goog.object.extend(o, {a: 0, b: 1});\n * o; // {a: 0, b: 1}\n * goog.object.extend(o, {c: 2});\n * o; // {a: 0, b: 1, c: 2}\n *\n * @param {Object} target  The object to modify.\n * @param {...Object} var_args The objects from which values will be copied.\n */\ngoog.object.extend = function(target, var_args) {\n  var key, source;\n  for (var i = 1; i < arguments.length; i++) {\n    source = arguments[i];\n    for (key in source) {\n      target[key] = source[key];\n    }\n\n    // For IE the for-in-loop does not contain any properties that are not\n    // enumerable on the prototype object (for example isPrototypeOf from\n    // Object.prototype) and it will also not include 'replace' on objects that\n    // extend String and change 'replace' (not that it is common for anyone to\n    // extend anything except Object).\n\n    for (var j = 0; j < goog.object.PROTOTYPE_FIELDS_.length; j++) {\n      key = goog.object.PROTOTYPE_FIELDS_[j];\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n};\n\n\n/**\n * Creates a new object built from the key-value pairs provided as arguments.\n * @param {...*} var_args If only one argument is provided and it is an array\n *     then this is used as the arguments,  otherwise even arguments are used as\n *     the property names and odd arguments are used as the property values.\n * @return {!Object} The new object.\n * @throws {Error} If there are uneven number of arguments or there is only one\n *     non array argument.\n */\ngoog.object.create = function(var_args) {\n  var argLength = arguments.length;\n  if (argLength == 1 && goog.isArray(arguments[0])) {\n    return goog.object.create.apply(null, arguments[0]);\n  }\n\n  if (argLength % 2) {\n    throw Error('Uneven number of arguments');\n  }\n\n  var rv = {};\n  for (var i = 0; i < argLength; i += 2) {\n    rv[arguments[i]] = arguments[i + 1];\n  }\n  return rv;\n};\n\n\n/**\n * Creates a new object where the property names come from the arguments but\n * the value is always set to true\n * @param {...*} var_args If only one argument is provided and it is an array\n *     then this is used as the arguments,  otherwise the arguments are used\n *     as the property names.\n * @return {!Object} The new object.\n */\ngoog.object.createSet = function(var_args) {\n  var argLength = arguments.length;\n  if (argLength == 1 && goog.isArray(arguments[0])) {\n    return goog.object.createSet.apply(null, arguments[0]);\n  }\n\n  var rv = {};\n  for (var i = 0; i < argLength; i++) {\n    rv[arguments[i]] = true;\n  }\n  return rv;\n};\n\n\n/**\n * Creates an immutable view of the underlying object, if the browser\n * supports immutable objects.\n *\n * In default mode, writes to this view will fail silently. In strict mode,\n * they will throw an error.\n *\n * @param {!Object.<K,V>} obj An object.\n * @return {!Object.<K,V>} An immutable view of that object, or the\n *     original object if this browser does not support immutables.\n * @template K,V\n */\ngoog.object.createImmutableView = function(obj) {\n  var result = obj;\n  if (Object.isFrozen && !Object.isFrozen(obj)) {\n    result = Object.create(obj);\n    Object.freeze(result);\n  }\n  return result;\n};\n\n\n/**\n * @param {!Object} obj An object.\n * @return {boolean} Whether this is an immutable view of the object.\n */\ngoog.object.isImmutableView = function(obj) {\n  return !!Object.isFrozen && Object.isFrozen(obj);\n};\n",
		"// Copyright 2005 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview Event Manager.\n *\n * Provides an abstracted interface to the browsers' event\n * systems. This uses an indirect lookup of listener functions to avoid circular\n * references between DOM (in IE) or XPCOM (in Mozilla) objects which leak\n * memory. This makes it easier to write OO Javascript/DOM code.\n *\n * It simulates capture & bubble in Internet Explorer.\n *\n * The listeners will also automagically have their event objects patched, so\n * your handlers don't need to worry about the browser.\n *\n * Example usage:\n * <pre>\n * goog.events.listen(myNode, 'click', function(e) { alert('woo') });\n * goog.events.listen(myNode, 'mouseover', mouseHandler, true);\n * goog.events.unlisten(myNode, 'mouseover', mouseHandler, true);\n * goog.events.removeAll(myNode);\n * goog.events.removeAll();\n * </pre>\n *\n *                                            in IE and event object patching]\n *\n * @supported IE6+, FF1.5+, WebKit, Opera.\n * @see ../demos/events.html\n * @see ../demos/event-propagation.html\n * @see ../demos/stopevent.html\n */\n\n\n// This uses 3 lookup tables/trees.\n// listenerTree_ is a tree of type -> capture -> src uid -> [Listener]\n// listeners_ is a map of key -> [Listener]\n//\n// The key is a field of the Listener. The Listener class also has the type,\n// capture and the src so one can always trace back in the tree\n//\n// sources_: src uid -> [Listener]\n\n\ngoog.provide('goog.events');\ngoog.provide('goog.events.Key');\ngoog.provide('goog.events.ListenableType');\n\ngoog.require('goog.array');\n/** @suppress {extraRequire} */\ngoog.require('goog.debug.entryPointRegistry');\ngoog.require('goog.events.BrowserEvent');\ngoog.require('goog.events.BrowserFeature');\ngoog.require('goog.events.Event');\ngoog.require('goog.events.Listenable');\ngoog.require('goog.events.Listener');\ngoog.require('goog.object');\n\n\n/**\n * @typedef {number|goog.events.ListenableKey}\n */\ngoog.events.Key;\n\n\n/**\n * @typedef {EventTarget|goog.events.Listenable|goog.events.EventTarget}\n */\ngoog.events.ListenableType;\n\n\n/**\n * Whether to be strict with custom event targets. When set to true,\n * listening/dispatching on un-initialized event targets will fail.\n * An event target may be un-initialized if you forgot to call\n * goog.events.EventTarget constructor in the custom event target\n * constructor.\n * @type {boolean}\n */\ngoog.events.STRICT_EVENT_TARGET = false;\n\n\n/**\n * Container for storing event listeners and their proxies\n * @private\n * @type {Object.<goog.events.ListenableKey>}\n */\ngoog.events.listeners_ = {};\n\n\n/**\n * The root of the listener tree\n * @private\n * @type {Object}\n */\ngoog.events.listenerTree_ = {};\n\n\n/**\n * Lookup for mapping source UIDs to listeners.\n * @private\n * @type {Object}\n */\ngoog.events.sources_ = {};\n\n\n/**\n * String used to prepend to IE event types.  Not a constant so that it is not\n * inlined.\n * @type {string}\n * @private\n */\ngoog.events.onString_ = 'on';\n\n\n/**\n * Map of computed on strings for IE event types. Caching this removes an extra\n * object allocation in goog.events.listen which improves IE6 performance.\n * @type {Object}\n * @private\n */\ngoog.events.onStringMap_ = {};\n\n\n/**\n * Separator used to split up the various parts of an event key, to help avoid\n * the possibilities of collisions.\n * @type {string}\n * @private\n */\ngoog.events.keySeparator_ = '_';\n\n\n/**\n * Adds an event listener for a specific event on a DOM Node or an\n * object that has implemented {@link goog.events.EventTarget}. A\n * listener can only be added once to an object and if it is added\n * again the key for the listener is returned. Note that if the\n * existing listener is a one-off listener (registered via\n * listenOnce), it will no longer be a one-off listener after a call\n * to listen().\n *\n * @param {goog.events.ListenableType} src The node to listen to\n *     events on.\n * @param {string|Array.<string>} type Event type or array of event types.\n * @param {Function|Object} listener Callback method, or an object with a\n *     handleEvent function.\n * @param {boolean=} opt_capt Whether to fire in capture phase (defaults to\n *     false).\n * @param {Object=} opt_handler Element in whose scope to call the listener.\n * @return {goog.events.Key} Unique key for the listener.\n */\ngoog.events.listen = function(src, type, listener, opt_capt, opt_handler) {\n  if (goog.isArray(type)) {\n    for (var i = 0; i < type.length; i++) {\n      goog.events.listen(src, type[i], listener, opt_capt, opt_handler);\n    }\n    return null;\n  }\n\n  var listenableKey;\n  if (goog.events.Listenable.USE_LISTENABLE_INTERFACE &&\n      goog.events.Listenable.isImplementedBy(src)) {\n    listenableKey = src.listen(\n        /** @type {string} */ (type),\n        goog.events.wrapListener_(listener), opt_capt, opt_handler);\n  } else {\n    listenableKey = goog.events.listen_(\n        /** @type {EventTarget|goog.events.EventTarget} */ (src),\n        type, listener, /* callOnce */ false, opt_capt, opt_handler);\n  }\n\n  var key = listenableKey.key;\n  goog.events.listeners_[key] = listenableKey;\n  return key;\n};\n\n\n/**\n * Property name that indicates that an object is a\n * goog.events.EventTarget.\n * @type {string}\n * @const\n */\ngoog.events.CUSTOM_EVENT_ATTR = 'customEvent_';\n\n\n/**\n * Adds an event listener for a specific event on a DOM Node or an object that\n * has implemented {@link goog.events.EventTarget}. A listener can only be\n * added once to an object and if it is added again the key for the listener\n * is returned.\n *\n * Note that a one-off listener will not change an existing listener,\n * if any. On the other hand a normal listener will change existing\n * one-off listener to become a normal listener.\n *\n * @param {EventTarget|goog.events.EventTarget} src The node to listen to\n *     events on.\n * @param {?string} type Event type or array of event types.\n * @param {Function|Object} listener Callback method, or an object with a\n *     handleEvent function.\n * @param {boolean} callOnce Whether the listener is a one-off\n *     listener or otherwise.\n * @param {boolean=} opt_capt Whether to fire in capture phase (defaults to\n *     false).\n * @param {Object=} opt_handler Element in whose scope to call the listener.\n * @return {goog.events.ListenableKey} Unique key for the listener.\n * @private\n */\ngoog.events.listen_ = function(\n    src, type, listener, callOnce, opt_capt, opt_handler) {\n  if (!type) {\n    throw Error('Invalid event type');\n  }\n\n  var capture = !!opt_capt;\n  var map = goog.events.listenerTree_;\n\n  if (!(type in map)) {\n    map[type] = {count_: 0, remaining_: 0};\n  }\n  map = map[type];\n\n  if (!(capture in map)) {\n    map[capture] = {count_: 0, remaining_: 0};\n    map.count_++;\n  }\n  map = map[capture];\n\n  var srcUid = goog.getUid(src);\n  var listenerArray, listenerObj;\n\n  // The remaining_ property is used to be able to short circuit the iteration\n  // of the event listeners.\n  //\n  // Increment the remaining event listeners to call even if this event might\n  // already have been fired. At this point we do not know if the event has\n  // been fired and it is too expensive to find out. By incrementing it we are\n  // guaranteed that we will not skip any event listeners.\n  map.remaining_++;\n\n  // Do not use srcUid in map here since that will cast the number to a\n  // string which will allocate one string object.\n  if (!map[srcUid]) {\n    listenerArray = map[srcUid] = [];\n    map.count_++;\n  } else {\n    listenerArray = map[srcUid];\n    // Ensure that the listeners do not already contain the current listener\n    for (var i = 0; i < listenerArray.length; i++) {\n      listenerObj = listenerArray[i];\n      if (listenerObj.listener == listener &&\n          listenerObj.handler == opt_handler) {\n\n        // If this listener has been removed we should not return its key. It\n        // is OK that we create new listenerObj below since the removed one\n        // will be cleaned up later.\n        if (listenerObj.removed) {\n          break;\n        }\n\n        if (!callOnce) {\n          // Ensure that, if there is an existing callOnce listener, it is no\n          // longer a callOnce listener.\n          listenerArray[i].callOnce = false;\n        }\n\n        // We already have this listener. Return its key.\n        return listenerArray[i];\n      }\n    }\n  }\n\n  var proxy = goog.events.getProxy();\n  listenerObj = new goog.events.Listener();\n  listenerObj.init(listener, proxy, src, type, capture, opt_handler);\n  listenerObj.callOnce = callOnce;\n\n  proxy.src = src;\n  proxy.listener = listenerObj;\n\n  listenerArray.push(listenerObj);\n\n  if (!goog.events.sources_[srcUid]) {\n    goog.events.sources_[srcUid] = [];\n  }\n  goog.events.sources_[srcUid].push(listenerObj);\n\n  // Attach the proxy through the browser's API\n  if (src.addEventListener) {\n    if (src == goog.global || !src[goog.events.CUSTOM_EVENT_ATTR]) {\n      src.addEventListener(type, proxy, capture);\n    } else if (goog.events.STRICT_EVENT_TARGET) {\n      src.assertInitialized();\n    }\n  } else {\n    // The else above used to be else if (src.attachEvent) and then there was\n    // another else statement that threw an exception warning the developer\n    // they made a mistake. This resulted in an extra object allocation in IE6\n    // due to a wrapper object that had to be implemented around the element\n    // and so was removed.\n    src.attachEvent(goog.events.getOnString_(type), proxy);\n  }\n\n  return listenerObj;\n};\n\n\n/**\n * Helper function for returning a proxy function.\n * @return {Function} A new or reused function object.\n */\ngoog.events.getProxy = function() {\n  var proxyCallbackFunction = goog.events.handleBrowserEvent_;\n  // Use a local var f to prevent one allocation.\n  var f = goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT ?\n      function(eventObject) {\n        return proxyCallbackFunction.call(f.src, f.listener, eventObject);\n      } :\n      function(eventObject) {\n        var v = proxyCallbackFunction.call(f.src, f.listener, eventObject);\n        // NOTE(user): In IE, we hack in a capture phase. However, if\n        // there is inline event handler which tries to prevent default (for\n        // example <a href=\"...\" onclick=\"return false\">...</a>) in a\n        // descendant element, the prevent default will be overridden\n        // by this listener if this listener were to return true. Hence, we\n        // return undefined.\n        if (!v) return v;\n      };\n  return f;\n};\n\n\n/**\n * Adds an event listener for a specific event on a DomNode or an object that\n * has implemented {@link goog.events.EventTarget}. After the event has fired\n * the event listener is removed from the target.\n *\n * If an existing listener already exists, listenOnce will do\n * nothing. In particular, if the listener was previously registered\n * via listen(), listenOnce() will not turn the listener into a\n * one-off listener. Similarly, if there is already an existing\n * one-off listener, listenOnce does not modify the listeners (it is\n * still a once listener).\n *\n * @param {goog.events.ListenableType} src The node to listen to\n *     events on.\n * @param {string|Array.<string>} type Event type or array of event types.\n * @param {Function|Object} listener Callback method.\n * @param {boolean=} opt_capt Fire in capture phase?.\n * @param {Object=} opt_handler Element in whose scope to call the listener.\n * @return {goog.events.Key} Unique key for the listener.\n */\ngoog.events.listenOnce = function(src, type, listener, opt_capt, opt_handler) {\n  if (goog.isArray(type)) {\n    for (var i = 0; i < type.length; i++) {\n      goog.events.listenOnce(src, type[i], listener, opt_capt, opt_handler);\n    }\n    return null;\n  }\n\n  var listenableKey;\n  if (goog.events.Listenable.USE_LISTENABLE_INTERFACE &&\n      goog.events.Listenable.isImplementedBy(src)) {\n    listenableKey = src.listenOnce(\n        /** @type {string} */ (type),\n        goog.events.wrapListener_(listener), opt_capt, opt_handler);\n  } else {\n    listenableKey = goog.events.listen_(\n        /** @type {EventTarget|goog.events.EventTarget} */ (src),\n        type, listener, /* callOnce */ true, opt_capt, opt_handler);\n  }\n\n  var key = listenableKey.key;\n  goog.events.listeners_[key] = listenableKey;\n  return key;\n};\n\n\n/**\n * Adds an event listener with a specific event wrapper on a DOM Node or an\n * object that has implemented {@link goog.events.EventTarget}. A listener can\n * only be added once to an object.\n *\n * @param {EventTarget|goog.events.EventTarget} src The node to listen to\n *     events on.\n * @param {goog.events.EventWrapper} wrapper Event wrapper to use.\n * @param {Function|Object} listener Callback method, or an object with a\n *     handleEvent function.\n * @param {boolean=} opt_capt Whether to fire in capture phase (defaults to\n *     false).\n * @param {Object=} opt_handler Element in whose scope to call the listener.\n */\ngoog.events.listenWithWrapper = function(src, wrapper, listener, opt_capt,\n    opt_handler) {\n  wrapper.listen(src, listener, opt_capt, opt_handler);\n};\n\n\n/**\n * Removes an event listener which was added with listen().\n *\n * @param {goog.events.ListenableType} src The target to stop\n *     listening to events on.\n * @param {string|Array.<string>} type The name of the event without the 'on'\n *     prefix.\n * @param {Function|Object} listener The listener function to remove.\n * @param {boolean=} opt_capt In DOM-compliant browsers, this determines\n *     whether the listener is fired during the capture or bubble phase of the\n *     event.\n * @param {Object=} opt_handler Element in whose scope to call the listener.\n * @return {?boolean} indicating whether the listener was there to remove.\n */\ngoog.events.unlisten = function(src, type, listener, opt_capt, opt_handler) {\n  if (goog.isArray(type)) {\n    for (var i = 0; i < type.length; i++) {\n      goog.events.unlisten(src, type[i], listener, opt_capt, opt_handler);\n    }\n    return null;\n  }\n\n  if (goog.events.Listenable.USE_LISTENABLE_INTERFACE &&\n      goog.events.Listenable.isImplementedBy(src)) {\n    return src.unlisten(\n        /** @type {string} */ (type),\n        goog.events.wrapListener_(listener), opt_capt, opt_handler);\n  }\n\n  var capture = !!opt_capt;\n\n  var listenerArray = goog.events.getListeners_(src, type, capture);\n  if (!listenerArray) {\n    return false;\n  }\n\n  for (var i = 0; i < listenerArray.length; i++) {\n    if (listenerArray[i].listener == listener &&\n        listenerArray[i].capture == capture &&\n        listenerArray[i].handler == opt_handler) {\n      return goog.events.unlistenByKey(listenerArray[i].key);\n    }\n  }\n\n  return false;\n};\n\n\n/**\n * Removes an event listener which was added with listen() by the key\n * returned by listen().\n *\n * @param {goog.events.Key} key The key returned by listen() for this\n *     event listener.\n * @return {boolean} indicating whether the listener was there to remove.\n */\ngoog.events.unlistenByKey = function(key) {\n  // TODO(user): When we flip goog.events.Key to be ListenableKey,\n  // we need to change this.\n  var listener = goog.events.listeners_[key];\n  if (!listener) {\n    return false;\n  }\n  if (listener.removed) {\n    return false;\n  }\n\n  var src = listener.src;\n  if (goog.events.Listenable.USE_LISTENABLE_INTERFACE &&\n      goog.events.Listenable.isImplementedBy(src)) {\n    return src.unlistenByKey(listener);\n  }\n\n  var type = listener.type;\n  var proxy = listener.proxy;\n  var capture = listener.capture;\n\n  if (src.removeEventListener) {\n    // EventTarget calls unlisten so we need to ensure that the source is not\n    // an event target to prevent re-entry.\n    // TODO(arv): What is this goog.global for? Why would anyone listen to\n    // events on the [[Global]] object? Is it supposed to be window? Why would\n    // we not want to allow removing event listeners on the window?\n    if (src == goog.global || !src[goog.events.CUSTOM_EVENT_ATTR]) {\n      src.removeEventListener(type, proxy, capture);\n    }\n  } else if (src.detachEvent) {\n    src.detachEvent(goog.events.getOnString_(type), proxy);\n  }\n\n  var srcUid = goog.getUid(src);\n\n  // In a perfect implementation we would decrement the remaining_ field here\n  // but then we would need to know if the listener has already been fired or\n  // not. We therefore skip doing this and in this uncommon case the entire\n  // ancestor chain will need to be traversed as before.\n\n  // Remove from sources_\n  if (goog.events.sources_[srcUid]) {\n    var sourcesArray = goog.events.sources_[srcUid];\n    goog.array.remove(sourcesArray, listener);\n    if (sourcesArray.length == 0) {\n      delete goog.events.sources_[srcUid];\n    }\n  }\n\n  listener.removed = true;\n\n  // There are some esoteric situations where the hash code of an object\n  // can change, and we won't be able to find the listenerArray anymore.\n  // For example, if you're listening on a window, and the user navigates to\n  // a different window, the UID will disappear.\n  //\n  // It should be impossible to ever find the original listenerArray, so it\n  // doesn't really matter if we can't clean it up in this case.\n  var listenerArray = goog.events.listenerTree_[type][capture][srcUid];\n  if (listenerArray) {\n    listenerArray.needsCleanup_ = true;\n    goog.events.cleanUp_(type, capture, srcUid, listenerArray);\n  }\n\n  delete goog.events.listeners_[key];\n\n  return true;\n};\n\n\n/**\n * Removes an event listener which was added with listenWithWrapper().\n *\n * @param {EventTarget|goog.events.EventTarget} src The target to stop\n *     listening to events on.\n * @param {goog.events.EventWrapper} wrapper Event wrapper to use.\n * @param {Function|Object} listener The listener function to remove.\n * @param {boolean=} opt_capt In DOM-compliant browsers, this determines\n *     whether the listener is fired during the capture or bubble phase of the\n *     event.\n * @param {Object=} opt_handler Element in whose scope to call the listener.\n */\ngoog.events.unlistenWithWrapper = function(src, wrapper, listener, opt_capt,\n    opt_handler) {\n  wrapper.unlisten(src, listener, opt_capt, opt_handler);\n};\n\n\n/**\n * Cleans up goog.events internal data structure. This should be\n * called by all implementations of goog.events.Listenable when\n * removing listeners.\n *\n * TODO(user): Once we remove numeric key support from\n * goog.events.listen and friend, we will be able to remove this\n * requirement.\n *\n * @param {goog.events.ListenableKey} listenableKey The key to clean up.\n */\ngoog.events.cleanUp = function(listenableKey) {\n  delete goog.events.listeners_[listenableKey.key];\n};\n\n\n/**\n * Cleans up the listener array as well as the listener tree\n * @param {string} type  The type of the event.\n * @param {boolean} capture Whether to clean up capture phase listeners instead\n *     bubble phase listeners.\n * @param {number} srcUid  The unique ID of the source.\n * @param {Array.<goog.events.Listener>} listenerArray The array being cleaned.\n * @private\n */\ngoog.events.cleanUp_ = function(type, capture, srcUid, listenerArray) {\n  // The listener array gets locked during the dispatch phase so that removals\n  // of listeners during this phase does not screw up the indeces. This method\n  // is called after we have removed a listener as well as after the dispatch\n  // phase in case any listeners were removed.\n  if (!listenerArray.locked_) { // catches both 0 and not set\n    if (listenerArray.needsCleanup_) {\n      // Loop over the listener array and remove listeners that have removed set\n      // to true. This could have been done with filter or something similar but\n      // we want to change the array in place and we want to minimize\n      // allocations. Adding a listener during this phase adds to the end of the\n      // array so that works fine as long as the length is rechecked every in\n      // iteration.\n      for (var oldIndex = 0, newIndex = 0;\n           oldIndex < listenerArray.length;\n           oldIndex++) {\n        if (listenerArray[oldIndex].removed) {\n          var proxy = listenerArray[oldIndex].proxy;\n          proxy.src = null;\n          continue;\n        }\n        if (oldIndex != newIndex) {\n          listenerArray[newIndex] = listenerArray[oldIndex];\n        }\n        newIndex++;\n      }\n      listenerArray.length = newIndex;\n\n      listenerArray.needsCleanup_ = false;\n\n      // In case the length is now zero we release the object.\n      if (newIndex == 0) {\n        delete goog.events.listenerTree_[type][capture][srcUid];\n        goog.events.listenerTree_[type][capture].count_--;\n\n        if (goog.events.listenerTree_[type][capture].count_ == 0) {\n          delete goog.events.listenerTree_[type][capture];\n          goog.events.listenerTree_[type].count_--;\n        }\n\n        if (goog.events.listenerTree_[type].count_ == 0) {\n          delete goog.events.listenerTree_[type];\n        }\n      }\n\n    }\n  }\n};\n\n\n/**\n * Removes all listeners from an object. You can also optionally\n * remove listeners of a particular type.\n *\n * @param {Object=} opt_obj Object to remove listeners from. Not\n *     specifying opt_obj is now DEPRECATED (it used to remove all\n *     registered listeners).\n * @param {string=} opt_type Type of event to, default is all types.\n * @return {number} Number of listeners removed.\n */\ngoog.events.removeAll = function(opt_obj, opt_type) {\n  var count = 0;\n\n  var noObj = opt_obj == null;\n  var noType = opt_type == null;\n\n  if (!noObj) {\n    if (goog.events.Listenable.USE_LISTENABLE_INTERFACE &&\n        opt_obj && goog.events.Listenable.isImplementedBy(opt_obj)) {\n      return opt_obj.removeAllListeners(opt_type);\n    }\n\n    var srcUid = goog.getUid(/** @type {Object} */ (opt_obj));\n    if (goog.events.sources_[srcUid]) {\n      var sourcesArray = goog.events.sources_[srcUid];\n      for (var i = sourcesArray.length - 1; i >= 0; i--) {\n        var listener = sourcesArray[i];\n        if (noType || opt_type == listener.type) {\n          goog.events.unlistenByKey(listener.key);\n          count++;\n        }\n      }\n    }\n  } else {\n    goog.object.forEach(goog.events.listeners_, function(listener, key) {\n      goog.events.unlistenByKey(key);\n      count++;\n    });\n  }\n\n  return count;\n};\n\n\n/**\n * Removes all native listeners registered via goog.events. Native\n * listeners are listeners on native browser objects (such as DOM\n * elements). In particular, goog.events.Listenable and\n * goog.events.EventTarget listeners will NOT be removed.\n * @return {number} Number of listeners removed.\n */\ngoog.events.removeAllNativeListeners = function() {\n  var count = 0;\n  goog.object.forEach(goog.events.listeners_, function(listener, key) {\n    var src = listener.src;\n    // Only remove the listener if it is not on custom event target.\n    if (!goog.events.Listenable.isImplementedBy(src) &&\n        !src[goog.events.CUSTOM_EVENT_ATTR]) {\n      goog.events.unlistenByKey(key);\n      count++;\n    }\n  });\n  return count;\n};\n\n\n/**\n * Gets the listeners for a given object, type and capture phase.\n *\n * @param {Object} obj Object to get listeners for.\n * @param {string} type Event type.\n * @param {boolean} capture Capture phase?.\n * @return {Array.<goog.events.Listener>} Array of listener objects.\n */\ngoog.events.getListeners = function(obj, type, capture) {\n  if (goog.events.Listenable.USE_LISTENABLE_INTERFACE &&\n      goog.events.Listenable.isImplementedBy(obj)) {\n    return obj.getListeners(type, capture);\n  } else {\n    return goog.events.getListeners_(obj, type, capture) || [];\n  }\n};\n\n\n/**\n * Gets the listeners for a given object, type and capture phase.\n *\n * @param {Object} obj Object to get listeners for.\n * @param {?string} type Event type.\n * @param {boolean} capture Capture phase?.\n * @return {Array.<goog.events.Listener>?} Array of listener objects.\n *     Returns null if object has no listeners of that type.\n * @private\n */\ngoog.events.getListeners_ = function(obj, type, capture) {\n  var map = goog.events.listenerTree_;\n  if (type in map) {\n    map = map[type];\n    if (capture in map) {\n      map = map[capture];\n      var objUid = goog.getUid(obj);\n      if (map[objUid]) {\n        return map[objUid];\n      }\n    }\n  }\n\n  return null;\n};\n\n\n/**\n * Gets the goog.events.Listener for the event or null if no such listener is\n * in use.\n *\n * @param {EventTarget|goog.events.EventTarget} src The node from which to get\n *     listeners.\n * @param {?string} type The name of the event without the 'on' prefix.\n * @param {Function|Object} listener The listener function to get.\n * @param {boolean=} opt_capt In DOM-compliant browsers, this determines\n *                            whether the listener is fired during the\n *                            capture or bubble phase of the event.\n * @param {Object=} opt_handler Element in whose scope to call the listener.\n * @return {goog.events.ListenableKey} the found listener or null if not found.\n */\ngoog.events.getListener = function(src, type, listener, opt_capt, opt_handler) {\n  var capture = !!opt_capt;\n\n  if (goog.events.Listenable.USE_LISTENABLE_INTERFACE &&\n      goog.events.Listenable.isImplementedBy(src)) {\n    return src.getListener(\n        /** @type {string} */ (type),\n        goog.events.wrapListener_(listener), capture, opt_handler);\n  }\n\n  var listenerArray = goog.events.getListeners_(src, type, capture);\n  if (listenerArray) {\n    for (var i = 0; i < listenerArray.length; i++) {\n      // If goog.events.unlistenByKey is called during an event dispatch\n      // then the listener array won't get cleaned up and there might be\n      // 'removed' listeners in the list. Ignore those.\n      if (!listenerArray[i].removed &&\n          listenerArray[i].listener == listener &&\n          listenerArray[i].capture == capture &&\n          listenerArray[i].handler == opt_handler) {\n        // We already have this listener. Return its key.\n        return listenerArray[i];\n      }\n    }\n  }\n  return null;\n};\n\n\n/**\n * Returns whether an event target has any active listeners matching the\n * specified signature. If either the type or capture parameters are\n * unspecified, the function will match on the remaining criteria.\n *\n * @param {EventTarget|goog.events.EventTarget} obj Target to get listeners for.\n * @param {string=} opt_type Event type.\n * @param {boolean=} opt_capture Whether to check for capture or bubble-phase\n *     listeners.\n * @return {boolean} Whether an event target has one or more listeners matching\n *     the requested type and/or capture phase.\n */\ngoog.events.hasListener = function(obj, opt_type, opt_capture) {\n  if (goog.events.Listenable.USE_LISTENABLE_INTERFACE &&\n      goog.events.Listenable.isImplementedBy(obj)) {\n    return obj.hasListener(opt_type, opt_capture);\n  }\n\n  var objUid = goog.getUid(obj);\n  var listeners = goog.events.sources_[objUid];\n\n  if (listeners) {\n    var hasType = goog.isDef(opt_type);\n    var hasCapture = goog.isDef(opt_capture);\n\n    if (hasType && hasCapture) {\n      // Lookup in the listener tree whether the specified listener exists.\n      var map = goog.events.listenerTree_[opt_type];\n      return !!map && !!map[opt_capture] && objUid in map[opt_capture];\n\n    } else if (!(hasType || hasCapture)) {\n      // Simple check for whether the event target has any listeners at all.\n      return true;\n\n    } else {\n      // Iterate through the listeners for the event target to find a match.\n      return goog.array.some(listeners, function(listener) {\n        return (hasType && listener.type == opt_type) ||\n               (hasCapture && listener.capture == opt_capture);\n      });\n    }\n  }\n\n  return false;\n};\n\n\n/**\n * Provides a nice string showing the normalized event objects public members\n * @param {Object} e Event Object.\n * @return {string} String of the public members of the normalized event object.\n */\ngoog.events.expose = function(e) {\n  var str = [];\n  for (var key in e) {\n    if (e[key] && e[key].id) {\n      str.push(key + ' = ' + e[key] + ' (' + e[key].id + ')');\n    } else {\n      str.push(key + ' = ' + e[key]);\n    }\n  }\n  return str.join('\\n');\n};\n\n\n/**\n * Returns a string wth on prepended to the specified type. This is used for IE\n * which expects \"on\" to be prepended. This function caches the string in order\n * to avoid extra allocations in steady state.\n * @param {string} type Event type strng.\n * @return {string} The type string with 'on' prepended.\n * @private\n */\ngoog.events.getOnString_ = function(type) {\n  if (type in goog.events.onStringMap_) {\n    return goog.events.onStringMap_[type];\n  }\n  return goog.events.onStringMap_[type] = goog.events.onString_ + type;\n};\n\n\n/**\n * Fires an object's listeners of a particular type and phase\n *\n * @param {Object} obj Object whose listeners to call.\n * @param {string} type Event type.\n * @param {boolean} capture Which event phase.\n * @param {Object} eventObject Event object to be passed to listener.\n * @return {boolean} True if all listeners returned true else false.\n */\ngoog.events.fireListeners = function(obj, type, capture, eventObject) {\n  if (goog.events.Listenable.USE_LISTENABLE_INTERFACE &&\n      goog.events.Listenable.isImplementedBy(obj)) {\n    return obj.fireListeners(type, capture, eventObject);\n  }\n\n  var map = goog.events.listenerTree_;\n  if (type in map) {\n    map = map[type];\n    if (capture in map) {\n      return goog.events.fireListeners_(map[capture], obj, type,\n                                        capture, eventObject);\n    }\n  }\n  return true;\n};\n\n\n/**\n * Fires an object's listeners of a particular type and phase.\n *\n * @param {Object} map Object with listeners in it.\n * @param {Object} obj Object whose listeners to call.\n * @param {string} type Event type.\n * @param {boolean} capture Which event phase.\n * @param {Object} eventObject Event object to be passed to listener.\n * @return {boolean} True if all listeners returned true else false.\n * @private\n */\ngoog.events.fireListeners_ = function(map, obj, type, capture, eventObject) {\n  var retval = 1;\n\n  var objUid = goog.getUid(obj);\n  if (map[objUid]) {\n    var remaining = --map.remaining_;\n    var listenerArray = map[objUid];\n\n    // If locked_ is not set (and if already 0) initialize it to 1.\n    if (!listenerArray.locked_) {\n      listenerArray.locked_ = 1;\n    } else {\n      listenerArray.locked_++;\n    }\n\n    try {\n      // Events added in the dispatch phase should not be dispatched in\n      // the current dispatch phase. They will be included in the next\n      // dispatch phase though.\n      var length = listenerArray.length;\n      for (var i = 0; i < length; i++) {\n        var listener = listenerArray[i];\n        // We might not have a listener if the listener was removed.\n        if (listener && !listener.removed) {\n          retval &=\n              goog.events.fireListener(listener, eventObject) !== false;\n        }\n      }\n    } finally {\n      // Allow the count of targets remaining to increase (if perhaps we have\n      // added listeners) but do not allow it to decrease if we have reentered\n      // this method through a listener dispatching the same event type,\n      // resetting and exhausted the remaining count.\n      map.remaining_ = Math.max(remaining, map.remaining_);\n      listenerArray.locked_--;\n      goog.events.cleanUp_(type, capture, objUid, listenerArray);\n    }\n  }\n\n  return Boolean(retval);\n};\n\n\n/**\n * Fires a listener with a set of arguments\n *\n * @param {goog.events.Listener} listener The listener object to call.\n * @param {Object} eventObject The event object to pass to the listener.\n * @return {boolean} Result of listener.\n */\ngoog.events.fireListener = function(listener, eventObject) {\n  if (listener.callOnce) {\n    goog.events.unlistenByKey(listener.key);\n  }\n  return listener.handleEvent(eventObject);\n};\n\n\n/**\n * Gets the total number of listeners currently in the system.\n * @return {number} Number of listeners.\n */\ngoog.events.getTotalListenerCount = function() {\n  return goog.object.getCount(goog.events.listeners_);\n};\n\n\n/**\n * Dispatches an event (or event like object) and calls all listeners\n * listening for events of this type. The type of the event is decided by the\n * type property on the event object.\n *\n * If any of the listeners returns false OR calls preventDefault then this\n * function will return false.  If one of the capture listeners calls\n * stopPropagation, then the bubble listeners won't fire.\n *\n * @param {goog.events.Listenable|goog.events.EventTarget} src The\n *     event target.\n * @param {goog.events.EventLike} e Event object.\n * @return {boolean} If anyone called preventDefault on the event object (or\n *     if any of the handlers returns false) this will also return false.\n *     If there are no handlers, or if all handlers return true, this returns\n *     true.\n */\ngoog.events.dispatchEvent = function(src, e) {\n  if (goog.events.Listenable.USE_LISTENABLE_INTERFACE) {\n    if (goog.events.STRICT_EVENT_TARGET) {\n      goog.asserts.assert(\n          goog.events.Listenable.isImplementedBy(src),\n          'Can not use goog.events.dispatchEvent with ' +\n          'non-goog.events.Listenable instance.');\n    }\n    return src.dispatchEvent(e);\n  }\n\n  if (goog.events.STRICT_EVENT_TARGET) {\n    goog.asserts.assert(\n        goog.events.STRICT_EVENT_TARGET && src[goog.events.CUSTOM_EVENT_ATTR],\n        'Can not use goog.events.dispatchEvent with ' +\n        'non-goog.events.EventTarget instance.');\n    src.assertInitialized();\n  }\n\n  var type = e.type || e;\n  var map = goog.events.listenerTree_;\n  if (!(type in map)) {\n    return true;\n  }\n\n  // If accepting a string or object, create a custom event object so that\n  // preventDefault and stopPropagation work with the event.\n  if (goog.isString(e)) {\n    e = new goog.events.Event(e, src);\n  } else if (!(e instanceof goog.events.Event)) {\n    var oldEvent = e;\n    e = new goog.events.Event(/** @type {string} */ (type), src);\n    goog.object.extend(e, oldEvent);\n  } else {\n    e.target = e.target || src;\n  }\n\n  var rv = 1, ancestors;\n\n  map = map[type];\n  var hasCapture = true in map;\n  var targetsMap;\n\n  if (hasCapture) {\n    // Build ancestors now\n    ancestors = [];\n    for (var parent = src; parent; parent = parent.getParentEventTarget()) {\n      ancestors.push(parent);\n    }\n\n    targetsMap = map[true];\n    targetsMap.remaining_ = targetsMap.count_;\n\n    // Call capture listeners\n    for (var i = ancestors.length - 1;\n         !e.propagationStopped_ && i >= 0 && targetsMap.remaining_;\n         i--) {\n      e.currentTarget = ancestors[i];\n      rv &= goog.events.fireListeners_(targetsMap, ancestors[i], e.type,\n                                       true, e) &&\n            e.returnValue_ != false;\n    }\n  }\n\n  var hasBubble = false in map;\n  if (hasBubble) {\n    targetsMap = map[false];\n    targetsMap.remaining_ = targetsMap.count_;\n\n    if (hasCapture) { // We have the ancestors.\n\n      // Call bubble listeners\n      for (var i = 0; !e.propagationStopped_ && i < ancestors.length &&\n           targetsMap.remaining_;\n           i++) {\n        e.currentTarget = ancestors[i];\n        rv &= goog.events.fireListeners_(targetsMap, ancestors[i], e.type,\n                                         false, e) &&\n              e.returnValue_ != false;\n      }\n    } else {\n      // In case we don't have capture we don't have to build up the\n      // ancestors array.\n\n      for (var current = src;\n           !e.propagationStopped_ && current && targetsMap.remaining_;\n           current = current.getParentEventTarget()) {\n        e.currentTarget = current;\n        rv &= goog.events.fireListeners_(targetsMap, current, e.type,\n                                         false, e) &&\n              e.returnValue_ != false;\n      }\n    }\n  }\n\n  return Boolean(rv);\n};\n\n\n/**\n * Installs exception protection for the browser event entry point using the\n * given error handler.\n *\n * @param {goog.debug.ErrorHandler} errorHandler Error handler with which to\n *     protect the entry point.\n */\ngoog.events.protectBrowserEventEntryPoint = function(errorHandler) {\n  goog.events.handleBrowserEvent_ = errorHandler.protectEntryPoint(\n      goog.events.handleBrowserEvent_);\n};\n\n\n/**\n * Handles an event and dispatches it to the correct listeners. This\n * function is a proxy for the real listener the user specified.\n *\n * @param {goog.events.Listener} listener The listener object.\n * @param {Event=} opt_evt Optional event object that gets passed in via the\n *     native event handlers.\n * @return {boolean} Result of the event handler.\n * @this {goog.events.EventTarget|Object} The object or Element that\n *     fired the event.\n * @private\n */\ngoog.events.handleBrowserEvent_ = function(listener, opt_evt) {\n  if (listener.removed) {\n    return true;\n  }\n\n  var type = listener.type;\n  var map = goog.events.listenerTree_;\n\n  if (!(type in map)) {\n    return true;\n  }\n  map = map[type];\n  var retval, targetsMap;\n  // Synthesize event propagation if the browser does not support W3C\n  // event model.\n  if (!goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT) {\n    var ieEvent = opt_evt ||\n        /** @type {Event} */ (goog.getObjectByName('window.event'));\n\n    // Check if we have any capturing event listeners for this type.\n    var hasCapture = true in map;\n    var hasBubble = false in map;\n\n    if (hasCapture) {\n      if (goog.events.isMarkedIeEvent_(ieEvent)) {\n        return true;\n      }\n\n      goog.events.markIeEvent_(ieEvent);\n    }\n\n    var evt = new goog.events.BrowserEvent();\n    // TODO(user): update @this for this function\n    evt.init(ieEvent, /** @type {EventTarget} */ (this));\n\n    retval = true;\n    try {\n      if (hasCapture) {\n        var ancestors = [];\n\n        for (var parent = evt.currentTarget;\n             parent;\n             parent = parent.parentNode) {\n          ancestors.push(parent);\n        }\n\n        targetsMap = map[true];\n        targetsMap.remaining_ = targetsMap.count_;\n\n        // Call capture listeners\n        for (var i = ancestors.length - 1;\n             !evt.propagationStopped_ && i >= 0 && targetsMap.remaining_;\n             i--) {\n          evt.currentTarget = ancestors[i];\n          retval &= goog.events.fireListeners_(targetsMap, ancestors[i], type,\n                                               true, evt);\n        }\n\n        if (hasBubble) {\n          targetsMap = map[false];\n          targetsMap.remaining_ = targetsMap.count_;\n\n          // Call bubble listeners\n          for (var i = 0;\n               !evt.propagationStopped_ && i < ancestors.length &&\n               targetsMap.remaining_;\n               i++) {\n            evt.currentTarget = ancestors[i];\n            retval &= goog.events.fireListeners_(targetsMap, ancestors[i], type,\n                                                 false, evt);\n          }\n        }\n\n      } else {\n        // Bubbling, let IE handle the propagation.\n        retval = goog.events.fireListener(listener, evt);\n      }\n\n    } finally {\n      if (ancestors) {\n        ancestors.length = 0;\n      }\n    }\n    return retval;\n  } // IE\n\n  // Caught a non-IE DOM event. 1 additional argument which is the event object\n  var be = new goog.events.BrowserEvent(\n      opt_evt, /** @type {EventTarget} */ (this));\n  retval = goog.events.fireListener(listener, be);\n  return retval;\n};\n\n\n/**\n * This is used to mark the IE event object so we do not do the Closure pass\n * twice for a bubbling event.\n * @param {Event} e The IE browser event.\n * @private\n */\ngoog.events.markIeEvent_ = function(e) {\n  // Only the keyCode and the returnValue can be changed. We use keyCode for\n  // non keyboard events.\n  // event.returnValue is a bit more tricky. It is undefined by default. A\n  // boolean false prevents the default action. In a window.onbeforeunload and\n  // the returnValue is non undefined it will be alerted. However, we will only\n  // modify the returnValue for keyboard events. We can get a problem if non\n  // closure events sets the keyCode or the returnValue\n\n  var useReturnValue = false;\n\n  if (e.keyCode == 0) {\n    // We cannot change the keyCode in case that srcElement is input[type=file].\n    // We could test that that is the case but that would allocate 3 objects.\n    // If we use try/catch we will only allocate extra objects in the case of a\n    // failure.\n    /** @preserveTry */\n    try {\n      e.keyCode = -1;\n      return;\n    } catch (ex) {\n      useReturnValue = true;\n    }\n  }\n\n  if (useReturnValue ||\n      /** @type {boolean|undefined} */ (e.returnValue) == undefined) {\n    e.returnValue = true;\n  }\n};\n\n\n/**\n * This is used to check if an IE event has already been handled by the Closure\n * system so we do not do the Closure pass twice for a bubbling event.\n * @param {Event} e  The IE browser event.\n * @return {boolean} True if the event object has been marked.\n * @private\n */\ngoog.events.isMarkedIeEvent_ = function(e) {\n  return e.keyCode < 0 || e.returnValue != undefined;\n};\n\n\n/**\n * Counter to create unique event ids.\n * @type {number}\n * @private\n */\ngoog.events.uniqueIdCounter_ = 0;\n\n\n/**\n * Creates a unique event id.\n *\n * @param {string} identifier The identifier.\n * @return {string} A unique identifier.\n */\ngoog.events.getUniqueId = function(identifier) {\n  return identifier + '_' + goog.events.uniqueIdCounter_++;\n};\n\n\n/**\n * Expando property for listener function wrapper for Object with\n * handleEvent.\n * @type {string}\n * @private\n */\ngoog.events.LISTENER_WRAPPER_PROP_ = '__closure_events_fn_' +\n    ((Math.random() * 1e9) >>> 0);\n\n\n/**\n * @param {Object|Function} listener The listener function or an\n *     object that contains handleEvent method.\n * @return {!Function} Either the original function or a function that\n *     calls obj.handleEvent. If the same listener is passed to this\n *     function more than once, the same function is guaranteed to be\n *     returned.\n * @private\n */\ngoog.events.wrapListener_ = function(listener) {\n  if (goog.isFunction(listener)) {\n    return listener;\n  }\n\n  return listener[goog.events.LISTENER_WRAPPER_PROP_] ||\n      (listener[goog.events.LISTENER_WRAPPER_PROP_] = function(e) {\n        return listener.handleEvent(e);\n      });\n};\n\n\n// Register the browser event handler as an entry point, so that\n// it can be monitored for exception handling, etc.\ngoog.debug.entryPointRegistry.register(\n    /**\n     * @param {function(!Function): !Function} transformer The transforming\n     *     function.\n     */\n    function(transformer) {\n      goog.events.handleBrowserEvent_ = transformer(\n          goog.events.handleBrowserEvent_);\n    });\n",
		"// Copyright 2006 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview Rendering engine detection.\n * @see <a href=\"http://www.useragentstring.com/\">User agent strings</a>\n * For information on the browser brand (such as Safari versus Chrome), see\n * goog.userAgent.product.\n * @see ../demos/useragent.html\n */\n\ngoog.provide('goog.userAgent');\n\ngoog.require('goog.string');\n\n\n/**\n * @define {boolean} Whether we know at compile-time that the browser is IE.\n */\ngoog.userAgent.ASSUME_IE = false;\n\n\n/**\n * @define {boolean} Whether we know at compile-time that the browser is GECKO.\n */\ngoog.userAgent.ASSUME_GECKO = false;\n\n\n/**\n * @define {boolean} Whether we know at compile-time that the browser is WEBKIT.\n */\ngoog.userAgent.ASSUME_WEBKIT = false;\n\n\n/**\n * @define {boolean} Whether we know at compile-time that the browser is a\n *     mobile device running WebKit e.g. iPhone or Android.\n */\ngoog.userAgent.ASSUME_MOBILE_WEBKIT = false;\n\n\n/**\n * @define {boolean} Whether we know at compile-time that the browser is OPERA.\n */\ngoog.userAgent.ASSUME_OPERA = false;\n\n\n/**\n * @define {boolean} Whether the {@code goog.userAgent.isVersion} function will\n *     return true for any version.\n */\ngoog.userAgent.ASSUME_ANY_VERSION = false;\n\n\n/**\n * Whether we know the browser engine at compile-time.\n * @type {boolean}\n * @private\n */\ngoog.userAgent.BROWSER_KNOWN_ =\n    goog.userAgent.ASSUME_IE ||\n    goog.userAgent.ASSUME_GECKO ||\n    goog.userAgent.ASSUME_MOBILE_WEBKIT ||\n    goog.userAgent.ASSUME_WEBKIT ||\n    goog.userAgent.ASSUME_OPERA;\n\n\n/**\n * Returns the userAgent string for the current browser.\n * Some user agents (I'm thinking of you, Gears WorkerPool) do not expose a\n * navigator object off the global scope.  In that case we return null.\n *\n * @return {?string} The userAgent string or null if there is none.\n */\ngoog.userAgent.getUserAgentString = function() {\n  return goog.global['navigator'] ? goog.global['navigator'].userAgent : null;\n};\n\n\n/**\n * @return {Object} The native navigator object.\n */\ngoog.userAgent.getNavigator = function() {\n  // Need a local navigator reference instead of using the global one,\n  // to avoid the rare case where they reference different objects.\n  // (in a WorkerPool, for example).\n  return goog.global['navigator'];\n};\n\n\n/**\n * Initializer for goog.userAgent.\n *\n * This is a named function so that it can be stripped via the jscompiler\n * option for stripping types.\n * @private\n */\ngoog.userAgent.init_ = function() {\n  /**\n   * Whether the user agent string denotes Opera.\n   * @type {boolean}\n   * @private\n   */\n  goog.userAgent.detectedOpera_ = false;\n\n  /**\n   * Whether the user agent string denotes Internet Explorer. This includes\n   * other browsers using Trident as its rendering engine. For example AOL\n   * and Netscape 8\n   * @type {boolean}\n   * @private\n   */\n  goog.userAgent.detectedIe_ = false;\n\n  /**\n   * Whether the user agent string denotes WebKit. WebKit is the rendering\n   * engine that Safari, Android and others use.\n   * @type {boolean}\n   * @private\n   */\n  goog.userAgent.detectedWebkit_ = false;\n\n  /**\n   * Whether the user agent string denotes a mobile device.\n   * @type {boolean}\n   * @private\n   */\n  goog.userAgent.detectedMobile_ = false;\n\n  /**\n   * Whether the user agent string denotes Gecko. Gecko is the rendering\n   * engine used by Mozilla, Mozilla Firefox, Camino and many more.\n   * @type {boolean}\n   * @private\n   */\n  goog.userAgent.detectedGecko_ = false;\n\n  var ua;\n  if (!goog.userAgent.BROWSER_KNOWN_ &&\n      (ua = goog.userAgent.getUserAgentString())) {\n    var navigator = goog.userAgent.getNavigator();\n    goog.userAgent.detectedOpera_ = ua.indexOf('Opera') == 0;\n    goog.userAgent.detectedIe_ = !goog.userAgent.detectedOpera_ &&\n        ua.indexOf('MSIE') != -1;\n    goog.userAgent.detectedWebkit_ = !goog.userAgent.detectedOpera_ &&\n        ua.indexOf('WebKit') != -1;\n    // WebKit also gives navigator.product string equal to 'Gecko'.\n    goog.userAgent.detectedMobile_ = goog.userAgent.detectedWebkit_ &&\n        ua.indexOf('Mobile') != -1;\n    goog.userAgent.detectedGecko_ = !goog.userAgent.detectedOpera_ &&\n        !goog.userAgent.detectedWebkit_ && navigator.product == 'Gecko';\n  }\n};\n\n\nif (!goog.userAgent.BROWSER_KNOWN_) {\n  goog.userAgent.init_();\n}\n\n\n/**\n * Whether the user agent is Opera.\n * @type {boolean}\n */\ngoog.userAgent.OPERA = goog.userAgent.BROWSER_KNOWN_ ?\n    goog.userAgent.ASSUME_OPERA : goog.userAgent.detectedOpera_;\n\n\n/**\n * Whether the user agent is Internet Explorer. This includes other browsers\n * using Trident as its rendering engine. For example AOL and Netscape 8\n * @type {boolean}\n */\ngoog.userAgent.IE = goog.userAgent.BROWSER_KNOWN_ ?\n    goog.userAgent.ASSUME_IE : goog.userAgent.detectedIe_;\n\n\n/**\n * Whether the user agent is Gecko. Gecko is the rendering engine used by\n * Mozilla, Mozilla Firefox, Camino and many more.\n * @type {boolean}\n */\ngoog.userAgent.GECKO = goog.userAgent.BROWSER_KNOWN_ ?\n    goog.userAgent.ASSUME_GECKO :\n    goog.userAgent.detectedGecko_;\n\n\n/**\n * Whether the user agent is WebKit. WebKit is the rendering engine that\n * Safari, Android and others use.\n * @type {boolean}\n */\ngoog.userAgent.WEBKIT = goog.userAgent.BROWSER_KNOWN_ ?\n    goog.userAgent.ASSUME_WEBKIT || goog.userAgent.ASSUME_MOBILE_WEBKIT :\n    goog.userAgent.detectedWebkit_;\n\n\n/**\n * Whether the user agent is running on a mobile device.\n * @type {boolean}\n */\ngoog.userAgent.MOBILE = goog.userAgent.ASSUME_MOBILE_WEBKIT ||\n                        goog.userAgent.detectedMobile_;\n\n\n/**\n * Used while transitioning code to use WEBKIT instead.\n * @type {boolean}\n * @deprecated Use {@link goog.userAgent.product.SAFARI} instead.\n * TODO(nicksantos): Delete this from goog.userAgent.\n */\ngoog.userAgent.SAFARI = goog.userAgent.WEBKIT;\n\n\n/**\n * @return {string} the platform (operating system) the user agent is running\n *     on. Default to empty string because navigator.platform may not be defined\n *     (on Rhino, for example).\n * @private\n */\ngoog.userAgent.determinePlatform_ = function() {\n  var navigator = goog.userAgent.getNavigator();\n  return navigator && navigator.platform || '';\n};\n\n\n/**\n * The platform (operating system) the user agent is running on. Default to\n * empty string because navigator.platform may not be defined (on Rhino, for\n * example).\n * @type {string}\n */\ngoog.userAgent.PLATFORM = goog.userAgent.determinePlatform_();\n\n\n/**\n * @define {boolean} Whether the user agent is running on a Macintosh operating\n *     system.\n */\ngoog.userAgent.ASSUME_MAC = false;\n\n\n/**\n * @define {boolean} Whether the user agent is running on a Windows operating\n *     system.\n */\ngoog.userAgent.ASSUME_WINDOWS = false;\n\n\n/**\n * @define {boolean} Whether the user agent is running on a Linux operating\n *     system.\n */\ngoog.userAgent.ASSUME_LINUX = false;\n\n\n/**\n * @define {boolean} Whether the user agent is running on a X11 windowing\n *     system.\n */\ngoog.userAgent.ASSUME_X11 = false;\n\n\n/**\n * @define {boolean} Whether the user agent is running on Android.\n */\ngoog.userAgent.ASSUME_ANDROID = false;\n\n\n/**\n * @define {boolean} Whether the user agent is running on an iPhone.\n */\ngoog.userAgent.ASSUME_IPHONE = false;\n\n\n/**\n * @define {boolean} Whether the user agent is running on an iPad.\n */\ngoog.userAgent.ASSUME_IPAD = false;\n\n\n/**\n * @type {boolean}\n * @private\n */\ngoog.userAgent.PLATFORM_KNOWN_ =\n    goog.userAgent.ASSUME_MAC ||\n    goog.userAgent.ASSUME_WINDOWS ||\n    goog.userAgent.ASSUME_LINUX ||\n    goog.userAgent.ASSUME_X11 ||\n    goog.userAgent.ASSUME_ANDROID ||\n    goog.userAgent.ASSUME_IPHONE ||\n    goog.userAgent.ASSUME_IPAD;\n\n\n/**\n * Initialize the goog.userAgent constants that define which platform the user\n * agent is running on.\n * @private\n */\ngoog.userAgent.initPlatform_ = function() {\n  /**\n   * Whether the user agent is running on a Macintosh operating system.\n   * @type {boolean}\n   * @private\n   */\n  goog.userAgent.detectedMac_ = goog.string.contains(goog.userAgent.PLATFORM,\n      'Mac');\n\n  /**\n   * Whether the user agent is running on a Windows operating system.\n   * @type {boolean}\n   * @private\n   */\n  goog.userAgent.detectedWindows_ = goog.string.contains(\n      goog.userAgent.PLATFORM, 'Win');\n\n  /**\n   * Whether the user agent is running on a Linux operating system.\n   * @type {boolean}\n   * @private\n   */\n  goog.userAgent.detectedLinux_ = goog.string.contains(goog.userAgent.PLATFORM,\n      'Linux');\n\n  /**\n   * Whether the user agent is running on a X11 windowing system.\n   * @type {boolean}\n   * @private\n   */\n  goog.userAgent.detectedX11_ = !!goog.userAgent.getNavigator() &&\n      goog.string.contains(goog.userAgent.getNavigator()['appVersion'] || '',\n          'X11');\n\n  // Need user agent string for Android/IOS detection\n  var ua = goog.userAgent.getUserAgentString();\n\n  /**\n   * Whether the user agent is running on Android.\n   * @type {boolean}\n   * @private\n   */\n  goog.userAgent.detectedAndroid_ = !!ua && ua.indexOf('Android') >= 0;\n\n  /**\n   * Whether the user agent is running on an iPhone.\n   * @type {boolean}\n   * @private\n   */\n  goog.userAgent.detectedIPhone_ = !!ua && ua.indexOf('iPhone') >= 0;\n\n  /**\n   * Whether the user agent is running on an iPad.\n   * @type {boolean}\n   * @private\n   */\n  goog.userAgent.detectedIPad_ = !!ua && ua.indexOf('iPad') >= 0;\n};\n\n\nif (!goog.userAgent.PLATFORM_KNOWN_) {\n  goog.userAgent.initPlatform_();\n}\n\n\n/**\n * Whether the user agent is running on a Macintosh operating system.\n * @type {boolean}\n */\ngoog.userAgent.MAC = goog.userAgent.PLATFORM_KNOWN_ ?\n    goog.userAgent.ASSUME_MAC : goog.userAgent.detectedMac_;\n\n\n/**\n * Whether the user agent is running on a Windows operating system.\n * @type {boolean}\n */\ngoog.userAgent.WINDOWS = goog.userAgent.PLATFORM_KNOWN_ ?\n    goog.userAgent.ASSUME_WINDOWS : goog.userAgent.detectedWindows_;\n\n\n/**\n * Whether the user agent is running on a Linux operating system.\n * @type {boolean}\n */\ngoog.userAgent.LINUX = goog.userAgent.PLATFORM_KNOWN_ ?\n    goog.userAgent.ASSUME_LINUX : goog.userAgent.detectedLinux_;\n\n\n/**\n * Whether the user agent is running on a X11 windowing system.\n * @type {boolean}\n */\ngoog.userAgent.X11 = goog.userAgent.PLATFORM_KNOWN_ ?\n    goog.userAgent.ASSUME_X11 : goog.userAgent.detectedX11_;\n\n\n/**\n * Whether the user agent is running on Android.\n * @type {boolean}\n */\ngoog.userAgent.ANDROID = goog.userAgent.PLATFORM_KNOWN_ ?\n    goog.userAgent.ASSUME_ANDROID : goog.userAgent.detectedAndroid_;\n\n\n/**\n * Whether the user agent is running on an iPhone.\n * @type {boolean}\n */\ngoog.userAgent.IPHONE = goog.userAgent.PLATFORM_KNOWN_ ?\n    goog.userAgent.ASSUME_IPHONE : goog.userAgent.detectedIPhone_;\n\n\n/**\n * Whether the user agent is running on an iPad.\n * @type {boolean}\n */\ngoog.userAgent.IPAD = goog.userAgent.PLATFORM_KNOWN_ ?\n    goog.userAgent.ASSUME_IPAD : goog.userAgent.detectedIPad_;\n\n\n/**\n * @return {string} The string that describes the version number of the user\n *     agent.\n * @private\n */\ngoog.userAgent.determineVersion_ = function() {\n  // All browsers have different ways to detect the version and they all have\n  // different naming schemes.\n\n  // version is a string rather than a number because it may contain 'b', 'a',\n  // and so on.\n  var version = '', re;\n\n  if (goog.userAgent.OPERA && goog.global['opera']) {\n    var operaVersion = goog.global['opera'].version;\n    version = typeof operaVersion == 'function' ? operaVersion() : operaVersion;\n  } else {\n    if (goog.userAgent.GECKO) {\n      re = /rv\\:([^\\);]+)(\\)|;)/;\n    } else if (goog.userAgent.IE) {\n      re = /MSIE\\s+([^\\);]+)(\\)|;)/;\n    } else if (goog.userAgent.WEBKIT) {\n      // WebKit/125.4\n      re = /WebKit\\/(\\S+)/;\n    }\n    if (re) {\n      var arr = re.exec(goog.userAgent.getUserAgentString());\n      version = arr ? arr[1] : '';\n    }\n  }\n  if (goog.userAgent.IE) {\n    // IE9 can be in document mode 9 but be reporting an inconsistent user agent\n    // version.  If it is identifying as a version lower than 9 we take the\n    // documentMode as the version instead.  IE8 has similar behavior.\n    // It is recommended to set the X-UA-Compatible header to ensure that IE9\n    // uses documentMode 9.\n    var docMode = goog.userAgent.getDocumentMode_();\n    if (docMode > parseFloat(version)) {\n      return String(docMode);\n    }\n  }\n  return version;\n};\n\n\n/**\n * @return {number|undefined} Returns the document mode (for testing).\n * @private\n */\ngoog.userAgent.getDocumentMode_ = function() {\n  // NOTE(user): goog.userAgent may be used in context where there is no DOM.\n  var doc = goog.global['document'];\n  return doc ? doc['documentMode'] : undefined;\n};\n\n\n/**\n * The version of the user agent. This is a string because it might contain\n * 'b' (as in beta) as well as multiple dots.\n * @type {string}\n */\ngoog.userAgent.VERSION = goog.userAgent.determineVersion_();\n\n\n/**\n * Compares two version numbers.\n *\n * @param {string} v1 Version of first item.\n * @param {string} v2 Version of second item.\n *\n * @return {number}  1 if first argument is higher\n *                   0 if arguments are equal\n *                  -1 if second argument is higher.\n * @deprecated Use goog.string.compareVersions.\n */\ngoog.userAgent.compare = function(v1, v2) {\n  return goog.string.compareVersions(v1, v2);\n};\n\n\n/**\n * Cache for {@link goog.userAgent.isVersion}. Calls to compareVersions are\n * surprisingly expensive and as a browsers version number is unlikely to change\n * during a session we cache the results.\n * @type {Object}\n * @private\n */\ngoog.userAgent.isVersionCache_ = {};\n\n\n/**\n * Whether the user agent version is higher or the same as the given version.\n * NOTE: When checking the version numbers for Firefox and Safari, be sure to\n * use the engine's version, not the browser's version number.  For example,\n * Firefox 3.0 corresponds to Gecko 1.9 and Safari 3.0 to Webkit 522.11.\n * Opera and Internet Explorer versions match the product release number.<br>\n * @see <a href=\"http://en.wikipedia.org/wiki/Safari_version_history\">\n *     Webkit</a>\n * @see <a href=\"http://en.wikipedia.org/wiki/Gecko_engine\">Gecko</a>\n *\n * @param {string|number} version The version to check.\n * @return {boolean} Whether the user agent version is higher or the same as\n *     the given version.\n */\ngoog.userAgent.isVersion = function(version) {\n  return goog.userAgent.ASSUME_ANY_VERSION ||\n      goog.userAgent.isVersionCache_[version] ||\n      (goog.userAgent.isVersionCache_[version] =\n          goog.string.compareVersions(goog.userAgent.VERSION, version) >= 0);\n};\n\n\n/**\n * Whether the IE effective document mode is higher or the same as the given\n * document mode version.\n * NOTE: Only for IE, return false for another browser.\n *\n * @param {number} documentMode The document mode version to check.\n * @return {boolean} Whether the IE effective document mode is higher or the\n *     same as the given version.\n */\ngoog.userAgent.isDocumentMode = function(documentMode) {\n  return goog.userAgent.IE && goog.userAgent.DOCUMENT_MODE >= documentMode;\n};\n\n\n/**\n * For IE version < 7, documentMode is undefined, so attempt to use the\n * CSS1Compat property to see if we are in standards mode. If we are in\n * standards mode, treat the browser version as the document mode. Otherwise,\n * IE is emulating version 5.\n * @type {number|undefined}\n * @const\n */\ngoog.userAgent.DOCUMENT_MODE = (function() {\n  var doc = goog.global['document'];\n  if (!doc || !goog.userAgent.IE) {\n    return undefined;\n  }\n  var mode = goog.userAgent.getDocumentMode_();\n  return mode || (doc['compatMode'] == 'CSS1Compat' ?\n      parseInt(goog.userAgent.VERSION, 10) : 5);\n})();\n",
		"// Copyright 2010 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview Browser capability checks for the events package.\n *\n */\n\n\ngoog.provide('goog.events.BrowserFeature');\n\ngoog.require('goog.userAgent');\n\n\n/**\n * Enum of browser capabilities.\n * @enum {boolean}\n */\ngoog.events.BrowserFeature = {\n  /**\n   * Whether the button attribute of the event is W3C compliant.  False in\n   * Internet Explorer prior to version 9; document-version dependent.\n   */\n  HAS_W3C_BUTTON: !goog.userAgent.IE || goog.userAgent.isDocumentMode(9),\n\n  /**\n   * Whether the browser supports full W3C event model.\n   */\n  HAS_W3C_EVENT_SUPPORT: !goog.userAgent.IE || goog.userAgent.isDocumentMode(9),\n\n  /**\n   * To prevent default in IE7-8 for certain keydown events we need set the\n   * keyCode to -1.\n   */\n  SET_KEY_CODE_TO_PREVENT_DEFAULT: goog.userAgent.IE &&\n      !goog.userAgent.isVersion('9'),\n\n  /**\n   * Whether the {@code navigator.onLine} property is supported.\n   */\n  HAS_NAVIGATOR_ONLINE_PROPERTY: !goog.userAgent.WEBKIT ||\n      goog.userAgent.isVersion('528'),\n\n  /**\n   * Whether HTML5 network online/offline events are supported.\n   */\n  HAS_HTML5_NETWORK_EVENT_SUPPORT:\n      goog.userAgent.GECKO && goog.userAgent.isVersion('1.9b') ||\n      goog.userAgent.IE && goog.userAgent.isVersion('8') ||\n      goog.userAgent.OPERA && goog.userAgent.isVersion('9.5') ||\n      goog.userAgent.WEBKIT && goog.userAgent.isVersion('528'),\n\n  /**\n   * Whether HTML5 network events fire on document.body, or otherwise the\n   * window.\n   */\n  HTML5_NETWORK_EVENTS_FIRE_ON_BODY:\n      goog.userAgent.GECKO && !goog.userAgent.isVersion('8') ||\n      goog.userAgent.IE && !goog.userAgent.isVersion('9'),\n\n  /**\n   * Whether touch is enabled in the browser.\n   */\n  TOUCH_ENABLED:\n      ('ontouchstart' in goog.global ||\n          !!(goog.global['document'] &&\n             document.documentElement &&\n             'ontouchstart' in document.documentElement) ||\n          // IE10 uses non-standard touch events, so it has a different check.\n          !!(goog.global['navigator'] &&\n              goog.global['navigator']['msMaxTouchPoints']))\n};\n",
		"// Copyright 2006 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview Utilities for manipulating arrays.\n *\n */\n\n\ngoog.provide('goog.array');\ngoog.provide('goog.array.ArrayLike');\n\ngoog.require('goog.asserts');\n\n\n/**\n * @define {boolean} NATIVE_ARRAY_PROTOTYPES indicates whether the code should\n * rely on Array.prototype functions, if available.\n *\n * The Array.prototype functions can be defined by external libraries like\n * Prototype and setting this flag to false forces closure to use its own\n * goog.array implementation.\n *\n * If your javascript can be loaded by a third party site and you are wary about\n * relying on the prototype functions, specify\n * \"--define goog.NATIVE_ARRAY_PROTOTYPES=false\" to the JSCompiler.\n *\n * Setting goog.TRUSTED_SITE to false will automatically set\n * NATIVE_ARRAY_PROTOTYPES to false.\n */\ngoog.NATIVE_ARRAY_PROTOTYPES = goog.TRUSTED_SITE;\n\n\n/**\n * @typedef {Array|NodeList|Arguments|{length: number}}\n */\ngoog.array.ArrayLike;\n\n\n/**\n * Returns the last element in an array without removing it.\n * @param {goog.array.ArrayLike} array The array.\n * @return {*} Last item in array.\n */\ngoog.array.peek = function(array) {\n  return array[array.length - 1];\n};\n\n\n/**\n * Reference to the original {@code Array.prototype}.\n * @private\n */\ngoog.array.ARRAY_PROTOTYPE_ = Array.prototype;\n\n\n// NOTE(arv): Since most of the array functions are generic it allows you to\n// pass an array-like object. Strings have a length and are considered array-\n// like. However, the 'in' operator does not work on strings so we cannot just\n// use the array path even if the browser supports indexing into strings. We\n// therefore end up splitting the string.\n\n\n/**\n * Returns the index of the first element of an array with a specified\n * value, or -1 if the element is not present in the array.\n *\n * See {@link http://tinyurl.com/developer-mozilla-org-array-indexof}\n *\n * @param {goog.array.ArrayLike} arr The array to be searched.\n * @param {*} obj The object for which we are searching.\n * @param {number=} opt_fromIndex The index at which to start the search. If\n *     omitted the search starts at index 0.\n * @return {number} The index of the first matching array element.\n */\ngoog.array.indexOf = goog.NATIVE_ARRAY_PROTOTYPES &&\n                     goog.array.ARRAY_PROTOTYPE_.indexOf ?\n    function(arr, obj, opt_fromIndex) {\n      goog.asserts.assert(arr.length != null);\n\n      return goog.array.ARRAY_PROTOTYPE_.indexOf.call(arr, obj, opt_fromIndex);\n    } :\n    function(arr, obj, opt_fromIndex) {\n      var fromIndex = opt_fromIndex == null ?\n          0 : (opt_fromIndex < 0 ?\n               Math.max(0, arr.length + opt_fromIndex) : opt_fromIndex);\n\n      if (goog.isString(arr)) {\n        // Array.prototype.indexOf uses === so only strings should be found.\n        if (!goog.isString(obj) || obj.length != 1) {\n          return -1;\n        }\n        return arr.indexOf(obj, fromIndex);\n      }\n\n      for (var i = fromIndex; i < arr.length; i++) {\n        if (i in arr && arr[i] === obj)\n          return i;\n      }\n      return -1;\n    };\n\n\n/**\n * Returns the index of the last element of an array with a specified value, or\n * -1 if the element is not present in the array.\n *\n * See {@link http://tinyurl.com/developer-mozilla-org-array-lastindexof}\n *\n * @param {goog.array.ArrayLike} arr The array to be searched.\n * @param {*} obj The object for which we are searching.\n * @param {?number=} opt_fromIndex The index at which to start the search. If\n *     omitted the search starts at the end of the array.\n * @return {number} The index of the last matching array element.\n */\ngoog.array.lastIndexOf = goog.NATIVE_ARRAY_PROTOTYPES &&\n                         goog.array.ARRAY_PROTOTYPE_.lastIndexOf ?\n    function(arr, obj, opt_fromIndex) {\n      goog.asserts.assert(arr.length != null);\n\n      // Firefox treats undefined and null as 0 in the fromIndex argument which\n      // leads it to always return -1\n      var fromIndex = opt_fromIndex == null ? arr.length - 1 : opt_fromIndex;\n      return goog.array.ARRAY_PROTOTYPE_.lastIndexOf.call(arr, obj, fromIndex);\n    } :\n    function(arr, obj, opt_fromIndex) {\n      var fromIndex = opt_fromIndex == null ? arr.length - 1 : opt_fromIndex;\n\n      if (fromIndex < 0) {\n        fromIndex = Math.max(0, arr.length + fromIndex);\n      }\n\n      if (goog.isString(arr)) {\n        // Array.prototype.lastIndexOf uses === so only strings should be found.\n        if (!goog.isString(obj) || obj.length != 1) {\n          return -1;\n        }\n        return arr.lastIndexOf(obj, fromIndex);\n      }\n\n      for (var i = fromIndex; i >= 0; i--) {\n        if (i in arr && arr[i] === obj)\n          return i;\n      }\n      return -1;\n    };\n\n\n/**\n * Calls a function for each element in an array. Skips holes in the array.\n * See {@link http://tinyurl.com/developer-mozilla-org-array-foreach}\n *\n * @param {Array.<T>|goog.array.ArrayLike} arr Array or array like object over\n *     which to iterate.\n * @param {?function(this: S, T, number, ?): ?} f The function to call for every\n *     element. This function takes 3 arguments (the element, the index and the\n *     array). The return value is ignored.\n * @param {S=} opt_obj The object to be used as the value of 'this' within f.\n * @template T,S\n */\ngoog.array.forEach = goog.NATIVE_ARRAY_PROTOTYPES &&\n                     goog.array.ARRAY_PROTOTYPE_.forEach ?\n    function(arr, f, opt_obj) {\n      goog.asserts.assert(arr.length != null);\n\n      goog.array.ARRAY_PROTOTYPE_.forEach.call(arr, f, opt_obj);\n    } :\n    function(arr, f, opt_obj) {\n      var l = arr.length;  // must be fixed during loop... see docs\n      var arr2 = goog.isString(arr) ? arr.split('') : arr;\n      for (var i = 0; i < l; i++) {\n        if (i in arr2) {\n          f.call(opt_obj, arr2[i], i, arr);\n        }\n      }\n    };\n\n\n/**\n * Calls a function for each element in an array, starting from the last\n * element rather than the first.\n *\n * @param {Array.<T>|goog.array.ArrayLike} arr Array or array\n *     like object over which to iterate.\n * @param {?function(this: S, T, number, ?): ?} f The function to call for every\n *     element. This function\n *     takes 3 arguments (the element, the index and the array). The return\n *     value is ignored.\n * @param {S=} opt_obj The object to be used as the value of 'this'\n *     within f.\n * @template T,S\n */\ngoog.array.forEachRight = function(arr, f, opt_obj) {\n  var l = arr.length;  // must be fixed during loop... see docs\n  var arr2 = goog.isString(arr) ? arr.split('') : arr;\n  for (var i = l - 1; i >= 0; --i) {\n    if (i in arr2) {\n      f.call(opt_obj, arr2[i], i, arr);\n    }\n  }\n};\n\n\n/**\n * Calls a function for each element in an array, and if the function returns\n * true adds the element to a new array.\n *\n * See {@link http://tinyurl.com/developer-mozilla-org-array-filter}\n *\n * @param {Array.<T>|goog.array.ArrayLike} arr Array or array\n *     like object over which to iterate.\n * @param {?function(this:S, T, number, ?):boolean} f The function to call for\n *     every element. This function\n *     takes 3 arguments (the element, the index and the array) and must\n *     return a Boolean. If the return value is true the element is added to the\n *     result array. If it is false the element is not included.\n * @param {S=} opt_obj The object to be used as the value of 'this'\n *     within f.\n * @return {!Array} a new array in which only elements that passed the test are\n *     present.\n * @template T,S\n */\ngoog.array.filter = goog.NATIVE_ARRAY_PROTOTYPES &&\n                    goog.array.ARRAY_PROTOTYPE_.filter ?\n    function(arr, f, opt_obj) {\n      goog.asserts.assert(arr.length != null);\n\n      return goog.array.ARRAY_PROTOTYPE_.filter.call(arr, f, opt_obj);\n    } :\n    function(arr, f, opt_obj) {\n      var l = arr.length;  // must be fixed during loop... see docs\n      var res = [];\n      var resLength = 0;\n      var arr2 = goog.isString(arr) ? arr.split('') : arr;\n      for (var i = 0; i < l; i++) {\n        if (i in arr2) {\n          var val = arr2[i];  // in case f mutates arr2\n          if (f.call(opt_obj, val, i, arr)) {\n            res[resLength++] = val;\n          }\n        }\n      }\n      return res;\n    };\n\n\n/**\n * Calls a function for each element in an array and inserts the result into a\n * new array.\n *\n * See {@link http://tinyurl.com/developer-mozilla-org-array-map}\n *\n * @param {Array.<T>|goog.array.ArrayLike} arr Array or array\n *     like object over which to iterate.\n * @param {?function(this:S, T, number, ?):?} f The function to call for every\n *     element. This function\n *     takes 3 arguments (the element, the index and the array) and should\n *     return something. The result will be inserted into a new array.\n * @param {S=} opt_obj The object to be used as the value of 'this'\n *     within f.\n * @return {!Array} a new array with the results from f.\n * @template T,S\n */\ngoog.array.map = goog.NATIVE_ARRAY_PROTOTYPES &&\n                 goog.array.ARRAY_PROTOTYPE_.map ?\n    function(arr, f, opt_obj) {\n      goog.asserts.assert(arr.length != null);\n\n      return goog.array.ARRAY_PROTOTYPE_.map.call(arr, f, opt_obj);\n    } :\n    function(arr, f, opt_obj) {\n      var l = arr.length;  // must be fixed during loop... see docs\n      var res = new Array(l);\n      var arr2 = goog.isString(arr) ? arr.split('') : arr;\n      for (var i = 0; i < l; i++) {\n        if (i in arr2) {\n          res[i] = f.call(opt_obj, arr2[i], i, arr);\n        }\n      }\n      return res;\n    };\n\n\n/**\n * Passes every element of an array into a function and accumulates the result.\n *\n * See {@link http://tinyurl.com/developer-mozilla-org-array-reduce}\n *\n * For example:\n * var a = [1, 2, 3, 4];\n * goog.array.reduce(a, function(r, v, i, arr) {return r + v;}, 0);\n * returns 10\n *\n * @param {Array.<T>|goog.array.ArrayLike} arr Array or array\n *     like object over which to iterate.\n * @param {?function(this:S, R, T, number, ?) : R} f The function to call for\n *     every element. This function\n *     takes 4 arguments (the function's previous result or the initial value,\n *     the value of the current array element, the current array index, and the\n *     array itself)\n *     function(previousValue, currentValue, index, array).\n * @param {?} val The initial value to pass into the function on the first call.\n * @param {S=} opt_obj  The object to be used as the value of 'this'\n *     within f.\n * @return {R} Result of evaluating f repeatedly across the values of the array.\n * @template T,S,R\n */\ngoog.array.reduce = function(arr, f, val, opt_obj) {\n  if (arr.reduce) {\n    if (opt_obj) {\n      return arr.reduce(goog.bind(f, opt_obj), val);\n    } else {\n      return arr.reduce(f, val);\n    }\n  }\n  var rval = val;\n  goog.array.forEach(arr, function(val, index) {\n    rval = f.call(opt_obj, rval, val, index, arr);\n  });\n  return rval;\n};\n\n\n/**\n * Passes every element of an array into a function and accumulates the result,\n * starting from the last element and working towards the first.\n *\n * See {@link http://tinyurl.com/developer-mozilla-org-array-reduceright}\n *\n * For example:\n * var a = ['a', 'b', 'c'];\n * goog.array.reduceRight(a, function(r, v, i, arr) {return r + v;}, '');\n * returns 'cba'\n *\n * @param {Array.<T>|goog.array.ArrayLike} arr Array or array\n *     like object over which to iterate.\n * @param {?function(this:S, R, T, number, ?) : R} f The function to call for\n *     every element. This function\n *     takes 4 arguments (the function's previous result or the initial value,\n *     the value of the current array element, the current array index, and the\n *     array itself)\n *     function(previousValue, currentValue, index, array).\n * @param {?} val The initial value to pass into the function on the first call.\n * @param {S=} opt_obj The object to be used as the value of 'this'\n *     within f.\n * @return {R} Object returned as a result of evaluating f repeatedly across the\n *     values of the array.\n * @template T,S,R\n */\ngoog.array.reduceRight = function(arr, f, val, opt_obj) {\n  if (arr.reduceRight) {\n    if (opt_obj) {\n      return arr.reduceRight(goog.bind(f, opt_obj), val);\n    } else {\n      return arr.reduceRight(f, val);\n    }\n  }\n  var rval = val;\n  goog.array.forEachRight(arr, function(val, index) {\n    rval = f.call(opt_obj, rval, val, index, arr);\n  });\n  return rval;\n};\n\n\n/**\n * Calls f for each element of an array. If any call returns true, some()\n * returns true (without checking the remaining elements). If all calls\n * return false, some() returns false.\n *\n * See {@link http://tinyurl.com/developer-mozilla-org-array-some}\n *\n * @param {Array.<T>|goog.array.ArrayLike} arr Array or array\n *     like object over which to iterate.\n * @param {?function(this:S, T, number, ?) : boolean} f The function to call for\n *     for every element. This function takes 3 arguments (the element, the\n *     index and the array) and should return a boolean.\n * @param {S=} opt_obj  The object to be used as the value of 'this'\n *     within f.\n * @return {boolean} true if any element passes the test.\n * @template T,S\n */\ngoog.array.some = goog.NATIVE_ARRAY_PROTOTYPES &&\n                  goog.array.ARRAY_PROTOTYPE_.some ?\n    function(arr, f, opt_obj) {\n      goog.asserts.assert(arr.length != null);\n\n      return goog.array.ARRAY_PROTOTYPE_.some.call(arr, f, opt_obj);\n    } :\n    function(arr, f, opt_obj) {\n      var l = arr.length;  // must be fixed during loop... see docs\n      var arr2 = goog.isString(arr) ? arr.split('') : arr;\n      for (var i = 0; i < l; i++) {\n        if (i in arr2 && f.call(opt_obj, arr2[i], i, arr)) {\n          return true;\n        }\n      }\n      return false;\n    };\n\n\n/**\n * Call f for each element of an array. If all calls return true, every()\n * returns true. If any call returns false, every() returns false and\n * does not continue to check the remaining elements.\n *\n * See {@link http://tinyurl.com/developer-mozilla-org-array-every}\n *\n * @param {Array.<T>|goog.array.ArrayLike} arr Array or array\n *     like object over which to iterate.\n * @param {?function(this:S, T, number, ?) : boolean} f The function to call for\n *     for every element. This function takes 3 arguments (the element, the\n *     index and the array) and should return a boolean.\n * @param {S=} opt_obj The object to be used as the value of 'this'\n *     within f.\n * @return {boolean} false if any element fails the test.\n * @template T,S\n */\ngoog.array.every = goog.NATIVE_ARRAY_PROTOTYPES &&\n                   goog.array.ARRAY_PROTOTYPE_.every ?\n    function(arr, f, opt_obj) {\n      goog.asserts.assert(arr.length != null);\n\n      return goog.array.ARRAY_PROTOTYPE_.every.call(arr, f, opt_obj);\n    } :\n    function(arr, f, opt_obj) {\n      var l = arr.length;  // must be fixed during loop... see docs\n      var arr2 = goog.isString(arr) ? arr.split('') : arr;\n      for (var i = 0; i < l; i++) {\n        if (i in arr2 && !f.call(opt_obj, arr2[i], i, arr)) {\n          return false;\n        }\n      }\n      return true;\n    };\n\n\n/**\n * Counts the array elements that fulfill the predicate, i.e. for which the\n * callback function returns true. Skips holes in the array.\n *\n * @param {!(Array.<T>|goog.array.ArrayLike)} arr Array or array like object\n *     over which to iterate.\n * @param {function(this: S, T, number, ?): boolean} f The function to call for\n *     every element. Takes 3 arguments (the element, the index and the array).\n * @param {S=} opt_obj The object to be used as the value of 'this' within f.\n * @return {number} The number of the matching elements.\n * @template T,S\n */\ngoog.array.count = function(arr, f, opt_obj) {\n  var count = 0;\n  goog.array.forEach(arr, function(element, index, arr) {\n    if (f.call(opt_obj, element, index, arr)) {\n      ++count;\n    }\n  }, opt_obj);\n  return count;\n};\n\n\n/**\n * Search an array for the first element that satisfies a given condition and\n * return that element.\n * @param {Array.<T>|goog.array.ArrayLike} arr Array or array\n *     like object over which to iterate.\n * @param {?function(this:S, T, number, ?) : boolean} f The function to call\n *     for every element. This function takes 3 arguments (the element, the\n *     index and the array) and should return a boolean.\n * @param {S=} opt_obj An optional \"this\" context for the function.\n * @return {T} The first array element that passes the test, or null if no\n *     element is found.\n * @template T,S\n */\ngoog.array.find = function(arr, f, opt_obj) {\n  var i = goog.array.findIndex(arr, f, opt_obj);\n  return i < 0 ? null : goog.isString(arr) ? arr.charAt(i) : arr[i];\n};\n\n\n/**\n * Search an array for the first element that satisfies a given condition and\n * return its index.\n * @param {Array.<T>|goog.array.ArrayLike} arr Array or array\n *     like object over which to iterate.\n * @param {?function(this:S, T, number, ?) : boolean} f The function to call for\n *     every element. This function\n *     takes 3 arguments (the element, the index and the array) and should\n *     return a boolean.\n * @param {S=} opt_obj An optional \"this\" context for the function.\n * @return {number} The index of the first array element that passes the test,\n *     or -1 if no element is found.\n * @template T,S\n */\ngoog.array.findIndex = function(arr, f, opt_obj) {\n  var l = arr.length;  // must be fixed during loop... see docs\n  var arr2 = goog.isString(arr) ? arr.split('') : arr;\n  for (var i = 0; i < l; i++) {\n    if (i in arr2 && f.call(opt_obj, arr2[i], i, arr)) {\n      return i;\n    }\n  }\n  return -1;\n};\n\n\n/**\n * Search an array (in reverse order) for the last element that satisfies a\n * given condition and return that element.\n * @param {Array.<T>|goog.array.ArrayLike} arr Array or array\n *     like object over which to iterate.\n * @param {?function(this:S, T, number, ?) : boolean} f The function to call\n *     for every element. This function\n *     takes 3 arguments (the element, the index and the array) and should\n *     return a boolean.\n * @param {S=} opt_obj An optional \"this\" context for the function.\n * @return {T} The last array element that passes the test, or null if no\n *     element is found.\n * @template T,S\n */\ngoog.array.findRight = function(arr, f, opt_obj) {\n  var i = goog.array.findIndexRight(arr, f, opt_obj);\n  return i < 0 ? null : goog.isString(arr) ? arr.charAt(i) : arr[i];\n};\n\n\n/**\n * Search an array (in reverse order) for the last element that satisfies a\n * given condition and return its index.\n * @param {Array.<T>|goog.array.ArrayLike} arr Array or array\n *     like object over which to iterate.\n * @param {?function(this:S, T, number, ?) : boolean} f The function to call\n *     for every element. This function\n *     takes 3 arguments (the element, the index and the array) and should\n *     return a boolean.\n * @param {Object=} opt_obj An optional \"this\" context for the function.\n * @return {number} The index of the last array element that passes the test,\n *     or -1 if no element is found.\n * @template T,S\n */\ngoog.array.findIndexRight = function(arr, f, opt_obj) {\n  var l = arr.length;  // must be fixed during loop... see docs\n  var arr2 = goog.isString(arr) ? arr.split('') : arr;\n  for (var i = l - 1; i >= 0; i--) {\n    if (i in arr2 && f.call(opt_obj, arr2[i], i, arr)) {\n      return i;\n    }\n  }\n  return -1;\n};\n\n\n/**\n * Whether the array contains the given object.\n * @param {goog.array.ArrayLike} arr The array to test for the presence of the\n *     element.\n * @param {*} obj The object for which to test.\n * @return {boolean} true if obj is present.\n */\ngoog.array.contains = function(arr, obj) {\n  return goog.array.indexOf(arr, obj) >= 0;\n};\n\n\n/**\n * Whether the array is empty.\n * @param {goog.array.ArrayLike} arr The array to test.\n * @return {boolean} true if empty.\n */\ngoog.array.isEmpty = function(arr) {\n  return arr.length == 0;\n};\n\n\n/**\n * Clears the array.\n * @param {goog.array.ArrayLike} arr Array or array like object to clear.\n */\ngoog.array.clear = function(arr) {\n  // For non real arrays we don't have the magic length so we delete the\n  // indices.\n  if (!goog.isArray(arr)) {\n    for (var i = arr.length - 1; i >= 0; i--) {\n      delete arr[i];\n    }\n  }\n  arr.length = 0;\n};\n\n\n/**\n * Pushes an item into an array, if it's not already in the array.\n * @param {Array.<T>} arr Array into which to insert the item.\n * @param {T} obj Value to add.\n * @template T\n */\ngoog.array.insert = function(arr, obj) {\n  if (!goog.array.contains(arr, obj)) {\n    arr.push(obj);\n  }\n};\n\n\n/**\n * Inserts an object at the given index of the array.\n * @param {goog.array.ArrayLike} arr The array to modify.\n * @param {*} obj The object to insert.\n * @param {number=} opt_i The index at which to insert the object. If omitted,\n *      treated as 0. A negative index is counted from the end of the array.\n */\ngoog.array.insertAt = function(arr, obj, opt_i) {\n  goog.array.splice(arr, opt_i, 0, obj);\n};\n\n\n/**\n * Inserts at the given index of the array, all elements of another array.\n * @param {goog.array.ArrayLike} arr The array to modify.\n * @param {goog.array.ArrayLike} elementsToAdd The array of elements to add.\n * @param {number=} opt_i The index at which to insert the object. If omitted,\n *      treated as 0. A negative index is counted from the end of the array.\n */\ngoog.array.insertArrayAt = function(arr, elementsToAdd, opt_i) {\n  goog.partial(goog.array.splice, arr, opt_i, 0).apply(null, elementsToAdd);\n};\n\n\n/**\n * Inserts an object into an array before a specified object.\n * @param {Array.<T>} arr The array to modify.\n * @param {T} obj The object to insert.\n * @param {T=} opt_obj2 The object before which obj should be inserted. If obj2\n *     is omitted or not found, obj is inserted at the end of the array.\n * @template T\n */\ngoog.array.insertBefore = function(arr, obj, opt_obj2) {\n  var i;\n  if (arguments.length == 2 || (i = goog.array.indexOf(arr, opt_obj2)) < 0) {\n    arr.push(obj);\n  } else {\n    goog.array.insertAt(arr, obj, i);\n  }\n};\n\n\n/**\n * Removes the first occurrence of a particular value from an array.\n * @param {goog.array.ArrayLike} arr Array from which to remove value.\n * @param {*} obj Object to remove.\n * @return {boolean} True if an element was removed.\n */\ngoog.array.remove = function(arr, obj) {\n  var i = goog.array.indexOf(arr, obj);\n  var rv;\n  if ((rv = i >= 0)) {\n    goog.array.removeAt(arr, i);\n  }\n  return rv;\n};\n\n\n/**\n * Removes from an array the element at index i\n * @param {goog.array.ArrayLike} arr Array or array like object from which to\n *     remove value.\n * @param {number} i The index to remove.\n * @return {boolean} True if an element was removed.\n */\ngoog.array.removeAt = function(arr, i) {\n  goog.asserts.assert(arr.length != null);\n\n  // use generic form of splice\n  // splice returns the removed items and if successful the length of that\n  // will be 1\n  return goog.array.ARRAY_PROTOTYPE_.splice.call(arr, i, 1).length == 1;\n};\n\n\n/**\n * Removes the first value that satisfies the given condition.\n * @param {Array.<T>|goog.array.ArrayLike} arr Array or array\n *     like object over which to iterate.\n * @param {?function(this:S, T, number, ?) : boolean} f The function to call\n *     for every element. This function\n *     takes 3 arguments (the element, the index and the array) and should\n *     return a boolean.\n * @param {S=} opt_obj An optional \"this\" context for the function.\n * @return {boolean} True if an element was removed.\n * @template T,S\n */\ngoog.array.removeIf = function(arr, f, opt_obj) {\n  var i = goog.array.findIndex(arr, f, opt_obj);\n  if (i >= 0) {\n    goog.array.removeAt(arr, i);\n    return true;\n  }\n  return false;\n};\n\n\n/**\n * Returns a new array that is the result of joining the arguments.  If arrays\n * are passed then their items are added, however, if non-arrays are passed they\n * will be added to the return array as is.\n *\n * Note that ArrayLike objects will be added as is, rather than having their\n * items added.\n *\n * goog.array.concat([1, 2], [3, 4]) -> [1, 2, 3, 4]\n * goog.array.concat(0, [1, 2]) -> [0, 1, 2]\n * goog.array.concat([1, 2], null) -> [1, 2, null]\n *\n * There is bug in all current versions of IE (6, 7 and 8) where arrays created\n * in an iframe become corrupted soon (not immediately) after the iframe is\n * destroyed. This is common if loading data via goog.net.IframeIo, for example.\n * This corruption only affects the concat method which will start throwing\n * Catastrophic Errors (#-2147418113).\n *\n * See http://endoflow.com/scratch/corrupted-arrays.html for a test case.\n *\n * Internally goog.array should use this, so that all methods will continue to\n * work on these broken array objects.\n *\n * @param {...*} var_args Items to concatenate.  Arrays will have each item\n *     added, while primitives and objects will be added as is.\n * @return {!Array} The new resultant array.\n */\ngoog.array.concat = function(var_args) {\n  return goog.array.ARRAY_PROTOTYPE_.concat.apply(\n      goog.array.ARRAY_PROTOTYPE_, arguments);\n};\n\n\n/**\n * Converts an object to an array.\n * @param {goog.array.ArrayLike} object  The object to convert to an array.\n * @return {!Array} The object converted into an array. If object has a\n *     length property, every property indexed with a non-negative number\n *     less than length will be included in the result. If object does not\n *     have a length property, an empty array will be returned.\n */\ngoog.array.toArray = function(object) {\n  var length = object.length;\n\n  // If length is not a number the following it false. This case is kept for\n  // backwards compatibility since there are callers that pass objects that are\n  // not array like.\n  if (length > 0) {\n    var rv = new Array(length);\n    for (var i = 0; i < length; i++) {\n      rv[i] = object[i];\n    }\n    return rv;\n  }\n  return [];\n};\n\n\n/**\n * Does a shallow copy of an array.\n * @param {goog.array.ArrayLike} arr  Array or array-like object to clone.\n * @return {!Array} Clone of the input array.\n */\ngoog.array.clone = goog.array.toArray;\n\n\n/**\n * Extends an array with another array, element, or \"array like\" object.\n * This function operates 'in-place', it does not create a new Array.\n *\n * Example:\n * var a = [];\n * goog.array.extend(a, [0, 1]);\n * a; // [0, 1]\n * goog.array.extend(a, 2);\n * a; // [0, 1, 2]\n *\n * @param {Array} arr1  The array to modify.\n * @param {...*} var_args The elements or arrays of elements to add to arr1.\n */\ngoog.array.extend = function(arr1, var_args) {\n  for (var i = 1; i < arguments.length; i++) {\n    var arr2 = arguments[i];\n    // If we have an Array or an Arguments object we can just call push\n    // directly.\n    var isArrayLike;\n    if (goog.isArray(arr2) ||\n        // Detect Arguments. ES5 says that the [[Class]] of an Arguments object\n        // is \"Arguments\" but only V8 and JSC/Safari gets this right. We instead\n        // detect Arguments by checking for array like and presence of \"callee\".\n        (isArrayLike = goog.isArrayLike(arr2)) &&\n            // The getter for callee throws an exception in strict mode\n            // according to section 10.6 in ES5 so check for presence instead.\n            Object.prototype.hasOwnProperty.call(arr2, 'callee')) {\n      arr1.push.apply(arr1, arr2);\n    } else if (isArrayLike) {\n      // Otherwise loop over arr2 to prevent copying the object.\n      var len1 = arr1.length;\n      var len2 = arr2.length;\n      for (var j = 0; j < len2; j++) {\n        arr1[len1 + j] = arr2[j];\n      }\n    } else {\n      arr1.push(arr2);\n    }\n  }\n};\n\n\n/**\n * Adds or removes elements from an array. This is a generic version of Array\n * splice. This means that it might work on other objects similar to arrays,\n * such as the arguments object.\n *\n * @param {goog.array.ArrayLike} arr The array to modify.\n * @param {number|undefined} index The index at which to start changing the\n *     array. If not defined, treated as 0.\n * @param {number} howMany How many elements to remove (0 means no removal. A\n *     value below 0 is treated as zero and so is any other non number. Numbers\n *     are floored).\n * @param {...*} var_args Optional, additional elements to insert into the\n *     array.\n * @return {!Array} the removed elements.\n */\ngoog.array.splice = function(arr, index, howMany, var_args) {\n  goog.asserts.assert(arr.length != null);\n\n  return goog.array.ARRAY_PROTOTYPE_.splice.apply(\n      arr, goog.array.slice(arguments, 1));\n};\n\n\n/**\n * Returns a new array from a segment of an array. This is a generic version of\n * Array slice. This means that it might work on other objects similar to\n * arrays, such as the arguments object.\n *\n * @param {Array.<T>|goog.array.ArrayLike} arr The array from\n * which to copy a segment.\n * @param {number} start The index of the first element to copy.\n * @param {number=} opt_end The index after the last element to copy.\n * @return {!Array.<T>} A new array containing the specified segment of the\n *     original array.\n * @template T\n */\ngoog.array.slice = function(arr, start, opt_end) {\n  goog.asserts.assert(arr.length != null);\n\n  // passing 1 arg to slice is not the same as passing 2 where the second is\n  // null or undefined (in that case the second argument is treated as 0).\n  // we could use slice on the arguments object and then use apply instead of\n  // testing the length\n  if (arguments.length <= 2) {\n    return goog.array.ARRAY_PROTOTYPE_.slice.call(arr, start);\n  } else {\n    return goog.array.ARRAY_PROTOTYPE_.slice.call(arr, start, opt_end);\n  }\n};\n\n\n/**\n * Removes all duplicates from an array (retaining only the first\n * occurrence of each array element).  This function modifies the\n * array in place and doesn't change the order of the non-duplicate items.\n *\n * For objects, duplicates are identified as having the same unique ID as\n * defined by {@link goog.getUid}.\n *\n * Runtime: N,\n * Worstcase space: 2N (no dupes)\n *\n * @param {goog.array.ArrayLike} arr The array from which to remove duplicates.\n * @param {Array=} opt_rv An optional array in which to return the results,\n *     instead of performing the removal inplace.  If specified, the original\n *     array will remain unchanged.\n */\ngoog.array.removeDuplicates = function(arr, opt_rv) {\n  var returnArray = opt_rv || arr;\n\n  var seen = {}, cursorInsert = 0, cursorRead = 0;\n  while (cursorRead < arr.length) {\n    var current = arr[cursorRead++];\n\n    // Prefix each type with a single character representing the type to\n    // prevent conflicting keys (e.g. true and 'true').\n    var key = goog.isObject(current) ?\n        'o' + goog.getUid(current) :\n        (typeof current).charAt(0) + current;\n\n    if (!Object.prototype.hasOwnProperty.call(seen, key)) {\n      seen[key] = true;\n      returnArray[cursorInsert++] = current;\n    }\n  }\n  returnArray.length = cursorInsert;\n};\n\n\n/**\n * Searches the specified array for the specified target using the binary\n * search algorithm.  If no opt_compareFn is specified, elements are compared\n * using <code>goog.array.defaultCompare</code>, which compares the elements\n * using the built in < and > operators.  This will produce the expected\n * behavior for homogeneous arrays of String(s) and Number(s). The array\n * specified <b>must</b> be sorted in ascending order (as defined by the\n * comparison function).  If the array is not sorted, results are undefined.\n * If the array contains multiple instances of the specified target value, any\n * of these instances may be found.\n *\n * Runtime: O(log n)\n *\n * @param {goog.array.ArrayLike} arr The array to be searched.\n * @param {*} target The sought value.\n * @param {Function=} opt_compareFn Optional comparison function by which the\n *     array is ordered. Should take 2 arguments to compare, and return a\n *     negative number, zero, or a positive number depending on whether the\n *     first argument is less than, equal to, or greater than the second.\n * @return {number} Lowest index of the target value if found, otherwise\n *     (-(insertion point) - 1). The insertion point is where the value should\n *     be inserted into arr to preserve the sorted property.  Return value >= 0\n *     iff target is found.\n */\ngoog.array.binarySearch = function(arr, target, opt_compareFn) {\n  return goog.array.binarySearch_(arr,\n      opt_compareFn || goog.array.defaultCompare, false /* isEvaluator */,\n      target);\n};\n\n\n/**\n * Selects an index in the specified array using the binary search algorithm.\n * The evaluator receives an element and determines whether the desired index\n * is before, at, or after it.  The evaluator must be consistent (formally,\n * goog.array.map(goog.array.map(arr, evaluator, opt_obj), goog.math.sign)\n * must be monotonically non-increasing).\n *\n * Runtime: O(log n)\n *\n * @param {goog.array.ArrayLike} arr The array to be searched.\n * @param {Function} evaluator Evaluator function that receives 3 arguments\n *     (the element, the index and the array). Should return a negative number,\n *     zero, or a positive number depending on whether the desired index is\n *     before, at, or after the element passed to it.\n * @param {Object=} opt_obj The object to be used as the value of 'this'\n *     within evaluator.\n * @return {number} Index of the leftmost element matched by the evaluator, if\n *     such exists; otherwise (-(insertion point) - 1). The insertion point is\n *     the index of the first element for which the evaluator returns negative,\n *     or arr.length if no such element exists. The return value is non-negative\n *     iff a match is found.\n */\ngoog.array.binarySelect = function(arr, evaluator, opt_obj) {\n  return goog.array.binarySearch_(arr, evaluator, true /* isEvaluator */,\n      undefined /* opt_target */, opt_obj);\n};\n\n\n/**\n * Implementation of a binary search algorithm which knows how to use both\n * comparison functions and evaluators. If an evaluator is provided, will call\n * the evaluator with the given optional data object, conforming to the\n * interface defined in binarySelect. Otherwise, if a comparison function is\n * provided, will call the comparison function against the given data object.\n *\n * This implementation purposefully does not use goog.bind or goog.partial for\n * performance reasons.\n *\n * Runtime: O(log n)\n *\n * @param {goog.array.ArrayLike} arr The array to be searched.\n * @param {Function} compareFn Either an evaluator or a comparison function,\n *     as defined by binarySearch and binarySelect above.\n * @param {boolean} isEvaluator Whether the function is an evaluator or a\n *     comparison function.\n * @param {*=} opt_target If the function is a comparison function, then this is\n *     the target to binary search for.\n * @param {Object=} opt_selfObj If the function is an evaluator, this is an\n  *    optional this object for the evaluator.\n * @return {number} Lowest index of the target value if found, otherwise\n *     (-(insertion point) - 1). The insertion point is where the value should\n *     be inserted into arr to preserve the sorted property.  Return value >= 0\n *     iff target is found.\n * @private\n */\ngoog.array.binarySearch_ = function(arr, compareFn, isEvaluator, opt_target,\n    opt_selfObj) {\n  var left = 0;  // inclusive\n  var right = arr.length;  // exclusive\n  var found;\n  while (left < right) {\n    var middle = (left + right) >> 1;\n    var compareResult;\n    if (isEvaluator) {\n      compareResult = compareFn.call(opt_selfObj, arr[middle], middle, arr);\n    } else {\n      compareResult = compareFn(opt_target, arr[middle]);\n    }\n    if (compareResult > 0) {\n      left = middle + 1;\n    } else {\n      right = middle;\n      // We are looking for the lowest index so we can't return immediately.\n      found = !compareResult;\n    }\n  }\n  // left is the index if found, or the insertion point otherwise.\n  // ~left is a shorthand for -left - 1.\n  return found ? left : ~left;\n};\n\n\n/**\n * Sorts the specified array into ascending order.  If no opt_compareFn is\n * specified, elements are compared using\n * <code>goog.array.defaultCompare</code>, which compares the elements using\n * the built in < and > operators.  This will produce the expected behavior\n * for homogeneous arrays of String(s) and Number(s), unlike the native sort,\n * but will give unpredictable results for heterogenous lists of strings and\n * numbers with different numbers of digits.\n *\n * This sort is not guaranteed to be stable.\n *\n * Runtime: Same as <code>Array.prototype.sort</code>\n *\n * @param {Array.<T>} arr The array to be sorted.\n * @param {?function(T,T):number=} opt_compareFn Optional comparison\n *     function by which the\n *     array is to be ordered. Should take 2 arguments to compare, and return a\n *     negative number, zero, or a positive number depending on whether the\n *     first argument is less than, equal to, or greater than the second.\n * @template T\n */\ngoog.array.sort = function(arr, opt_compareFn) {\n  // TODO(arv): Update type annotation since null is not accepted.\n  goog.asserts.assert(arr.length != null);\n\n  goog.array.ARRAY_PROTOTYPE_.sort.call(\n      arr, opt_compareFn || goog.array.defaultCompare);\n};\n\n\n/**\n * Sorts the specified array into ascending order in a stable way.  If no\n * opt_compareFn is specified, elements are compared using\n * <code>goog.array.defaultCompare</code>, which compares the elements using\n * the built in < and > operators.  This will produce the expected behavior\n * for homogeneous arrays of String(s) and Number(s).\n *\n * Runtime: Same as <code>Array.prototype.sort</code>, plus an additional\n * O(n) overhead of copying the array twice.\n *\n * @param {Array.<T>} arr The array to be sorted.\n * @param {?function(T, T): number=} opt_compareFn Optional comparison function\n *     by which the array is to be ordered. Should take 2 arguments to compare,\n *     and return a negative number, zero, or a positive number depending on\n *     whether the first argument is less than, equal to, or greater than the\n *     second.\n * @template T\n */\ngoog.array.stableSort = function(arr, opt_compareFn) {\n  for (var i = 0; i < arr.length; i++) {\n    arr[i] = {index: i, value: arr[i]};\n  }\n  var valueCompareFn = opt_compareFn || goog.array.defaultCompare;\n  function stableCompareFn(obj1, obj2) {\n    return valueCompareFn(obj1.value, obj2.value) || obj1.index - obj2.index;\n  };\n  goog.array.sort(arr, stableCompareFn);\n  for (var i = 0; i < arr.length; i++) {\n    arr[i] = arr[i].value;\n  }\n};\n\n\n/**\n * Sorts an array of objects by the specified object key and compare\n * function. If no compare function is provided, the key values are\n * compared in ascending order using <code>goog.array.defaultCompare</code>.\n * This won't work for keys that get renamed by the compiler. So use\n * {'foo': 1, 'bar': 2} rather than {foo: 1, bar: 2}.\n * @param {Array.<Object>} arr An array of objects to sort.\n * @param {string} key The object key to sort by.\n * @param {Function=} opt_compareFn The function to use to compare key\n *     values.\n */\ngoog.array.sortObjectsByKey = function(arr, key, opt_compareFn) {\n  var compare = opt_compareFn || goog.array.defaultCompare;\n  goog.array.sort(arr, function(a, b) {\n    return compare(a[key], b[key]);\n  });\n};\n\n\n/**\n * Tells if the array is sorted.\n * @param {!Array.<T>} arr The array.\n * @param {?function(T,T):number=} opt_compareFn Function to compare the\n *     array elements.\n *     Should take 2 arguments to compare, and return a negative number, zero,\n *     or a positive number depending on whether the first argument is less\n *     than, equal to, or greater than the second.\n * @param {boolean=} opt_strict If true no equal elements are allowed.\n * @return {boolean} Whether the array is sorted.\n * @template T\n */\ngoog.array.isSorted = function(arr, opt_compareFn, opt_strict) {\n  var compare = opt_compareFn || goog.array.defaultCompare;\n  for (var i = 1; i < arr.length; i++) {\n    var compareResult = compare(arr[i - 1], arr[i]);\n    if (compareResult > 0 || compareResult == 0 && opt_strict) {\n      return false;\n    }\n  }\n  return true;\n};\n\n\n/**\n * Compares two arrays for equality. Two arrays are considered equal if they\n * have the same length and their corresponding elements are equal according to\n * the comparison function.\n *\n * @param {goog.array.ArrayLike} arr1 The first array to compare.\n * @param {goog.array.ArrayLike} arr2 The second array to compare.\n * @param {Function=} opt_equalsFn Optional comparison function.\n *     Should take 2 arguments to compare, and return true if the arguments\n *     are equal. Defaults to {@link goog.array.defaultCompareEquality} which\n *     compares the elements using the built-in '===' operator.\n * @return {boolean} Whether the two arrays are equal.\n */\ngoog.array.equals = function(arr1, arr2, opt_equalsFn) {\n  if (!goog.isArrayLike(arr1) || !goog.isArrayLike(arr2) ||\n      arr1.length != arr2.length) {\n    return false;\n  }\n  var l = arr1.length;\n  var equalsFn = opt_equalsFn || goog.array.defaultCompareEquality;\n  for (var i = 0; i < l; i++) {\n    if (!equalsFn(arr1[i], arr2[i])) {\n      return false;\n    }\n  }\n  return true;\n};\n\n\n/**\n * @deprecated Use {@link goog.array.equals}.\n * @param {goog.array.ArrayLike} arr1 See {@link goog.array.equals}.\n * @param {goog.array.ArrayLike} arr2 See {@link goog.array.equals}.\n * @param {Function=} opt_equalsFn See {@link goog.array.equals}.\n * @return {boolean} See {@link goog.array.equals}.\n */\ngoog.array.compare = function(arr1, arr2, opt_equalsFn) {\n  return goog.array.equals(arr1, arr2, opt_equalsFn);\n};\n\n\n/**\n * 3-way array compare function.\n * @param {!goog.array.ArrayLike} arr1 The first array to compare.\n * @param {!goog.array.ArrayLike} arr2 The second array to compare.\n * @param {?function(?, ?): number=} opt_compareFn Optional comparison function\n *     by which the array is to be ordered. Should take 2 arguments to compare,\n *     and return a negative number, zero, or a positive number depending on\n *     whether the first argument is less than, equal to, or greater than the\n *     second.\n * @return {number} Negative number, zero, or a positive number depending on\n *     whether the first argument is less than, equal to, or greater than the\n *     second.\n */\ngoog.array.compare3 = function(arr1, arr2, opt_compareFn) {\n  var compare = opt_compareFn || goog.array.defaultCompare;\n  var l = Math.min(arr1.length, arr2.length);\n  for (var i = 0; i < l; i++) {\n    var result = compare(arr1[i], arr2[i]);\n    if (result != 0) {\n      return result;\n    }\n  }\n  return goog.array.defaultCompare(arr1.length, arr2.length);\n};\n\n\n/**\n * Compares its two arguments for order, using the built in < and >\n * operators.\n * @param {*} a The first object to be compared.\n * @param {*} b The second object to be compared.\n * @return {number} A negative number, zero, or a positive number as the first\n *     argument is less than, equal to, or greater than the second.\n */\ngoog.array.defaultCompare = function(a, b) {\n  return a > b ? 1 : a < b ? -1 : 0;\n};\n\n\n/**\n * Compares its two arguments for equality, using the built in === operator.\n * @param {*} a The first object to compare.\n * @param {*} b The second object to compare.\n * @return {boolean} True if the two arguments are equal, false otherwise.\n */\ngoog.array.defaultCompareEquality = function(a, b) {\n  return a === b;\n};\n\n\n/**\n * Inserts a value into a sorted array. The array is not modified if the\n * value is already present.\n * @param {Array.<T>} array The array to modify.\n * @param {T} value The object to insert.\n * @param {?function(T,T):number=} opt_compareFn Optional comparison function by\n *     which the\n *     array is ordered. Should take 2 arguments to compare, and return a\n *     negative number, zero, or a positive number depending on whether the\n *     first argument is less than, equal to, or greater than the second.\n * @return {boolean} True if an element was inserted.\n * @template T\n */\ngoog.array.binaryInsert = function(array, value, opt_compareFn) {\n  var index = goog.array.binarySearch(array, value, opt_compareFn);\n  if (index < 0) {\n    goog.array.insertAt(array, value, -(index + 1));\n    return true;\n  }\n  return false;\n};\n\n\n/**\n * Removes a value from a sorted array.\n * @param {Array} array The array to modify.\n * @param {*} value The object to remove.\n * @param {Function=} opt_compareFn Optional comparison function by which the\n *     array is ordered. Should take 2 arguments to compare, and return a\n *     negative number, zero, or a positive number depending on whether the\n *     first argument is less than, equal to, or greater than the second.\n * @return {boolean} True if an element was removed.\n */\ngoog.array.binaryRemove = function(array, value, opt_compareFn) {\n  var index = goog.array.binarySearch(array, value, opt_compareFn);\n  return (index >= 0) ? goog.array.removeAt(array, index) : false;\n};\n\n\n/**\n * Splits an array into disjoint buckets according to a splitting function.\n * @param {Array.<T>} array The array.\n * @param {function(T,number,Array.<T>):?} sorter Function to call for every\n *     element.  This\n *     takes 3 arguments (the element, the index and the array) and must\n *     return a valid object key (a string, number, etc), or undefined, if\n *     that object should not be placed in a bucket.\n * @return {!Object} An object, with keys being all of the unique return values\n *     of sorter, and values being arrays containing the items for\n *     which the splitter returned that key.\n * @template T\n */\ngoog.array.bucket = function(array, sorter) {\n  var buckets = {};\n\n  for (var i = 0; i < array.length; i++) {\n    var value = array[i];\n    var key = sorter(value, i, array);\n    if (goog.isDef(key)) {\n      // Push the value to the right bucket, creating it if necessary.\n      var bucket = buckets[key] || (buckets[key] = []);\n      bucket.push(value);\n    }\n  }\n\n  return buckets;\n};\n\n\n/**\n * Creates a new object built from the provided array and the key-generation\n * function.\n * @param {Array.<T>|goog.array.ArrayLike} arr Array or array like object over\n *     which to iterate whose elements will be the values in the new object.\n * @param {?function(this:S, T, number, ?) : string} keyFunc The function to\n *     call for every element. This function takes 3 arguments (the element, the\n *     index and the array) and should return a string that will be used as the\n *     key for the element in the new object. If the function returns the same\n *     key for more than one element, the value for that key is\n *     implementation-defined.\n * @param {S=} opt_obj  The object to be used as the value of 'this'\n *     within keyFunc.\n * @return {!Object.<T>} The new object.\n * @template T,S\n */\ngoog.array.toObject = function(arr, keyFunc, opt_obj) {\n  var ret = {};\n  goog.array.forEach(arr, function(element, index) {\n    ret[keyFunc.call(opt_obj, element, index, arr)] = element;\n  });\n  return ret;\n};\n\n\n/**\n * Creates a range of numbers in an arithmetic progression.\n *\n * Range takes 1, 2, or 3 arguments:\n * <pre>\n * range(5) is the same as range(0, 5, 1) and produces [0, 1, 2, 3, 4]\n * range(2, 5) is the same as range(2, 5, 1) and produces [2, 3, 4]\n * range(-2, -5, -1) produces [-2, -3, -4]\n * range(-2, -5, 1) produces [], since stepping by 1 wouldn't ever reach -5.\n * </pre>\n *\n * @param {number} startOrEnd The starting value of the range if an end argument\n *     is provided. Otherwise, the start value is 0, and this is the end value.\n * @param {number=} opt_end The optional end value of the range.\n * @param {number=} opt_step The step size between range values. Defaults to 1\n *     if opt_step is undefined or 0.\n * @return {!Array.<number>} An array of numbers for the requested range. May be\n *     an empty array if adding the step would not converge toward the end\n *     value.\n */\ngoog.array.range = function(startOrEnd, opt_end, opt_step) {\n  var array = [];\n  var start = 0;\n  var end = startOrEnd;\n  var step = opt_step || 1;\n  if (opt_end !== undefined) {\n    start = startOrEnd;\n    end = opt_end;\n  }\n\n  if (step * (end - start) < 0) {\n    // Sign mismatch: start + step will never reach the end value.\n    return [];\n  }\n\n  if (step > 0) {\n    for (var i = start; i < end; i += step) {\n      array.push(i);\n    }\n  } else {\n    for (var i = start; i > end; i += step) {\n      array.push(i);\n    }\n  }\n  return array;\n};\n\n\n/**\n * Returns an array consisting of the given value repeated N times.\n *\n * @param {*} value The value to repeat.\n * @param {number} n The repeat count.\n * @return {!Array} An array with the repeated value.\n */\ngoog.array.repeat = function(value, n) {\n  var array = [];\n  for (var i = 0; i < n; i++) {\n    array[i] = value;\n  }\n  return array;\n};\n\n\n/**\n * Returns an array consisting of every argument with all arrays\n * expanded in-place recursively.\n *\n * @param {...*} var_args The values to flatten.\n * @return {!Array} An array containing the flattened values.\n */\ngoog.array.flatten = function(var_args) {\n  var result = [];\n  for (var i = 0; i < arguments.length; i++) {\n    var element = arguments[i];\n    if (goog.isArray(element)) {\n      result.push.apply(result, goog.array.flatten.apply(null, element));\n    } else {\n      result.push(element);\n    }\n  }\n  return result;\n};\n\n\n/**\n * Rotates an array in-place. After calling this method, the element at\n * index i will be the element previously at index (i - n) %\n * array.length, for all values of i between 0 and array.length - 1,\n * inclusive.\n *\n * For example, suppose list comprises [t, a, n, k, s]. After invoking\n * rotate(array, 1) (or rotate(array, -4)), array will comprise [s, t, a, n, k].\n *\n * @param {!Array.<T>} array The array to rotate.\n * @param {number} n The amount to rotate.\n * @return {!Array.<T>} The array.\n * @template T\n */\ngoog.array.rotate = function(array, n) {\n  goog.asserts.assert(array.length != null);\n\n  if (array.length) {\n    n %= array.length;\n    if (n > 0) {\n      goog.array.ARRAY_PROTOTYPE_.unshift.apply(array, array.splice(-n, n));\n    } else if (n < 0) {\n      goog.array.ARRAY_PROTOTYPE_.push.apply(array, array.splice(0, -n));\n    }\n  }\n  return array;\n};\n\n\n/**\n * Creates a new array for which the element at position i is an array of the\n * ith element of the provided arrays.  The returned array will only be as long\n * as the shortest array provided; additional values are ignored.  For example,\n * the result of zipping [1, 2] and [3, 4, 5] is [[1,3], [2, 4]].\n *\n * This is similar to the zip() function in Python.  See {@link\n * http://docs.python.org/library/functions.html#zip}\n *\n * @param {...!goog.array.ArrayLike} var_args Arrays to be combined.\n * @return {!Array.<!Array>} A new array of arrays created from provided arrays.\n */\ngoog.array.zip = function(var_args) {\n  if (!arguments.length) {\n    return [];\n  }\n  var result = [];\n  for (var i = 0; true; i++) {\n    var value = [];\n    for (var j = 0; j < arguments.length; j++) {\n      var arr = arguments[j];\n      // If i is larger than the array length, this is the shortest array.\n      if (i >= arr.length) {\n        return result;\n      }\n      value.push(arr[i]);\n    }\n    result.push(value);\n  }\n};\n\n\n/**\n * Shuffles the values in the specified array using the Fisher-Yates in-place\n * shuffle (also known as the Knuth Shuffle). By default, calls Math.random()\n * and so resets the state of that random number generator. Similarly, may reset\n * the state of the any other specified random number generator.\n *\n * Runtime: O(n)\n *\n * @param {!Array} arr The array to be shuffled.\n * @param {function():number=} opt_randFn Optional random function to use for\n *     shuffling.\n *     Takes no arguments, and returns a random number on the interval [0, 1).\n *     Defaults to Math.random() using JavaScript's built-in Math library.\n */\ngoog.array.shuffle = function(arr, opt_randFn) {\n  var randFn = opt_randFn || Math.random;\n\n  for (var i = arr.length - 1; i > 0; i--) {\n    // Choose a random array index in [0, i] (inclusive with i).\n    var j = Math.floor(randFn() * (i + 1));\n\n    var tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n  }\n};\n",
		"// Copyright 2005 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview A base class for event objects.\n *\n */\n\n\ngoog.provide('goog.events.Event');\ngoog.provide('goog.events.EventLike');\n\n// goog.events.Event no longer depends on goog.Disposable. Keep requiring\n// goog.Disposable here to not break projects which assume this dependency.\ngoog.require('goog.Disposable');\n\n\n/**\n * A typedef for event like objects that are dispatchable via the\n * goog.events.dispatchEvent function. strings are treated as the type for a\n * goog.events.Event. Objects are treated as an extension of a new\n * goog.events.Event with the type property of the object being used as the type\n * of the Event.\n * @typedef {string|Object|goog.events.Event}\n */\ngoog.events.EventLike;\n\n\n\n/**\n * A base class for event objects, so that they can support preventDefault and\n * stopPropagation.\n *\n * @param {string} type Event Type.\n * @param {Object=} opt_target Reference to the object that is the target of\n *     this event. It has to implement the {@code EventTarget} interface\n *     declared at {@link http://developer.mozilla.org/en/DOM/EventTarget}.\n * @constructor\n */\ngoog.events.Event = function(type, opt_target) {\n  /**\n   * Event type.\n   * @type {string}\n   */\n  this.type = type;\n\n  /**\n   * Target of the event.\n   * @type {Object|undefined}\n   */\n  this.target = opt_target;\n\n  /**\n   * Object that had the listener attached.\n   * @type {Object|undefined}\n   */\n  this.currentTarget = this.target;\n};\n\n\n/**\n * For backwards compatibility (goog.events.Event used to inherit\n * goog.Disposable).\n * @deprecated Events don't need to be disposed.\n */\ngoog.events.Event.prototype.disposeInternal = function() {\n};\n\n\n/**\n * For backwards compatibility (goog.events.Event used to inherit\n * goog.Disposable).\n * @deprecated Events don't need to be disposed.\n */\ngoog.events.Event.prototype.dispose = function() {\n};\n\n\n/**\n * Whether to cancel the event in internal capture/bubble processing for IE.\n * @type {boolean}\n * @suppress {underscore} Technically public, but referencing this outside\n *     this package is strongly discouraged.\n */\ngoog.events.Event.prototype.propagationStopped_ = false;\n\n\n/**\n * Whether the default action has been prevented.\n * This is a property to match the W3C specification at {@link\n * http://www.w3.org/TR/DOM-Level-3-Events/#events-event-type-defaultPrevented}.\n * Must be treated as read-only outside the class.\n * @type {boolean}\n */\ngoog.events.Event.prototype.defaultPrevented = false;\n\n\n/**\n * Return value for in internal capture/bubble processing for IE.\n * @type {boolean}\n * @suppress {underscore} Technically public, but referencing this outside\n *     this package is strongly discouraged.\n */\ngoog.events.Event.prototype.returnValue_ = true;\n\n\n/**\n * Stops event propagation.\n */\ngoog.events.Event.prototype.stopPropagation = function() {\n  this.propagationStopped_ = true;\n};\n\n\n/**\n * Prevents the default action, for example a link redirecting to a url.\n */\ngoog.events.Event.prototype.preventDefault = function() {\n  this.defaultPrevented = true;\n  this.returnValue_ = false;\n};\n\n\n/**\n * Stops the propagation of the event. It is equivalent to\n * {@code e.stopPropagation()}, but can be used as the callback argument of\n * {@link goog.events.listen} without declaring another function.\n * @param {!goog.events.Event} e An event.\n */\ngoog.events.Event.stopPropagation = function(e) {\n  e.stopPropagation();\n};\n\n\n/**\n * Prevents the default action. It is equivalent to\n * {@code e.preventDefault()}, but can be used as the callback argument of\n * {@link goog.events.listen} without declaring another function.\n * @param {!goog.events.Event} e An event.\n */\ngoog.events.Event.preventDefault = function(e) {\n  e.preventDefault();\n};\n",
		"// Copyright 2009 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview Useful compiler idioms.\n *\n */\n\ngoog.provide('goog.reflect');\n\n\n/**\n * Syntax for object literal casts.\n * @see http://go/jscompiler-renaming\n * @see http://code.google.com/p/closure-compiler/wiki/\n *      ExperimentalTypeBasedPropertyRenaming\n *\n * Use this if you have an object literal whose keys need to have the same names\n * as the properties of some class even after they are renamed by the compiler.\n *\n * @param {!Function} type Type to cast to.\n * @param {Object} object Object literal to cast.\n * @return {Object} The object literal.\n */\ngoog.reflect.object = function(type, object) {\n  return object;\n};\n\n\n/**\n * To assert to the compiler that an operation is needed when it would\n * otherwise be stripped. For example:\n * <code>\n *     // Force a layout\n *     goog.reflect.sinkValue(dialog.offsetHeight);\n * </code>\n * @type {!Function}\n */\ngoog.reflect.sinkValue = function(x) {\n  goog.reflect.sinkValue[' '](x);\n  return x;\n};\n\n\n/**\n * The compiler should optimize this function away iff no one ever uses\n * goog.reflect.sinkValue.\n */\ngoog.reflect.sinkValue[' '] = goog.nullFunction;\n\n\n/**\n * Check if a property can be accessed without throwing an exception.\n * @param {Object} obj The owner of the property.\n * @param {string} prop The property name.\n * @return {boolean} Whether the property is accessible. Will also return true\n *     if obj is null.\n */\ngoog.reflect.canAccessProperty = function(obj, prop) {\n  /** @preserveTry */\n  try {\n    goog.reflect.sinkValue(obj[prop]);\n    return true;\n  } catch (e) {}\n  return false;\n};\n",
		"// Copyright 2005 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview A patched, standardized event object for browser events.\n *\n * <pre>\n * The patched event object contains the following members:\n * - type           {string}    Event type, e.g. 'click'\n * - timestamp      {Date}      A date object for when the event was fired\n * - target         {Object}    The element that actually triggered the event\n * - currentTarget  {Object}    The element the listener is attached to\n * - relatedTarget  {Object}    For mouseover and mouseout, the previous object\n * - offsetX        {number}    X-coordinate relative to target\n * - offsetY        {number}    Y-coordinate relative to target\n * - clientX        {number}    X-coordinate relative to viewport\n * - clientY        {number}    Y-coordinate relative to viewport\n * - screenX        {number}    X-coordinate relative to the edge of the screen\n * - screenY        {number}    Y-coordinate relative to the edge of the screen\n * - button         {number}    Mouse button. Use isButton() to test.\n * - keyCode        {number}    Key-code\n * - ctrlKey        {boolean}   Was ctrl key depressed\n * - altKey         {boolean}   Was alt key depressed\n * - shiftKey       {boolean}   Was shift key depressed\n * - metaKey        {boolean}   Was meta key depressed\n * - defaultPrevented {boolean} Whether the default action has been prevented\n * - state          {Object}    History state object\n *\n * NOTE: The keyCode member contains the raw browser keyCode. For normalized\n * key and character code use {@link goog.events.KeyHandler}.\n * </pre>\n *\n */\n\ngoog.provide('goog.events.BrowserEvent');\ngoog.provide('goog.events.BrowserEvent.MouseButton');\n\ngoog.require('goog.events.BrowserFeature');\ngoog.require('goog.events.Event');\ngoog.require('goog.events.EventType');\ngoog.require('goog.reflect');\ngoog.require('goog.userAgent');\n\n\n\n/**\n * Accepts a browser event object and creates a patched, cross browser event\n * object.\n * The content of this object will not be initialized if no event object is\n * provided. If this is the case, init() needs to be invoked separately.\n * @param {Event=} opt_e Browser event object.\n * @param {EventTarget=} opt_currentTarget Current target for event.\n * @constructor\n * @extends {goog.events.Event}\n */\ngoog.events.BrowserEvent = function(opt_e, opt_currentTarget) {\n  if (opt_e) {\n    this.init(opt_e, opt_currentTarget);\n  }\n};\ngoog.inherits(goog.events.BrowserEvent, goog.events.Event);\n\n\n/**\n * Normalized button constants for the mouse.\n * @enum {number}\n */\ngoog.events.BrowserEvent.MouseButton = {\n  LEFT: 0,\n  MIDDLE: 1,\n  RIGHT: 2\n};\n\n\n/**\n * Static data for mapping mouse buttons.\n * @type {Array.<number>}\n */\ngoog.events.BrowserEvent.IEButtonMap = [\n  1, // LEFT\n  4, // MIDDLE\n  2  // RIGHT\n];\n\n\n/**\n * Target that fired the event.\n * @override\n * @type {Node}\n */\ngoog.events.BrowserEvent.prototype.target = null;\n\n\n/**\n * Node that had the listener attached.\n * @override\n * @type {Node|undefined}\n */\ngoog.events.BrowserEvent.prototype.currentTarget;\n\n\n/**\n * For mouseover and mouseout events, the related object for the event.\n * @type {Node}\n */\ngoog.events.BrowserEvent.prototype.relatedTarget = null;\n\n\n/**\n * X-coordinate relative to target.\n * @type {number}\n */\ngoog.events.BrowserEvent.prototype.offsetX = 0;\n\n\n/**\n * Y-coordinate relative to target.\n * @type {number}\n */\ngoog.events.BrowserEvent.prototype.offsetY = 0;\n\n\n/**\n * X-coordinate relative to the window.\n * @type {number}\n */\ngoog.events.BrowserEvent.prototype.clientX = 0;\n\n\n/**\n * Y-coordinate relative to the window.\n * @type {number}\n */\ngoog.events.BrowserEvent.prototype.clientY = 0;\n\n\n/**\n * X-coordinate relative to the monitor.\n * @type {number}\n */\ngoog.events.BrowserEvent.prototype.screenX = 0;\n\n\n/**\n * Y-coordinate relative to the monitor.\n * @type {number}\n */\ngoog.events.BrowserEvent.prototype.screenY = 0;\n\n\n/**\n * Which mouse button was pressed.\n * @type {number}\n */\ngoog.events.BrowserEvent.prototype.button = 0;\n\n\n/**\n * Keycode of key press.\n * @type {number}\n */\ngoog.events.BrowserEvent.prototype.keyCode = 0;\n\n\n/**\n * Keycode of key press.\n * @type {number}\n */\ngoog.events.BrowserEvent.prototype.charCode = 0;\n\n\n/**\n * Whether control was pressed at time of event.\n * @type {boolean}\n */\ngoog.events.BrowserEvent.prototype.ctrlKey = false;\n\n\n/**\n * Whether alt was pressed at time of event.\n * @type {boolean}\n */\ngoog.events.BrowserEvent.prototype.altKey = false;\n\n\n/**\n * Whether shift was pressed at time of event.\n * @type {boolean}\n */\ngoog.events.BrowserEvent.prototype.shiftKey = false;\n\n\n/**\n * Whether the meta key was pressed at time of event.\n * @type {boolean}\n */\ngoog.events.BrowserEvent.prototype.metaKey = false;\n\n\n/**\n * History state object, only set for PopState events where it's a copy of the\n * state object provided to pushState or replaceState.\n * @type {Object}\n */\ngoog.events.BrowserEvent.prototype.state;\n\n\n/**\n * Whether the default platform modifier key was pressed at time of event.\n * (This is control for all platforms except Mac, where it's Meta.\n * @type {boolean}\n */\ngoog.events.BrowserEvent.prototype.platformModifierKey = false;\n\n\n/**\n * The browser event object.\n * @type {Event}\n * @private\n */\ngoog.events.BrowserEvent.prototype.event_ = null;\n\n\n/**\n * Accepts a browser event object and creates a patched, cross browser event\n * object.\n * @param {Event} e Browser event object.\n * @param {EventTarget=} opt_currentTarget Current target for event.\n */\ngoog.events.BrowserEvent.prototype.init = function(e, opt_currentTarget) {\n  var type = this.type = e.type;\n  goog.events.Event.call(this, type);\n\n  // TODO(nicksantos): Change this.target to type EventTarget.\n  this.target = /** @type {Node} */ (e.target) || e.srcElement;\n\n  // TODO(nicksantos): Change this.currentTarget to type EventTarget.\n  this.currentTarget = /** @type {Node} */ (opt_currentTarget);\n\n  var relatedTarget = /** @type {Node} */ (e.relatedTarget);\n  if (relatedTarget) {\n    // There's a bug in FireFox where sometimes, relatedTarget will be a\n    // chrome element, and accessing any property of it will get a permission\n    // denied exception. See:\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=497780\n    if (goog.userAgent.GECKO) {\n      if (!goog.reflect.canAccessProperty(relatedTarget, 'nodeName')) {\n        relatedTarget = null;\n      }\n    }\n    // TODO(arv): Use goog.events.EventType when it has been refactored into its\n    // own file.\n  } else if (type == goog.events.EventType.MOUSEOVER) {\n    relatedTarget = e.fromElement;\n  } else if (type == goog.events.EventType.MOUSEOUT) {\n    relatedTarget = e.toElement;\n  }\n\n  this.relatedTarget = relatedTarget;\n\n  // Webkit emits a lame warning whenever layerX/layerY is accessed.\n  // http://code.google.com/p/chromium/issues/detail?id=101733\n  this.offsetX = (goog.userAgent.WEBKIT || e.offsetX !== undefined) ?\n      e.offsetX : e.layerX;\n  this.offsetY = (goog.userAgent.WEBKIT || e.offsetY !== undefined) ?\n      e.offsetY : e.layerY;\n\n  this.clientX = e.clientX !== undefined ? e.clientX : e.pageX;\n  this.clientY = e.clientY !== undefined ? e.clientY : e.pageY;\n  this.screenX = e.screenX || 0;\n  this.screenY = e.screenY || 0;\n\n  this.button = e.button;\n\n  this.keyCode = e.keyCode || 0;\n  this.charCode = e.charCode || (type == 'keypress' ? e.keyCode : 0);\n  this.ctrlKey = e.ctrlKey;\n  this.altKey = e.altKey;\n  this.shiftKey = e.shiftKey;\n  this.metaKey = e.metaKey;\n  this.platformModifierKey = goog.userAgent.MAC ? e.metaKey : e.ctrlKey;\n  this.state = e.state;\n  this.event_ = e;\n  if (e.defaultPrevented) {\n    this.preventDefault();\n  }\n  delete this.propagationStopped_;\n};\n\n\n/**\n * Tests to see which button was pressed during the event. This is really only\n * useful in IE and Gecko browsers. And in IE, it's only useful for\n * mousedown/mouseup events, because click only fires for the left mouse button.\n *\n * Safari 2 only reports the left button being clicked, and uses the value '1'\n * instead of 0. Opera only reports a mousedown event for the middle button, and\n * no mouse events for the right button. Opera has default behavior for left and\n * middle click that can only be overridden via a configuration setting.\n *\n * There's a nice table of this mess at http://www.unixpapa.com/js/mouse.html.\n *\n * @param {goog.events.BrowserEvent.MouseButton} button The button\n *     to test for.\n * @return {boolean} True if button was pressed.\n */\ngoog.events.BrowserEvent.prototype.isButton = function(button) {\n  if (!goog.events.BrowserFeature.HAS_W3C_BUTTON) {\n    if (this.type == 'click') {\n      return button == goog.events.BrowserEvent.MouseButton.LEFT;\n    } else {\n      return !!(this.event_.button &\n          goog.events.BrowserEvent.IEButtonMap[button]);\n    }\n  } else {\n    return this.event_.button == button;\n  }\n};\n\n\n/**\n * Whether this has an \"action\"-producing mouse button.\n *\n * By definition, this includes left-click on windows/linux, and left-click\n * without the ctrl key on Macs.\n *\n * @return {boolean} The result.\n */\ngoog.events.BrowserEvent.prototype.isMouseActionButton = function() {\n  // Webkit does not ctrl+click to be a right-click, so we\n  // normalize it to behave like Gecko and Opera.\n  return this.isButton(goog.events.BrowserEvent.MouseButton.LEFT) &&\n      !(goog.userAgent.WEBKIT && goog.userAgent.MAC && this.ctrlKey);\n};\n\n\n/**\n * @override\n */\ngoog.events.BrowserEvent.prototype.stopPropagation = function() {\n  goog.events.BrowserEvent.superClass_.stopPropagation.call(this);\n  if (this.event_.stopPropagation) {\n    this.event_.stopPropagation();\n  } else {\n    this.event_.cancelBubble = true;\n  }\n};\n\n\n/**\n * @override\n */\ngoog.events.BrowserEvent.prototype.preventDefault = function() {\n  goog.events.BrowserEvent.superClass_.preventDefault.call(this);\n  var be = this.event_;\n  if (!be.preventDefault) {\n    be.returnValue = false;\n    if (goog.events.BrowserFeature.SET_KEY_CODE_TO_PREVENT_DEFAULT) {\n      /** @preserveTry */\n      try {\n        // Most keys can be prevented using returnValue. Some special keys\n        // require setting the keyCode to -1 as well:\n        //\n        // In IE7:\n        // F3, F5, F10, F11, Ctrl+P, Crtl+O, Ctrl+F (these are taken from IE6)\n        //\n        // In IE8:\n        // Ctrl+P, Crtl+O, Ctrl+F (F1-F12 cannot be stopped through the event)\n        //\n        // We therefore do this for all function keys as well as when Ctrl key\n        // is pressed.\n        var VK_F1 = 112;\n        var VK_F12 = 123;\n        if (be.ctrlKey || be.keyCode >= VK_F1 && be.keyCode <= VK_F12) {\n          be.keyCode = -1;\n        }\n      } catch (ex) {\n        // IE throws an 'access denied' exception when trying to change\n        // keyCode in some situations (e.g. srcElement is input[type=file],\n        // or srcElement is an anchor tag rewritten by parent's innerHTML).\n        // Do nothing in this case.\n      }\n    }\n  } else {\n    be.preventDefault();\n  }\n};\n\n\n/**\n * @return {Event} The underlying browser event object.\n */\ngoog.events.BrowserEvent.prototype.getBrowserEvent = function() {\n  return this.event_;\n};\n\n\n/** @override */\ngoog.events.BrowserEvent.prototype.disposeInternal = function() {\n};\n",
		"// Copyright 2010 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview Event Types.\n *\n * @author arv@google.com (Erik Arvidsson)\n * @author mirkov@google.com (Mirko Visontai)\n */\n\n\ngoog.provide('goog.events.EventType');\n\ngoog.require('goog.userAgent');\n\n\n/**\n * Constants for event names.\n * @enum {string}\n */\ngoog.events.EventType = {\n  // Mouse events\n  CLICK: 'click',\n  DBLCLICK: 'dblclick',\n  MOUSEDOWN: 'mousedown',\n  MOUSEUP: 'mouseup',\n  MOUSEOVER: 'mouseover',\n  MOUSEOUT: 'mouseout',\n  MOUSEMOVE: 'mousemove',\n  SELECTSTART: 'selectstart', // IE, Safari, Chrome\n\n  // Key events\n  KEYPRESS: 'keypress',\n  KEYDOWN: 'keydown',\n  KEYUP: 'keyup',\n\n  // Focus\n  BLUR: 'blur',\n  FOCUS: 'focus',\n  DEACTIVATE: 'deactivate', // IE only\n  // NOTE: The following two events are not stable in cross-browser usage.\n  //     WebKit and Opera implement DOMFocusIn/Out.\n  //     IE implements focusin/out.\n  //     Gecko implements neither see bug at\n  //     https://bugzilla.mozilla.org/show_bug.cgi?id=396927.\n  // The DOM Events Level 3 Draft deprecates DOMFocusIn in favor of focusin:\n  //     http://dev.w3.org/2006/webapi/DOM-Level-3-Events/html/DOM3-Events.html\n  // You can use FOCUS in Capture phase until implementations converge.\n  FOCUSIN: goog.userAgent.IE ? 'focusin' : 'DOMFocusIn',\n  FOCUSOUT: goog.userAgent.IE ? 'focusout' : 'DOMFocusOut',\n\n  // Forms\n  CHANGE: 'change',\n  SELECT: 'select',\n  SUBMIT: 'submit',\n  INPUT: 'input',\n  PROPERTYCHANGE: 'propertychange', // IE only\n\n  // Drag and drop\n  DRAGSTART: 'dragstart',\n  DRAG: 'drag',\n  DRAGENTER: 'dragenter',\n  DRAGOVER: 'dragover',\n  DRAGLEAVE: 'dragleave',\n  DROP: 'drop',\n  DRAGEND: 'dragend',\n\n  // WebKit touch events.\n  TOUCHSTART: 'touchstart',\n  TOUCHMOVE: 'touchmove',\n  TOUCHEND: 'touchend',\n  TOUCHCANCEL: 'touchcancel',\n\n  // Misc\n  BEFOREUNLOAD: 'beforeunload',\n  CONTEXTMENU: 'contextmenu',\n  ERROR: 'error',\n  HELP: 'help',\n  LOAD: 'load',\n  LOSECAPTURE: 'losecapture',\n  READYSTATECHANGE: 'readystatechange',\n  RESIZE: 'resize',\n  SCROLL: 'scroll',\n  UNLOAD: 'unload',\n\n  // HTML 5 History events\n  // See http://www.w3.org/TR/html5/history.html#event-definitions\n  HASHCHANGE: 'hashchange',\n  PAGEHIDE: 'pagehide',\n  PAGESHOW: 'pageshow',\n  POPSTATE: 'popstate',\n\n  // Copy and Paste\n  // Support is limited. Make sure it works on your favorite browser\n  // before using.\n  // http://www.quirksmode.org/dom/events/cutcopypaste.html\n  COPY: 'copy',\n  PASTE: 'paste',\n  CUT: 'cut',\n  BEFORECOPY: 'beforecopy',\n  BEFORECUT: 'beforecut',\n  BEFOREPASTE: 'beforepaste',\n\n  // HTML5 online/offline events.\n  // http://www.w3.org/TR/offline-webapps/#related\n  ONLINE: 'online',\n  OFFLINE: 'offline',\n\n  // HTML 5 worker events\n  MESSAGE: 'message',\n  CONNECT: 'connect',\n\n  // CSS transition events. Based on the browser support described at:\n  // https://developer.mozilla.org/en/css/css_transitions#Browser_compatibility\n  TRANSITIONEND: goog.userAgent.WEBKIT ? 'webkitTransitionEnd' :\n      (goog.userAgent.OPERA ? 'oTransitionEnd' : 'transitionend'),\n\n  // IE specific events.\n  // See http://msdn.microsoft.com/en-us/library/ie/hh673557(v=vs.85).aspx\n  MSGESTURECHANGE: 'MSGestureChange',\n  MSGESTUREEND: 'MSGestureEnd',\n  MSGESTUREHOLD: 'MSGestureHold',\n  MSGESTURESTART: 'MSGestureStart',\n  MSGESTURETAP: 'MSGestureTap',\n  MSGOTPOINTERCAPTURE: 'MSGotPointerCapture',\n  MSINERTIASTART: 'MSInertiaStart',\n  MSLOSTPOINTERCAPTURE: 'MSLostPointerCapture',\n  MSPOINTERCANCEL: 'MSPointerCancel',\n  MSPOINTERDOWN: 'MSPointerDown',\n  MSPOINTERMOVE: 'MSPointerMove',\n  MSPOINTEROVER: 'MSPointerOver',\n  MSPOINTEROUT: 'MSPointerOut',\n  MSPOINTERUP: 'MSPointerUp',\n\n  // Native IMEs/input tools events.\n  TEXTINPUT: 'textinput',\n  COMPOSITIONSTART: 'compositionstart',\n  COMPOSITIONUPDATE: 'compositionupdate',\n  COMPOSITIONEND: 'compositionend'\n};\n",
		"// Copyright 2005 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview Implementation of EventTarget as defined by W3C DOM 2/3.\n *\n * @author arv@google.com (Erik Arvidsson) [Original implementation]\n * @author pupius@google.com (Daniel Pupius) [Port to use goog.events]\n * @see ../demos/eventtarget.html\n */\n\ngoog.provide('goog.events.EventTarget');\n\ngoog.require('goog.Disposable');\ngoog.require('goog.array');\ngoog.require('goog.asserts');\ngoog.require('goog.events');\ngoog.require('goog.events.Event');\ngoog.require('goog.events.Listenable');\ngoog.require('goog.events.Listener');\ngoog.require('goog.object');\n\n\n\n/**\n * Inherit from this class to give your object the ability to dispatch events.\n * Note that this class provides event <em>sending</em> behaviour, not event\n * receiving behaviour: your object will be able to broadcast events, and other\n * objects will be able to listen for those events using goog.events.listen().\n *\n * <p>The name \"EventTarget\" reflects the fact that this class implements the\n * <a href=\"http://www.w3.org/TR/DOM-Level-2-Events/events.html\">\n * EventTarget interface</a> as defined by W3C DOM 2/3, with a few differences:\n * <ul>\n * <li>Event objects do not have to implement the Event interface. An object\n *     is treated as an event object if it has a 'type' property.\n * <li>You can use a plain string instead of an event object; an event-like\n *     object will be created with the 'type' set to the string value.\n * </ul>\n *\n * <p>Unless propagation is stopped, an event dispatched by an EventTarget\n * will bubble to the parent returned by <code>getParentEventTarget</code>.\n * To set the parent, call <code>setParentEventTarget</code> or override\n * <code>getParentEventTarget</code> in a subclass.  Subclasses that don't\n * support changing the parent should override the setter to throw an error.\n *\n * <p>Example usage:\n * <pre>\n *   var source = new goog.events.EventTarget();\n *   function handleEvent(event) {\n *     alert('Type: ' + e.type + '\\nTarget: ' + e.target);\n *   }\n *   goog.events.listen(source, 'foo', handleEvent);\n *   ...\n *   source.dispatchEvent({type: 'foo'}); // will call handleEvent\n *   // or source.dispatchEvent('foo');\n *   ...\n *   goog.events.unlisten(source, 'foo', handleEvent);\n *\n *   // You can also use the Listener interface:\n *   var listener = {\n *     handleEvent: function(event) {\n *       ...\n *     }\n *   };\n *   goog.events.listen(source, 'bar', listener);\n * </pre>\n *\n * @constructor\n * @extends {goog.Disposable}\n * @implements {goog.events.Listenable}\n */\ngoog.events.EventTarget = function() {\n  goog.Disposable.call(this);\n\n  /**\n   * Maps of event type to an array of listeners.\n   *\n   * @type {Object.<string, !Array.<!goog.events.ListenableKey>>}\n   * @private\n   */\n  this.eventTargetListeners_ = {};\n\n  /**\n   * The object to use for event.target. Useful when mixing in an\n   * EventTarget to another object.\n   * @type {!Object}\n   * @private\n   */\n  this.actualEventTarget_ = this;\n};\ngoog.inherits(goog.events.EventTarget, goog.Disposable);\n\n\nif (goog.events.Listenable.USE_LISTENABLE_INTERFACE) {\n  goog.events.Listenable.addImplementation(goog.events.EventTarget);\n}\n\n\n/**\n * An artificial cap on the number of ancestors you can have. This is mainly\n * for loop detection.\n * @const {number}\n * @private\n */\ngoog.events.EventTarget.MAX_ANCESTORS_ = 1000;\n\n\n/**\n * Used to tell if an event is a real event in goog.events.listen() so we don't\n * get listen() calling addEventListener() and vice-versa.\n * @type {boolean}\n * @private\n */\ngoog.events.EventTarget.prototype[goog.events.CUSTOM_EVENT_ATTR] = true;\n\n\n/**\n * Parent event target, used during event bubbling.\n * @type {goog.events.EventTarget?}\n * @private\n */\ngoog.events.EventTarget.prototype.parentEventTarget_ = null;\n\n\n/**\n * Returns the parent of this event target to use for bubbling.\n *\n * @return {goog.events.EventTarget} The parent EventTarget or null if there\n * is no parent.\n */\ngoog.events.EventTarget.prototype.getParentEventTarget = function() {\n  return this.parentEventTarget_;\n};\n\n\n/**\n * Sets the parent of this event target to use for bubbling.\n *\n * @param {goog.events.EventTarget?} parent Parent EventTarget (null if none).\n */\ngoog.events.EventTarget.prototype.setParentEventTarget = function(parent) {\n  this.parentEventTarget_ = parent;\n};\n\n\n/**\n * Adds an event listener to the event target. The same handler can only be\n * added once per the type. Even if you add the same handler multiple times\n * using the same type then it will only be called once when the event is\n * dispatched.\n *\n * Supported for legacy but use goog.events.listen(src, type, handler) instead.\n *\n * @param {string} type The type of the event to listen for.\n * @param {Function|Object} handler The function to handle the event. The\n *     handler can also be an object that implements the handleEvent method\n *     which takes the event object as argument.\n * @param {boolean=} opt_capture In DOM-compliant browsers, this determines\n *     whether the listener is fired during the capture or bubble phase\n *     of the event.\n * @param {Object=} opt_handlerScope Object in whose scope to call\n *     the listener.\n */\ngoog.events.EventTarget.prototype.addEventListener = function(\n    type, handler, opt_capture, opt_handlerScope) {\n  goog.events.listen(this, type, handler, opt_capture, opt_handlerScope);\n};\n\n\n/**\n * Removes an event listener from the event target. The handler must be the\n * same object as the one added. If the handler has not been added then\n * nothing is done.\n * @param {string} type The type of the event to listen for.\n * @param {Function|Object} handler The function to handle the event. The\n *     handler can also be an object that implements the handleEvent method\n *     which takes the event object as argument.\n * @param {boolean=} opt_capture In DOM-compliant browsers, this determines\n *     whether the listener is fired during the capture or bubble phase\n *     of the event.\n * @param {Object=} opt_handlerScope Object in whose scope to call\n *     the listener.\n */\ngoog.events.EventTarget.prototype.removeEventListener = function(\n    type, handler, opt_capture, opt_handlerScope) {\n  goog.events.unlisten(this, type, handler, opt_capture, opt_handlerScope);\n};\n\n\n/** @override */\ngoog.events.EventTarget.prototype.dispatchEvent = function(e) {\n  if (goog.events.Listenable.USE_LISTENABLE_INTERFACE) {\n    this.assertInitialized();\n\n    var ancestorsTree, ancestor = this.getParentEventTarget();\n    if (ancestor) {\n      ancestorsTree = [];\n      var ancestorCount = 1;\n      for (; ancestor; ancestor = ancestor.getParentEventTarget()) {\n        ancestorsTree.push(ancestor);\n        goog.asserts.assert(\n            (++ancestorCount < goog.events.EventTarget.MAX_ANCESTORS_),\n            'infinite loop');\n      }\n    }\n\n    return goog.events.EventTarget.dispatchEventInternal_(\n        this.actualEventTarget_, e, ancestorsTree);\n  } else {\n    return goog.events.dispatchEvent(this, e);\n  }\n};\n\n\n/**\n * Unattach listeners from this object.  Classes that extend EventTarget may\n * need to override this method in order to remove references to DOM Elements\n * and additional listeners, it should be something like this:\n * <pre>\n * MyClass.prototype.disposeInternal = function() {\n *   MyClass.superClass_.disposeInternal.call(this);\n *   // Dispose logic for MyClass\n * };\n * </pre>\n * @override\n * @protected\n */\ngoog.events.EventTarget.prototype.disposeInternal = function() {\n  goog.events.EventTarget.superClass_.disposeInternal.call(this);\n\n  if (goog.events.Listenable.USE_LISTENABLE_INTERFACE) {\n    this.removeAllListeners();\n  } else {\n    goog.events.removeAll(this);\n  }\n\n  this.parentEventTarget_ = null;\n};\n\n\n/**\n * Asserts that the event target instance is initialized properly.\n */\ngoog.events.EventTarget.prototype.assertInitialized = function() {\n  if (goog.events.STRICT_EVENT_TARGET) {\n    goog.asserts.assert(\n        this.eventTargetListeners_,\n        'Event target is not initialized. Did you call superclass ' +\n        '(goog.events.EventTarget) constructor?');\n  }\n};\n\n\nif (goog.events.Listenable.USE_LISTENABLE_INTERFACE) {\n\n/** @override */\ngoog.events.EventTarget.prototype.listen = function(\n    type, listener, opt_useCapture, opt_listenerScope) {\n  return this.listenInternal_(\n      type, listener, false /* callOnce */, opt_useCapture, opt_listenerScope);\n};\n\n\n/** @override */\ngoog.events.EventTarget.prototype.listenOnce = function(\n    type, listener, opt_useCapture, opt_listenerScope) {\n  return this.listenInternal_(\n      type, listener, true /* callOnce */, opt_useCapture, opt_listenerScope);\n};\n\n\n/**\n * Adds an event listener. A listener can only be added once to an\n * object and if it is added again the key for the listener is\n * returned.\n *\n * Note that a one-off listener will not change an existing listener,\n * if any. On the other hand a normal listener will change existing\n * one-off listener to become a normal listener.\n *\n * @param {string} type Event type to listen to.\n * @param {!Function} listener Callback method.\n * @param {boolean} callOnce Whether the listener is a one-off\n *     listener or otherwise.\n * @param {boolean=} opt_useCapture Whether to fire in capture phase\n *     (defaults to false).\n * @param {Object=} opt_listenerScope Object in whose scope to call the\n *     listener.\n * @return {goog.events.ListenableKey} Unique key for the listener.\n * @private\n */\ngoog.events.EventTarget.prototype.listenInternal_ = function(\n    type, listener, callOnce, opt_useCapture, opt_listenerScope) {\n  this.assertInitialized();\n\n  var listenerArray = this.eventTargetListeners_[type] ||\n      (this.eventTargetListeners_[type] = []);\n\n  var listenerObj;\n  var index = goog.events.EventTarget.findListenerIndex_(\n      listenerArray, listener, opt_useCapture, opt_listenerScope);\n  if (index > -1) {\n    listenerObj = listenerArray[index];\n    if (!callOnce) {\n      // Ensure that, if there is an existing callOnce listener, it is no\n      // longer a callOnce listener.\n      listenerObj.callOnce = false;\n    }\n    return listenerObj;\n  }\n\n  listenerObj = new goog.events.Listener();\n  listenerObj.init(\n      listener, null, this, type, !!opt_useCapture, opt_listenerScope);\n  listenerObj.callOnce = callOnce;\n  listenerArray.push(listenerObj);\n\n  return listenerObj;\n};\n\n\n/** @override */\ngoog.events.EventTarget.prototype.unlisten = function(\n    type, listener, opt_useCapture, opt_listenerScope) {\n  if (!(type in this.eventTargetListeners_)) {\n    return false;\n  }\n\n  var listenerArray = this.eventTargetListeners_[type];\n  var index = goog.events.EventTarget.findListenerIndex_(\n      listenerArray, listener, opt_useCapture, opt_listenerScope);\n  if (index > -1) {\n    var listenerObj = listenerArray[index];\n    goog.events.cleanUp(listenerObj);\n    listenerObj.removed = true;\n    return goog.array.removeAt(listenerArray, index);\n  }\n  return false;\n};\n\n\n/** @override */\ngoog.events.EventTarget.prototype.unlistenByKey = function(key) {\n  var type = key.type;\n  if (!(type in this.eventTargetListeners_)) {\n    return false;\n  }\n\n  var removed = goog.array.remove(this.eventTargetListeners_[type], key);\n  if (removed) {\n    goog.events.cleanUp(key);\n    key.removed = true;\n  }\n  return removed;\n};\n\n\n/** @override */\ngoog.events.EventTarget.prototype.removeAllListeners = function(\n    opt_type, opt_capture) {\n  var count = 0;\n  for (var type in this.eventTargetListeners_) {\n    if (!opt_type || type == opt_type) {\n      var listenerArray = this.eventTargetListeners_[type];\n      for (var i = 0; i < listenerArray.length; i++) {\n        ++count;\n        goog.events.cleanUp(listenerArray[i]);\n        listenerArray[i].removed = true;\n      }\n      listenerArray.length = 0;\n    }\n  }\n  return count;\n};\n\n\n/** @override */\ngoog.events.EventTarget.prototype.fireListeners = function(\n    type, capture, eventObject) {\n  if (!(type in this.eventTargetListeners_)) {\n    return true;\n  }\n\n  var rv = true;\n  var listenerArray = goog.array.clone(this.eventTargetListeners_[type]);\n  for (var i = 0; i < listenerArray.length; ++i) {\n    var listener = listenerArray[i];\n    // We might not have a listener if the listener was removed.\n    if (listener && !listener.removed && listener.capture == capture) {\n      // TODO(user): This logic probably should be in the Listener\n      // object instead.\n      if (listener.callOnce) {\n        this.unlistenByKey(listener);\n      }\n      rv = listener.handleEvent(eventObject) !== false && rv;\n    }\n  }\n\n  return rv && eventObject.returnValue_ != false;\n};\n\n\n/** @override */\ngoog.events.EventTarget.prototype.getListeners = function(type, capture) {\n  var listenerArray = this.eventTargetListeners_[type];\n  var rv = [];\n  if (listenerArray) {\n    for (var i = 0; i < listenerArray.length; ++i) {\n      var listenerObj = listenerArray[i];\n      if (listenerObj.capture == capture) {\n        rv.push(listenerObj);\n      }\n    }\n  }\n  return rv;\n};\n\n\n/** @override */\ngoog.events.EventTarget.prototype.getListener = function(\n    type, listener, capture, opt_listenerScope) {\n  var listenerArray = this.eventTargetListeners_[type];\n  var i = -1;\n  if (listenerArray) {\n    i = goog.events.EventTarget.findListenerIndex_(\n        listenerArray, listener, capture, opt_listenerScope);\n  }\n  return i > -1 ? listenerArray[i] : null;\n};\n\n\n/** @override */\ngoog.events.EventTarget.prototype.hasListener = function(\n    opt_type, opt_capture) {\n  var hasType = goog.isDef(opt_type);\n  var hasCapture = goog.isDef(opt_capture);\n\n  return goog.object.some(\n      this.eventTargetListeners_, function(listenersArray, type) {\n        for (var i = 0; i < listenersArray.length; ++i) {\n          if ((!hasType || listenersArray[i].type == opt_type) &&\n              (!hasCapture || listenersArray[i].capture == opt_capture)) {\n            return true;\n          }\n        }\n\n        return false;\n      });\n};\n\n\n/**\n * Sets the target to be used for {@code event.target} when firing\n * event. Mainly used for testing. For example, see\n * {@code goog.testing.events.mixinListenable}.\n * @param {!Object} target The target.\n */\ngoog.events.EventTarget.prototype.setTargetForTesting = function(target) {\n  this.actualEventTarget_ = target;\n};\n\n\n/**\n * Dispatches the given event on the ancestorsTree.\n *\n * TODO(user): Look for a way to reuse this logic in\n * goog.events, if possible.\n *\n * @param {!Object} target The target to dispatch on.\n * @param {goog.events.Event|Object|string} e The event object.\n * @param {Array.<goog.events.Listenable>=} opt_ancestorsTree The ancestors\n *     tree of the target, in reverse order from the closest ancestor\n *     to the root event target. May be null if the target has no ancestor.\n * @return {boolean} If anyone called preventDefault on the event object (or\n *     if any of the listeners returns false this will also return false.\n * @private\n */\ngoog.events.EventTarget.dispatchEventInternal_ = function(\n    target, e, opt_ancestorsTree) {\n  var type = e.type || /** @type {string} */ (e);\n\n  // If accepting a string or object, create a custom event object so that\n  // preventDefault and stopPropagation work with the event.\n  if (goog.isString(e)) {\n    e = new goog.events.Event(e, target);\n  } else if (!(e instanceof goog.events.Event)) {\n    var oldEvent = e;\n    e = new goog.events.Event(type, target);\n    goog.object.extend(e, oldEvent);\n  } else {\n    e.target = e.target || target;\n  }\n\n  var rv = true, currentTarget;\n\n  // Executes all capture listeners on the ancestors, if any.\n  if (opt_ancestorsTree) {\n    for (var i = opt_ancestorsTree.length - 1; !e.propagationStopped_ && i >= 0;\n         i--) {\n      currentTarget = e.currentTarget = opt_ancestorsTree[i];\n      rv = currentTarget.fireListeners(type, true, e) && rv;\n    }\n  }\n\n  // Executes capture and bubble listeners on the target.\n  if (!e.propagationStopped_) {\n    currentTarget = e.currentTarget = target;\n    rv = currentTarget.fireListeners(type, true, e) && rv;\n    if (!e.propagationStopped_) {\n      rv = currentTarget.fireListeners(type, false, e) && rv;\n    }\n  }\n\n  // Executes all bubble listeners on the ancestors, if any.\n  if (opt_ancestorsTree) {\n    for (i = 0; !e.propagationStopped_ && i < opt_ancestorsTree.length; i++) {\n      currentTarget = e.currentTarget = opt_ancestorsTree[i];\n      rv = currentTarget.fireListeners(type, false, e) && rv;\n    }\n  }\n\n  return rv;\n};\n\n\n/**\n * Finds the index of a matching goog.events.Listener in the given\n * listenerArray.\n * @param {!Array.<!goog.events.Listener>} listenerArray Array of listener.\n * @param {!Function} listener The listener function.\n * @param {boolean=} opt_useCapture The capture flag for the listener.\n * @param {Object=} opt_listenerScope The listener scope.\n * @return {number} The index of the matching listener within the\n *     listenerArray.\n * @private\n */\ngoog.events.EventTarget.findListenerIndex_ = function(\n    listenerArray, listener, opt_useCapture, opt_listenerScope) {\n  for (var i = 0; i < listenerArray.length; ++i) {\n    var listenerObj = listenerArray[i];\n    if (listenerObj.listener == listener &&\n        listenerObj.capture == !!opt_useCapture &&\n        listenerObj.handler == opt_listenerScope) {\n      return i;\n    }\n  }\n  return -1;\n};\n\n}  // if (goog.events.Listenable.USE_LISTENABLE_INTERFACE)\n",
		"goog.provide('H.ui.base.Element');\n\ngoog.require('goog.events.EventTarget');\ngoog.require('H.ui.dom');\n\n\n\n/**\n * This class represents the base class of UI elements such as Buttons, ListEntries, etc.\n *\n * @constructor\n * @param {string=} opt_elementType the type of HTML element this UI element renders as, default is {@code 'div'}\n * @param {string=} opt_className an optional class name to be used on this element\n *\n * @extends {goog.events.EventTarget}\n *\n * @export\n * @publish\n */\nH.ui.base.Element = function(opt_elementType, opt_className) {\n  'use strict';\n\n  goog.events.EventTarget.call(this);\n\n  this.type_ = opt_elementType || 'div';\n  this.classNames_ = opt_className ? opt_className.split(' ') : [];\n\n  //initialize this element's fields\n  this.setDisabled(false);\n  this.setData(null);\n  this.setElement_(null);\n};\nH.lang.inherits(H.ui.base.Element, goog.events.EventTarget);\n\n\n/**\n * @enum {string}\n */\nH.ui.base.Element.EventType = {\n  /**\n   * This event is dispatched when Element state is was modified.\n   * @event H.ui.base.Element#statechange\n   * @type {H.util.Event}\n   */\n  STATECHANGE: 'statechange'\n};\n\n\n/**\n * This method is called internally by the UI system to invoke the rendering of the\n * UI element.\n * @param {Document} doc the document object into which to render\n * @return {Element} this UI element instance\n */\nH.ui.base.Element.prototype.render = function(doc) {\n  'use strict';\n\n  if (!doc) {\n    throw new Error('Wrong document object');\n  }\n\n  //if the incoming UI is not the same as the current one\n  this.setElement_(H.ui.dom.mkEl(doc, this.type_, this.classNames_.join(' ')));\n\n  //call this element's render function (implemented by deriving classes)\n  this['renderInternal'](this['el'], doc);\n\n  // Update this element's state\n  this.setDisabled(this.isDisabled(), true);\n  this.setTooltip(this.getTooltip());\n  this.setVisibility(this.visibility_);\n\n  return this.getElement();\n};\n\n\n/**\n * This method is the concrete implementation of the UI element. This method receives the pre-rendered HTML\n * element which may be modified by deriving classes.\n * @param {Element} element this UI element's HTML representation\n * @param {Document} doc the HTML document into which the element is currently being rendered\n * @publish\n * @export\n */\nH.ui.base.Element.prototype.renderInternal = function(element, doc) {};\n\n\n/**\n * This method returns this UI element's disabled state as a boolean value.\n * @return {boolean} {@code true} if the element is disabled, {@code false} otherwise\n * @export\n * @publish\n */\nH.ui.base.Element.prototype.isDisabled = function() {\n  'use strict';\n\n  return this.disabled_;\n};\n\n\n/**\n * This method set's the disabled state of this UI element.\n * @param {boolean} disabled {@code true} to disabled the element, {@code false} to enabled it\n * @param {boolean=} opt_force an optional boolean flag indicating that the value should be set and\n *  propagated even if it is the same as the current state\n * @return {H.ui.base.Element} this element instance\n * @export\n * @publish\n */\nH.ui.base.Element.prototype.setDisabled = function(disabled, opt_force) {\n  'use strict';\n\n  if (disabled !== this.disabled_ || opt_force) {\n    this.disabled_ = disabled;\n\n    if (disabled) {\n      this.addClass('H_disabled');\n    } else {\n      this.removeClass('H_disabled');\n    }\n  }\n  return this;\n};\n\n\n/**\n * This method returns a previously stored arbitrary data from this element.\n * @return {*} the previously stored data object or {@code null} if not data was stored.\n * @export\n * @publish\n */\nH.ui.base.Element.prototype.getData = function() {\n  'use strict';\n\n  return this.data_;\n};\n\n\n/**\n * This method stores arbitrary data with this UI element.\n * @param {*} data the data to be stored\n * @export\n * @publish\n */\nH.ui.base.Element.prototype.setData = function(data) {\n  'use strict';\n\n  this.data_ = data;\n};\n\n\n/**\n * This method returns the tool tip of this element.\n * @return {string} the current tool tip\n */\nH.ui.base.Element.prototype.getTooltip = function() {\n  'use strict';\n\n  return this.tooltip_;\n};\n\n\n/**\n * This method sets a tool tip string to be shown when the user hovers over element element.\n * @param {string} tooltip the tool tip to be shown when hovering over this element\n */\nH.ui.base.Element.prototype.setTooltip = function(tooltip) {\n  'use strict';\n\n  this.tooltip_ = tooltip;\n  if (this.getElement()) {\n    if (tooltip) {\n      this.getElement().setAttribute('title', tooltip);\n    } else {\n      this.getElement().removeAttribute('title');\n    }\n  }\n};\n\n\n/**\n * This method returns the HTML element this UI element renders.\n *\n * Note: Before the UI element was rendered the method returns {@code null}.\n * @return {?HTMLElement} the element\n * @export\n * @publish\n */\nH.ui.base.Element.prototype.getElement = function() {\n  'use strict';\n\n  return this['el'];\n};\n\n\n/**\n * @param {Element} el the HTML element representing this control\n * @private\n */\nH.ui.base.Element.prototype.setElement_ = function(el) {\n  'use strict';\n\n  this['el'] = el;\n};\n\n\n/**\n * The current visibility of this element\n * @private\n * @type {boolean}\n */\nH.ui.base.Element.prototype.visibility_ = true;\n\n\n/**\n * Sets the visibility of this element.\n * @publish\n * @export\n * @param {boolean} visibility\n */\nH.ui.base.Element.prototype.setVisibility = function(visibility) {\n  'use strict';\n  var el;\n  this.visibility_ = visibility;\n  if (el = this['el']) {\n    el.style.display = visibility ? '' : 'none';\n  }\n};\n\n\n/**\n * Returns the visibility of this element.\n * @publish\n * @export\n * @return {boolean} visibility\n */\nH.ui.base.Element.prototype.getVisibility = function() {\n  'use strict';\n  return this.visibility_;\n};\n\n\n/**\n * This method adds a CSS class to this UI element (if it is not already present).\n * @param {string} className the CSS class name to add\n * @return {H.ui.base.Element} this UI element instance\n * @export\n * @publish\n */\nH.ui.base.Element.prototype.addClass = function(className) {\n  'use strict';\n\n  var el = this.getElement();\n  if (this.classNames_.indexOf(className) < 0) {\n    this.classNames_.push(className);\n  }\n\n  if (el) {\n    el.className = this.classNames_.join(' ');\n  }\n  return this;\n};\n\n\n/**\n * This method removes a CSS class from this UI element (if it is present).\n * @param {string} className the CSS class name to add\n * @return {H.ui.base.Element} this UI element instance\n * @export\n * @publish\n */\nH.ui.base.Element.prototype.removeClass = function(className) {\n  'use strict';\n\n  var index = this.classNames_.indexOf(className),\n      el = this.getElement();\n  if (index > -1) {\n    this.classNames_.splice(index, 1);\n  }\n  if (el) {\n    el.className = this.classNames_.join(' ');\n  }\n  return this;\n};\n\n\n/**\n * Removes the UI element from the UI.\n */\nH.ui.base.Element.prototype.remove = function() {\n  'use strict';\n\n  var el = this.getElement();\n  if (el && el.parentNode) {\n    el.parentNode.removeChild(el);\n  }\n};\n\n\n/**\n * @override\n */\nH.ui.base.Element.prototype.disposeInternal = function() {\n  'use strict';\n\n  /** @type {goog.events.EventTarget} */(H.util.getSuperProto(H.ui.base.Element)).disposeInternal.call(this);\n\n  this.remove();\n  this['el'] = null;\n  this.data_ = null;\n};\n\n\n/**\n * This method disposes of the element.\n * @method H.ui.base.Element#dispose\n * @publish\n * @export\n */\nH.ui.base.Element.prototype.dispose = function() {\n  goog.events.EventTarget.prototype.dispose.call(this);\n};\n\n\n/**\n * This method allows to listen for specific event triggered by the object\n * @param {string} type name of event\n * @param {!Function} handler event handler function\n * @param {boolean=} opt_capture if set to true will listen in the capture phase (bubble otherwise)\n * @param {Object=} opt_scope scope for the handler function\n * @method H.ui.base.Element#addEventListener\n * @publish\n */\n\n/**\n * This method will removed previously added listener from the event target\n * @param {string} type name of event\n * @param {!Function} handler previously added event handler\n * @param {boolean=} opt_capture if set to true will listen in the capture phase (bubble otherwise)\n * @param {Object=} opt_scope scope for the handler function\n * @method H.ui.base.Element#removeEventListener\n * @publish\n */\n",
		"goog.provide('H.ui.base.Container');\n\ngoog.require('H.ui.base.Element');\n\n\n\n/**\n * This class represents an abstract base class for container UI elements such as Lists and Panels.\n *\n * @extends {H.ui.base.Element}\n * @constructor\n * @param {string=} opt_elementType the type of HTML element this UI element renders as, default is {@code 'div'}\n * @param {string=} opt_className an optional class name to be used on this element\n * @param {Array.<H.ui.base.Element>=} opt_children optional child elements to be added to this container\n * @export\n * @publish\n */\nH.ui.base.Container = function(opt_elementType, opt_className, opt_children) {\n  'use strict';\n\n  H.ui.base.Element.call(this, opt_elementType, opt_className);\n\n  this.children_ = opt_children ? [].concat(opt_children) : [];\n};\nH.lang.inherits(H.ui.base.Container, H.ui.base.Element);\n\n\n/**\n * @override\n * @export\n */\nH.ui.base.Container.prototype.setDisabled = function(disabled, opt_force) {\n  'use strict';\n\n  var i = this.children_ ? this.children_.length : 0;\n  H.ui.base.Element.prototype.setDisabled.call(this, disabled, opt_force);\n  while (i--) {\n    this.children_[i].setDisabled(disabled, opt_force);\n  }\n\n  return this;\n};\n\n\n/**\n * Adds a child element to be rendered within the container element.\n * @param {H.ui.base.Element} child the child element to be added\n * @return {H.ui.base.Container} this container instance\n * @export\n * @publish\n */\nH.ui.base.Container.prototype.addChild = function(child) {\n  'use strict';\n\n  var el = this.getElement();\n\n  this.children_.push(child);\n\n  if (el) {\n    child.render(el.ownerDocument);\n    el.appendChild(child.getElement());\n  }\n  return this;\n};\n\n\n/**\n * Returns the child collection of this container.\n * @return {Array.<H.ui.base.Element>} the children of this container\n * @expose\n * @publish\n */\nH.ui.base.Container.prototype.getChildren = function() {\n  'use strict';\n\n  return [].concat(this.children_);\n};\n\n\n/**\n * Removes a child element from this container's child collection.\n * @param {H.ui.base.Element} child the child element to be removed\n * @export\n * @publish\n */\nH.ui.base.Container.prototype.removeChild = function(child) {\n  'use strict';\n\n  var index = this.children_.indexOf(child),\n      el = this.getElement();\n  if (index >= 0) {\n    this.children_.splice(index, 1);\n    if (el) {\n      el.removeChild(child.getElement());\n    }\n  }\n};\n\n\n/**\n * @override\n * @export\n */\nH.ui.base.Container.prototype.renderInternal = function(element, doc) {\n  'use strict';\n\n  var i = 0,\n      l = this.children_.length;\n  for (; i < l; i++) {\n    element.appendChild(this.children_[i]['render'](doc));\n  }\n};\n\n\n/**\n * @override\n */\nH.ui.base.Container.prototype.disposeInternal = function() {\n  'use strict';\n\n  this.children_.forEach(this.disposeOfChild_, this);\n  H.ui.base.Element.prototype.disposeInternal.call(this);\n};\n\n\n/**\n * Disposes of a single child element within this container\n * @param {H.ui.base.Element} child the child to be disposed of\n * @private\n */\nH.ui.base.Container.prototype.disposeOfChild_ = function(child) {\n  'use strict';\n\n  child.dispose();\n};\n\n",
		"goog.provide('H.ui.base.OverlayPanel');\n\ngoog.require('H.ui.base.Container');\n\n\n\n/**\n * This class represents a panel that points to a control.\n *\n * @constructor\n * @extends {H.ui.base.Container}\n * @export\n * @publish\n */\nH.ui.base.OverlayPanel = function() {\n  'use strict';\n\n  this.state_ = H.ui.base.OverlayPanel.State['CLOSED'];\n\n  H.ui.base.Container.call(this, 'div', 'H_overlay');\n};\nH.lang.inherits(H.ui.base.OverlayPanel, H.ui.base.Container);\n\n\n/**\n * This method sets the state of this panel.\n * @param {H.ui.base.OverlayPanel.State} state the state of this panel\n * @param {boolean=} opt_force a boolean value indicating that the value should be propagated even if it is the same as\n *  the current value\n * @return {H.ui.base.OverlayPanel} this panel instance\n * @export\n * @publish\n */\nH.ui.base.OverlayPanel.prototype.setState = function(state, opt_force) {\n  'use strict';\n\n  if (state !== this.state_ || opt_force) {\n    this.state_ = state;\n\n    if (state === H.ui.base.OverlayPanel.State['OPEN']) {\n      this.addClass('H_open');\n    } else {\n      this.removeClass('H_open');\n    }\n  }\n  return this;\n};\n\n\n/**\n * This method returns the current state of the panel.\n * @return {H.ui.base.OverlayPanel.State}\n * @export\n * @publish\n */\nH.ui.base.OverlayPanel.prototype.getState = function() {\n  return this.state_;\n};\n\n\n/**\n * This method adjusts the alignment of the overlay panel to point to the provided control.\n * @param {H.ui.Control} control the control to which to point\n * @export\n * @publish\n */\nH.ui.base.OverlayPanel.prototype.pointToControl = function(control) {\n  'use strict';\n\n  var layoutAlignment = control.getAlignment(),\n      controlEl = control.getElement(),\n      el = this.getElement(),\n      style = el.style,\n      verticalAlignment;\n\n\n  // Reset all styles that are used for alignment of the overlay panel\n  this.removeClass('H_top');\n  this.removeClass('H_middle');\n  this.removeClass('H_bottom');\n  this.removeClass('H_left');\n  this.removeClass('H_center');\n  this.removeClass('H_right');\n  style.bottom = style.top = style.left = style.right = style.margin = '';\n\n  // now apply the correct styles for this control\n\n  //first we check the vertical alignment\n  if (/top/g.test(layoutAlignment)) {\n    this.addClass('H_top');\n    style.top = '0';\n    style.margin = '0 1.2em';\n    verticalAlignment = -1;\n  } else if (/bottom/g.test(layoutAlignment)) {\n    this.addClass('H_bottom');\n    style.bottom = '0';\n    style.margin = '0 1.2em';\n    verticalAlignment = 1;\n  } else {\n    this.addClass('H_middle');\n    style.top = '50%';\n    style.margin = '0 1.2em';\n    style.marginTop = (-Math.round(el.offsetHeight * 0.5)) + 'px';\n    verticalAlignment = 0;\n  }\n\n  if (/left/g.test(layoutAlignment)) {\n    this.addClass('H_left');\n    style.left = controlEl.offsetWidth + 'px';\n    style.marginLeft = '1.2em';\n  } else if (/right/g.test(layoutAlignment)) {\n    this.addClass('H_right');\n    style.right = controlEl.offsetWidth + 'px';\n    style.marginRight = '1.2em';\n  } else {\n    this.addClass('H_center');\n    style.left = '50%';\n    if (verticalAlignment < 0) {\n      style.top = controlEl.offsetHeight + 'px';\n      style.marginTop = '1.2em';\n    } else if (verticalAlignment > 0) {\n      style.bottom = controlEl.offsetHeight + 'px';\n      style.marginBottom = '1.2em';\n    }\n    style.marginLeft = (-Math.round(el.offsetWidth * 0.5)) + 'px';\n\n    controlEl.appendChild(el);\n  }\n};\n\n\n/**\n * @enum {string}\n * @export\n * @publish\n */\nH.ui.base.OverlayPanel.State = {\n  /**\n   * Defines a state where the OverlayPanel is open and visible\n   */\n  'OPEN': 'open',\n  /**\n   * Defines a state where the OverlayPanel is closed and invisible\n   */\n  'CLOSED': 'closed'\n};\n",
		"goog.provide('H.ui.Control');\n\ngoog.require('H.ui.LayoutAlignment');\ngoog.require('H.ui.base.Container');\n//goog.require('H.ui.i18n.ILocalizable');\n\n\n\n/**\n * This class represents the base class for UI controls on the map.\n *\n * @constructor\n * @extends {H.ui.base.Container}\n * @export\n * @publish\n */\nH.ui.Control = function() {\n  'use strict';\n\n  H.ui.base.Container.call(this, 'div', 'H_ctl');\n\n  /**\n   * @protected\n   * @type {H.Map}\n   */\n  this.map = null;\n\n\n  /**\n   * @type {!H.ui.LayoutAlignment}\n   * @private\n   */\n  this.alignment_ = H.ui.LayoutAlignment.TOP_LEFT;\n\n};\nH.lang.inherits(H.ui.Control, H.ui.base.Container);\n\n\n/**\n * @protected\n * @type {H.ui.i18n.Localization}\n */\nH.ui.Control.prototype.locale;\n\n\n/**\n * This property holds this controls container element once it is rendered into a UI.\n * @property {HTMLElement} H.ui.Control#el\n * @publish\n */\nH.ui.Control.prototype['el'] = null;\n\n\n/**\n * Sets the map to which the UI is attached\n * @param {H.Map} map\n */\nH.ui.Control.prototype.setMap = function(map) {\n  'use strict';\n  this.map = map;\n};\n\n\n/**\n * This method sets locale for the current control. Not exported! only\n * for UI class use\n * @param {H.ui.i18n.Localization} localization\n */\nH.ui.Control.prototype.setLocalization = function(localization) {\n  'use strict';\n  this.localization = localization;\n};\n\n\n/**\n * Renders this control into a map UI object.\n * @param {Document} doc the document into which this control renders.\n * @return {Element} the fully rendered HTML representation of this control\n */\nH.ui.Control.prototype.render = function(doc) {\n  'use strict';\n  return H.ui.base.Container.prototype.render.call(this, doc);\n};\n\n\n/**\n * @override\n * @export\n */\nH.ui.Control.prototype.renderInternal = function(element, doc) {\n  'use strict';\n\n  H.ui.base.Container.prototype['renderInternal'].call(this, element, doc);\n\n  this.setAlignment(this.getAlignment());\n};\n\n\n/**\n * This abstract method can be overridden by deriving classes to be invoked when the UI object's unit system\n * changes.\n * @param {H.ui.UnitSystem} unitSystem the unit system the UI currently uses\n * @export\n * @publish\n */\nH.ui.Control.prototype.onUnitSystemChange = function(unitSystem) {};\n\n\n/**\n * This abstract method can be overridden by deriving classes to be invoked when the underlying map engine\n * changes.\n * @param {H.Map.EngineType} engineType the engine type the map currently uses\n * @export\n * @publish\n */\n// TODO: Add generic update for all sorts of state changes, rather than adding methods\n// for each possible state change\nH.ui.Control.prototype.onMapEngineTypeChange = function(engineType) {};\n\n\n/**\n * This method returns the map to which this control is attached.\n *\n * Note: Before adding a control to a UI object this method returns null.\n *\n * @return {?H.Map} return the map\n * @export\n * @publish\n */\nH.ui.Control.prototype.getMap = function() {\n  'use strict';\n  return this.map;\n};\n\n\n/**\n * This method returns the localization object which corresponds to the UI's current\n * locale.\n *\n * @return {H.ui.i18n.Localization}\n * @export\n * @publish\n */\nH.ui.Control.prototype.getLocalization = function() {\n  'use strict';\n  return this.localization;\n};\n\n\n/**\n * This method returns this control's layout alignment.\n * @return {string} the control's current layout alignment\n * @export\n * @publish\n */\nH.ui.Control.prototype.getAlignment = function() {\n  'use strict';\n  return this.alignment_;\n};\n\n\n/**\n * This method sets the control's layout alignments.\n *\n * The possible alignments are as follows within the map view port:\n * <pre>\n * +--------------------------------------------------------------------------------+\n * |  \"top-left\"  > >           &lt; &lt;  \"top-center\"  > >            &lt; &lt;  \"top-right\"  |\n * |  \"lef-ttop\"                                                       \"right-top\"  |\n * |  v                                                                          v  |\n * |  v                                                                          v  |\n * |                                                                                |\n * |                                                                                |\n * |  ^                                                                          ^  |\n * |  ^                                                                          ^  |\n * |  \"left-middle\"                                                 \"right-middle\"  |\n * |  v                                                                          v  |\n * |  v                                                                          v  |\n * |                                                                                |\n * |                                                                                |\n * |  ^                                                                          ^  |\n * |  ^                                                                          ^  |\n * |  \"left-bottom\"                                                 \"right-bottom\"  |\n * |  \"bottom-left\"  > >       &lt; &lt;  \"bottom-center\"  > >       &lt; &lt;  \"bottom-right\"  |\n * +--------------------------------------------------------------------------------+\n * </pre>\n *\n * Elements with the same layout alignments are lined up in the directions of the arrows (see the illustration above).\n * @publish\n * @export\n * @param {string} alignment the new alignment of the control\n * @return {H.ui.Control} returns this control instance\n */\nH.ui.Control.prototype.setAlignment = function(alignment) {\n  'use strict';\n  if (H.ui.validateAlignment(alignment)) {\n    this.alignment_ = /** @type {H.ui.LayoutAlignment} */(alignment);\n    this.dispatchEvent('alignmentchange');\n  }\n  return this;\n};\n\n\n/**\n * This event is fired when control is realigned\n * @event H.ui.Control#alignmentchange\n * @type {H.util.Event}\n * @publish\n */\n",
		"goog.provide('H.ui.base.RadioGroup');\n\ngoog.require('H.ui.base.Container');\n\n\n\n/**\n * This class represents a group of push buttons of which only one can be active at a time.\n *\n * @constructor\n * @param {H.ui.base.RadioGroup.Options=} opt_options optional parameters to be passed to the group\n * @extends {H.ui.base.Container}\n * @export\n * @publish\n */\nH.ui.base.RadioGroup = function(opt_options) {\n  'use strict';\n\n  var options = opt_options || {};\n\n  H.ui.base.Container.call(this, 'div', 'H_rdo');\n\n  /**\n   * @type {H.ui.base.Element}\n   * @private\n   */\n  this.title_ = new H.ui.base.Element('div', 'H_rdo_title');\n  /**\n   * @type {H.ui.base.Container}\n   * @private\n   */\n  this.buttons_ = new H.ui.base.Container('div', 'H_rdo_buttons');\n\n  this.addChild(this.title_);\n  this.addChild(this.buttons_);\n\n  this.onButtonStateChange_ = H.lang.bind(function(evt) {\n    if (evt.target.getState() === H.ui.base.Button.State['DOWN']) {\n      this.setActiveButton(evt.target, true);\n      this.dispatchEvent(H.ui.base.RadioGroup.EventType.ACTIVEBUTTONCHANGE);\n    } else {\n      evt.target.setState(H.ui.base.Button.State['DOWN'], true);\n    }\n  }, this);\n  this.addEventListener(H.ui.base.Element.EventType.STATECHANGE, this.onButtonStateChange_);\n\n  this.setTitle(options['title'] || '');\n\n  if (options['onActiveButtonChange']) {\n    this.addEventListener(H.ui.base.RadioGroup.EventType.ACTIVEBUTTONCHANGE, options['onActiveButtonChange']);\n  }\n\n  if (options['buttonsOptions']) {\n    options['buttonsOptions'].forEach(function(options) {\n      this.addButton(new H.ui.base.PushButton(options));\n    }, this);\n  }\n};\nH.lang.inherits(H.ui.base.RadioGroup, H.ui.base.Container);\n\n\n/**\n * List of events fired by the radion group\n * @enum {string}\n */\nH.ui.base.RadioGroup.EventType = {\n  /**\n   * This event is fired when a radio button becomes active.\n   *\n   * @event H.ui.base.RadioGroup#activebuttonchange\n   * @type {H.util.Event}\n   * @publish\n   */\n  ACTIVEBUTTONCHANGE: 'activebuttonchange'\n};\n\n\n/**\n * @override\n * @export\n */\nH.ui.base.RadioGroup.prototype.renderInternal = function(element, doc) {\n  'use strict';\n\n  H.ui.base.Container.prototype['renderInternal'].call(this, element, doc);\n  this.setTitle(this.getTitle(), true);\n};\n\n\n/**\n * This method set the title of this group.\n * @param {string} title the new title of this group\n * @param {boolean=} opt_force an optional flag indicating that the new value is to be updated and propagated even if\n *  it has the same value as the current title\n * @return {H.ui.base.RadioGroup} this group instance\n * @export\n * @publish\n */\nH.ui.base.RadioGroup.prototype.setTitle = function(title, opt_force) {\n  'use strict';\n\n  if (title !== this.titleString_ || opt_force) {\n    this.titleString_ = title;\n\n    if (this.title_.getElement()) {\n      this.title_.getElement().innerHTML = this.titleString_;\n    }\n  }\n  return this;\n};\n\n\n/**\n * This method returns the current title string of this group.\n * @return {string} the current title\n * @export\n * @publish\n */\nH.ui.base.RadioGroup.prototype.getTitle = function() {\n  'use strict';\n\n  return this.titleString_;\n};\n\n\n/**\n * This method adds an button element to this group.\n * @param {H.ui.base.PushButton} button the button to add\n * @return {H.ui.base.RadioGroup} this group instance\n * @export\n * @publish\n */\nH.ui.base.RadioGroup.prototype.addButton = function(button) {\n  'use strict';\n\n  if (!(button instanceof H.ui.base.PushButton)) {\n    throw new Error('PushButton expected');\n  }\n\n  button.setParentEventTarget(this);\n  this.buttons_.addChild(button);\n  return this;\n};\n\n\n/**\n * This method removes an button element from this group.\n * @param {H.ui.base.PushButton} button the button to remove\n * @return {H.ui.base.RadioGroup} this group instance\n * @export\n * @publish\n */\nH.ui.base.RadioGroup.prototype.removeButton = function(button) {\n  'use strict';\n\n  this.buttons_.removeChild(button);\n  button.setParentEventTarget(null);\n  return this;\n};\n\n\n/**\n * This method returns the buttons currently registered with this group.\n * @return {Array.<H.ui.base.PushButton>} the buttons\n *\n * @export\n * @publish\n */\nH.ui.base.RadioGroup.prototype.getButtons = function() {\n  'use strict';\n\n  return this.buttons_.getChildren();\n};\n\n\n/**\n * This method sets the active button of this radio group.\n * @param {H.ui.base.PushButton} button the button to be made the active one\n * @param {boolean=} opt_suppressEvent an optional boolean flag indicating that no statechange event is to be fired\n *\n * @export\n * @publish\n */\nH.ui.base.RadioGroup.prototype.setActiveButton = function(button, opt_suppressEvent) {\n  'use strict';\n\n  var buttons = this.getButtons(),\n      i = buttons.length;\n  while (i--) {\n    buttons[i].setState(\n        buttons[i] === button ? H.ui.base.Button.State['DOWN'] : H.ui.base.Button.State['UP'],\n        opt_suppressEvent);\n  }\n};\n\n\n/**\n * This method returns the currently active button from this group.\n * @return {H.ui.base.PushButton} the currently active button\n */\nH.ui.base.RadioGroup.prototype.getActiveButton = function() {\n  'use strict';\n\n  var buttons = this.getButtons(),\n      i = buttons.length;\n  while (i--) {\n    if (buttons[i].getState() === H.ui.base.Button.State['DOWN']) {\n      return buttons[i];\n    }\n  }\n  return null;\n};\n\n\n/**\n * @override\n */\nH.ui.base.RadioGroup.prototype.disposeInternal = function() {\n  'use strict';\n\n  this.removeEventListener(H.ui.base.Element.EventType.STATECHANGE, this.onButtonStateChange_);\n  H.ui.base.Container.prototype.disposeInternal.call(this);\n};\n\n\n/**\n * @typedef {{\n *   title: (string|undefined),\n *   buttonsOptions: (Array.<H.ui.base.Button.Options>|undefined)\n * }}\n * @property {string=} title an optional title string for this group\n * @property {Array.<H.ui.base.Button.Options>=} buttons an optional set of button options to be added to this\n *  group\n * @publish\n */\nH.ui.base.RadioGroup.Options;\n\n\n/**\n   * This event is fired when RadioGroup's state is modified.\n   * @event H.ui.base.RadioGroup#statechange\n   * @type {H.util.Event}\n   * @publish\n   */\n",
		"goog.provide('H.ui.base.Button');\n\ngoog.require('H.ui.base.Element');\n\n\n\n/**\n * This class represents a button.\n *\n * @constructor\n * @param {H.ui.base.Button.Options=} opt_options optional parameters to be passed to the button instance\n * @extends {H.ui.base.Element}\n * @export\n * @publish\n */\nH.ui.base.Button = function(opt_options) {\n  'use strict';\n  var options = opt_options || {};\n\n  H.ui.base.Element.call(this, 'div', 'H_btn');\n\n  this.setLabel(options['label'] || ' ');\n  this.setTooltip(options['tooltip'] || '');\n  this.setData(options['data']);\n  this.setDisabled(!!options['disabled']);\n\n  this.setState(H.ui.base.Button.State['UP'], true);\n\n  if (options['onStateChange']) {\n    this.addEventListener(H.ui.base.Element.EventType.STATECHANGE, options['onStateChange']);\n  }\n\n  this.onDown_ = H.lang.bind(this.onDown_, this);\n  this.onUp_ = H.lang.bind(this.onUp_, this);\n};\nH.lang.inherits(H.ui.base.Button, H.ui.base.Element);\n\n\n/**\n * @override\n * @export\n */\nH.ui.base.Button.prototype.renderInternal = function(element, doc) {\n  'use strict';\n\n  H.ui.dom.on(element, 'start', this.onDown_);\n  H.ui.dom.on(element, 'end', this.onUp_);\n  H.ui.dom.on(element, 'out', this.onUp_);\n\n  this.setLabel(this.getLabel(), true);\n};\n\n\n/**\n * This method returns the current state of the button.\n * @return {H.ui.base.Button.State} the current state of the button\n * @export\n * @publish\n */\nH.ui.base.Button.prototype.getState = function() {\n  'use strict';\n\n  return this.state_;\n};\n\n\n/**\n * This method sets the state of this button.\n * @param {H.ui.base.Button.State} state the state to which this button is to be set\n * @param {boolean=} opt_suppressEvent an optional flag indicating that the onStateChange callback is\n *  not to be invoked\n * @return {H.ui.base.Button} this button instance\n * @export\n * @publish\n */\nH.ui.base.Button.prototype.setState = function(state, opt_suppressEvent) {\n  'use strict';\n\n  if (state !== this.state_) {\n    this.state_ = state;\n\n    if (state === H.ui.base.Button.State['DOWN']) {\n      this.addClass('H_active');\n    } else {\n      this.removeClass('H_active');\n    }\n\n    if (!opt_suppressEvent) {\n      this.dispatchEvent(H.ui.base.Element.EventType.STATECHANGE);\n    }\n  }\n\n  return this;\n};\n\n\n/**\n * This method returns the label string of this button.\n * @return {string} the label string of this button\n * @export\n * @publish\n */\nH.ui.base.Button.prototype.getLabel = function() {\n  'use strict';\n\n  return this.label_;\n};\n\n\n/**\n * This method sets the label string of this button.\n * @param {string} label the label to set on this button\n * @param {boolean=} opt_force a boolean flag indicating that the new label should be set and propagated even if\n *  it has the same value as the current one.\n * @return {H.ui.base.Button} this button instance\n * @export\n * @publish\n */\nH.ui.base.Button.prototype.setLabel = function(label, opt_force) {\n  'use strict';\n\n  if (opt_force || label !== this.label_) {\n    this.label_ = label;\n\n    if (this.getElement()) {\n      this.getElement().innerHTML = label;\n    }\n  }\n  return this;\n};\n\n\n/**\n * This button's onDown handler (setting the state to DOWN).\n * @param {Event} evt\n * @private\n */\nH.ui.base.Button.prototype.onDown_ = function(evt) {\n  'use strict';\n\n  if (!this.isDisabled()) {\n    this.setState(H.ui.base.Button.State['DOWN']);\n  }\n  evt.preventDefault();\n};\n\n\n/**\n * This button's onUp handler (setting the state to UP).\n * @param {Event} evt\n * @private\n */\nH.ui.base.Button.prototype.onUp_ = function(evt) {\n  'use strict';\n\n  if (!this.isDisabled()) {\n    this.setState(H.ui.base.Button.State['UP']);\n  }\n  evt.preventDefault();\n};\n\n\n/**\n * @override\n */\nH.ui.base.Button.prototype.disposeInternal = function() {\n  'use strict';\n\n  var element = this.getElement();\n  if (element) {\n    H.ui.dom.off(element, 'start', this.onDown_);\n    H.ui.dom.off(element, 'end', this.onUp_);\n    H.ui.dom.off(element, 'out', this.onUp_);\n  }\n  H.ui.base.Element.prototype.disposeInternal.call(this);\n};\n\n\n/**\n * @typedef {{\n *   disabled: (boolean|undefined),\n *   label: (string|undefined),\n *   data: *,\n *   onStateChange: (function(H.util.Event)|undefined)\n * }}\n * @property {boolean=} disabled a flag to indicate whether this button is disabled, default is {@code false}\n * @property {string=} label the mark up (used as innerHTML) to be rendered into this button\n * @property {function(H.util.Event)=} onStateChange an optional event listener for the {@code onstatechange} event\n *  to be immediately added\n * @property {*} data an arbitrary data object to be stored with this button\n * @publish\n */\nH.ui.base.Button.Options;\n\n\n/**\n * This enumeration represents the possible state a button can have, namely 'UP' and 'DOWN'\n * @enum {string}\n * @export\n * @publish\n */\nH.ui.base.Button.State = {\n  /**\n   * The button's state when it is not pressed. ('up')\n   */\n  'UP': 'up',\n  /**\n   * The button's state when it is pressed. ('down')\n   */\n  'DOWN': 'down'\n};\n\n\n/**\n * This event is dispatched by the button when it's state changes.\n * @event H.ui.base.Button#statechange\n * @type {H.util.Event}\n * @publish\n */\n",
		"goog.provide('H.ui.base.PushButton');\n\ngoog.require('H.ui.base.Button');\n\n\n\n/**\n * This class represents a button, which will keep its state when pressed.\n * Pressing once will change this button's state to down. Pressing it again\n * will change the button's state to up.\n *\n * @constructor\n * @param {H.ui.base.Button.Options=} opt_options optional parameters to be passed to this button instance.\n * @extends {H.ui.base.Button}\n *\n * @export\n * @publish\n */\nH.ui.base.PushButton = function(opt_options) {\n  'use strict';\n\n  H.ui.base.Button.call(this, opt_options);\n\n  this.onEnd_ = function(evt) {\n    evt.preventDefault();\n  };\n\n  /**\n   * @type {function(Event)}\n   * @private\n   */\n  this.onStart_ = H.lang.bind(function(evt) {\n    if (!this.isDisabled()) {\n      this['toggleState']();\n    }\n    evt.preventDefault();\n  }, this);\n};\nH.lang.inherits(H.ui.base.PushButton, H.ui.base.Button);\n\n\n/**\n * @override\n * @export\n */\nH.ui.base.PushButton.prototype.renderInternal = function(element, doc) {\n  'use strict';\n\n  H.ui.dom.on(element, 'start', this.onStart_);\n  H.ui.dom.on(element, 'end', this.onEnd_);\n  this.setLabel(this.getLabel(), true);\n};\n\n\n/**\n * This method toggles this button's state between the two possible button states (see\n * {@link H.ui.base.Button.State}).\n *\n * @return {H.ui.base.PushButton} this button instance\n * @export\n * @publish\n */\nH.ui.base.PushButton.prototype.toggleState = function() {\n  'use strict';\n  var DOWN = H.ui.base.Button.State['DOWN'];\n  this.setState(this.getState() === DOWN ? H.ui.base.Button.State['UP'] : DOWN);\n  return this;\n};\n\n\n/**\n * Disposes of this button\n */\nH.ui.base.PushButton.prototype.disposeInternal = function() {\n  'use strict';\n\n  H.ui.dom.off(this.getElement(), 'start', this.onStart_);\n  H.ui.base.Button.prototype.disposeInternal.call(this);\n};\n",
		"goog.provide('H.ui.LayoutAlignment');\n\n\n/**\n * This enumeration holds the possible layout alignments for UI elements.\n * @enum {string}\n */\nH.ui.LayoutAlignment = {\n  'TOP_LEFT': 'top-left',\n  'TOP_CENTER': 'top-center',\n  'TOP_RIGHT': 'top-right',\n  'LEFT_TOP': 'left-top',\n  'LEFT_MIDDLE': 'left-middle',\n  'LEFT_BOTTOM': 'left-bottom',\n  'RIGHT_TOP': 'right-top',\n  'RIGHT_MIDDLE': 'right-middle',\n  'RIGHT_BOTTOM': 'right-bottom',\n  'BOTTOM_LEFT': 'bottom-left',\n  'BOTTOM_CENTER': 'bottom-center',\n  'BOTTOM_RIGHT': 'bottom-right'\n};\n\n\n/**\n * Checks whether the passed alignment is supported\n * @param {string} alignment\n * @return {boolean}\n */\nH.ui.validateAlignment = function(alignment) {\n  'use strict';\n  return typeof alignment === 'string' &&\n      H.ui.LayoutAlignment[alignment.replace('-', '_').toUpperCase()] === alignment;\n};\n\n\n/*\nTODO: The alignment system should be changed to be \"more generic\" instead of beeing hardcoded like now!\nFor example:\nanchors_ = {\n  top: {\n    left: {...}, center: {...}, right: {...}\n    },\n  bottom: {\n    left: {...}, center: {...}, right: {...}\n  },\n  left: {\n    top: {...}, middle: {...}, bottom: {...}\n  },\n    right: {\n    top: {...}, middle: {...}, bottom: {...}\n  }\n}\n*/\n",
		"goog.provide('H.ui.util.VendorPrefix');\n\n\n\n/**\n * This class encapsulates functionality for setting vendor-prefixed CSS property names on 'style' objects.\n * @constructor\n */\nH.ui.util.VendorPrefix = function() {\n  'use strict';\n\n  /**\n   * @dict\n   * @private\n   */\n  this.knownProperties_ = {};\n\n  /**\n   * @type {string}\n   * @private\n   */\n  this.probablePrefix_ = '';\n\n  /**\n   * @type {Object}\n   * @private\n   */\n  this.testStyle_ = document.createElement('span').style;\n};\n\n\n/**\n * @type {Array.<string>}\n * @private\n */\nH.ui.util.VendorPrefix.LIST_JS_ = ['O', 'Ms', 'ms', 'Moz', 'Webkit'];\n\n\n/**\n * This method tries to find the correct name for an unprefixed CSS property. It tries to do the following:\n *\n *  1) It always checks for the availability of the unprefixed property first\n *  2) If a prefix was previously discovered, it will check if the current property can be prefixed with\n *     the same prefix\n *  3) It will check all known vendor prefixes\n *\n * If none of the above succeeds the method will throw an error.\n *\n * @param {string} property the unprefixed name of the CSS style property\n * @return {string} the property name to be used in the current environment\n * @throws {Error} This method throws an error if no variant of the unprefixed property could be found\n */\nH.ui.util.VendorPrefix.prototype.getPropertyName = function(property) {\n  'use strict';\n  var name = this.knownProperties_[property],\n      found = !!name;\n\n  if (!name) {\n    if (property in this.testStyle_) {\n      // if the unprefixed name is in the style, we can store and return the name\n      name = this.knownProperties_[property] = property;\n      //console.log(\"vprefix\", name);\n    } else if ((name = this.detect_(property))) {\n      // otherwise we try to detect the prefix, store it and return it\n      //console.log(\"vprefix\", name);\n      this.knownProperties_[property] = name;\n    } else {\n      // could not detect it, throw an error\n      throw new Error('Could not find any variant of CSS property [' + property + ']');\n    }\n  }\n  return name;\n};\n\n\n/**\n * This method detects the vendor prefix for the provided unprefixed property name.\n * @param {string} property the unprefixed name of the CSS style property\n * @return {?string} the property name to be used in the current environment or null if no prefix applies\n * @private\n */\nH.ui.util.VendorPrefix.prototype.detect_ = function(property) {\n  'use strict';\n  var list = H.ui.util.VendorPrefix.LIST_JS_,\n      i = list.length,\n      prefix = '',\n      capitalizedProp = property.substr(0, 1).toUpperCase() + property.substr(1),\n      prefixedProp = '',\n      found = false;\n\n  //If we had a previous detection, we can assume that a prefixed property will have the same prefix. We will check this\n  //first...\n  if (this.probablePrefix_) {\n    prefixedProp = this.probablePrefix_ + capitalizedProp;\n    found = (prefixedProp in this.testStyle_);\n  }\n\n  // If we have not yet found anything, we will iterate over the list of prefixes until we find the correct one.\n  while (i-- && !found) {\n    prefix = list[i];\n    prefixedProp = prefix + capitalizedProp;\n    found = (prefixedProp in this.testStyle_);\n  }\n\n  // When we found a prefix, we will store it as the probable prefix for the next detection.\n  if (found) {\n    this.probablePrefix_ = prefix;\n  }\n\n  return found ? prefixedProp : null;\n};\n",
		"goog.provide('H.ui.css');\n\ngoog.require('H.ui.util.VendorPrefix');\n\n\n/**\n * @private\n * @type {H.ui.util.VendorPrefix}\n */\nH.ui.css.prefixes_ = new H.ui.util.VendorPrefix();\n\n\n/**\n * Sets transform: translate(x, y) on the provided element\n * @param {Element} el the element to translate\n * @param {number} x the x-coordinate of the translation\n * @param {number} y the y-coordinate of the tanslateion\n */\nH.ui.css.translate = function(el, x, y) {\n  var prop = H.ui.css.prefixes_.getPropertyName('transform');\n  el.style[prop] = 'translate(' + x + 'px,' + y + 'px)';\n};\n",
		"goog.provide('H.ui.panorama.Miniman');\n\ngoog.require('H.ui.css');\ngoog.require('H.ui.icons.pano');\n\n\n\n/**\n * This class encapsulates the miniman attached to the pointer when discovering street level entry points.\n * @constructor\n * @extends {H.ui.base.Container}\n */\nH.ui.panorama.Miniman = function() {\n  'use strict';\n  H.ui.base.Container.call(this, 'div', 'H_pano_mm');\n\n  /**\n   * Package internal property that holds miniman's circle DOM element\n   * @type {H.ui.base.Element}\n   */\n  this.circleEl = new H.ui.base.Element('div', 'H_pano_circle H_noevs');\n\n  /**\n   * Package internal property that holds miniman DOM element\n   * @type {H.ui.base.Element}\n   */\n  this.minimanEl = new H.ui.base.Element('div', 'H_pano_man H_noevs');\n\n  this.addChild(this.circleEl);\n  this.addChild(this.minimanEl);\n};\nH.lang.inherits(H.ui.panorama.Miniman, H.ui.base.Container);\n\n\n/**\n * @override\n * @this {H.ui.panorama.Miniman}\n */\nH.ui.panorama.Miniman.prototype['renderInternal'] = function(element, doc) {\n  //renderInternal must be used with square bracket notation because the class is not\n  //exported\n  'use strict';\n\n  var offscreen = -1000;\n  H.ui.base.Container.prototype['renderInternal'].call(this, element, doc);\n\n  // render circle and miniman off screen their positino will be set on mouse move\n  H.ui.css.translate(this.minimanEl['el'], offscreen, offscreen);\n  H.ui.css.translate(this.circleEl['el'], offscreen, offscreen);\n\n  this.circleEl['el'].innerHTML = H.ui.icons.pano.man_circle;\n  this.setPanorama(false);\n};\n\n\n/**\n * Sets the screen position of the miniman\n * @param {number} x the x-coordinate\n * @param {number} y the y-coordinate\n */\nH.ui.panorama.Miniman.prototype.setScreenPosition = function(x, y) {\n  'use strict';\n  H.ui.css.translate(this.minimanEl['el'], x, y);\n  H.ui.css.translate(this.circleEl['el'], x, y);\n};\n\n\n/**\n * Notifies the miniman of either a panorama being available at a screen position, or\n * no panorama availability.\n * @param {boolean} isAvailable a flag indicating whether a panorama is available\n * @param {number=} opt_x the x-coordinate if a panorama is available\n * @param {number=} opt_y the y-coordinate if a panorama is available\n */\nH.ui.panorama.Miniman.prototype.setPanorama = function(isAvailable, opt_x, opt_y) {\n  'use strict';\n  this.minimanEl['el'].innerHTML = isAvailable ? H.ui.icons.pano.man_armup : H.ui.icons.pano.man_armdown;\n  if (isAvailable) {\n    H.ui.css.translate(this.circleEl['el'], opt_x || 0, opt_y || 0);\n  }\n  this.setDisabled(!isAvailable);\n};\n",
		"goog.provide('H.ui.icons.pano');\n\n\n/**\n * The SVG markup for the panorama UI\n * @type {Object.<string,string>}\n */\nH.ui.icons.pano = {\n  inactive: '<svg class=\"H_icon\" viewBox=\"75 67 180 200\">' +\n      '<path d=\"m214,153c-6,-13 -17,-18 -23,-21c-6,-2 -12,-2 -12,-2c0,0 -22,0 -22,0c0,0 -6,0 -12,2c-6,2 ' +\n      '-16,8 -23,21c-4,9 -4,27 -4,38c0,6 5,9 9,9c3,0 8,-3 8,-9c0,-28 9,-27 9,-27l0,88c0,4 3,7 8,7c4,0 9,-1 ' +\n      '9,-7l4,-52c0,0 2,0 3,0l4,52c0,5 4,7 9,7c4,0 8,-3 8,-7l0,-88c0,0 9,0 9,27c0,5 5,9 8,9c3,0 9,-2 9,-9c0,-11 3,' +\n      '-28 -1,-38l0,0z\"/><circle cx=\"167\" cy=\"93\" r=\"25\"/>' +\n      '</svg>',\n  coverage: '<svg class=\"H_icon\" viewBox=\"73 72 178 205\">' +\n      '<path d=\"m120,158c8,-15 16,-18 23,-20c6,-2 16,-1 17,-1c0,0 11,0 15,0c5,0 6,0 11,0c7,0 20,-6 27,-18c3,-6 4,' +\n      '-9 6,-12c2,-3 7,-5 11,-3c4,2 4,8 3,11c-1,4 -6,15 -9,20c-19,30 -37,32 -38,32l0,94c0,3 -3,7 -8,7c-4,0 -9,-3 -9,' +\n      '-7l-3,-53c0,0 -3,0 -4,0l-3,53c0,3 -3,7 -9,7c-4,0 -9,-3 -9,-7l0,-88c0,0 -9,0 -9,29c0,3 -1,10 -9,10c-7,0 -10,-7' +\n      ' -10,-11c0,-14 0,-31 6,-41l0,0l1,-2z\"/><circle cx=\"166\" cy=\"99\" r=\"25\"/>' +\n      '</svg>',\n  panorama: '<svg class=\"H_icon\" viewBox=\"0 0 25 25\">' +\n      '<text text-anchor=\"middle\" x=\"12.5\" alignment-baseline=\"central\" y=\"12.5\">leave</text></svg>',\n  man_armdown: '<svg class=\"H_icon H_noevs\" viewBox=\"0 0 120 192\">' +\n      '<path d=\"m96,85c-6,-13 -17,-18 -23,-21c-6,-2 -12,-2 -12,-2c0,0 -22,0 -22,0c0,0 -6,0 -12,2c-6,2 -16,8 -23,21c-4' +\n      ',9 -4,27 -4,38c0,6 5,9 9,9c3,0 8,-3 8,-9c0,-28 9,-27 9,-27l0,88c0,4 3,7 8,7c4,0 9,-1 9,-7l4,-52c0,0 2,0 3,0l4,' +\n      '52c0,5 4,7 9,7c4,0 8,-3 8,-7l0,-88c0,0 9,0 9,27c0,5 5,9 8,9c3,0 9,-2 9,-9c0,-11 3,-28 -1,-38l0,0m-22,-60c0,14 ' +\n      '-11,25 -25,25c-14,0 -25,-11 -25,-25c0,-14 11,-25 25,-25c14,0 25,11 25,25z\" stroke-width=\"10\"/>' +\n      '</svg>',\n  man_armup: '<svg class=\"H_icon H_noevs\" viewBox=\"0 0 120 192\">' +\n      '<path d=\"m5,83c8,-15 16,-18 23,-20c6,-2 16,-1 17,-1c0,0 11,0 15,0c5,0 6,0 11,0c7,0 20,-6 27,-18c3,-6 4,-9 6,-1' +\n      '2c2,-3 7,-5 11,-3c4,2 4,8 3,11c-1,4 -6,15 -9,20c-19,30 -37,32 -38,32l0,94c0,3 -3,7 -8,7c-4,0 -9,-3 -9,-7l-3,-5' +\n      '3c0,0 -3,0 -4,0l-3,53c0,3 -3,7 -9,7c-4,0 -9,-3 -9,-7l0,-88c0,0 -9,0 -9,29c0,3 -1,10 -9,10c-7,0 -10,-7 -10,-11c' +\n      '0,-14 0,-31 6,-41l0,0l1,-2z\" stroke-width=\"10\"/><circle r=\"25\" cy=\"25\" cx=\"49\" stroke-width=\"10\"/>' +\n      '</svg>',\n  man_circle: '<svg class=\"H_icon H_noevs\" viewBox=\"0 0 120 60\"><ellipse cx=\"60\" cy=\"30\" rx=\"40\" ry=\"20\" ' +\n      'stroke-width=\"3\" /></svg>',\n  wait: '<svg class=\"H_icon\" viewBox=\"0 0 25 25\">' +\n      '<text text-anchor=\"middle\" x=\"12.5\" alignment-baseline=\"central\" y=\"12.5\" font-size=\"15\">...</text></svg>'\n};\n",
		"goog.provide('H.ui.panorama.Discovery');\n\ngoog.require('goog.events.EventTarget');\ngoog.require('H.ui.panorama.Miniman');\n\n\n\n/**\n * This class encapsulates the functionality for discovering entry points for\n * panorama. It is used by the Pano control.\n *\n *\n * There are two different behaviors for the discovery:\n * HOVER:\n *  A small icon (miniman) is attached to the pointer indicating whether street level is available at the pointer\n *  position. If street level is available the miniman turns blue and a ellipse is displayed at the next coordinate\n *  of the closes panorama entry point. Additionally, the discovery object will try to load a preview and display it\n *  in an info bubble. Tapping on the ellipse or the map will trigger an entry request.\n *\n * TAP:\n *  When tapping on the map the discovery object will not load a preview and will instead immediately fire an\n *  entry request.\n *\n * @param {H.ui.UI} ui\n * @constructor\n * @extends {goog.events.EventTarget}\n */\nH.ui.panorama.Discovery = function(ui) {\n  'use strict';\n\n  goog.events.EventTarget.call(this);\n\n  this.ui = ui;\n  this.map = ui.getMap();\n\n  // HOVER BEHAVIOR:\n  this.lastPointerX_ = Number.MAX_VALUE;\n  this.lastPointerY_ = Number.MAX_VALUE;\n\n  this.onPointerMove_ = H.lang.bind(this.onPointerMove_, this);\n  this.onPointerStop_ = H.lang.bind(this.onPointerStop_, this);\n  this.onPointerPanorama_ = H.lang.bind(this.onPointerPanorama_, this);\n\n  this.onMapViewChange_ = H.lang.bind(this.onMapViewChange_, this);\n  this.onMapViewChangeStart_ = H.lang.bind(this.onMapViewChangeStart_, this);\n  this.onMapViewChangeEnd_ = H.lang.bind(this.onMapViewChangeEnd_, this);\n\n  this.onPointerEnter_ = H.lang.bind(this.onPointerEnter_, this);\n  this.onPointerLeave_ = H.lang.bind(this.onPointerLeave_, this);\n\n  this.miniman_ = new H.ui.panorama.Miniman();\n  this.miniman_.render(ui.getElement().ownerDocument);\n\n  this.enterOnTap_ = H.lang.bind(this.enterOnTap_, this);\n\n  H.ui.dom.on(this.miniman_.circleEl['el'], 'start', this.enterOnTap_);\n\n\n  // TAP BEHAVIOR\n  this.lastTapX_ = Number.MAX_VALUE;\n  this.lastTapY_ = Number.MAX_VALUE;\n  this.onTapPanorama_ = H.lang.bind(this.onTapPanorama_, this);\n  this.onTap_ = H.lang.bind(this.onTap_, this);\n\n  // BUBBLE\n  this.infoBubble_ = new H.ui.InfoBubble(this.map.getCenter());\n  this.infoBubble_.addClass('H_ib_noclose H_pano_ib');\n\n  this.enabled_ = false;\n\n  /**\n   * Counter for tap events, first tap shows infobubble, second tap dives into panorama\n   * @type {number}\n   * @private\n   */\n  this.tapCounter_ = 0;\n};\nH.lang.inherits(H.ui.panorama.Discovery, goog.events.EventTarget);\n\n\n/**\n * This method enables the discovery object\n */\nH.ui.panorama.Discovery.prototype.enable = function() {\n  'use strict';\n  var map = this.map,\n      that = this;\n  if (!this.enabled_) {\n    this.ui.getElement().insertBefore(this.miniman_['el'], this.ui.getElement().firstChild);\n    this.ui.addBubble(this.infoBubble_);\n    this.infoBubble_.close();\n\n    H.ui.dom.on(this.infoBubble_['el'], 'start', this.enterOnTap_);\n\n    map.addEventListener('pointermove', this.onPointerMove_);\n    map.addEventListener('drag', this.onPointerMove_);\n    map.addEventListener('tap', this.onTap_);\n    map.addEventListener('mapviewchange', this.onMapViewChange_);\n    map.addEventListener('mapviewchangestart', this.onMapViewChangeStart_);\n    map.addEventListener('mapviewchangeend', this.onMapViewChangeEnd_);\n    map.addEventListener('pointerleave', this.onPointerLeave_);\n    map.addEventListener('pointerenter', this.onPointerEnter_);\n\n    this.enabled_ = true;\n  }\n};\n\n\n/**\n * Hide pointer and preview infobubble when pointer leaves UI container\n * @param {H.mapevents.Event} evt the event\n * @private\n */\nH.ui.panorama.Discovery.prototype.onPointerLeave_ = function(evt) {\n  'use strict';\n  if (evt['currentPointer']['type'] !== 'mouse') return;\n  this.miniman_.remove();\n  this.ui.removeBubble(this.infoBubble_);\n};\n\n\n/**\n * Show pointer and preview infobubble when pointer enters UI container\n * @param {H.mapevents.Event} evt the event\n * @private\n */\nH.ui.panorama.Discovery.prototype.onPointerEnter_ = function(evt) {\n  'use strict';\n  if (evt['currentPointer']['type'] !== 'mouse') return;\n  this.ui.getElement().insertBefore(this.miniman_['el'], this.ui.getElement().firstChild);\n  this.ui.addBubble(this.infoBubble_);\n  H.ui.dom.on(this.infoBubble_['el'], 'start', this.enterOnTap_);\n  this.infoBubble_.close();\n};\n\n\n/**\n * Method enables panorama entering when info bubble was clicked\n & @private\n */\nH.ui.panorama.Discovery.prototype.enterOnTap_ = function() {\n  'use strict';\n  this.tryEnter(this.lastPointerX_, this.lastPointerY_);\n};\n\n\n/**\n * tolerance for the second tap, that we consider it as a tap on the same point\n * @type {number}\n * @private\n */\nH.ui.panorama.Discovery.prototype.tapTolerance_ = 25;\n\n\n/**\n * This method disables the discovery object\n */\nH.ui.panorama.Discovery.prototype.disable = function() {\n  'use strict';\n\n  var bubbleEl = this.infoBubble_['el'],\n      map = this.map;\n\n  this.miniman_.remove();\n  this.ui.removeBubble(this.infoBubble_);\n\n  bubbleEl && H.ui.dom.off(bubbleEl, 'start', this.enterOnTap_);\n  H.ui.dom.off(this.miniman_.circleEl['el'], 'start', this.enterOnTap_);\n\n  map.removeEventListener('pointermove', this.onPointerMove_);\n  map.removeEventListener('drag', this.onPointerMove_);\n  map.removeEventListener('tap', this.onTap_);\n  map.removeEventListener('mapviewchange', this.onMapViewChange_);\n  map.removeEventListener('mapviewchangestart', this.onMapViewChangeStart_);\n  map.removeEventListener('mapviewchangeend', this.onMapViewChangeEnd_);\n  map.removeEventListener('pointerleave', this.onPointerLeave_);\n  map.removeEventListener('pointerenter', this.onPointerEnter_);\n  this.enabled_ = false;\n};\n\n\n/**\n * This method request to enter street level immediately.\n * @param {number} x the viewport x-coordinate\n * @param {number} y the viewport y-coordinate\n */\nH.ui.panorama.Discovery.prototype.tryEnter = function(x, y) {\n  'use strict';\n\n  if (H.map.render.panorama) {\n    this.lastTapX_ = x;\n    this.lastTapY_ = y;\n    H.map.render.panorama.RenderEngine.getClosestPanoramas(\n        this.map.screenToGeo(this.lastTapX_, this.lastTapY_),\n        this.onTapPanorama_);\n  }\n};\n\n\n/**\n * Resets the 'pointerStop' handle and cancels the preview image loading (in case any has been scheduled).\n * @private\n */\nH.ui.panorama.Discovery.prototype.reset_ = function() {\n  'use strict';\n  if (this.stopTimeout_) {\n    clearTimeout(this.stopTimeout_);\n  }\n  if (this.previewHandle_) {\n    this.previewHandle_.cancel();\n  }\n  this.lastPanoramaPosition_ = null;\n};\n\n\n/**\n * Handles 'pointermove' events on the map\n * @param {H.mapevents.Event} evt the event\n * @private\n */\nH.ui.panorama.Discovery.prototype.onPointerMove_ = function(evt) {\n  'use strict';\n  var currentPointer = evt['currentPointer'],\n      pointerX,\n      pointerY;\n\n  if (this.map.getEngine().type === H.Map.EngineType.P2D) {\n    if (currentPointer.type !== 'touch') {\n      pointerX = currentPointer['viewportX'];\n      pointerY = currentPointer['viewportY'];\n      // TODO: there must be a better way to solve mouseout-pointermove problem for FF\n      if (this.lastPointerX_ !== pointerX || this.lastPointerY_ !== pointerY) {\n        this.miniman_.minimanEl['el'].style.display = 'block';\n\n        this.reset_();\n        this.lastPointerX_ = pointerX;\n        this.lastPointerY_ = pointerY;\n\n        this.miniman_.setScreenPosition(this.lastPointerX_, this.lastPointerY_);\n        this.stopTimeout_ = setTimeout(this.onPointerStop_, 350);\n\n        // disable miniman and close current info bubble\n        this.miniman_.setPanorama(false);\n        this.infoBubble_.close();\n      }\n    }\n  }\n};\n\n\n/**\n * Executes the panorama check and preview loading.\n * @private\n */\nH.ui.panorama.Discovery.prototype.onPointerStop_ = function() {\n  'use strict';\n  if (H.map.render.panorama) {\n    H.map.render.panorama.RenderEngine.getClosestPanoramas(\n        this.map.screenToGeo(this.lastPointerX_, this.lastPointerY_),\n        this.onPointerPanorama_\n    );\n  }\n};\n\n\n/**\n * Handles a panorama response for the 'hover' use case (displaying info bubble and\n * setting miniman circle).\n * @param {Object} response\n * @private\n */\nH.ui.panorama.Discovery.prototype.onPointerPanorama_ = function(response) {\n  'use strict';\n  var that = this,\n      screenPos,\n      evt;\n  if (response && response.length > 0) {\n    screenPos = this.map.geoToScreen(response[0].position);\n    this.lastPanoramaPosition_ = response[0].position;\n    this.miniman_.setPanorama(true, screenPos['x'], screenPos['y']);\n    this.previewHandle_ = H.net.images.load(\n        H.map.render.panorama.RenderEngine.getImageUrl(response[0]),\n        function(image) {\n          that.infoBubble_.setPosition(response[0].position);\n          that.infoBubble_.setContent('<img src=\"' + image.src + '\" />');\n          that.infoBubble_.open();\n        });\n  } else if (this.tapCounter_) {\n    this.onTapPanorama_(response);\n  }\n};\n\n\n/**\n * Disable css transition on mapviewchangestart, so circle snaps nicely to current\n * panorama position (if one is available)\n * @private\n */\nH.ui.panorama.Discovery.prototype.onMapViewChangeStart_ = function() {\n  this.miniman_.circleEl.addClass('H_pano_notransition');\n  this.infoBubble_.close();\n};\n\n\n/**\n * Enable css transition, circle animates to the panorama position\n * @private\n */\nH.ui.panorama.Discovery.prototype.onMapViewChangeEnd_ = function() {\n  this.miniman_.circleEl.removeClass('H_pano_notransition');\n};\n\n\n/**\n * Updates circle position if panorama is available.\n * @private\n */\nH.ui.panorama.Discovery.prototype.onMapViewChange_ = function() {\n  'use strict';\n  if (this.lastPanoramaPosition_) {\n    var screenPos = this.map.geoToScreen(this.lastPanoramaPosition_);\n    screenPos && this.miniman_.setPanorama(true, screenPos['x'], screenPos['y']);\n  }\n  this.resetTapCounter_();\n};\n\n\n// TAP USE CASE\n/**\n * This function handles a tap on the map, which should take the user to street level if panorama is available or\n * display an info bubble with an error message if not.\n *\n * @param {H.mapevents.Event} evt the tap event\n * @private\n */\nH.ui.panorama.Discovery.prototype.onTap_ = function(evt) {\n  'use strict';\n  var currentPointer = evt['currentPointer'],\n      isMouse = currentPointer['type'] === 'mouse',\n      viewportX = currentPointer['viewportX'],\n      viewportY = currentPointer['viewportY'],\n      tolerance = this.tapTolerance_,\n      abs = Math.abs;\n\n  if (this.tapCounter_ === 1 &&\n      (abs(this.lastPointerX_ - viewportX) < tolerance && abs(this.lastPointerY_ - viewportY) < tolerance)) {\n    this.tapCounter_++;\n  } else if (this.tapCounter_ === 0) {\n    this.tapCounter_++;\n  }\n\n  // first tap sequence is requred only on touch devices\n  if (this.tapCounter_ === 1 && !isMouse) {\n    this.infoBubble_.close();\n    this.lastPointerX_ = viewportX;\n    this.lastPointerY_ = viewportY;\n    this.lastTapX_ = viewportX;\n    this.lastTapY_ = viewportY;\n    this.onPointerStop_();\n  }\n\n  // enter panorama only if it's second tap if it's mouse tap enter panorama anyway\n  if (this.tapCounter_ === 2 || isMouse) {\n    this.tryEnter(viewportX, viewportY);\n    this.resetTapCounter_();\n  }\n};\n\n\n/**\n * Method resets tap counter.\n * @private\n */\nH.ui.panorama.Discovery.prototype.resetTapCounter_ = function() {\n  'use strict';\n  this.tapCounter_ = 0;\n};\n\n\n/**\n * Handles a panorama response after tap (no preview, enter straight away).\n * @param {Object} response\n * @private\n */\nH.ui.panorama.Discovery.prototype.onTapPanorama_ = function(response) {\n  'use strict';\n  var that = this,\n      pos,\n      evt;\n  if (response && response.length > 0) {\n    this.dispatchEvent({ type: 'enter', position: response[0].position });\n  } else {\n    pos = this.map.screenToGeo(this.lastTapX_, this.lastTapY_);\n    this.infoBubble_.setPosition(pos);\n    this.infoBubble_.setContent(this.ui.getLocalization().translate('panorama.unavailableHere'));\n    this.infoBubble_.open();\n  }\n};\n",
		"goog.provide('H.ui.Pano');\n\ngoog.require('H.ui.Control');\ngoog.require('H.ui.LayoutAlignment');\ngoog.require('H.ui.base.PushButton');\ngoog.require('H.ui.icons.pano');\n\ngoog.require('H.ui.panorama.Discovery');\n\n\n\n/**\n * This class represents the UI controls for panorama\n * @publish\n * @export\n *\n * @constructor\n * @param {H.ui.Pano.Options=} opt_options optional parameters to be passed to the map.\n *\n * @extends {H.ui.Control}\n */\nH.ui.Pano = function(opt_options) {\n  'use strict';\n  var button,\n      states = this.setupStates_(),\n      that = this,\n      val;\n\n  H.ui.Control.call(this);\n\n  this.setDisabled(true);\n  if (opt_options) {\n    // process the mapTypes option:\n    this.processMapTypes_(opt_options['mapTypes']);\n    if (val = opt_options['alignment']) {\n      this.setAlignment(val);\n    }\n  }\n\n  /**\n   * @private\n   * @type {H.ui.base.PushButton}\n   */\n  this['coverageButton_'] = new H.ui.base.PushButton({\n    'onStateChange': function() {\n      var states = that.states_;\n      that.setState(this.getState() === H.ui.base.Button.State.DOWN ? states.coverage : states.inactive);\n    }\n  });\n\n  /**\n   * @private\n   * @type {H.ui.base.Button}\n   */\n  this.leaveButton_ = button = new H.ui.base.Button({\n    'onStateChange': function(evt) {\n      that.map.setEngineType(H.Map.EngineType.P2D);\n      that.setState(that.prevState_);\n    }\n  });\n\n  this.addChild(this['coverageButton_']);\n  this.addChild(this.leaveButton_);\n\n  this.state_ = this.prevState_ = states.inactive;\n\n  // By default we hide the control if panorama module is not loaded:\n  //this.setVisibility(!!H.map.render.panorama);\n\n};\nH.lang.inherits(H.ui.Pano, H.ui.Control);\n\n\n/**\n * @private\n * @param {H.service.MapTypes} mapTypes\n */\nH.ui.Pano.prototype.processMapTypes_ = function(mapTypes) {\n  'use strict';\n  var fallbackMapTypes,\n      key,\n      keys,\n      i;\n  if (mapTypes) {\n    this.mapTypes_ = mapTypes;\n    this.fallbackMapTypes_ = fallbackMapTypes = [];\n    keys = ['normal', 'satellite', 'terrain'];\n    // Try to get the normal, satellite and terrain map types:\n    for (i = 0; i < keys.length; i++) {\n      if (mapTypes[key = keys[i]]) {\n        fallbackMapTypes.unshift(mapTypes[key]);\n      }\n    }\n    // Add all map types other than normal, satellite and terrain:\n    for (key in mapTypes) {\n      if (keys.indexOf(key) < 0) {\n        fallbackMapTypes.unshift(mapTypes[key]);\n      }\n    }\n    this.setDisabled(!fallbackMapTypes.length);\n  }\n};\n\n\n/**\n * This methods sets up states for panorama UI,\n * some of the states label and tooltip values\n * will be filled with setLocalization\n * @private\n * @return {Object}\n */\nH.ui.Pano.prototype.setupStates_ = function() {\n  'use strict';\n  this.states_ = {\n    inactive: {\n      label: H.ui.icons.pano.inactive\n    },\n    coverage: {\n      label: H.ui.icons.pano.coverage\n    },\n    panorama: {}\n  };\n  return this.states_;\n};\n\n\n/**\n * @private\n * @type {Object.<string,string>}\n */\nH.ui.Pano.prototype.state_;\n\n\n/**\n * @private\n * @type {Object.<string,string>}\n */\nH.ui.Pano.prototype.prevState_;\n\n\n/**\n * @private\n * @type {H.map.layer.Layer}\n */\nH.ui.Pano.prototype.prevBaseLayer_;\n\n\n/**\n * The map types to use when looking for a fallback map layer (panorama <--> map) in descending order\n * @private\n * @type {Array.<H.service.MapType>}\n */\nH.ui.Pano.prototype.fallbackMapTypes_;\n\n\n/**\n * @private\n * @type {H.service.MapTypes}\n */\nH.ui.Pano.prototype.mapTypes_;\n\n\n/**\n * To get the map type group of the given layer\n * @private\n * @param {H.map.layer.Layer} layer\n * @return {H.service.MapType|undefined}\n */\nH.ui.Pano.prototype.getMapTypeGroup_ = function(layer) {\n  'use strict';\n  var mapTypes = this.mapTypes_,\n      key,\n      group,\n      found;\n  outer:\n  for (key in mapTypes) {\n    group = mapTypes[key];\n    for (key in group) {\n      if (group[key] === layer) {\n        found = true;\n        break outer;\n      }\n    }\n  }\n  return found ? group : undefined;\n};\n\n\n/**\n * Returns the best matching base layer for the given type key. It tries to get the layer from the same map type group.\n * If no success it tries to find such layer in the fallbackMapTypes_ collection\n * @private\n * @param {H.map.layer.Layer} layer\n * @param {string} key the key of the base layer to search for, e.g. \"panorama\" or \"map\"\n * @return {H.map.layer.Layer|undefined} the layer which was found or undefined if no success\n */\nH.ui.Pano.prototype.getBestMatchingLayer_ = function(layer, key) {\n  'use strict';\n  var group,\n      bestMatch,\n      fallbackMapTypes,\n      i;\n  if (layer && (group = this.getMapTypeGroup_(layer))) {\n    bestMatch = group[key];\n  }\n  if (!bestMatch) {\n    fallbackMapTypes = this.fallbackMapTypes_;\n    i = fallbackMapTypes.length;\n    while (i--) {\n      if (bestMatch = fallbackMapTypes[i][key]) {\n        break;\n      }\n    }\n  }\n  return bestMatch;\n};\n\n\n/**\n * @override\n * @export\n */\nH.ui.Pano.prototype.renderInternal = function(element, doc) {\n  'use strict';\n\n  H.ui.Control.prototype['renderInternal'].call(this, element, doc);\n\n  // TODO Detect the real state instead of assuming \"inactive\"!\n  this.setState(this.states_.inactive);\n  this.discovery_ = new H.ui.panorama.Discovery(/** @type {H.ui.UI} */(this.getParentEventTarget()));\n\n  this.states_.inactive.tooltip = this.getLocalization().translate('panorama.showCoverage');\n  this.states_.coverage.tooltip = this.getLocalization().translate('panorama.hideCoverage');\n  this.states_.panorama.tooltip = this.getLocalization().translate('panorama.leave');\n  this.states_.panorama.label = '<span style=\"padding: 0 0.5em\">' +\n      this.getLocalization().translate('panorama.leave') + '<span>';\n  this.leaveButton_.setLabel(this.states_.panorama.label);\n  this.leaveButton_.setTooltip(this.states_.panorama.tooltip);\n\n  var that = this;\n  this.discovery_.addEventListener('enter', function(evt) {\n    var pos = evt.position;\n    that.discovery_.disable();\n    that.map.setCenter(evt.position, true);\n    setTimeout(function() {\n      that['coverageButton_'].setVisibility(false);\n      that.map.setEngineType(H.Map.EngineType.PANORAMA);\n    }, 200);\n  });\n\n  var layers = this.map.getLayers();\n\n  this.onLayersChange_ = goog.bind(this.onLayersChange_, this);\n\n  layers.addEventListener('add', this.onLayersChange_);\n  layers.addEventListener('remove', this.onLayersChange_, this);\n  layers.addEventListener('set', this.onLayersChange_, this);\n};\n\n\n/**\n * Method is responsible for disabling discovery and panorama button if base map layer was changed\n * on the map.\n * @private\n * @param {H.util.Event} evt from layers collectino\n */\nH.ui.Pano.prototype.onLayersChange_ = function(evt) {\n  'use strict';\n  if (evt['idx'] === 0) {\n    if (this.map &&\n        this.getBestMatchingLayer_(this.map.getBaseLayer(), 'panorama') === this.map.getBaseLayer()) {\n      this.discovery_.disable();\n      this['coverageButton_'].setState(H.ui.base.Button.State['UP']);\n    }\n  }\n};\n\n\n/**\n * Sets the state of the Panorama Control\n * @param {Object} state\n */\nH.ui.Pano.prototype.setState = function(state) {\n  'use strict';\n  var currState = this.state_,\n      states = this.states_,\n      isPano = state === states.panorama,\n      isInactive,\n      coverageButton = this['coverageButton_'],\n      btnState,\n      baseLayer;\n  if (currState === states.inactive) {\n    // Save the current base layer:\n    this.prevBaseLayer_ = this.map.getBaseLayer();\n  }\n  if (isPano) {\n    // Save the current state:\n    this.prevState_ = currState;\n    // TODO Activate the panorama engine\n  } else {\n    if (isInactive = state === states.inactive) {\n      btnState = 'UP';\n      // Restore the previous base layer:\n      baseLayer = this.prevBaseLayer_;\n\n      this.discovery_ && this.discovery_.disable();\n    } else {\n      btnState = 'DOWN';\n      baseLayer = this.getBestMatchingLayer_(this.map.getBaseLayer(), 'panorama');\n\n      //this.getCoverageLayerFor_(this.prevBaseLayer_));\n\n      this.discovery_ && this.discovery_.enable();\n    }\n    if (baseLayer) {\n      this.map.setBaseLayer(baseLayer);\n    }\n    coverageButton.setLabel(state.label);\n    coverageButton.setTooltip(state.tooltip);\n    // Set the button state in case of setState was triggered programatically:\n    coverageButton.setState(H.ui.base.Button.State[btnState]);\n  }\n  this.leaveButton_.setVisibility(isPano);\n  coverageButton.setVisibility(!isPano);\n\n  this.state_ = state;\n};\n\n\n/**\n * @override\n * @export\n */\nH.ui.Pano.prototype.onMapEngineTypeChange = function(engineType) {\n  'use strict';\n  var states = this.states_;\n  this.setState(\n      engineType === H.Map.EngineType.PANORAMA ?\n      states.panorama :\n      this.prevState_);\n};\n\n\n/**\n * @publish\n * @property {H.ui.LayoutAlignment} alignment the preferred layout alignment for this control\n * @property {H.service.MapTypes} mapTypes The map types to use\n *\n * @typedef {{\n *   alignment: (H.ui.LayoutAlignment|undefined),\n *   mapeTypes: (H.service.MapTypes)\n * }}\n */\nH.ui.Pano.Options;\n",
		"goog.provide('H.ui.InfoBubble');\n\ngoog.require('H.ui.base.Element');\ngoog.require('H.ui.css');\n\n\n\n/**\n * This class represents an information bubble bound to a geo-position on the map.\n *\n * @constructor\n * @param {H.geo.IPoint} position the geo-position to which this info bubble corresponds\n * @param {H.ui.InfoBubble.Options=} opt_options optional parameters to be passed to the info bubble\n * @extends {H.ui.base.Element}\n * @export\n * @publish\n */\nH.ui.InfoBubble = function(position, opt_options) {\n  'use strict';\n\n  var options = opt_options || {};\n\n  H.ui.base.Element.call(this, 'div', 'H_ib');\n\n  /**\n   * @type {function(Event)}\n   * @private\n   */\n  this.onUserClose_ = H.lang.bind(function(evt) {\n    if (!this.isDisabled()) {\n      this.close();\n      evt.preventDefault();\n    }\n  }, this);\n\n  this.update = H.lang.bind(this.update, this);\n  this.deferredUdate_ = H.lang.bind(this.deferredUdate_, this);\n  this.setPosition(position);\n\n  this.setContent(options['content']);\n  if (options['onStateChange']) {\n    this.addEventListener(H.ui.base.Element.EventType.STATECHANGE, options['onStateChange']);\n  }\n  this.setState(H.ui.InfoBubble.State['OPEN']);\n};\nH.lang.inherits(H.ui.InfoBubble, H.ui.base.Element);\n\n\n/**\n * @type {H.Map}\n * @private\n */\nH.ui.InfoBubble.prototype.map_ = null;\n\n\n/**\n * This method returns the current geo-position of this info bubble.\n * @return {H.geo.Point} the current geo-position\n */\nH.ui.InfoBubble.prototype.getPosition = function() {\n  'use strict';\n\n  return this.position_;\n};\n\n\n/**\n * This method sets the geo-position of this info bubble.\n * @param {H.geo.IPoint|H.geo.Point} position the new geo-position of this bubble\n * @export\n * @publish\n */\nH.ui.InfoBubble.prototype.setPosition = function(position) {\n  'use strict';\n\n  this.position_ = H.geo.Point.fromIPoint(position);\n  this.update();\n};\n\n\n/**\n * Sets the map to which the UI is attached\n * @param {H.Map} map\n */\nH.ui.InfoBubble.prototype.setMap = function(map) {\n  'use strict';\n  this.map_ = map;\n};\n\n\n/**\n * @override\n * @export\n */\nH.ui.InfoBubble.prototype.renderInternal = function(element, doc) {\n  'use strict';\n\n  this.bodyEl_ = H.ui.dom.mkEl(doc, 'div', 'H_ib_body');\n  this['tailEl_'] = H.ui.dom.mkEl(doc, 'div', 'H_ib_tail', H.ui.InfoBubble.TAIL_SVG_);\n  this.closeEl_ = H.ui.dom.mkEl(doc, 'div', 'H_ib_close', H.ui.InfoBubble.CLOSE_SVG_);\n  this.contentEl_ = H.ui.dom.mkEl(doc, 'div', 'H_ib_content', '&nbsp;');\n  this.bodyEl_.appendChild(this.closeEl_);\n  this.bodyEl_.appendChild(this.contentEl_);\n\n  H.ui.dom.on(this.closeEl_, 'end', this.onUserClose_);\n  this.map_.getViewModel().addEventListener('sync', this.update);\n  this.map_.getViewPort().addEventListener('sync', this.update);\n  this.map_.addEventListener('enginechange', this.deferredUdate_);\n\n  element.appendChild(this.bodyEl_);\n  element.appendChild(this['tailEl_']);\n  this.setContent(this.content_);\n};\n\n\n/**\n * A helper method to trigger a deferrred update() call.\n * It's necessary to assure that the browser has time to render the bubble's content element and updates the offsetWidth\n * @private\n */\nH.ui.InfoBubble.prototype.deferredUdate_ = function() {\n  if (!this.deferredUdateHandle_) {\n    this.deferredUdateHandle_ = setTimeout(this.update, 0);\n  }\n};\n\n\n/**\n * The handle to an remained deferred update call\n * @private\n * @type {number}\n */\nH.ui.InfoBubble.prototype.deferredUdateHandle_;\n\n\n/**\n * This method updates the position of the bubble on the screen.\n */\nH.ui.InfoBubble.prototype.update = function() {\n  'use strict';\n\n  var el = this['el'],\n      map = this.map_,\n      vpWidth,\n      vpHeight,\n      screenCoord,\n      x,\n      y,\n      overlap,\n      width;\n\n  this.deferredUdateHandle_ = 0;\n\n  if (map && this.getElement() && this.getState() == H.ui.InfoBubble.State['OPEN']) {\n    screenCoord = map.geoToScreen(this.position_);\n\n    x = screenCoord && screenCoord['x'];\n    y = screenCoord && screenCoord['y'];\n\n    vpWidth = map.getViewPort()['width'],\n    vpHeight = map.getViewPort()['height'];\n\n    if (map.getEngine().type !== H.Map.EngineType.P2D) {\n      el.style.display = 'none';\n    } else {\n      if (x < -vpWidth || x > 2 * vpWidth || y < -vpWidth || y > 2 * vpWidth) {\n        el.style.display = 'none';\n      } else {\n        el.style.display = '';\n        if (H.ui.util.isStockAndroid) {\n          el.style.left = x - vpWidth + 'px';\n          el.style.top = y + 'px';\n        } else {\n          H.ui.css.translate(el, x, y);\n        }\n        width = this.contentEl_.offsetWidth;\n        overlap = (x - width);\n        if (overlap < 40) {\n          this.setContentOffset_(-overlap, width);\n        }\n      }\n    }\n  }\n};\n\n\n/**\n * Updates this bubble left-right wobbliness.\n * @param {number} overlap the overlap between the bubble and the left screen border\n * @param {number=} opt_contentWidth the width of the content\n * @private\n */\nH.ui.InfoBubble.prototype.setContentOffset_ = function(overlap, opt_contentWidth) {\n  'use strict';\n\n  var contentWidth = opt_contentWidth || this.contentEl_.offsetWidth,\n      tailWidth = this['tailEl_'].offsetWidth,\n      correctedX = Math.max(0, Math.min(contentWidth - tailWidth, overlap));\n  this.bodyEl_.style.right = correctedX ? -correctedX + 'px' : '0';\n};\n\n\n//#################################################  STATE  ############################################################\n/**\n * This enumeration holds the state an info bubble can have.\n * @enum {string}\n * @export\n * @publish\n */\nH.ui.InfoBubble.State = {\n  /**\n   * This value represents the state where an info bubble is open and visible (value: 'open').\n   */\n  'OPEN': 'open',\n  /**\n   * This value represents the state where an info bubble is closed and invisible (value: 'closed')\n   */\n  'CLOSED': 'closed'\n};\n\n\n/**\n * The current state (OPEN / CLOSED) of this info bubble\n * @private\n * @type {H.ui.InfoBubble.State}\n */\nH.ui.InfoBubble.prototype.state_ = H.ui.InfoBubble.State['OPEN'];\n\n\n/**\n * This method returns this info bubbles current state.\n * @return {H.ui.InfoBubble.State} this bubble's current state\n * @export\n * @publish\n */\nH.ui.InfoBubble.prototype.getState = function() {\n  return this.state_;\n};\n\n\n/**\n * This method sets the info bubble's state.\n * @param {H.ui.InfoBubble.State} state the new state\n * @export\n * @publish\n */\nH.ui.InfoBubble.prototype.setState = function(state) {\n  'use strict';\n\n  if (state !== this.state_) {\n    this.state_ = state;\n    this.dispatchEvent(H.ui.base.Element.EventType.STATECHANGE);\n  }\n  if (this.getElement()) {\n    if (this.state_ === H.ui.InfoBubble.State['OPEN']) {\n      this.getElement().style.display = 'block';\n      this.deferredUdate_();\n    } else {\n      this.getElement().style.display = 'none';\n    }\n  }\n};\n\n\n/**\n * This method closes the info bubble (setting its state to CLOSED)\n * @export\n * @publish\n */\nH.ui.InfoBubble.prototype.close = function() {\n  'use strict';\n\n  this.setState(H.ui.InfoBubble.State['CLOSED']);\n};\n\n\n/**\n * This method opens the info bubble (setting its state to OPEN)\n * @export\n * @publish\n */\nH.ui.InfoBubble.prototype.open = function() {\n  'use strict';\n\n  this.setState(H.ui.InfoBubble.State['OPEN']);\n};\n\n\n//################################################  CONTENT  ###########################################################\n/**\n * This method returns the bubble's content element.\n *\n * Note: Before adding an info bubble to a UI object the content element is null.\n *\n * @return {?HTMLElement} the content element of this info bubble\n *\n * @export\n * @publish\n */\nH.ui.InfoBubble.prototype.getContentElement = function() {\n  'use strict';\n\n  return this.contentEl_;\n};\n\n\n/**\n * This methods sets the content of the info bubble. This can either be a string (applied as innerHTML) to\n * the content element of this info bubble or a HTML node which is appended to the content element.\n * @param {string|Node} content the content for this bubble\n *\n * @export\n * @publish\n */\nH.ui.InfoBubble.prototype.setContent = function(content) {\n  'use strict';\n\n  var contentType = 0;\n\n  // validate content\n  if (content) {\n    if (typeof content === 'string' || (typeof content.nodeType === 'number' && typeof content.nodeName === 'string')) {\n      this.content_ = content;\n    } else {\n      throw new Error('InfoBubble content must be a string or HTML node.');\n    }\n  } else {\n    this.content_ = undefined;\n  }\n\n  if (this.getElement()) {\n    if (this.content_) {\n      this.contentEl_.innerHTML = '';\n      if (typeof this.content_ === 'string') {\n        this.contentEl_.innerHTML = content;\n      } else if (typeof content.nodeType === 'number' && typeof content.nodeName === 'string') {\n        this.contentEl_.appendChild(content);\n      }\n    } else {\n      // the bubble does not have content\n      this.contentEl_.innerHTML = '&nbsp;';\n    }\n    this.deferredUdate_();\n  }\n};\n\n\n/**\n * @override\n */\nH.ui.InfoBubble.prototype.disposeInternal = function() {\n  'use strict';\n\n  this.close();\n  this.setContent(null);\n\n  if (this.closeEl_) {\n    H.ui.dom.off(this.closeEl_, 'end', this.onUserClose_);\n  }\n\n  if (this.map_) {\n    this.map_.getViewModel().removeEventListener('sync', this.update);\n    this.map_.getViewPort().removeEventListener('sync', this.update);\n  }\n  H.ui.base.Element.prototype.disposeInternal.call(this);\n};\n\n\n/**\n * The SVG for the bubble's tail\n * @private\n */\nH.ui.InfoBubble.TAIL_SVG_ =\n    '<svg viewBox=\"0 0 25 25\">' +\n    '<g>' +\n    '<path d=\"M 11.3,0.23 5.08,12.1 C 2.28,12.2 0,13.2 0,14.5 0,15.9 2.28,17 5.08,17 c 2.8,0 5.12,-1.1 5.12,-2.5 0' +\n    ',-0.6 -0.62,-1.2 -1.52,-1.7 L 20.9,1.13 21,0.23 l -9.7,0 z\" style=\"fill:#0d2e41;fill-opacity:0.3\" />' +\n    '<path d=\"M 19.9,0.266 4.88,14.8 12.5,0.266 z\" />' +\n    '</g>' +\n    '</svg>';\n\n\n/**\n * The SVG for the bubble's close button\n * @private\n */\nH.ui.InfoBubble.CLOSE_SVG_ =\n    '<svg version=\"1.1\" class=\"H_icon\" viewBox=\"0 0 12 22\">' +\n    '<path d=\"M 9.01,17 6.04,14 3,17 0.03,14.1 3,11 0.096,8.17 3.07,5.15 6.04,8.07 8.95,5.15 11.9,8.17 9.01,11 12,14' +\n    '.1 9.01,17\" />' +\n    '</svg>';\n\n\n/**\n * @typedef {{\n *   onStateChange: (function(H.ui.InfoBubble.State)|undefined),\n *   content: (string|Node|undefined)\n * }}\n * @property {function(H.util.Event)=} onStateChange a callback to be invoked when the info bubble's state\n *  changes\n * @property {(string|Node)} content content to be added to the info bubble\n * @publish\n */\nH.ui.InfoBubble.Options;\n\n\n/**\n * Disposes of this InfoBubble instance.\n *\n * Note: Disposing of an info bubble does not automatically remove it from the UI's info bubble collection.\n * Please call {@link H.ui.UI#removeBubble} before disposing of an info bubble instance.\n *\n * @method H.ui.InfoBubble#dispose\n * @publish\n */\n\n\n/**\n * This event is dispatched when state of the bubble has changed\n * @event H.ui.InfoBubble#statechange\n * @type {H.util.Event}\n * @publish\n */\n",
		"goog.provide('H.ui.traffic.TrafficIncidents');\n\ngoog.require('H.ui.InfoBubble');\n\n\n\n/**\n * This class represents the traffic incidents functionality accessible from the map settings control.\n * It consists of a button (which is added to the map settings control) as well as functionality for\n * showing info bubbles when clicking on markers shown by the traffic incidents layer.\n * @constructor\n */\nH.ui.traffic.TrafficIncidents = function() {\n  'use strict';\n\n  /**\n   * @private\n   * @type {function(H.util.Event)}\n   */\n  this.onIncidentTap_ = H.lang.bind(this.onIncidentTap_, this);\n\n  /**\n   * @private\n   * @type {function(H.util.Event)}\n   */\n  this.onIncidentsStateChange_ = H.lang.bind(this.onIncidentsStateChange_, this);\n\n  /**\n   * @type {H.ui.base.PushButton}\n   * @private\n   */\n  this.incidentsBtn_ = new H.ui.base.PushButton({\n    'label': 'Show traffic incidents',\n    'onStateChange': this.onIncidentsStateChange_\n  });\n\n  /**\n   * @type {H.ui.InfoBubble}\n   * @private\n   */\n  this.incidentsBubble_ = null;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  this.bubbleMin_ = 0;\n\n  /**\n   * @type {number}\n   * @private\n   */\n  this.bubbleMax_ = 22;\n};\n\n\n/**\n * @private\n * @type {string}\n */\nH.ui.traffic.TrafficIncidents.INFOBUBBLE_TEMPLATE_ =\n    '<div class=\"H_tib\">' +\n    '<p>{{title}}</p>' +\n    '<p class=\"H_tib_desc\">{{desc}}</p>' +\n    '<p class=\"H_tib_time\">' +\n    '<span class=\"H_tib_left\">{{traffic.from}}</span><span class=\"H_tib_right\">{{from}}</span><br/>' +\n    '<span class=\"H_tib_left\">{{traffic.until}}</span><span class=\"H_tib_right\">{{until}}</span></p>' +\n    '</div>';\n\n\n/**\n * Retrieves the traffic incidents button (for the map settings control)\n * @return {H.ui.base.PushButton}\n */\nH.ui.traffic.TrafficIncidents.prototype.getButton = function() {\n  'use strict';\n  return this.incidentsBtn_;\n};\n\n\n/**\n * Sets the traffic incidents layer to be shown when activating the respective button\n * on the map settings control.\n * @param {H.map.layer.Layer} incidentsLayer the incidents layer\n */\nH.ui.traffic.TrafficIncidents.prototype.setIncidentsLayer = function(incidentsLayer) {\n  'use strict';\n  var provider,\n      oldIncidentsLayer = this.incidentsBtn_.getData(),\n      newIncidentsLayer = incidentsLayer;\n\n  if (oldIncidentsLayer) {\n    oldIncidentsLayer.getProvider().removeEventListener('tap', this.onIncidentTap_);\n  }\n\n  if (newIncidentsLayer) {\n    provider = newIncidentsLayer.getProvider();\n    provider.addEventListener('tap', this.onIncidentTap_);\n    this.bubbleMin_ = provider['min'];\n    this.bubbleMax_ = provider['max'];\n    this.incidentsBtn_.setData(newIncidentsLayer);\n    this.incidentsBtn_.setVisibility(true);\n    this.updateButtonState();\n  } else {\n    this.incidentsBtn_.setData(null);\n    this.incidentsBtn_.setVisibility(false);\n    this.bubbleMin_ = 0;\n    this.bubbleMax_ = 22;\n  }\n};\n\n\n/**\n * Sets the reference to the UI (for adding bubbles)\n * @param {H.ui.UI} ui\n */\nH.ui.traffic.TrafficIncidents.prototype.setUi = function(ui) {\n  'use strict';\n  var that = this;\n  this.ui_ = ui;\n  this.incidentsBtn_.setLabel(ui.getLocalization().translate('layer.incidents'));\n  this.updateButtonState();\n  this.ui_.getMap().addEventListener('mapviewchange', function(ev) {\n    var zoom = ev['newValue'].zoom;\n    if (that.incidentsBubble_ && (ev['modifiers'] & ev['ZOOM'])) {\n      if (zoom < that.bubbleMin_ || zoom > that.bubbleMax_) {\n        that.incidentsBubble_.close();\n      }\n    }\n  });\n};\n\n\n/**\n * Synchronizes the traffic incidents button state with the map's data model.\n */\nH.ui.traffic.TrafficIncidents.prototype.updateButtonState = function() {\n  'use strict';\n  //synchronize UI if traffic incidents layer is already in the map's layers\n  var ui = this.ui_,\n      incidentsLayer = this.incidentsBtn_.getData(),\n      map;\n  if (ui && (map = ui.getMap()) && incidentsLayer) {\n    if (map.getLayers().indexOf(incidentsLayer) >= 0) {\n      this.incidentsBtn_.setState(H.ui.base.Button.State.DOWN, true);\n    } else {\n      this.incidentsBtn_.setState(H.ui.base.Button.State.UP, true);\n      this.incidentsBubble_ && this.incidentsBubble_.close();\n    }\n  } else {\n    this.incidentsBtn_.setState(H.ui.base.Button.State.UP, true);\n  }\n};\n\n\n/**\n * Handler for state changes of the incidents button\n * @param {H.util.Event} evt the event signaling the state change\n * @private\n */\nH.ui.traffic.TrafficIncidents.prototype.onIncidentsStateChange_ = function(evt) {\n  'use strict';\n\n  var map = this.ui_.getMap(),\n      incidentsLayer = /** @type {H.map.layer.Layer} */(this.incidentsBtn_.getData());\n  if (map && incidentsLayer) {\n    if (this.incidentsBtn_.getState() === H.ui.base.Button.State['DOWN']) {\n      map.addLayer(incidentsLayer);\n      //incidentsLayer.getProvider().addEventListener('tap', this.onIncidentTap_);\n    } else {\n      map.removeLayer(incidentsLayer);\n      //incidentsLayer.getProvider().removeEventListener('tap', this.onIncidentTap_);\n    }\n  }\n};\n\n\n/**\n * Handles taps on traffic incidents (by showing an info bubble with details).\n * @param {H.util.Event} evt the tap event\n * @private\n */\nH.ui.traffic.TrafficIncidents.prototype.onIncidentTap_ = function(evt) {\n  'use strict';\n  var that = this,\n      data,\n      template = H.ui.traffic.TrafficIncidents.INFOBUBBLE_TEMPLATE_,\n      incidentType;\n\n  if (evt.target && (data = evt.target.getData())) {\n    if (!this.incidentsBubble_) {\n      this.incidentsBubble_ = new H.ui.InfoBubble(evt.target.getPosition());\n      this.ui_.addBubble(this.incidentsBubble_);\n    }\n    this.incidentsBubble_.setPosition(evt.target.getPosition());\n\n    incidentType = data['TRAFFIC_ITEM_TYPE_DESC'].replace(' ', '_');\n    if (this.ui_.getLocalization().hasKey('traffic.' + incidentType)) {\n      incidentType = this.ui_.getLocalization().translate('traffic.' + incidentType);\n    }\n\n    this.incidentsBubble_.setContent(\n        template.replace('{{title}}', incidentType)\n                .replace('{{desc}}', data['TRAFFIC_ITEM_DESCRIPTION'][0]['value'])\n                .replace('{{traffic.from}}', this.ui_.getLocalization().translate('traffic.from'))\n                .replace('{{traffic.until}}', this.ui_.getLocalization().translate('traffic.until'))\n                .replace('{{from}}', data['START_TIME'])\n                .replace('{{until}}', data['END_TIME']));\n    this.incidentsBubble_.open();\n  }\n\n  evt.stopPropagation();\n};\n",
		"goog.provide('H.ui.MapSettingsControl');\n\n\ngoog.require('H.ui.Control');\ngoog.require('H.ui.base.OverlayPanel');\ngoog.require('H.ui.base.PushButton');\ngoog.require('H.ui.base.RadioGroup');\ngoog.require('H.ui.icons.mapSettings');\ngoog.require('H.ui.traffic.TrafficIncidents');\n\n\n\n/**\n * This class represents a menu control allowing to control which map type the map shows, etc.\n *\n * @constructor\n * @param {H.ui.MapSettingsControl.Options=} opt_options optional parameters to be passed to this control\n *\n * @extends {H.ui.Control}\n *\n * @export\n * @publish\n */\nH.ui.MapSettingsControl = function(opt_options) {\n  'use strict';\n\n  var options = opt_options || {};\n\n  H.ui.Control.call(this);\n\n  this.onTrafficStateChange_ = H.lang.bind(this.onTrafficStateChange_, this);\n  this.onTransitStateChange_ = H.lang.bind(this.onTransitStateChange_, this);\n  this.onLayerSelect_ = H.lang.bind(this.onLayerSelect_, this);\n  //this.onBaseLayerChange_ = H.lang.bind(this.onBaseLayerChange_, this);\n  this.onLayersChange_ = H.lang.bind(this.onLayersChange_, this);\n  this.closeMenu = H.lang.bind(this.closeMenu, this);\n\n  /**\n   * @type {H.ui.base.OverlayPanel}\n   * @private\n   */\n  this.menu_ = new H.ui.base.OverlayPanel();\n  /**\n   * @type {H.ui.base.RadioGroup}\n   * @private\n   */\n  this.mapTypes_ = new H.ui.base.RadioGroup({\n    'onActiveButtonChange': this.onLayerSelect_\n  });\n\n  /**\n   * @type {H.ui.base.PushButton}\n   * @private\n   */\n  this.transitBtn_ = new H.ui.base.PushButton({\n    'onStateChange': this.onTransitStateChange_\n  });\n  /**\n   * @type {H.ui.base.PushButton}\n   * @private\n   */\n  this.trafficBtn_ = new H.ui.base.PushButton({\n    'onStateChange': this.onTrafficStateChange_\n  });\n\n  this.trafficIncidents_ = new H.ui.traffic.TrafficIncidents();\n  this.trafficIncidents_.setIncidentsLayer(options['incidents']);\n\n  /**\n   * @type {H.ui.base.PushButton}\n   * @private\n   */\n  this.menuButton_ = new H.ui.base.PushButton({\n    'label': H.ui.icons.mapSettings,\n    'onStateChange': H.lang.bind(function(evt) {\n      if (evt.target.getState() === H.ui.base.Button.State['DOWN']) {\n        this.menu_.setState(H.ui.base.OverlayPanel.State['OPEN']);\n        this.menu_.pointToControl(this);\n      } else {\n        this.menu_.setState(H.ui.base.OverlayPanel.State['CLOSED']);\n      }\n    }, this)\n  });\n\n  this.menu_.addChild(this.mapTypes_);\n  this.menu_.addChild(this.trafficBtn_);\n  this.menu_.addChild(this.transitBtn_);\n  this.menu_.addChild(this.trafficIncidents_.getButton());\n\n  this.addChild(this.menuButton_);\n  this.addChild(this.menu_);\n\n  //apply options or defaults\n  if (options['entries']) {\n    options['entries'].forEach(function(entry) {\n      this.addMapTypeEntry(entry);\n    }, this);\n  }\n  this.setAlignment(options['alignment'] || H.ui.LayoutAlignment.BOTTOM_RIGHT);\n};\nH.lang.inherits(H.ui.MapSettingsControl, H.ui.Control);\n\n\n/**\n * @override\n * @export\n */\nH.ui.MapSettingsControl.prototype.renderInternal = function(element, doc) {\n  'use strict';\n\n  var layers = this.getMap().getLayers();\n\n  H.ui.Control.prototype['renderInternal'].call(this, element, doc);\n\n  this.mapTypes_.setTitle(this.getLocalization().translate('layers.choose'));\n  this.mapTypes_.getButtons().forEach(function(button) {\n    var label = button.getLabel();\n    if (label.substr(0, 7) === 'layers.') {\n      button.setLabel(this.getLocalization().translate(label));\n    }\n  }, this);\n  this.transitBtn_.setLabel(this.getLocalization().translate('layer.transit'));\n  this.trafficBtn_.setLabel(this.getLocalization().translate('layer.traffic'));\n  this.menuButton_.setTooltip(this.getLocalization().translate('layers.choose'));\n\n  this.trafficIncidents_.setUi(/** @type {H.ui.UI} */(this.getParentEventTarget()));\n\n  //this.getMap().addEventListener('baselayerchange', this.onBaseLayerChange_);\n  layers.addEventListener('add', this.onLayersChange_);\n  layers.addEventListener('remove', this.onLayersChange_);\n  layers.addEventListener('set', this.onLayersChange_);\n\n  this.getMap().addEventListener('tap', this.closeMenu);\n  this.onBaseLayerChange_();\n};\n\n\n/**\n * Handler when the layer drop down selection changes.\n * @param {H.util.Event=} opt_evt\n * @private\n */\nH.ui.MapSettingsControl.prototype.onLayerSelect_ = function(opt_evt) {\n  'use strict';\n\n  var mapTypeButton = this.mapTypes_.getActiveButton(),\n      mapType = mapTypeButton ? mapTypeButton.getData() : null,\n      baseLayerToUse;\n\n  if (mapType) {\n    // OK, now here is where it becomes a bit complicated\n    // Here we choose which layer to activate:\n\n    // By default we assume we are using the 'map' layer\n    baseLayerToUse = mapType['map'];\n\n    // Check it this map type has a 'transit' layer and if so enable the button for it\n    // Then if the 'transit' layer is available AND the button is pressed, we will assume to\n    // use that layer as the base layer\n    this.transitBtn_.setDisabled(!mapType['transit']);\n    if (mapType['transit']) {\n      if (!this.transitBtn_.isDisabled() && this.transitBtn_.getState() === H.ui.base.Button.State['DOWN']) {\n        baseLayerToUse = mapType['transit'];\n      }\n    }\n\n    // No do the same for traffic, i.e. check if it is available, enable the button and if the button's\n    // state us down, use the traffic layer as a base layer\n\n    this.trafficBtn_.setDisabled(!mapType['traffic']);\n    if (mapType['traffic']) {\n      if (!this.trafficBtn_.isDisabled() && this.trafficBtn_.getState() === H.ui.base.Button.State['DOWN']) {\n        baseLayerToUse = mapType['traffic'];\n      }\n    }\n\n    //if we have a base layer and a map, we can go ahead and set the base layer\n    if (baseLayerToUse && this.map) {\n      this.map.setBaseLayer(baseLayerToUse);\n    }\n  } else {\n    //If we do not have a map type (no button is active), we disable the traffic buttons\n    this.transitBtn_.setDisabled(true);\n    this.trafficBtn_.setDisabled(true);\n  }\n};\n\n\n/**\n * Handler for state changes of the traffic button\n * @param {H.util.Event} evt the current state of the button\n * @private\n */\nH.ui.MapSettingsControl.prototype.onTrafficStateChange_ = function(evt) {\n  'use strict';\n\n  if (this.trafficBtn_.getState() === H.ui.base.Button.State['DOWN']) {\n    //when traffic is activated we deactivate PT\n    this.transitBtn_.setState(H.ui.base.Button.State['UP'], true);\n  }\n  this.onLayerSelect_();\n};\n\n\n/**\n * Handler for state changes of the traffic button\n * @param {H.util.Event} evt the event signaling the state change\n * @private\n */\nH.ui.MapSettingsControl.prototype.onTransitStateChange_ = function(evt) {\n  'use strict';\n\n  //when PT is activated we deactivate traffic\n  if (this.transitBtn_.getState() === H.ui.base.Button.State['DOWN']) {\n    this.trafficBtn_.setState(H.ui.base.Button.State['UP'], true);\n  }\n  this.onLayerSelect_();\n};\n\n\n/**\n * @private\n * @param {H.util.OList.Event} evt the change event from the data model\n */\nH.ui.MapSettingsControl.prototype.onLayersChange_ = function(evt) {\n  if (evt['idx'] === 0) {\n    this.onBaseLayerChange_(evt);\n  } else {\n    this.trafficIncidents_.updateButtonState();\n  }\n};\n\n\n/**\n * Handles base layer changes on the map (possibly from the outside world)\n * @param {H.util.ChangeEvent=} opt_evt\n * @private\n */\nH.ui.MapSettingsControl.prototype.onBaseLayerChange_ = function(opt_evt) {\n  'use strict';\n\n  var found = null,\n      baseLayer = opt_evt ? opt_evt['added'] : this.map.getBaseLayer();\n\n  this.mapTypes_.getButtons().forEach(function(button) {\n    var data = button.getData();\n    if (data['map'] === baseLayer) {\n      this.mapTypes_.setActiveButton(button, true);\n      this.transitBtn_.setState(H.ui.base.Button.State['UP'], true);\n      this.trafficBtn_.setState(H.ui.base.Button.State['UP'], true);\n      found = data;\n    } else if (data['transit'] && data['transit'] === baseLayer) {\n      this.mapTypes_.setActiveButton(button, true);\n      this.transitBtn_.setState(H.ui.base.Button.State['DOWN'], true);\n      this.trafficBtn_.setState(H.ui.base.Button.State['UP'], true);\n      found = data;\n    } else if (data['traffic'] && data['traffic'] === baseLayer) {\n      this.mapTypes_.setActiveButton(button, true);\n      this.transitBtn_.setState(H.ui.base.Button.State['UP'], true);\n      this.trafficBtn_.setState(H.ui.base.Button.State['DOWN'], true);\n      found = data;\n    }\n  }, this);\n\n  if (!found) {\n    this.mapTypes_.setActiveButton(null, true);\n  } else {\n    this.transitBtn_.setDisabled(!found['transit']);\n    this.trafficBtn_.setDisabled(!found['traffic']);\n  }\n};\n\n\n/**\n * @override\n * @export\n */\nH.ui.MapSettingsControl.prototype.onMapEngineTypeChange = function(engineType) {\n  'use strict';\n\n  var hide = engineType !== H.Map.EngineType.P2D;\n  this.getElement().style.display = hide ? 'none' : '';\n};\n\n\n/**\n * This method closes the map settings panel.\n */\nH.ui.MapSettingsControl.prototype.closeMenu = function() {\n  'use strict';\n\n  this.menuButton_.setState(H.ui.base.Button.State['UP']);\n};\n\n\n/**\n * This method add a map type entry to this map settings control.\n * @param {H.ui.MapSettingsControl.MapTypeEntry} entry\n */\nH.ui.MapSettingsControl.prototype.addMapTypeEntry = function(entry) {\n  'use strict';\n\n  this.mapTypes_.addButton(new H.ui.base.PushButton({\n    'label': entry['name'],\n    'data': entry['mapType']\n  }));\n};\n\n\n/**\n * This method removes a map type entry from this map settings control.\n * @param {H.ui.MapSettingsControl.MapTypeEntry} entry\n */\nH.ui.MapSettingsControl.prototype.removeMapTypeEntry = function(entry) {\n  'use strict';\n\n  var buttons = this.mapTypes_.getButtons(),\n      i = buttons.length,\n      button;\n  while (i--) {\n    if (buttons[i].getData() === entry['mapType']) {\n      button = buttons[i];\n    }\n  }\n\n  if (button) {\n    this.mapTypes_.removeButton(button);\n  }\n};\n\n\n/**\n * Sets the traffic incidents layer to be shown when activating the respective button\n * on the map settings control.\n *\n * Setting this layer to a {@code falsy} value will hide the button.\n *\n * @param {H.map.layer.Layer} incidentsLayer the incidents layer\n * @export\n * @publish\n */\nH.ui.MapSettingsControl.prototype.setIncidentsLayer = function(incidentsLayer) {\n  this.trafficIncidents_.setIncidentsLayer(incidentsLayer);\n};\n\n\n/**\n * @typedef {{\n *   alignment: (string|undefined),\n *   entries: (Array.<H.ui.MapSettingsControl.MapTypeEntry>|undefined),\n *   incidents: (H.map.layer.Layer|undefined)\n * }}\n * @property {string=} alignment the layout alignment which should be applied to this control,\n *           default is {@link H.ui.LayoutPositon.BOTTOM_RIGHT}\n * @property {Array.<H.ui.MapSettingsControl.MapTypeEntry>=} entries the map type entries to be shown in this\n *   map settings control\n * @property {H.map.layer.Layer} incidents the traffic incidents layer to be activated by the map settings\n *   control\n * @publish\n */\nH.ui.MapSettingsControl.Options;\n\n\n/**\n * The map type entry is an object containing a display name and a map type object to which it refers.\n * @typedef {{\n *   name: (string),\n *   mapType: (H.service.MapType)\n * }}\n * @property {string} name label which describes the map type\n * @property {H.service.MapType} mapType reference to map type\n * @publish\n */\nH.ui.MapSettingsControl.MapTypeEntry;\n",
		"goog.provide('H.ui.icons.mapSettings');\n\n\n/**\n * The SVG markup for the \"map settings\" icon.\n * @type {string}\n */\nH.ui.icons.mapSettings =\n    '<svg version=\"1.1\" class=\"H_icon\" viewBox=\"0 0 26 26\">' +\n    '<path d=\"M24,7.75c0,.55-.45,1-1,1H3c-.55,0-1-.45-1-1v-1.5c0-.55,.45-1,1-1h20c.55,0,1,.45,1,1V7.75z\"/>' +\n    '<path d=\"M24,13.75c0,.55-.45,1-1,1H3c-.55,0-1-.45-1-1v-1.5c0-.55,.45-1,1-1h20c.55,0,1,.45,1,1V13.75z\"/>' +\n    '<path d=\"M24,19.75c0,.55-.45,1-1,1H3c-.55,0-1-.45-1-1v-1.5c0-.55,.45-1,1-1h20c.55,0,1,.45,1,1V19.75z\"/>' +\n    '</svg>';\n",
		"goog.provide('H.ui.Layout');\n\ngoog.require('H.ui.LayoutAlignment');\n\n\n\n/**\n * This class encapsulates the layout functionality for UI element alignments.\n * @constructor\n * @param {Element} uiEl the UI element to which this Layout belongs.\n * @param {Document} doc the document into which this layout renders\n */\nH.ui.Layout = function(uiEl, doc) {\n  'use strict';\n\n  var anchors = {},\n      corners = {},\n      Alignment = H.ui.LayoutAlignment,\n      Css = H.ui.Layout.CssClassNames,\n      mkEl = H.ui.dom.mkEl,\n      append = H.ui.dom.append;\n\n  anchors[Alignment.TOP_LEFT] = mkEl(doc, 'div', [Css.ANCHOR, Css.HORIZONTAL].join(' '));\n  anchors[Alignment.TOP_CENTER] = mkEl(doc, 'div', [Css.ANCHOR, Css.TOP, Css.CENTER, Css.HORIZONTAL].join(' '));\n  anchors[Alignment.TOP_RIGHT] = mkEl(doc, 'div', [Css.ANCHOR, Css.HORIZONTAL].join(' '));\n  anchors[Alignment.LEFT_TOP] = mkEl(doc, 'div', [Css.ANCHOR, Css.VERTICAL].join(' '));\n  anchors[Alignment.LEFT_MIDDLE] = mkEl(doc, 'div', [Css.ANCHOR, Css.LEFT, Css.MIDDLE, Css.VERTICAL].join(' '));\n  anchors[Alignment.LEFT_BOTTOM] = mkEl(doc, 'div', [Css.ANCHOR, Css.VERTICAL].join(' '));\n  anchors[Alignment.RIGHT_TOP] = mkEl(doc, 'div', [Css.ANCHOR, Css.VERTICAL].join(' '));\n  anchors[Alignment.RIGHT_MIDDLE] = mkEl(doc, 'div', [Css.ANCHOR, Css.RIGHT, Css.MIDDLE, Css.VERTICAL].join(' '));\n  anchors[Alignment.RIGHT_BOTTOM] = mkEl(doc, 'div', [Css.ANCHOR, Css.VERTICAL].join(' '));\n  anchors[Alignment.BOTTOM_LEFT] = mkEl(doc, 'div', [Css.ANCHOR, Css.HORIZONTAL].join(' '));\n  anchors[Alignment.BOTTOM_CENTER] = mkEl(doc, 'div', [Css.ANCHOR, Css.BOTTOM, Css.CENTER, Css.HORIZONTAL].join(' '));\n  anchors[Alignment.BOTTOM_RIGHT] = mkEl(doc, 'div', [Css.ANCHOR, Css.HORIZONTAL].join(' '));\n\n  corners[Alignment.TOP_LEFT] = mkEl(doc, 'div', [Css.TOP, Css.LEFT].join(' '));\n  corners[Alignment.TOP_RIGHT] = mkEl(doc, 'div', [Css.TOP, Css.RIGHT].join(' '));\n  corners[Alignment.BOTTOM_LEFT] = mkEl(doc, 'div', [Css.BOTTOM, Css.LEFT].join(' '));\n  corners[Alignment.BOTTOM_RIGHT] = mkEl(doc, 'div', [Css.BOTTOM, Css.RIGHT].join(' '));\n\n  append(corners[Alignment.TOP_LEFT], anchors[Alignment.TOP_LEFT], anchors[Alignment.LEFT_TOP]);\n  append(corners[Alignment.TOP_RIGHT], anchors[Alignment.TOP_RIGHT], anchors[Alignment.RIGHT_TOP]);\n  append(corners[Alignment.BOTTOM_LEFT], anchors[Alignment.LEFT_BOTTOM], anchors[Alignment.BOTTOM_LEFT]);\n  append(corners[Alignment.BOTTOM_RIGHT], anchors[Alignment.RIGHT_BOTTOM], anchors[Alignment.BOTTOM_RIGHT]);\n\n  append(uiEl,\n      corners[Alignment.TOP_LEFT],\n      corners[Alignment.TOP_RIGHT],\n      corners[Alignment.BOTTOM_LEFT],\n      corners[Alignment.BOTTOM_RIGHT],\n      anchors[Alignment.TOP_CENTER],\n      anchors[Alignment.LEFT_MIDDLE],\n      anchors[Alignment.RIGHT_MIDDLE],\n      anchors[Alignment.BOTTOM_CENTER]);\n\n  /**\n   * This property holds the anchor elements to which UI elements can be appended.\n   * @type {Object.<string, HTMLElement>}\n   * @private\n   */\n  this.anchors_ = anchors;\n\n  /**\n   * This property holds the corner elements within which the corner anchors are located.\n   * @type {Object.<string, HTMLElement>}\n   * @private\n   */\n  this.corners_ = corners;\n};\n\n\n/**\n * @const\n * @type {string}\n * @private\n */\nH.ui.Layout.cssClassPrefix_ = 'H_l_';\n\n\n/**\n * This enumeration holds the CSS class names used for layout elements\n * @enum {string}\n */\nH.ui.Layout.CssClassNames = {\n  TOP: H.ui.Layout.cssClassPrefix_ + 'top',\n  BOTTOM: H.ui.Layout.cssClassPrefix_ + 'bottom',\n  LEFT: H.ui.Layout.cssClassPrefix_ + 'left',\n  RIGHT: H.ui.Layout.cssClassPrefix_ + 'right',\n  CENTER: H.ui.Layout.cssClassPrefix_ + 'center',\n  MIDDLE: H.ui.Layout.cssClassPrefix_ + 'middle',\n  HORIZONTAL: H.ui.Layout.cssClassPrefix_ + 'horizontal',\n  VERTICAL: H.ui.Layout.cssClassPrefix_ + 'vertical',\n  ANCHOR: H.ui.Layout.cssClassPrefix_ + 'anchor'\n};\n\n\n/**\n * This method updates the layout when items change within the layout containers.\n */\nH.ui.Layout.prototype.update = function() {\n  'use strict';\n\n  var anchors = this.anchors_,\n      Alignment = H.ui.LayoutAlignment;\n\n  this.updateAnchor_(anchors[Alignment.TOP_CENTER], true);\n  this.updateAnchor_(anchors[Alignment.BOTTOM_CENTER], true);\n  this.updateAnchor_(anchors[Alignment.LEFT_MIDDLE], false);\n  this.updateAnchor_(anchors[Alignment.RIGHT_MIDDLE], false);\n};\n\n\n/**\n * Updates an anchors alignment (for ...center anchors).\n * @param {Element} anchor the anchor element to update\n * @param {boolean} horizontal whether this anchor needs a horizontal update (otherwise vertical)\n * @private\n */\nH.ui.Layout.prototype.updateAnchor_ = function(anchor, horizontal) {\n  'use strict';\n\n  var height,\n      width;\n  if (horizontal) {\n    width = anchor.offsetWidth;\n    anchor.style.marginLeft = (-Math.round(width * 0.5)) + 'px';\n  } else {\n    height = anchor.offsetHeight;\n    anchor.style.marginTop = (-Math.round(height * 0.5)) + 'px';\n  }\n};\n\n\n/**\n * This method moves a UI element to the specified alignment anchor within the layout.\n * @param {H.ui.Control} control the control to move\n * @param {H.ui.LayoutAlignment} alignment the the anchor's alignment to which to move the control\n */\nH.ui.Layout.prototype.put = function(control, alignment) {\n  'use strict';\n\n  var controlEl = control ? control.getElement() : null,\n      anchorEl = alignment ? this.anchors_[alignment] : null;\n  if (controlEl && anchorEl) {\n    if (controlEl.parentElement) {\n      controlEl.parentElement.removeChild(controlEl);\n    }\n\n    anchorEl.insertBefore(\n        controlEl,\n        // Either the alignment ends with \"bottom\" or \"right\":\n        /(bottom|right)$/.test(alignment) ||\n        // Or it contains \"center\" or \"middle\" and has a even number of children:\n        /(center|middle)/.test(alignment) && anchorEl.childNodes.length % 2 ?\n        // Then we insert it at the first position:\n        anchorEl.firstChild :\n        // Otherwise at the end:\n        null);\n  }\n  this.update();\n};\n",
		"goog.provide('H.ui.UnitSystem');\n\n\n/**\n * This enumeration holds the possible unit systems for the UI to display distances.\n * @enum {string}\n * @export\n * @publish\n */\nH.ui.UnitSystem = {\n  /**\n   * This value represents the imperial unit system using miles and feet (value: 'imperial').\n   */\n  'IMPERIAL': 'imperial',\n  /**\n   * This value represents the metric unit system using meters and kilometers, etc (value: 'metric').\n   */\n  'METRIC': 'metric'\n};\n",
		"/**\n * Namespace contaisn functionality related to internationalization.\n * @namespace H.ui.i18n\n * @publish\n */\ngoog.provide('H.ui.i18n');\n\n\n/**\n * Default available locales. UI provides default translations for\n * this set of locale codes.\n * @type {Array.<string>}\n * @export\n * @publish\n */\nH.ui.i18n.defaultLocales = [];\n\n\n/**\n * Set of default translation maps\n * @type {Object}\n */\nH.ui.i18n.defaultStrings = {};\n\n\n/**\n * Defines minimum key set required for external\n * maps\n * @type {Array.<string>}\n */\nH.ui.i18n.minimumKeySet = [];\n\n\n/**\n * This method sets default translation map\n * used by default translations. Do not publish!\n * @param {!string} locale\n * @param {!Object} map\n */\nH.ui.i18n.define = function(locale, map) {\n  'use strict';\n  H.ui.i18n.defaultStrings[locale] = map;\n  if (H.ui.i18n.defaultLocales.indexOf(locale) === -1) {\n    H.ui.i18n.defaultLocales.push(locale);\n  }\n\n  if (!H.ui.i18n.minimumKeySet.length) {\n    H.ui.i18n.minimumKeySet = Object.keys(map);\n  } else {\n    H.ui.i18n.validateMap(locale, map);\n  }\n};\n\n\n/**\n * This method returns a bollean value indicating whether the UI supports\n * the locale by default.\n * @param {string} locale the locale code to be queried\n * @return {boolean} {@code true} if the locale is supported, otherwise {@code false}.\n */\nH.ui.i18n.hasDefaultLocale = function(locale) {\n  'use strict';\n  return H.ui.i18n.defaultLocales.indexOf(locale) >= 0;\n};\n\n\n/**\n * This method validates provided translation map. It\n * returns false if map has less number of matching keys than\n * default minimum key set. Do not publish!\n * @param {string} locale\n * @param {Object} map\n */\nH.ui.i18n.validateMap = function(locale, map) {\n  'use strict';\n  var minimumKeySet = H.ui.i18n.minimumKeySet,\n      i = minimumKeySet.length,\n      key;\n  while (i--) {\n    key = minimumKeySet[i];\n    if (!map[key]) {\n      throw new Error('\\'' + key + '\\' key missing in translation map for ' + locale);\n    }\n  }\n};\n\n\n",
		"goog.provide('H.ui.i18n.strings_pt_BR');\ngoog.require('H.ui.i18n');\n\nH.ui.i18n.define('pt-BR', {\n  'layers.normal': 'Exibio do mapa',\n  'layers.satellite': 'Satlite',\n  'layers.terrain': 'Terreno',\n  'layer.transit': 'Transporte pblico',\n  'layer.traffic': 'Condies do trnsito',\n  'layer.incidents': 'Mostrar incidentes no trnsito',\n  'layers.choose': 'Escolher exibio',\n  'scale.switchToImperial': 'Mudar para milhas',\n  'scale.switchToMetric': 'Mudar para km',\n  'scale.km': 'km',\n  'scale.m': 'm',\n  'scale.mi': 'milhas',\n  'scale.ft': 'ps',\n  'zoom.out': 'Menos zoom',\n  'zoom.in': 'Mais zoom',\n  'panorama.leave': 'Sair de nvel de rua',\n  'panorama.showCoverage': 'Mostrar reas com Nvel de Rua',\n  'panorama.hideCoverage': 'Esconder reas com Nvel de Rua',\n  'panorama.unavailableHere': 'No  possvel mostrar Nvel da Rua aqui.',\n  'traffic.MASS_TRANSIT': 'Transporte pblico',\n  'traffic.MISCELLANEOUS': 'Miscelnea',\n  'traffic.ACCIDENT': 'Acidente',\n  'traffic.OTHER_NEWS': 'Outras notcias',\n  'traffic.PLANNED_EVENT': 'Evento planejado',\n  'traffic.ROAD_HAZARD': 'Risco na estrada',\n  'traffic.WEATHER': 'Clima',\n  'traffic.CONGESTION': 'Congestionamento',\n  'traffic.CONSTRUCTION': 'Construo',\n  'traffic.DISABLED_VEHICLE': 'Veculo incapacitado',\n  'traffic.from': 'Hora de incio:',\n  'traffic.until': 'Tempo final estimado:'\n});\n",
		"goog.provide('H.ui.i18n.strings_fi_FI');\ngoog.require('H.ui.i18n');\n\nH.ui.i18n.define('fi-FI', {\n  'layers.normal': 'Karttankym',\n  'layers.satellite': 'Satelliitti',\n  'layers.terrain': 'Maasto',\n  'layer.transit': 'Julkinen liikenne',\n  'layer.traffic': 'Liikenneolosuhteet',\n  'layer.incidents': 'Nyt liikennetapahtumat',\n  'layers.choose': 'Valitse nkym',\n  'scale.switchToImperial': 'Vaihda maileihin',\n  'scale.switchToMetric': 'Vaihda kilometreihin',\n  'scale.km': 'km',\n  'scale.m': 'm',\n  'scale.mi': 'mi',\n  'scale.ft': 'ft',\n  'zoom.out': 'Loitonna',\n  'zoom.in': 'Lhenn',\n  'panorama.leave': 'Poistu katunkymst',\n  'panorama.showCoverage': 'Nyt katutason kattavuus',\n  'panorama.hideCoverage': 'Piilota katutason kattavuus',\n  'panorama.unavailableHere': 'Emme voi nytt sinulle katu tasoa tss',\n  'traffic.MASS_TRANSIT': 'Julkinen liikenne',\n  'traffic.MISCELLANEOUS': 'Erittelemtn syy',\n  'traffic.ACCIDENT': 'Onnettomuus',\n  'traffic.OTHER_NEWS': 'Muu tapahtuma',\n  'traffic.PLANNED_EVENT': 'Suunniteltu tapahtuma',\n  'traffic.ROAD_HAZARD': 'Vaara tiell',\n  'traffic.WEATHER': 'S',\n  'traffic.CONGESTION': 'Ruuhka',\n  'traffic.CONSTRUCTION': 'Rakennusty',\n  'traffic.DISABLED_VEHICLE': 'Pyshtynyt ajoneuvo',\n  'traffic.from': 'Alkamisaika:',\n  'traffic.until': 'Arvioitu pttymisaika:'\n});\n",
		"goog.provide('H.ui.i18n.strings_fr_FR');\ngoog.require('H.ui.i18n');\n\nH.ui.i18n.define('fr-FR', {\n  'layers.normal': 'Carte',\n  'layers.satellite': 'Satellite',\n  'layers.terrain': 'Terrain',\n  'layer.transit': 'Transports publics',\n  'layer.traffic': 'Conditions de circulation',\n  'layer.incidents': 'Afficher les incidents de circulation',\n  'layers.choose': 'Choisir la vue',\n  'scale.switchToImperial': 'Passer en miles',\n  'scale.switchToMetric': 'Passer en km',\n  'scale.km': 'km',\n  'scale.m': 'm',\n  'scale.mi': 'mi',\n  'scale.ft': 'ft',\n  'zoom.out': 'Zoom arrire',\n  'zoom.in': 'Zoom avant',\n  'panorama.leave': 'Quitter le mode chausse',\n  'panorama.showCoverage': 'Activer le mode Chausse',\n  'panorama.hideCoverage': 'Dsactiver le mode Chausse',\n  'panorama.unavailableHere': 'Le mode chausse n\\'est pas disponible ici',\n  'traffic.MASS_TRANSIT': 'Transports publics',\n  'traffic.MISCELLANEOUS': 'Divers',\n  'traffic.ACCIDENT': 'Accident',\n  'traffic.OTHER_NEWS': 'Autre',\n  'traffic.PLANNED_EVENT': 'vnement prvu',\n  'traffic.ROAD_HAZARD': 'Danger routier',\n  'traffic.WEATHER': 'Mto',\n  'traffic.CONGESTION': 'Embouteillage',\n  'traffic.CONSTRUCTION': 'Travaux',\n  'traffic.DISABLED_VEHICLE': 'Vhicule en panne',\n  'traffic.from': 'Date ou heure de dbut:',\n  'traffic.until': 'Date et heure de fin estimes:'\n});\n",
		"goog.provide('H.ui.i18n.strings_zh_CN');\ngoog.require('H.ui.i18n');\n\nH.ui.i18n.define('zh-CN', {\n  'layers.normal': '',\n  'layers.satellite': '',\n  'layers.terrain': '',\n  'layer.transit': '',\n  'layer.traffic': '',\n  'layer.incidents': '',\n  'layers.choose': '',\n  'scale.switchToImperial': '',\n  'scale.switchToMetric': '',\n  'scale.km': '',\n  'scale.m': '',\n  'scale.mi': '',\n  'scale.ft': '',\n  'zoom.out': '',\n  'zoom.in': '',\n  'panorama.leave': '',\n  'panorama.showCoverage': '',\n  'panorama.hideCoverage': '',\n  'panorama.unavailableHere': '',\n  'traffic.MASS_TRANSIT': '',\n  'traffic.MISCELLANEOUS': '',\n  'traffic.ACCIDENT': '',\n  'traffic.OTHER_NEWS': '',\n  'traffic.PLANNED_EVENT': '',\n  'traffic.ROAD_HAZARD': '',\n  'traffic.WEATHER': '',\n  'traffic.CONGESTION': '',\n  'traffic.CONSTRUCTION': '',\n  'traffic.DISABLED_VEHICLE': '',\n  'traffic.from': '',\n  'traffic.until': ''\n});\n",
		"goog.provide('H.ui.i18n.strings_tr_TR');\ngoog.require('H.ui.i18n');\n\nH.ui.i18n.define('tr-TR', {\n  'layers.normal': 'Harita grnm',\n  'layers.satellite': 'Uydu',\n  'layers.terrain': 'Arazi',\n  'layer.transit': 'Toplu ulam',\n  'layer.traffic': 'Trafik durumlar',\n  'layer.incidents': 'Trafik olaylarn gster',\n  'layers.choose': 'Grnm se',\n  'scale.switchToImperial': 'Mile dntr',\n  'scale.switchToMetric': 'Kilometreye dntr',\n  'scale.km': 'km',\n  'scale.m': 'm',\n  'scale.mi': 'mil',\n  'scale.ft': 'ft',\n  'zoom.out': 'Uzaklatr',\n  'zoom.in': 'Yaknlatr',\n  'panorama.leave': 'Sokak grnm kapat',\n  'panorama.showCoverage': 'Sokak Grnmn gster',\n  'panorama.hideCoverage': 'Sokak Grnmn sakla',\n  'panorama.unavailableHere': 'Cadde grnm yok',\n  'traffic.MASS_TRANSIT': 'Toplu ulam',\n  'traffic.MISCELLANEOUS': 'eitli',\n  'traffic.ACCIDENT': 'Kaza',\n  'traffic.OTHER_NEWS': 'Dier haberler',\n  'traffic.PLANNED_EVENT': 'Planl etkinlik',\n  'traffic.ROAD_HAZARD': 'Yol tehlikesi',\n  'traffic.WEATHER': 'Hava durumu',\n  'traffic.CONGESTION': 'Younluk',\n  'traffic.CONSTRUCTION': 'Yol almas',\n  'traffic.DISABLED_VEHICLE': 'Ara arzas',\n  'traffic.from': 'Balang zaman:',\n  'traffic.until': 'Tahmini biti zaman:'\n});\n",
		"goog.provide('H.ui.i18n.strings_nl_NL');\ngoog.require('H.ui.i18n');\n\nH.ui.i18n.define('nl-NL', {\n  'layers.normal': 'Kaartweergave',\n  'layers.satellite': 'Satelliet',\n  'layers.terrain': 'Terrein',\n  'layer.transit': 'Openbaar vervoer',\n  'layer.traffic': 'Verkeerssituatie',\n  'layer.incidents': 'Toon verkeersincidenten',\n  'layers.choose': 'Weergave kiezen',\n  'scale.switchToImperial': 'Overgaan naar mijlen',\n  'scale.switchToMetric': 'Wijzigen naar km',\n  'scale.km': 'km',\n  'scale.m': 'm',\n  'scale.mi': 'mi',\n  'scale.ft': 'ft',\n  'zoom.out': 'Uitzoomen',\n  'zoom.in': 'Inzoomen',\n  'panorama.leave': 'Straatbeeld verlaten',\n  'panorama.showCoverage': 'Toon straatbeeld',\n  'panorama.hideCoverage': 'Verberg straatbeeld',\n  'panorama.unavailableHere': 'Hier hebben we geen Straatbeeld dekking',\n  'traffic.MASS_TRANSIT': 'Openbaar vervoer',\n  'traffic.MISCELLANEOUS': 'Diversen',\n  'traffic.ACCIDENT': 'Ongeval',\n  'traffic.OTHER_NEWS': 'Meer informatie',\n  'traffic.PLANNED_EVENT': 'Geplande afzetting',\n  'traffic.ROAD_HAZARD': 'Gevaar op de weg',\n  'traffic.WEATHER': 'Weer',\n  'traffic.CONGESTION': 'Verkeersopstopping',\n  'traffic.CONSTRUCTION': 'Wegwerkzaamheden',\n  'traffic.DISABLED_VEHICLE': 'Voertuig met pech',\n  'traffic.from': 'Begintijd:',\n  'traffic.until': 'Geschatte eindtijd:'\n});\n",
		"goog.provide('H.ui.i18n.strings_en_US');\ngoog.require('H.ui.i18n');\n\nH.ui.i18n.define('en-US', {\n  'layers.normal': 'Map view',\n  'layers.satellite': 'Satellite',\n  'layers.terrain': 'Terrain',\n  'layer.transit': 'Public transport',\n  'layer.traffic': 'Traffic conditions',\n  'layer.incidents': 'Show traffic incidents',\n  'layers.choose': 'Choose view',\n  'scale.switchToImperial': 'Change to miles',\n  'scale.switchToMetric': 'Change to km',\n  'scale.km': 'km',\n  'scale.m': 'm',\n  'scale.mi': 'mi',\n  'scale.ft': 'ft',\n  'zoom.out': 'Zoom out',\n  'zoom.in': 'Zoom in',\n  'panorama.leave': 'Leave street level',\n  'panorama.showCoverage': 'Show street level areas',\n  'panorama.hideCoverage': 'Hide street level areas',\n  'panorama.unavailableHere': 'Can\\'t show you street level here',\n  'traffic.MASS_TRANSIT': 'Public transport',\n  'traffic.MISCELLANEOUS': 'Miscellaneous',\n  'traffic.ACCIDENT': 'Accident',\n  'traffic.OTHER_NEWS': 'Other news',\n  'traffic.PLANNED_EVENT': 'Planned event',\n  'traffic.ROAD_HAZARD': 'Road hazard',\n  'traffic.WEATHER': 'Weather',\n  'traffic.CONGESTION': 'Congestion',\n  'traffic.CONSTRUCTION': 'Construction',\n  'traffic.DISABLED_VEHICLE': 'Disabled vehicle',\n  'traffic.from': 'Start time:',\n  'traffic.until': 'Estimated end time:'\n\n});\n",
		"goog.provide('H.ui.i18n.strings_de_DE');\ngoog.require('H.ui.i18n');\n\nH.ui.i18n.define('de-DE', {\n  'layers.normal': 'Kartenansicht',\n  'layers.satellite': 'Satellit',\n  'layers.terrain': 'Gelnde',\n  'layer.transit': 'ffentliche Verkehrsmittel',\n  'layer.traffic': 'Verkehrslage',\n  'layer.incidents': 'Verkehrsstrungen anzeigen',\n  'layers.choose': 'Ansicht auswhlen',\n  'scale.switchToImperial': 'Umrechnung in Meilen',\n  'scale.switchToMetric': 'Umrechnung in Kilometer',\n  'scale.km': 'km',\n  'scale.m': 'm',\n  'scale.mi': 'mi',\n  'scale.ft': 'ft',\n  'zoom.out': 'Verkleinern',\n  'zoom.in': 'Vergrern',\n  'panorama.leave': 'Straenansicht verlassen',\n  'panorama.showCoverage': 'Gebiete mit Straenszenen anzeigen',\n  'panorama.hideCoverage': 'Gebiete mit Straenszenen ausblenden',\n  'panorama.unavailableHere': 'Keine Straenszenen verfgbar',\n  'traffic.MASS_TRANSIT': 'ffentliche Verkehrsmittel',\n  'traffic.MISCELLANEOUS': 'Diverse',\n  'traffic.ACCIDENT': 'Unfall',\n  'traffic.OTHER_NEWS': 'Anderes Ereignis',\n  'traffic.PLANNED_EVENT': 'Geplantes Ereignis',\n  'traffic.ROAD_HAZARD': 'Verkehrshindernis',\n  'traffic.WEATHER': 'Wetter',\n  'traffic.CONGESTION': 'Verkehrsstau',\n  'traffic.CONSTRUCTION': 'Baustelle',\n  'traffic.DISABLED_VEHICLE': 'Liegengebliebenes Fahrzeug',\n  'traffic.from': 'Beginn:',\n  'traffic.until': 'Voraussichtliches Ende:'\n});\n",
		"goog.provide('H.ui.i18n.strings_pt_PT');\ngoog.require('H.ui.i18n');\n\nH.ui.i18n.define('pt-PT', {\n  'layers.normal': 'Vista do mapa',\n  'layers.satellite': 'Satlite',\n  'layers.terrain': 'Terreno',\n  'layer.transit': 'Transportes pblicos',\n  'layer.traffic': 'Condies de trnsito',\n  'layer.incidents': 'Mostrar incidentes de trnsito',\n  'layers.choose': 'Escolher vista',\n  'scale.switchToImperial': 'Mudar para milhas',\n  'scale.switchToMetric': 'Mudar para km',\n  'scale.km': 'km',\n  'scale.m': 'm',\n  'scale.mi': 'mi',\n  'scale.ft': 'ft',\n  'zoom.out': 'Diminuir',\n  'zoom.in': 'Aumentar',\n  'panorama.leave': 'Sair de Vista de Rua',\n  'panorama.showCoverage': 'Visualizar reas com Vista de Rua',\n  'panorama.hideCoverage': 'Esconder reas com Vista de Rua',\n  'panorama.unavailableHere': 'Vista de Rua indisponvel neste local.',\n  'traffic.MASS_TRANSIT': 'Transportes pblicos',\n  'traffic.MISCELLANEOUS': 'Diversos',\n  'traffic.ACCIDENT': 'Acidente',\n  'traffic.OTHER_NEWS': 'Outras notcias',\n  'traffic.PLANNED_EVENT': 'Evento planeado',\n  'traffic.ROAD_HAZARD': 'Perigo na estrada',\n  'traffic.WEATHER': 'Meteorologia',\n  'traffic.CONGESTION': 'Congestionamento',\n  'traffic.CONSTRUCTION': 'Construo',\n  'traffic.DISABLED_VEHICLE': 'Veculo avariado',\n  'traffic.from': 'Hora de incio:',\n  'traffic.until': 'Hora de fim prevista:'\n});\n",
		"goog.provide('H.ui.i18n.strings_pl_PL');\ngoog.require('H.ui.i18n');\n\nH.ui.i18n.define('pl-PL', {\n  'layers.normal': 'Widok mapy',\n  'layers.satellite': 'Satelita',\n  'layers.terrain': 'Teren',\n  'layer.transit': 'Transport publiczny',\n  'layer.traffic': 'Warunki drogowe',\n  'layer.incidents': 'Poka zdarzenia drogowe',\n  'layers.choose': 'Wybierz widok',\n  'scale.switchToImperial': 'Zmie na mile',\n  'scale.switchToMetric': 'Zmie na km',\n  'scale.km': 'km',\n  'scale.m': 'm',\n  'scale.mi': 'mi',\n  'scale.ft': 'ft',\n  'zoom.out': 'Oddal',\n  'zoom.in': 'Przybli',\n  'panorama.leave': 'Wyjd z panoramy',\n  'panorama.showCoverage': 'Poka obszary trybu panoramy',\n  'panorama.hideCoverage': 'Ukryj obszary trybu panoramy',\n  'panorama.unavailableHere': 'Niemoliwe jest pokazanie widoku panoramy w tym miejscu.',\n  'traffic.MASS_TRANSIT': 'Transport publiczny',\n  'traffic.MISCELLANEOUS': 'Inne zdarzenie',\n  'traffic.ACCIDENT': 'Wypadek',\n  'traffic.OTHER_NEWS': 'Inne wiadomoci',\n  'traffic.PLANNED_EVENT': 'Zdarzenie planowane',\n  'traffic.ROAD_HAZARD': 'Niebezpieczestwo na drodze',\n  'traffic.WEATHER': 'Pogoda',\n  'traffic.CONGESTION': 'Korek',\n  'traffic.CONSTRUCTION': 'Budowa',\n  'traffic.DISABLED_VEHICLE': 'Uszkodzony pojazd',\n  'traffic.from': 'Data rozpoczcia:',\n  'traffic.until': 'Przybliona data zakoczenia:'\n});\n",
		"goog.provide('H.ui.i18n.strings_it_IT');\ngoog.require('H.ui.i18n');\n\nH.ui.i18n.define('it-IT', {\n  'layers.normal': 'Vista mappa',\n  'layers.satellite': 'Satellite',\n  'layers.terrain': 'Terreno',\n  'layer.transit': 'Mezzi pubblici',\n  'layer.traffic': 'Condizioni del traffico',\n  'layer.incidents': 'Mostra incidenti stradali',\n  'layers.choose': 'Scegli vista',\n  'scale.switchToImperial': 'Passa a miglia',\n  'scale.switchToMetric': 'Passa a km',\n  'scale.km': 'km',\n  'scale.m': 'm',\n  'scale.mi': 'mi',\n  'scale.ft': 'ft',\n  'zoom.out': 'Zoom indietro',\n  'zoom.in': 'Zoom avanti',\n  'panorama.leave': 'Abbandona il livello strada',\n  'panorama.showCoverage': 'Mostra le aree al livello strada',\n  'panorama.hideCoverage': 'Nascondi le aree al livello strada',\n  'panorama.unavailableHere': 'Impossibile mostrare il livello strada in questo punto',\n  'traffic.MASS_TRANSIT': 'Mezzi pubblici',\n  'traffic.MISCELLANEOUS': 'Varie',\n  'traffic.ACCIDENT': 'Incidente',\n  'traffic.OTHER_NEWS': 'Altre notizie',\n  'traffic.PLANNED_EVENT': 'Evento pianificato',\n  'traffic.ROAD_HAZARD': 'Strada dissestata',\n  'traffic.WEATHER': 'Maltempo',\n  'traffic.CONGESTION': 'Ingorgo',\n  'traffic.CONSTRUCTION': 'Lavori in corso',\n  'traffic.DISABLED_VEHICLE': 'Veicolo in panne',\n  'traffic.from': 'Ora di inizio:',\n  'traffic.until': 'Ora di fine stimata:'\n});\n",
		"goog.provide('H.ui.i18n.strings_ru_RU');\ngoog.require('H.ui.i18n');\n\nH.ui.i18n.define('ru-RU', {\n  'layers.normal': ' ',\n  'layers.satellite': '',\n  'layers.terrain': '',\n  'layer.transit': ' ',\n  'layer.traffic': ' ',\n  'layer.incidents': '  ',\n  'layers.choose': ' ',\n  'scale.switchToImperial': ' ',\n  'scale.switchToMetric': ' ',\n  'scale.km': '',\n  'scale.m': '',\n  'scale.mi': '',\n  'scale.ft': '',\n  'zoom.out': '',\n  'zoom.in': '',\n  'panorama.leave': '    ',\n  'panorama.showCoverage': '    ',\n  'panorama.hideCoverage': '    ',\n  'panorama.unavailableHere': '    ',\n  'traffic.MASS_TRANSIT': ' ',\n  'traffic.MISCELLANEOUS': ' ',\n  'traffic.ACCIDENT': '',\n  'traffic.OTHER_NEWS': ' ',\n  'traffic.PLANNED_EVENT': ' ',\n  'traffic.ROAD_HAZARD': ' ',\n  'traffic.WEATHER': '',\n  'traffic.CONGESTION': '',\n  'traffic.CONSTRUCTION': '',\n  'traffic.DISABLED_VEHICLE': ' ',\n  'traffic.from': ' :',\n  'traffic.until': '  :'\n});\n",
		"goog.provide('H.ui.i18n.strings_es_ES');\ngoog.require('H.ui.i18n');\n\nH.ui.i18n.define('es-ES', {\n  'layers.normal': 'Mapa',\n  'layers.satellite': 'Satlite',\n  'layers.terrain': 'Terreno',\n  'layer.transit': 'Transporte pblico',\n  'layer.traffic': 'Estado del trfico',\n  'layer.incidents': 'Mostrar incidentes de trfico',\n  'layers.choose': 'Elija una vista',\n  'scale.switchToImperial': 'Cambiar a millas',\n  'scale.switchToMetric': 'Cambiar a km',\n  'scale.km': 'km',\n  'scale.m': 'm',\n  'scale.mi': 'mi',\n  'scale.ft': 'ft',\n  'zoom.out': 'Alejar',\n  'zoom.in': 'Acercar',\n  'panorama.leave': 'Salir de vista de calles',\n  'panorama.showCoverage': 'Mostrar reas con vista desde la calle',\n  'panorama.hideCoverage': 'Ocultar reas con vista desde la calle',\n  'panorama.unavailableHere': 'No se puede mostrar vista desde la calle aqu',\n  'traffic.MASS_TRANSIT': 'Transporte pblico',\n  'traffic.MISCELLANEOUS': 'Varios',\n  'traffic.ACCIDENT': 'Accidente',\n  'traffic.OTHER_NEWS': 'Ms noticias',\n  'traffic.PLANNED_EVENT': 'Acto programado',\n  'traffic.ROAD_HAZARD': 'Riesgo en carretera',\n  'traffic.WEATHER': 'Tiempo',\n  'traffic.CONGESTION': 'Atasco',\n  'traffic.CONSTRUCTION': 'Construccin',\n  'traffic.DISABLED_VEHICLE': 'Vehculo averiado',\n  'traffic.from': 'Inicio:',\n  'traffic.until': 'Finalizacin estimada:'\n});\n",
		"goog.provide('H.ui.i18n.Localization');\n\ngoog.require('H.ui.i18n');\ngoog.require('H.ui.i18n.strings_de_DE');\ngoog.require('H.ui.i18n.strings_en_US');\ngoog.require('H.ui.i18n.strings_es_ES');\ngoog.require('H.ui.i18n.strings_fi_FI');\ngoog.require('H.ui.i18n.strings_fr_FR');\ngoog.require('H.ui.i18n.strings_it_IT');\ngoog.require('H.ui.i18n.strings_nl_NL');\ngoog.require('H.ui.i18n.strings_pl_PL');\ngoog.require('H.ui.i18n.strings_pt_BR');\ngoog.require('H.ui.i18n.strings_pt_PT');\ngoog.require('H.ui.i18n.strings_ru_RU');\ngoog.require('H.ui.i18n.strings_tr_TR');\ngoog.require('H.ui.i18n.strings_zh_CN');\n\n\n\n/**\n * This class is used for internationalization of UI components.\n * @constructor\n * @param {string} locale locale code i.e en-GB\n * @param {Object=} opt_translationMap optional translation map for this locale\n *  if not provided Locale will be initialized with default translations if available\n *\n * @publish\n * @export\n */\nH.ui.i18n.Localization = function(locale, opt_translationMap) {\n  'use strict';\n  var map;\n\n  if (!goog.isString(locale)) {\n    throw new TypeError('string locale code required');\n  }\n\n  if (!goog.isObject(opt_translationMap)) {\n    //not translation map defined load default locale if available\n    if (H.ui.i18n.defaultLocales.indexOf(locale) === -1) {\n      throw new Error('Default locale \\'' + locale + '\\' does nto exist.');\n    }\n    map = H.ui.i18n.defaultStrings[locale];\n  } else {\n    map = opt_translationMap;\n    H.ui.i18n.validateMap(locale, map);\n  }\n\n  /**\n   * @private\n   * @dict\n   */\n  this.map_ = map || {};\n\n  /**\n   * @type {string}\n   * @private\n   */\n  this.locale_ = locale;\n};\n\n\n/**\n * This method returns current locale code i.e 'en-US'\n * @return {string} locale code\n * @export\n * @publish\n */\nH.ui.i18n.Localization.prototype.getLocale = function() {\n  'use strict';\n  return this.locale_;\n};\n\n\n/**\n * This method returns translation keys for current\n * locale. Keys from this set can be used to get translations\n * via {@code translate} method.\n * @return {Array.<string>}\n * @export\n * @publish\n */\nH.ui.i18n.Localization.prototype.getKeys = function() {\n  'use strict';\n  return Object.keys(this.map_);\n};\n\n\n/**\n * This method returns a boolean value indicating whether this localization\n * object has a translation for the specified translation key.\n * @param {string} key a transaltion key\n * @return {boolean} {@code true} if the key exists, otherwise {@code false}.\n * @export\n * @publish\n */\nH.ui.i18n.Localization.prototype.hasKey = function(key) {\n  'use strict';\n  return !!(this.map_ && this.map_[key]);\n};\n\n\n/**\n * This method returns translation for provided key. It throws exception\n * if translation is not available\n * @param {string} key a translation key\n * @return {string} a localized string corresponding to provided key\n * @export\n * @publish\n */\nH.ui.i18n.Localization.prototype.translate = function(key) {\n  'use strict';\n  var translation = this.map_[key];\n  if (!goog.isString(translation)) {\n    throw new Error('Translation missing for key \\'' + key + '\\'.');\n  }\n  return translation;\n};\n\n",
		"goog.provide('H.ui.UI');\n\ngoog.require('goog.events.EventTarget');\ngoog.require('H.ui.Layout');\ngoog.require('H.ui.UnitSystem');\ngoog.require('H.ui.dom');\ngoog.require('H.ui.i18n.Localization');\n\n\n\n/**\n * This class encapsulates map UI functionality.\n *\n * @constructor\n * @param {H.Map} map\n * @param {H.ui.UI.Options=} opt_options\n * @extends {goog.events.EventTarget}\n * @implements {H.util.ICapturable}\n *\n * @publish\n * @export\n */\nH.ui.UI = function(map, opt_options) {\n  'use strict';\n  var parentElement = map.getElement(),\n      that = this;\n\n  goog.events.EventTarget.call(this);\n\n  /**\n   * @type {H.Map}\n   * @private\n   */\n  this.map_ = map;\n\n  /**\n   * @type {Document}\n   * @private\n   */\n  this.doc_ = parentElement.ownerDocument;\n\n  /**\n   * @dict\n   * @private\n   */\n  this.controls_ = {};\n\n\n  /**\n   * @type  {Array.<H.ui.InfoBubble>}\n   * @private\n   */\n  this.bubbles_ = [];\n\n  /**\n   * @type {Element}\n   * @private\n   */\n  this.el_ = H.ui.dom.mkEl(this.doc_, 'div', 'H_ui');\n\n  /**\n   * @type {function(H.util.Event)}\n   * @private\n   */\n  this.onControlAlignmentChanged_ = H.lang.bind(function(evt) {\n    this.layout_.put(evt.target, evt.target.getAlignment());\n  }, this);\n  this.addEventListener('alignmentchange', this.onControlAlignmentChanged_);\n\n  this.onUnitSystemToggleRequest_ = H.lang.bind(function(evt) {\n    this.toggleUnitSystem();\n  }, this);\n  this.addEventListener('toggleunitsystem', this.onUnitSystemToggleRequest_);\n\n  this.onEngineChange_ = H.lang.bind(function(evt) {\n    var engineType = this.map_.getEngine().type;\n    if (engineType !== this.engineType_) {\n      this.engineType_ = engineType;\n      this.onEngineTypeChange_(this.engineType_);\n    }\n  }, this);\n  this.map_.addEventListener('enginechange', this.onEngineChange_);\n\n  /**\n   * Preventing default for contextmenu and hold\n   */\n  this.el_.addEventListener('contextmenu', this['prevDefault'], false);\n  this.el_.addEventListener('MSHoldVisual', this['prevDefault'], false);\n\n  /**\n   * @type {H.ui.Layout}\n   * @private\n   */\n  this.layout_ = new H.ui.Layout(this.el_, this.doc_);\n\n  /**\n   * @type {H.ui.UnitSystem}\n   * @private\n   */\n  this.unitSystem_ = H.ui.UnitSystem['METRIC'];\n\n  this.setLocale_('en-US');\n\n  /**\n   * @type {H.Map.EngineType}\n   * @private\n   */\n  this.engineType_ = this.map_.getEngine().type;\n\n  if (opt_options) {\n    this.processOptions_(opt_options);\n  }\n\n  //finally append this UI's HTML element to the viewport element\n  parentElement.appendChild(this.el_);\n\n  setTimeout(function() {\n    that.layout_.update();\n  }, 1);\n};\nH.lang.inherits(H.ui.UI, goog.events.EventTarget);\n\n\n/**\n * @private\n * @param {Event} evt\n */\nH.ui.UI.prototype['prevDefault'] = function(evt) {\n  // Fix for MAPSJS-361 (don't prevent contextmenu for info bubble content)\n  var curr = evt.target;\n  while (curr && !/\\bH_ib_content\\b/.test(curr.className)) {\n    curr = curr.parentNode;\n  }\n  if (!curr) {\n    evt.preventDefault();\n  }\n};\n\n\n/**\n * This method returns this ui's root element.\n * @return {Element} the root element\n *\n * @export\n * @publish\n */\nH.ui.UI.prototype.getElement = function() {\n  'use strict';\n  return this.el_;\n};\n\n\n/**\n * Returns the map instance to which this UI was added.\n * @return {H.Map}\n *\n * @export\n * @publish\n */\nH.ui.UI.prototype.getMap = function() {\n  'use strict';\n  return this.map_;\n};\n\n\n/**\n * This method returns this UI object's current unit system.\n * @return {H.ui.UnitSystem} the current unit system\n */\nH.ui.UI.prototype.getUnitSystem = function() {\n  'use strict';\n\n  return this.unitSystem_;\n};\n\n\n/**\n * This method sets this UI object's unit system for displaying distances.\n * @param {H.ui.UnitSystem} unitSystem the unit system to use\n * @export\n * @publish\n */\nH.ui.UI.prototype.setUnitSystem = function(unitSystem) {\n  'use strict';\n\n  var currentUnitSystem = this.unitSystem_,\n      controls = this.controls_,\n      key;\n  if (unitSystem !== this.unitSystem_) {\n    this.unitSystem_ = unitSystem;\n    for (key in controls) {\n      if (controls[key] instanceof H.ui.Control) {\n        controls[key]['onUnitSystemChange'](this.getUnitSystem());\n      }\n    }\n  }\n};\n\n\n/**\n * @private\n * @param {string|H.ui.i18n.Localization} locale the locale to be used\n */\nH.ui.UI.prototype.setLocale_ = function(locale) {\n  'use strict';\n\n  var localeCode,\n      localization;\n\n  if (goog.isString(locale)) {\n    localeCode = locale;\n  } else if (locale instanceof H.ui.i18n.Localization) {\n    localeCode = locale.getLocale();\n    localization = locale;\n  } else {\n    throw new Error('The locale parameter must be a string or a H.ui.i18n.Localization object.');\n  }\n\n  if (localeCode) {\n    if (localization) {\n      this.localization_ = localization;\n    } else {\n      if (H.ui.i18n.hasDefaultLocale(localeCode)) {\n        this.localization_ = new H.ui.i18n.Localization(localeCode);\n      } else {\n        throw new Error('Locale [' + localeCode + '] is not supported.');\n      }\n    }\n  } else {\n    throw new Error('No locale was defined.');\n  }\n};\n\n\n/**\n * This method returns the UI's current localization object\n * @return {H.ui.i18n.Localization} the localization object\n */\nH.ui.UI.prototype.getLocalization = function() {\n  'use strict';\n  return this.localization_;\n};\n\n\n/**\n * Informs all current control that the map's engine changed.\n * @param {H.Map.EngineType} engineType\n * @private\n */\nH.ui.UI.prototype.onEngineTypeChange_ = function(engineType) {\n  var controls = this.controls_,\n      key;\n  for (key in controls) {\n    if (controls[key] instanceof H.ui.Control) {\n      controls[key]['onMapEngineTypeChange'](engineType);\n    }\n  }\n  this.layout_.update();\n};\n\n\n/**\n * Toggles this UI's unit system between {@link H.ui.UnitSystem.METRIC} and {@link H.ui.UnitSystem.IMPERIAL}.\n *\n * @export\n * @publish\n */\nH.ui.UI.prototype.toggleUnitSystem = function() {\n  'use strict';\n\n  if (this.unitSystem_ === H.ui.UnitSystem['METRIC']) {\n    this.setUnitSystem(H.ui.UnitSystem['IMPERIAL']);\n  } else {\n    this.setUnitSystem(H.ui.UnitSystem['METRIC']);\n  }\n};\n\n\n/**\n * This method adds an info bubble to the UI.\n * @param {H.ui.InfoBubble} bubble the info bubble to be added\n *\n * @export\n * @publish\n */\nH.ui.UI.prototype.addBubble = function(bubble) {\n  'use strict';\n  var nBubbles = this.bubbles_.length,\n      uiEl = this.getElement(),\n      bubbleEl,\n      nextSibling;\n\n  if (this.bubbles_.indexOf(bubble) < 0) {\n    bubble.setParentEventTarget(this);\n    bubble.setMap(this.map_);\n    bubbleEl = bubble.render(this.doc_);\n    // FIX for MAPSJS-73:\n    // We need to insert the bubble before the control layout elements but after the last bubble.\n    // So if we already have bubbles we insert before the last bubble's next sibling. Otherwise\n    // we insert before the first child (which is the first control layout anchor).\n    if (nBubbles > 0) {\n      nextSibling = this.bubbles_[nBubbles - 1]['el'].nextSibling;\n    } else {\n      nextSibling = this.getElement().firstChild;\n\n    }\n    uiEl.insertBefore(bubbleEl, nextSibling);\n\n    this.bubbles_.push(bubble);\n  }\n};\n\n\n/**\n * This method removes a previously added info bubble from the UI.\n * @param {H.ui.InfoBubble} bubble the info bubble to be removed\n *\n * @publish\n * @export\n */\nH.ui.UI.prototype.removeBubble = function(bubble) {\n  'use strict';\n\n  var index = this.bubbles_.indexOf(bubble);\n  if (index > -1) {\n    bubble.setParentEventTarget(null);\n    bubble.setMap(null);\n    this.bubbles_.splice(index, 1);\n    this.getElement().removeChild(bubble.getElement());\n  }\n};\n\n\n/**\n * This method returns a list of info bubble objects which are currently attached to this UI.\n * @return {Array.<H.ui.InfoBubble>} the list of info bubbles\n *\n * @publish\n * @export\n */\nH.ui.UI.prototype.getBubbles = function() {\n  'use strict';\n\n  return this.bubbles_;\n};\n\n\n/**\n * This method appends a control to the UI.\n * @param {string} name the name under which to register this control\n * @param {H.ui.Control} control the control to add to this UI\n *\n * @publish\n * @export\n */\nH.ui.UI.prototype.addControl = function(name, control) {\n  'use strict';\n\n  if (!this.getControl(name)) {\n    control.setParentEventTarget(this);\n    control.setMap(this.map_);\n    control.setLocalization(this.localization_);\n    control.render(this.doc_);\n    control['onUnitSystemChange'](this.unitSystem_);\n    control['onMapEngineTypeChange'](this.map_.getEngine().type);\n    this.controls_[name] = control;\n  } else {\n    throw new Error('A control with name [' + name + '] is already registered.');\n  }\n};\n\n\n/**\n * Removes a previously registered control from the UI object.\n * @publish\n * @export\n * @param {string} name the name under which this control was previously registered\n * @return {H.ui.Control} the removed control\n */\nH.ui.UI.prototype.removeControl = function(name) {\n  'use strict';\n\n  var control = this.getControl(name);\n  if (control) {\n    control.setParentEventTarget(null);\n    control.setMap(null);\n    control.remove();\n    delete this.controls_[name];\n  } else {\n    throw new Error('Control [' + name + '] not found in this UI\\'s controls.');\n  }\n  return control;\n};\n\n\n/**\n * This method returns a UI control which was previously registered with the provided name.\n * @param {string} name the name under which the control was registered.\n * @return {H.ui.Control} the control or {@code undefined} if the control does not exist.\n * @export\n * @publish\n */\nH.ui.UI.prototype.getControl = function(name) {\n  'use strict';\n\n  return this.controls_[name];\n};\n\n\n/**\n * @override\n */\nH.ui.UI.prototype.disposeInternal = function() {\n  var controlKey,\n      parentNode;\n\n  //remove controls\n  for (controlKey in this.controls_) { this.controls_[controlKey].dispose(); }\n\n  //dispose all bubbles\n  this.getBubbles().forEach(function(bubble) { bubble.dispose(); });\n\n  //remove element\n  parentNode = this.el_.parentNode;\n  if (parentNode) { parentNode.removeChild(this.el_); }\n\n  //dispose of event target\n  goog.events.EventTarget.prototype.disposeInternal.call(this);\n};\n\n\n/**\n * Disposes of this UI object including currently open info bubbles and controls attached\n * to the UI.\n * @override\n * @export\n * @publish\n */\nH.ui.UI.prototype.dispose = function() {\n  goog.events.EventTarget.prototype.dispose.call(this);\n};\n\n\n/**\n * This method processes UI options passed to the UI's constructor.\n * @param {H.ui.UI.Options} options the UI options\n * @private\n */\nH.ui.UI.prototype.processOptions_ = function(options) {\n  'use strict';\n\n  var controlOptions,\n      locale;\n  if (options['unitSystem']) {\n    this.setUnitSystem(options['unitSystem']);\n  }\n\n  if ((locale = options['locale'])) {\n    this.setLocale_(locale);\n  }\n\n  if ((controlOptions = options['zoom'])) {\n    this.addControl(\n        'zoom',\n        new H.ui.ZoomControl(typeof controlOptions === 'object' ? controlOptions : null));\n  }\n  if ((controlOptions = options['mapsettings'])) {\n    this.addControl(\n        'mapsettings',\n        new H.ui.MapSettingsControl(typeof controlOptions === 'object' ? controlOptions : null));\n  }\n  if ((controlOptions = options['scalebar'])) {\n    this.addControl(\n        'scalebar',\n        new H.ui.ScaleBar(typeof controlOptions === 'object' ? controlOptions : null));\n  }\n  if ((controlOptions = options['panorama']) && H.map.render.panorama) {\n    this.addControl(\n        'panorama',\n        new H.ui.Pano(typeof controlOptions === 'object' ? controlOptions : null));\n  }\n};\n\n\n/**\n * @override\n * @export\n */\nH.ui.UI.prototype.capture = function(canvas, pixelRatio, callback, opt_errback) {\n  var scaleBar = this.getControl('scalebar'),\n      ctx = canvas.getContext('2d'),\n      canvasWidth = canvas.width,\n      canvasHeight = canvas.height,\n      padding = 5 * pixelRatio;\n\n  // If ScaleBar is visible, call capture method of it\n  if (scaleBar.getVisibility()) {\n    scaleBar.capture(pixelRatio, function(scaleBarCanvas) {\n      // Draw ScaleBar on the input canvas\n      // As ScaleBar is the only capturable element we just render on the bottom-right corner of the canvas,\n      // perhaps later, makes sense to take into account its alignment\n      ctx.drawImage(scaleBarCanvas,\n          canvasWidth - scaleBarCanvas.width - padding, canvasHeight - scaleBarCanvas.height - padding);\n\n      callback(canvas);\n    }, opt_errback);\n  } else {\n    // Otherwise call callback without modifying passed canvas\n    callback(canvas);\n  }\n};\n\n\n/**\n * This function creates the default UI including the zoom control, map settings control and scalebar and panorama\n * discovery control. The default controls will be assigned the following values:\n *\n *  - Zoom control:\n *      * id: 'zoom'\n *      * alignment: 'right-middle'\n *  - Map settings control:\n *      * id: 'mapsettings'\n *      * alignment: 'bottom-right'\n *  - Scalebar:\n *      * id: 'scalebar'\n *      * alignment: 'bottom-right'\n *  - Pano:\n *      * id: 'panorama'\n *      * alignment: 'top-right'\n *\n * @publish\n * @export\n * @param {H.Map} map The map instance to which to append the UI\n * @param {Object.<H.service.MapType>} mapTypes The map types to use\n * @param {H.ui.i18n.Localization|string=} opt_locale the language to use (or a full localization object).\n * @return {H.ui.UI} the UI instance configured with the default controls\n */\nH.ui.UI.createDefault = function(map, mapTypes, opt_locale) {\n  'use strict';\n  var mapTypeEntries = [];\n\n  if (mapTypes['normal']) mapTypeEntries.push({'name': 'layers.normal', 'mapType': mapTypes['normal']});\n  if (mapTypes['satellite']) mapTypeEntries.push({'name': 'layers.satellite', 'mapType': mapTypes['satellite']});\n  if (mapTypes['terrain']) mapTypeEntries.push({'name': 'layers.terrain', 'mapType': mapTypes['terrain']});\n  if (!mapTypeEntries.length) {\n    throw new Error('The mapTypes parameter does not contain any known map types.');\n  }\n\n  return new H.ui.UI(\n      map,\n      /** @type {H.ui.UI.Options} */({\n        'unitSystem': H.ui.UnitSystem['METRIC'],\n        'zoom': {\n          'alignment': H.ui.LayoutAlignment.RIGHT_MIDDLE\n        },\n        'mapsettings': {\n          'alignment': H.ui.LayoutAlignment.BOTTOM_RIGHT,\n          'entries': mapTypeEntries,\n          'incidents': mapTypes['incidents']\n        },\n        'scalebar': {\n          'alignment': H.ui.LayoutAlignment.BOTTOM_RIGHT\n        },\n        'panorama': {\n          'alignment': H.ui.LayoutAlignment.TOP_RIGHT,\n          'mapTypes': mapTypes\n        },\n        'locale': opt_locale || 'en-US'\n      }));\n};\n\n\n/**\n * Optional parameters to be passed to the UI constructor.\n *\n * @typedef {{\n *   unitSystem: (H.ui.UnitSystem|undefined),\n *   zoom: (H.ui.ZoomControl.Options|boolean|undefined),\n *   mapsettings: (H.ui.MapSettingsControl.Options|boolean|undefined),\n *   scalebar: (H.ui.ScaleBar.Options|boolean|undefined),\n *   panorama: (H.ui.Pano.Options|boolean|undefined),\n *   locale: (H.ui.i18n.Localization|string|undefined)\n * }}\n *\n * @publish\n * @property {H.ui.UnitSystem=} unitSystem\n *           An optional unit system to be used by the UI, default is {@link H.ui.UnitSystem.METRIC}\n * @property {(H.ui.ZoomControl.Options|boolean)=} zoom\n * @property {(H.ui.MapSettingsControl.Options|boolean)=} mapsettings\n * @property {(H.ui.ScaleBar.Options|boolean)=} scalebar\n * @property {(H.ui.Pano.Options|boolean)=} panorama\n * @property {(H.ui.i18n.Localization|string)=} locale defines language in which UI\n *  can be rendered. It can be predefined {@link H.ui.i18n.Localization} object\n *  with custom translation map, or a string one of following\n *  'en-US', 'de-DE', 'es-ES', 'fi-FI', 'fr-FR', 'it-IT', 'nl-NL', 'pl-PL',\n *  'pt-BR', 'pt-PT', 'ru-RU', 'tr-TR', 'zh-CN'. If not defined ui will use\n *  {@code 'en-US'} by default\n */\nH.ui.UI.Options;\n",
		"goog.provide('H.ui.icons.zoom');\n\n\n/**\n * The SVG markup for the zoom-in and zoom-out icon\n * @type {Object.<string,string>}\n */\nH.ui.icons.zoom = {\n  'in': '<svg class=\"H_icon\" viewBox=\"0 0 25 25\">' +\n      '<path d=\"M 18.5,11 H 14 V 6.5 c 0,-.8 -.7,-1.5 -1.5,-1.5 -.8,0 -1.5,.7 -1.5,1.5 V 11 H 6' +\n      '.5 C 5.7,11 5,11.7 5,12.5 5,13.3 5.7,14 6.5,14 H 11 v 4.5 c 0,.8 .7,1.5 1.5,1.5 .8,0 1.5,' +\n      '-.7 1.5,-1.5 V 14 h 4.5 C 19.3,14 20,13.3 20,12.5 20,11.7 19.3,11 18.5,11 z\" />' +\n      '</svg>',\n  out: '<svg class=\"H_icon\" viewBox=\"0 0 25 25\">' +\n      '<path d=\"m 6.5,11 h 12 c .8,0 1.5,.7 1.5,1.5 0,.8 -.7,1.5 -1.5,1.5 H 6.5 C 5.7,14 5,13.3 5,12.5 5,11.7 5.' +\n      '67,11 6.5,11 z\" />' +\n      '</svg>'\n};\n",
		"goog.provide('H.ui.ZoomControl');\n\ngoog.require('H.ui.Control');\ngoog.require('H.ui.base.Button');\ngoog.require('H.ui.icons.zoom');\n\n\n\n/**\n * This class represents the UI controls for zooming in an out of the map.\n *\n * @constructor\n * @param {H.ui.ZoomControl.Options=} opt_options optional parameters to be passed to the map.\n *\n * @extends {H.ui.Control}\n * @export\n * @publish\n */\nH.ui.ZoomControl = function(opt_options) {\n  'use strict';\n\n  var options = opt_options || {};\n  H.ui.Control.call(this);\n\n  this.onZoomBtnStateChange_ = H.lang.bind(this.onZoomBtnStateChange_, this);\n\n  /**\n   * @type {H.ui.base.Button}\n   * @private\n   */\n  this.zoomInBtn_ = new H.ui.base.Button({\n    'label': H.ui.icons.zoom['in'],\n    'onStateChange': this.onZoomBtnStateChange_\n  });\n\n  /**\n   * @type {H.ui.base.Button}\n   * @private\n   */\n  this.zoomOutBtn_ = new H.ui.base.Button({\n    'label': H.ui.icons.zoom.out,\n    'onStateChange': this.onZoomBtnStateChange_\n  });\n\n  //add the buttons as this control's children\n  this.addChild(this.zoomInBtn_);\n  this.addChild(this.zoomOutBtn_);\n\n  //add some css classes\n  this.addClass('H_zoom');\n  this.addClass('H_grp');\n\n  //apply options or defaults\n  this['setZoomSpeed'](options['zoomSpeed'] || 0.004);\n  this.setAlignment(options['alignment'] || 'right-middle');\n};\nH.lang.inherits(H.ui.ZoomControl, H.ui.Control);\n\n\n/**\n * @param {goog.events.Event} evt\n * @private\n */\nH.ui.ZoomControl.prototype.onZoomBtnStateChange_ = function(evt) {\n  'use strict';\n\n  var target = evt.target,\n      zoomDirection = (target === this.zoomInBtn_) ? 1 : -1,\n      roundingFunction = (zoomDirection > 0) ? Math.ceil : Math.floor,\n      map = this.map;\n\n  if (map) {\n    if (target.getState() === H.ui.base.Button.State.DOWN) {\n      map.getViewModel().startControl();\n      map.getViewModel().control(0, 0, zoomDirection * this.zoomSpeed_, 0, 0, 0);\n    } else {\n      map.getViewModel().endControl(true, function(endView) {\n        endView['zoom'] = roundingFunction(endView.zoom);\n      });\n    }\n  }\n};\n\n\n/**\n * @override\n * @export\n */\nH.ui.ZoomControl.prototype.renderInternal = function(element, doc) {\n  'use strict';\n  H.ui.Control.prototype['renderInternal'].call(this, element, doc);\n  this.zoomInBtn_.setTooltip(this.getLocalization().translate('zoom.in'));\n  this.zoomOutBtn_.setTooltip(this.getLocalization().translate('zoom.out'));\n};\n\n\n/**\n * @override\n * @export\n */\nH.ui.ZoomControl.prototype.setAlignment = function(alignment) {\n  'use strict';\n\n  H.ui.Control.prototype.setAlignment.call(this, alignment);\n\n  var newPos = this.getAlignment(),\n      Alignment = H.ui.LayoutAlignment,\n      first,\n      second;\n\n  if (/^top/g.test(newPos) || /^bottom/g.test(newPos)) {\n    first = this.zoomOutBtn_;\n    second = this.zoomInBtn_;\n  } else {\n    first = this.zoomInBtn_;\n    second = this.zoomOutBtn_;\n  }\n  this.removeChild(first);\n  this.removeChild(second);\n  this.addChild(first);\n  this.addChild(second);\n  return this;\n};\n\n\n/**\n * @override\n * @export\n */\nH.ui.ZoomControl.prototype.onMapEngineTypeChange = function(engineType) {\n  'use strict';\n  var hide = engineType !== H.Map.EngineType.P2D;\n  this.getElement().style.display = hide ? 'none' : '';\n};\n\n\n/**\n * This method returns the zoom speed (in levels per millisecond) which is applied when the button is pressed\n * constantly.\n * @return {number} the current zoom speed\n *\n * @export\n * @publish\n */\nH.ui.ZoomControl.prototype.getZoomSpeed = function() {\n  'use strict';\n\n  return this.zoomSpeed_;\n};\n\n\n/**\n * This method sets the zoom speed (in levels per millisecond) which is applied when the button is pressed constantly.\n * @param {number} zoomSpeed the zoom speed\n *\n * @publish\n */\nH.ui.ZoomControl.prototype['setZoomSpeed'] = function(zoomSpeed) {\n  'use strict';\n\n  this.zoomSpeed_ = zoomSpeed;\n};\n\n\n/**\n * @typedef {{\n *   zoomSpeed: (number|undefined),\n *   alignment: (H.ui.LayoutAlignment|undefined)\n * }}\n * @property {number=} zoomSpeed  the speed if zooming in and out in levels per millisecond, default is {@code 0.05}\n * @property {string} alignment the preferred layout alignment for this control\n * @publish\n */\nH.ui.ZoomControl.Options;\n",
		"goog.provide('H.ui.ScaleBar');\n\ngoog.require('H.ui.Control');\n\n\n\n/**\n * This class represents a UI element showing the current zoom scale.\n * @constructor\n * @param {H.ui.ScaleBar.Options=} opt_options optional parameters to be passed to this scale bar.\n *\n * @extends {H.ui.Control}\n * @export\n * @publish\n */\nH.ui.ScaleBar = function(opt_options) {\n  'use strict';\n\n  var options = opt_options || {};\n\n  H.ui.Control.call(this);\n  this.addClass('H_scalebar');\n  this.setAlignment(options['alignment'] || 'bottom-right');\n\n  this.maxWidth = 150;\n  this.update = H.lang.bind(this.update, this);\n\n  /**\n   * @type {Node}\n   * @private\n   */\n  this.svgEl_ = null;\n  /**\n   * @type {Node}\n   * @private\n   */\n  this.scaleEl_ = null;\n  /**\n   * @type {Node}\n   * @private\n   */\n  this.scaleShadowEl_ = null;\n  /**\n   * @type {Node}\n   * @private\n   */\n  this.labelEl_ = null;\n  /**\n   * @type {Node}\n   * @private\n   */\n  this.labelShadowEl_ = null;\n};\nH.lang.inherits(H.ui.ScaleBar, H.ui.Control);\n\n\n/**\n * @override\n * @export\n */\nH.ui.ScaleBar.prototype.renderInternal = function(element, doc) {\n  'use strict';\n\n  H.ui.Control.prototype['renderInternal'].call(this, element, doc);\n\n  var childNodes;\n\n  this.map.addEventListener('mapviewchangeend', this.update);\n\n  element.innerHTML = this.getTemplate_();\n\n  this.svgEl_ = element.firstChild;\n  childNodes = this.svgEl_.childNodes;\n  this.scaleEl_ = childNodes[0];\n  this.scaleShadowEl_ = childNodes[1];\n  this.labelEl_ = childNodes[2];\n  this.labelShadowEl_ = childNodes[3];\n\n  /**\n   * @type {H.ui.UnitSystem}\n   * @private\n   */\n  this.unitSystem_ = H.ui.UnitSystem['METRIC'];\n\n  this.dispatchToggleUnitSystem_ = H.lang.bind(function(evt) {\n    if (!this.isDisabled()) {\n      this.dispatchEvent('toggleunitsystem');\n      evt.preventDefault();\n    }\n  }, this);\n  this.onStart_ = H.lang.bind(function(evt) {\n    evt.preventDefault();\n  }, this);\n\n  H.ui.dom.on(element, 'start', this.onStart_);\n  H.ui.dom.on(element, 'end', this.dispatchToggleUnitSystem_);\n\n  this.setTooltip(this.getLocalization().translate('scale.switchToImperial'));\n\n  this.update();\n};\n\n\n/**\n * Returns an svg markup for this control\n * @private\n * @return {string}\n */\nH.ui.ScaleBar.prototype.getTemplate_ = function() {\n  // Is inserted inside attribute, that's why \\'..\\'\n  var font = 'font: bold 10px \\'Lucida Grande\\',\\'Lucida Sans Unicode\\',Arial,Helvetica,sans-serif';\n\n  // All required styling should be inlined,\n  // otherwise capturing of ui will not work.\n  return [\n    '<svg height=\"28\" version=\"1.1\" class=\"H_scalebar_svg\" xmlns=\"http://www.w3.org/2000/svg\">',\n    '<polyline',\n    ' style=\"fill:none;stroke:white;stroke-width:4;stroke-opacity:0.8\"',\n    ' points=\"2,19 2,26 98,26 98,19\"/>',\n    '<polyline',\n    ' style=\"fill:none; stroke:black; stroke-width:2\"',\n    ' points=\"2,20 2,26 98,26 98,20\"/>',\n    '<text',\n    ' style=\"stroke:white;stroke-width:2;stroke-opacity:0.8;text-anchor:end;', font, '\"',\n    ' x=\"90\" y=\"22\"></text>',\n    '<text style=\"text-anchor:end;', font, ';color:black;\" x=\"90\" y=\"22\"></text>',\n    '</svg>'\n  ].join('');\n};\n\n\n/**\n * Captures current ui state of the scale bar,\n * and call callback with its HTMLCanvasElement representation\n * @export\n * @param {number} pixelRatio The pixelRatio to use for over-sampling in cases of high-resolution displays,\n *                            default is {@code 1}\n * @param {function(HTMLCanvasElement=)} callback Callback function to call once result of\n *                                                the capturing is ready\n * @param {function(string)=} opt_errback Callback function to call if error occurerd during capturing\n */\nH.ui.ScaleBar.prototype.capture = function(pixelRatio, callback, opt_errback) {\n  var canvas =  /** @type {HTMLCanvasElement} */ (document.createElement('canvas')),\n      ctx = canvas.getContext('2d'),\n      scaleBarClone = H.util.cloneNode(this.svgEl_, document, false),\n      dataUrl,\n      tmpNode,\n      width = parseFloat(scaleBarClone.getAttribute('width')),\n      height = parseFloat(scaleBarClone.getAttribute('height')),\n      scaledWidth = width * pixelRatio,\n      scaledHeight = height * pixelRatio;\n\n  // Scale SVG according to pixel ratio\n  scaleBarClone.setAttribute('viewBox', '0 0 ' + width + ' ' + height);\n  scaleBarClone.setAttribute('width', scaledWidth);\n  scaleBarClone.setAttribute('height', scaledHeight);\n\n  // Bug fix for FF when outerHTML of an SVG node is not available\n  tmpNode = document.createElement('div');\n  tmpNode.appendChild(scaleBarClone);\n\n  // Convert SVG markup into data URL\n  dataUrl = H.util.svgToDataUrl(tmpNode.innerHTML);\n\n  canvas.width = scaledWidth;\n  canvas.height = scaledHeight;\n\n  // Load and draw an image to the canvas\n  H.net.images.load(dataUrl, function(img) {\n    ctx.drawImage(img, 0, 0);\n    callback(canvas);\n  }, opt_errback);\n};\n\n\n/**\n * @override\n * @export\n */\nH.ui.ScaleBar.prototype.onUnitSystemChange = function(unitSystem) {\n  'use strict';\n  this.unitSystem_ = unitSystem;\n  this.setTooltip(unitSystem === 'imperial' ?\n      this.getLocalization().translate('scale.switchToMetric') :\n          this.getLocalization().translate('scale.switchToImperial'));\n  this.update();\n};\n\n\n/**\n * @override\n * @export\n */\nH.ui.ScaleBar.prototype.onMapEngineTypeChange = function(engineType) {\n  var hide = engineType !== H.Map.EngineType.P2D;\n  this.getElement().style.display = hide ? 'none' : '';\n};\n\n\n/**\n * This method updates the scale bar's size and units.\n */\nH.ui.ScaleBar.prototype.update = function() {\n  'use strict';\n\n  if (!this.getElement() || this.map && this.map.getEngine().type !== H.Map.EngineType.P2D) {\n    return;\n  }\n\n  var delta = this.getDelta_(100),\n      rawDistance,\n      simplifiedDistance,\n      unit,\n      elementWidth,\n      maxWidth = this.maxWidth;\n  if (this.unitSystem_ === H.ui.UnitSystem['IMPERIAL']) {\n    if (delta < H.ui.ScaleBar.MILE_IN_METERS_) {\n      rawDistance = delta / H.ui.ScaleBar.FOOT_IN_METERS_;\n      unit = this.getLocalization().translate('scale.ft');\n    } else {\n      rawDistance = delta / H.ui.ScaleBar.MILE_IN_METERS_;\n      unit = this.getLocalization().translate('scale.mi');\n    }\n  }\n  else {\n    if (delta < 1000) {\n      rawDistance = delta;\n      unit = this.getLocalization().translate('scale.m');\n    } else {\n      rawDistance = delta / 1000;\n      unit = this.getLocalization().translate('scale.km');\n    }\n  }\n\n  simplifiedDistance = Math.pow(10, Math.floor(Math.log(rawDistance) / Math.LN10));\n\n  elementWidth = 100 * (simplifiedDistance / rawDistance);\n\n  if (elementWidth < (maxWidth / 5)) {\n    simplifiedDistance *= 5;\n    elementWidth *= 5;\n  } else if (elementWidth < (maxWidth / 2)) {\n    simplifiedDistance *= 2;\n    elementWidth *= 2;\n  } else if (elementWidth > maxWidth) {\n    simplifiedDistance /= 2;\n    elementWidth /= 2;\n  }\n\n  elementWidth = Math.round(elementWidth);\n\n  this.svgEl_.setAttribute('width', elementWidth);\n\n  // Change labels text\n  this.labelShadowEl_.textContent = this.labelEl_.textContent = simplifiedDistance + ' ' + unit;\n  // Change labels anchor,\n  // 8px label offset subtracted\n  this.labelShadowEl_.setAttribute('x', elementWidth - 8);\n  this.labelEl_.setAttribute('x', elementWidth - 8);\n  // Update our svg line width, by updating 'x' coords of two rightmost points\n  // 2px stands for stroke width\n  this.scaleEl_['points'].getItem(2).x = this.scaleShadowEl_['points'].getItem(2).x =\n      this.scaleEl_['points'].getItem(3).x = this.scaleShadowEl_['points'].getItem(3).x =\n          elementWidth - 2;\n};\n\n\n/**\n * @type {number}\n * @private\n */\nH.ui.ScaleBar.MILE_IN_METERS_ = 1609.344;\n\n\n/**\n * @type {number}\n * @private\n */\nH.ui.ScaleBar.FOOT_IN_METERS_ = 0.3048006;\n\n\n/**\n * This method returns the horizontal distance in meters which correspond to the pixelDistance on the map.\n * @param {number} pixelDistance the pixel distance to measure in meters\n * @return {number} the number of meters spanned by the pixel distance\n * @private\n */\nH.ui.ScaleBar.prototype.getDelta_ = function(pixelDistance) {\n  'use strict';\n\n  var delta = 0,\n      map = this.map,\n      halfWidth,\n      halfHeight,\n      left,\n      geoPoint,\n      right;\n  if (map) {\n    halfWidth = Math.round(0.5 * map.getViewPort()['width']);\n    halfHeight = Math.round(0.5 * map.getViewPort()['height']);\n    geoPoint = map.screenToGeo(halfWidth, halfHeight);\n    if (geoPoint) {\n      left = H.geo.Point.fromIPoint(geoPoint);\n      right = H.geo.Point.fromIPoint(map.screenToGeo(halfWidth + 1, halfHeight));\n\n      delta = pixelDistance * left.distance(right);\n    }\n  }\n  return delta;\n};\n\n\n/**\n * @typedef {{\n *   alignment: (string|undefined)\n * }}\n * @property {string=} alignment the preferred layout alignment for this control, default is {@code \"bottom-right\"}\n * @publish\n */\nH.ui.ScaleBar.Options;\n\n\n/**\n * This event is fired when unit system is changed\n * @event H.ui.ScaleBar#toggleunitsystem\n * @type {H.util.Event}\n * @publish\n */\n",
		"/*\n * don't provide for uncompiled (will result in provide error due\n * to double provision if H-core is included\n */\nif (COMPILED) {\n  goog.provide('H');\n}\n\n\n/** @suppress {duplicate} */\nvar H = H || {};\n\n\n/**\n * This namespace contains classes and functionality for UI elements.\n *\n * @namespace H.ui\n * @publish\n */\ngoog.provide('H.ui');\n\ngoog.require('H.ui.InfoBubble');\ngoog.require('H.ui.MapSettingsControl');\ngoog.require('H.ui.Pano');\ngoog.require('H.ui.ScaleBar');\ngoog.require('H.ui.UI');\ngoog.require('H.ui.ZoomControl');\ngoog.require('H.ui.base');\ngoog.require('H.ui.util');\n\n\n/**\n * Function returns build information\n * @return {H.util.BuildInfo}\n * @export\n */\nH.ui.buildInfo = function() {\n  'use strict';\n  return H.util.BuildInfo.get('{BUILD_NAME}', '{BUILD_VERSION}', '{BUILD_REVISION}');\n};\n"
	]
}