(function(ns){var H = ns;var aa=this;
function ba(a){var c=typeof a;if("object"==c)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return c;var b=Object.prototype.toString.call(a);if("[object Window]"==b)return"object";if("[object Array]"==b||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==b||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==
c&&"undefined"==typeof a.call)return"object";return c}function h(a,c){var b=a.split("."),d=aa;b[0]in d||!d.execScript||d.execScript("var "+b[0]);for(var e;b.length&&(e=b.shift());)b.length||void 0===c?d=d[e]?d[e]:d[e]={}:d[e]=c};function m(a,c,b,d,e,g){if(a&&c)this.ca(a),this.N(c),this.p(b),this.Ga(e),this.Ea(g),this.Ha(d);else throw Error('Parameters "scheme" and "host" must be specified');}h("H.service.Url",m);
function q(a,c){var b=a,d=document,e,g,f,l,k=d.createElement("a");c&&(g=(e=d.getElementsByTagName("base")[0])&&e.href,f=d.head,l=e||f.appendChild(d.createElement("base")),l.href=c);k.href=b;b=k.href;c&&(e?e.href=g:f.removeChild(l));b=/(?:(\w+):\/\/)?(?:([^:]+):([^@/]*)@)?([^/:]+)?(?:[:]{1}([0-9]+))?(\/[^?#]*)?(\?[^#]+)?(#.*)?/.exec(b);e=b[1];k=b[4];g=b[5];d=b[6];f=b[7];l=b[8];!b[2]&&k&&/@/.test(k)&&(k=k.split("@")[1]);var b=k,d=d&&0<d.length?d.substr(1):"",k={},p,u;if(f)for(p=/([?&]?([^=&+]+))(=([^&]+))?/g;u=
p.exec(f);)k[decodeURIComponent(u[2])]=u[4]?decodeURIComponent(u[4]):void 0;return new m(e,b,d,k,isNaN(+g)?void 0:+g,l&&0<l.length?l.substr(1):"")}m.parse=q;m.prototype.clone=function(){return new m(this.ba,this.A,this.e,this.qa(),this.H,this.q)};m.prototype.clone=m.prototype.clone;m.prototype.ca=function(a){if(!a||"string"!==typeof a)throw Error('The "scheme" parameter must be a non-empty string.');this.ba=a;return this};m.prototype.setScheme=m.prototype.ca;m.prototype.ib=function(){return this.ba};
m.prototype.getScheme=m.prototype.ib;m.prototype.N=function(a){if(!a||"string"!==typeof a||"-"===a.charAt(0)||"."===a.charAt(0)||"."===a.charAt(a.length-1))throw Error('The "host" parameter is not a valid host name.');this.A=a;return this};m.prototype.setHost=m.prototype.N;m.prototype.$a=function(){return this.A};m.prototype.getHost=m.prototype.$a;m.prototype.p=function(a){this.e=a||void 0;return this};m.prototype.setPath=m.prototype.p;m.prototype.bb=function(){return this.e};
m.prototype.getPath=m.prototype.bb;m.prototype.Ha=function(a){if(a)if("object"==typeof a)this.i=a;else throw Error('Parameter "params" must be an object.');else this.i={};return this};m.prototype.setQuery=m.prototype.Ha;m.prototype.ua=function(){return!ca(this)};m.prototype.hasQuery=m.prototype.ua;m.prototype.fb=function(){return this.i};m.prototype.getQuery=m.prototype.fb;
m.prototype.Ga=function(a){if(a&&isNaN(parseInt(a,10)))throw Error('Parameter "port" must be a number or undefined');this.H=+a||void 0;return this};m.prototype.setPort=m.prototype.Ga;m.prototype.eb=function(){return this.H};m.prototype.getPort=m.prototype.eb;m.prototype.Ea=function(a){this.q=a||void 0;return this};m.prototype.setAnchor=m.prototype.Ea;m.prototype.getAnchor=function(){return this.q};m.prototype.getAnchor=m.prototype.getAnchor;
m.prototype.b=function(a){if("object"!==typeof a)throw Error('Parameter "other" must be an object.');var c=this.i,b;for(b in a)a.hasOwnProperty(b)&&"function"!==typeof a[b]&&(c[b]=a[b]);return this};m.prototype.mergeQuery=m.prototype.b;m.prototype.k=function(a){if(!a||"string"!==typeof a)throw Error('Parameter "subDomain" must be a non-empty string');"."===a.substr(a.length-1)&&(a=a.substr(0,a.length-1));return this.N(a+"."+this.A)};m.prototype.addSubDomain=m.prototype.k;
m.prototype.d=function(a){if(!a||"string"!==typeof a)throw Error('Parameter "subPath" must be a non-empty string');return this.p((this.e?this.e+"/":"")+a)};m.prototype.addSubPath=m.prototype.d;m.prototype.toString=function(){return[this.ba+"://",this.A,this.H?":"+this.H:"",this.e||!ca(this)||this.q?"/":"",this.e?encodeURI(this.e):"",da(this),this.q?"#"+encodeURIComponent(this.q):""].join("")};m.prototype.toString=m.prototype.toString;
m.prototype.qa=function(){var a={},c;for(c in this.i)a[c]=this.i[c];return a};m.prototype.cloneQuery_=m.prototype.qa;function da(a){var c=[],b,d=a.i,e;for(b in d)d.hasOwnProperty(b)&&"function"!==typeof d[b]&&(e=a.i[b],c.push(encodeURIComponent(b)+(void 0===e?"":"="+encodeURIComponent(e))));return 0<c.length?"?"+c.join("&"):""}function ca(a){var c,b=0;for(c in a.i)if(a.i.hasOwnProperty(c)&&"function"!==typeof a.i[c]&&(b++,0<b))break;return!b};function r(a){function c(b){d.removeChild(e);p&&clearTimeout(p);delete r.aa[g];b&&a.D&&a.D.call(k,b)}if(!a.url||!a.r)throw Error('Parameter "options" must specify at least a URL and a callback.');if("function"!==typeof a.r)throw Error("Parmaters options.callback must be a function");var b=a.vb||document,d=b.getElementsByTagName("head")[0],e=b.createElement("script"),b=a.url instanceof m?a.url:q(a.url,a.ub),g=r.pb++,f=a.P||"callback",l=a.r,k={},p=null;k.id=g;k.cancel=function(){c("cancelled")};0!==
a.timeout&&(p=setTimeout(function(){c("timeout")},a.timeout||3E4));r.aa[g]=function(a){c();l.call(k,a)};e.type="text/javascript";e.src=b.toString()+(b.ua()?"&":"?")+f+"="+(a.za?"H.service.jsonp.handleResponse("+g+")":encodeURI("H.service.jsonp.handleResponse("+g+")"));d.appendChild(e);return k}h("H.service.jsonp",r);r.jb=function(a){return(a=r.aa[a])?a:function(){}};r.handleResponse=r.jb;r.pb=0;r.aa={};function s(a){a=a||{};this.n=a.subDomain;this.e=a.path;this.Pa=a.callbackKey;this.f=a.baseUrl}h("H.service.AbstractRestService",s);s.prototype.g=function(a,c,b,d,e){this.a=(this.f||e).clone();this.n&&this.a.k(this.n);this.e&&this.a.p(this.e);return this};s.prototype.configure=s.prototype.g;
function t(a,c,b,d){if("function"!=ba(b))throw Error("onResult callback needed");if("function"!=ba(d))throw Error("onError callback needed");return r({url:c,r:function(a){b(a)},D:function(a){d(Error("["+a+"] "+c+" request failed"))},P:a.Pa})};function v(a){a=w(x,a);this.Fa(a.baseUrl);this.da(a.useCIT);this.ea(a.useHTTPS);ea(this,a.app_id,a.app_code);this.Ja={}}h("H.service.Platform",v);function ea(a,c,b){a.na=c;a.ma=b;a.f.b({app_id:c,app_code:b})}v.prototype.g=function(a){if(a.configure)return a.configure(this.na,this.ma,this.La,this.Ka,this.f);throw Error("Object is not configurable");};v.prototype.configure=v.prototype.g;v.prototype.ea=function(a){this.La=a;this.f.ca(a?"https":"http")};v.prototype.setUseHTTPS=v.prototype.ea;
v.prototype.da=function(a){this.Ka=a;this.f.N((a?"cit.":"")+this.Na)};v.prototype.setUseCIT=v.prototype.da;v.prototype.Fa=function(a){this.Na=a.A;this.f=a=a.clone();a.b({xnlp:"CL_JSMv3."+H.buildInfo().version});this.da(this.Ka);this.ea(this.La);ea(this,this.na,this.ma)};v.prototype.setBaseUrl=v.prototype.Fa;v.prototype.Xa=function(){return this.f};v.prototype.getBaseUrl=v.prototype.Xa;var x={app_id:null,app_code:null,useHTTPS:!1,useCIT:!1,baseUrl:new m("http","api.here.com")};
h("H.service.setOptions",function(a,c){x[a]=c});h("H.service.getOptions",function(a){return x[a]});function w(a,c){var b={},d;for(d in a)!a.hasOwnProperty(d)||d in b||(b[d]=a[d]),c&&c.hasOwnProperty(d)&&(b[d]=c[d]);return b};function y(a){a=w(x.places,a);a.callbackKey="callback";H.util.getSuperProto(y).constructor.call(this,a)}H.lang.inherits(y,s);h("H.service.PlacesService",y);y.EntryPoint={SEARCH:"discover/search",SUGGEST:"suggest",EXPLORE:"discover/explore",AROUND:"discover/around",HERE:"discover/here",CATEGORIES:"categories/places"};y.prototype.o=function(a,c,b,d){c=c||{};a=this.a.clone().d(a).b(c);return t(this,a,b,d)};y.prototype.request=y.prototype.o;
y.prototype.search=function(a,c,b){return this.o("discover/search",a,c,b)};y.prototype.search=y.prototype.search;y.prototype.rb=function(a,c,b){return this.o("suggest",a,c,b)};y.prototype.suggest=y.prototype.rb;y.prototype.Ta=function(a,c,b){return this.o("discover/explore",a,c,b)};y.prototype.explore=y.prototype.Ta;y.prototype.Ma=function(a,c,b){return this.o("discover/around",a,c,b)};y.prototype.around=y.prototype.Ma;y.prototype.kb=function(a,c,b){return this.o("discover/here",a,c,b)};
y.prototype.here=y.prototype.kb;y.prototype.Qa=function(a,c,b){return this.o("categories/places",a,c,b)};y.prototype.categories=y.prototype.Qa;y.prototype.Ua=function(a,c,b,d){a=q(a);d&&a.b(d);return t(this,a,c,b)};y.prototype.follow=y.prototype.Ua;x.places={subDomain:"places",path:"places/v1"};v.prototype.cb=function(){return this.g(new y)};v.prototype.getPlacesService=v.prototype.cb;function z(a,c,b){b=b||{};var d;if("function"!==typeof c)throw new TypeError("Invalid callback");if("string"===typeof a)a=q(a,b.baseURL);else if(!(a instanceof m))throw new TypeError("Invalid url");b.headers=d=b.headers||{};d.accept||(d.accept="application/json");this.pa=c;this.$=new H.net.Xhr(a.toString(),this.tb.bind(this),b)}h("H.service.JsonX",z);z.prototype.tb=function(a,c){var b=this.pa,d;if(!c)try{d=JSON.parse(a)}catch(e){c="parse"}delete this.pa;delete this.$;b(d,c)};
z.prototype.abort=function(){this.$&&this.$.abort()};z.prototype.abort=z.prototype.abort;function fa(){this.F={}}fa.prototype.getIcon=function(a,c){var b=a+c,d,e,g;if(!(d=this.F[b])){g={size:{w:26,h:32},anchor:{x:13,y:30}};if("CLOSURE"!==a)switch(d=ga,a){case "CONGESTION":d=d.replace("{{icon}}",ha);break;case "ROADWORKS":d=d.replace("{{icon}}",ia);break;case "ACCIDENT":d=d.replace("{{icon}}",ja);break;default:d=d.replace("{{icon}}",ka)}else d=la,g.anchor.y=16;e=ma[c]||ma.BLOCKING;d=d.replace("{{color}}",e);this.F[b]=d=new H.map.Icon(d,g)}return d};
var ma={BLOCKING:"#323232",VERYHIGH:"#d5232f",HIGH:"#ffa100"},ha='<path d="m 18,15 0,0 c 0,-0.1 0,-0.2 0,-0.4 l 0,-0.2 c 0,-0.1 0,-0.2 0,-0.4 0,0 0,0 0,0 0.6,0 1.1,-0.4 1.1,-1 0,-0.5 -0.5,-1 -1,-1 -0.7,0 -1.1,0.5 -1.1,1 -0.1,0 -0.3,-0.1 -0.4,-0.1 l -0.6,0 -0.3,-0.5 C 15.2,11.6 14.3,11 13.3,11 L 18,11 17.2,9.6 C 17,9.3 16.7,9 16.3,9 L 12.8,9 C 12.4,9 12,9.3 11.8,9.6 L 11.1,11 9.8,11 C 9.7,11 9.6,11 9.5,11 9.2,11 9,10.9 9,10.6 L 9,10.4 C 9,10.2 9.2,9.9 9.5,9.9 l 1.2,0 0.6,-1.04 c 0.3,-0.5 0.9,-0.9 1.5,-0.9 l 3.5,0 c 0.6,0 1.2,0.4 1.5,0.9 l 0.6,1.04 1.2,0 c 0.2,0 0.4,0.3 0.4,0.5 l 0,0.2 c 0,0.3 -0.2,0.5 -0.4,0.5 l -0.1,0 c 0.3,0.3 0.5,0.7 0.5,1.1 l 0,3.4 c 0,0.2 -0.2,0.4 -0.4,0.4 l -1.1,0 C 18.3,16 18,15.8 18,15.6 L 18,15 z M 8,18.1 c 0.6,0 1.1,-0.5 1.1,-1.1 0,-0.5 -0.5,-1 -1.1,-1 -0.6,0 -1.1,0.5 -1.1,1 0,0.6 0.5,1.1 1.1,1.1 m 7,0 c 0.6,0 1.1,-0.5 1.1,-1.1 0,-0.5 -0.5,-1 -1.1,-1 -0.5,0 -1,0.5 -1,1 0,0.6 0.5,1.1 1,1.1 M 14.2,13.6 C 14,13.3 13.7,13 13.3,13 L 9.8,13 C 9.4,13 9,13.3 8.8,13.6 L 8.1,15 15,15 14.2,13.6 z m -8.2,1 0,-0.2 c 0,-0.2 0.2,-0.5 0.5,-0.5 l 1.1,0 0.7,-1 C 8.6,12.4 9.2,12 9.8,12 l 3.5,0 c 0.6,0 1.2,0.4 1.5,0.9 l 0.6,1 1.2,0 c 0.2,0 0.4,0.3 0.4,0.5 l 0,0.2 c 0,0.3 -0.2,0.5 -0.4,0.5 l -0.1,0 c 0.3,0.3 0.5,0.7 0.5,1.1 l 0,3.4 c 0,0.2 -0.2,0.4 -0.4,0.4 l -1.1,0 C 15.3,20 15,19.8 15,19.6 L 15,19 8,19 8,19.6 C 8,19.8 7.8,20 7.5,20 l -1,0 C 6.2,20 6,19.8 6,19.6 l 0,-3.4 c 0,-0.4 0.2,-0.8 0.6,-1.1 l -0.1,0 C 6.2,15.1 6,14.9 6,14.6" fill="#ffffff" />',
ia='<path d="m 9.24,13.2 -3.7,6.8 1.3,0 2.8,-5.1 1.36,1.5 0,3.6 1.1,0 0,-4 -1.4,-1.6 -1.46,-1.2 z M 14.2,9.5 c 0.7,0 1.3,-0.5 1.3,-1.21 0,-0.7 -0.6,-1.2 -1.3,-1.2 -0.7,0 -1.2,0.5 -1.2,1.2 0,0.71 0.5,1.21 1.2,1.21 m -4.46,0.5 1.06,0 -0.96,2.1 -1,-0.8 0.9,-1.3 z m 2.56,4 -1,-0.7 1,-1.9 0,2.6 z m 6.9,1.7 c -0.4,-0.5 -1.5,-1.1 -2.3,0 -0.2,0.3 -0.6,0.7 -0.9,1.2 l -2.7,-2.1 0,-5 -0.8,-0.7 -3.26,0 -1.5,2.3 7.86,6 C 14.7,18.6 13.8,20 13.8,20 l 6,0 1.5,-1.6 c 0,0 -1.7,-2.2 -2.1,-2.7" fill="#ffffff" />',ja=
'<path d="m 10.2,15.9 c 0.4,-0.5 1,-0.5 1.4,0 0.5,0.4 0.5,1 0,1.4 -0.4,0.4 -1,0.4 -1.4,0 -0.45,-0.4 -0.45,-1 0,-1.4 m 4.9,-5 c 0.4,-0.4 1.1,-0.4 1.5,0 0.4,0.4 0.4,1.1 0,1.5 -0.4,0.4 -1.1,0.4 -1.5,0 -0.4,-0.4 -0.4,-1.1 0,-1.5 m 2.6,3.8 c 0.1,0.3 0,0.7 -0.3,1 l -1.9,1 c 0,0 0,0.8 0,1.1 0,0.3 0,0.2 -0.1,0.3 -0.1,0.1 -0.3,0.2 -0.5,0.2 l -2.6,-0.3 4.9,-4.9 0.5,1.6 z m -6.5,5 0.1,0.2 c 0.2,0.1 0.5,0.1 0.7,0 l 0.8,-0.9 1.8,0.1 c 1.1,0 1.4,0 1.7,-0.6 l 0.1,-1.3 1.8,-0.8 c 0.4,-0.4 0.6,-1.1 0.4,-1.7 l -0.3,-1.1 0.8,-0.8 c 0.2,-0.2 0.2,-0.5 0,-0.7 L 19,12 c -0.2,-0.2 -0.5,-0.2 -0.7,0 l -0.1,0.1 c 0.1,-0.5 -0.1,-0.9 -0.4,-1.3 L 15.5,8.44 C 15.3,8.26 15,8.26 14.8,8.44 l -0.7,0.74 c -0.2,0.19 -0.2,0.49 0,0.68 l 0.3,0.34 -4.92,5 -0.36,-0.4 C 8.93,14.6 8.63,14.6 8.45,14.8 L 7.7,15.6 c -0.18,0.1 -0.18,0.4 0,0.6 l 2.4,2.4 c 0.3,0.3 0.7,0.4 1.2,0.4 l -0.1,0.1 c -0.2,0.2 -0.2,0.5 0,0.7 m 5.6,-0.8 3.9,0 1.6,-2 -5.5,2 z m -8.08,0 -3.28,-1.8 0.9,1.8 2.38,0 z" fill="#ffffff" />',
ka='<path d="m 12.9,15.1 c 0.6,0 1.1,-0.5 1.1,-1 l 0.4,-5.9 c 0,-0.6 -0.6,-1.04 -1.5,-1.04 -0.8,0 -1.4,0.44 -1.4,1.04 l 0.3,5.9 c 0,0.5 0.6,1 1.1,1 m 0,1.3 c -0.7,0 -1.3,0.6 -1.3,1.3 0,0.8 0.6,1.4 1.3,1.4 0.8,0 1.4,-0.6 1.4,-1.4 0,-0.7 -0.6,-1.3 -1.4,-1.3" fill="#ffffff" />',ga='<svg width="26" height="32" xmlns="http://www.w3.org/2000/svg"><path d="m 16.8,29.4 c 0,-1.1 -1.8,-2 -4,-2 -2.2,0 -4.01,0.9 -4.01,2 0,1.1 1.81,2 4.01,2 2.2,0 4,-0.9 4,-2" style="fill:#878787"/><path d="m 24.1,17.8 c 1.6,-1.6 1.6,-3.8 0,-5.7 L 15.8,1.9 C 15,0.998 14,0.498 12.9,0.498 11.8,0.498 10.7,1.1 10,1.9 L 1.7,12.1 c -1.6,1.9 -1.6,4.1 0,5.7 L 12.9,29 24.1,17.8 z" stroke="#fff" stroke-width="1" fill="{{color}}" />{{icon}}</svg>',
la='<svg width="26" height="32" xmlns="http://www.w3.org/2000/svg"><circle cx="13" cy="15" r="11" fill="{{color}}" stroke="#ffffff" stroke-width="1"/><rect x="6" y="13" width="14" height="5" fill="#ffffff" /></svg>';function na(a){var c=0,b,d,e=a.length;if(0===e)return c;for(b=0;b<e;b++)d=a.charCodeAt(b),c=(c<<5)-c+d,c|=0;return c}var A=Function("return this")();function C(a,c,b){b=b?b:{criticality:"major,critical"};if(!(a instanceof D))throw Error("IllegalArgument: service");this.Z=H.lang.bind(this.Z,this);H.map.provider.MarkerTileProvider.call(this,{max:20,min:8,requestData:this.Z});this.F=new fa;this.M=a;this.i=b;this.reload=H.lang.bind(this.reload,this);setInterval(this.reload,c||18E4)}H.lang.inherits(C,H.map.provider.MarkerTileProvider);h("H.service.TrafficIncidentsProvider",C);C.prototype.Sa={minor:"HIGH","low impact":"HIGH",major:"VERYHIGH",critical:"BLOCKING"};
C.prototype.Z=function(a,c,b,d,e){var g=this,f=this.Sa,l=this.F;return this.M.Ba(a,c,b,function(a){var b=[];a=a.TRAFFIC_ITEMS;var c,e,n,G;if(a)for(a=a.TRAFFIC_ITEM,G=a.length;G--;){c=a[G];e=c.TRAFFIC_ITEM_TYPE_DESC;switch(e){case "ACCIDENT":case "CONGESTION":n=e;break;case "CONSTRUCTION":n="ROADWORKS";break;default:n="OTHER"}n=l.getIcon(n,f[c.CRITICALITY.DESCRIPTION]);e=c.LOCATION.GEOLOC.ORIGIN;e=new H.map.Marker({lat:e.LATITUDE,lng:e.LONGITUDE},{provider:g,icon:n});e.setData(c);b.push(e)}d(b)},e,
this.i)};function E(){this.sb={hybrid:this.Da,satellite:this.Da,terrain:this.wa,normal:this.wa}}function F(a){var c,b=a.boxes,d,e;this.alt=a.alt;this.label=a.label;this.min=a.minLevel;this.max=a.maxLevel;this.I=[];if(b&&(c=b.length))for(d=b[0],e=new H.geo.Rect(d[0],d[1],d[2],d[3]),this.I.push(e),this.G=new H.geo.Rect(d[0],d[1],d[2],d[3]),a=1;a<c;a++)d=b[a],e=new H.geo.Rect(d[0],d[1],d[2],d[3]),this.I.push(e),this.G.mergeRect(e,!1,this.G)}
F.prototype.intersects=function(a,c){var b;if(a>=this.min&&a<=this.max)if((b=this.I.length)&&this.G){if(this.G.intersects(c))for(;b--;)if(this.I[b].intersects(c))return!0}else return!0;return!1};
var oa=new F({label:"INEGI",minLevel:9,maxLevel:20,boxes:[[14.4031,-94.2111,16,-91],[32,-117.1817,32.7325,-113.1649],[17.406,-91,18,-88.7349],[28,-101,29.4004,-99.9666],[28,-103,30,-101],[24,-113,26,-97],[26,-99,26.4261,-97.5566],[15.5643,-97.9326,16,-95.2581],[16,-91,16.9491,-90.3434],[18,-107,22,-95],[16,-103,18,-91],[18,-95,20,-87],[28,-119,32,-103],[22,-111,24,-97],[18,-115,20,-109],[26,-117,28,-99]]}),pa=new F({label:"NavInfo",minLevel:6,maxLevel:20,boxes:[[52.7754,119.9835,53.5719,126.1939],
[35.4169,77.1449,35.7754,78.5576],[17.7754,108.5576,18.7754,110.5576],[47.9285,115.4373,48.223,115.5576],[30.7754,78.5576,36.7754,79.5576],[49.7754,118.4027,50.9802,119.5576],[39.7754,120.5576,40.7754,126.5576],[28.7754,82.5576,29.7754,98.5576],[35.7754,120.5576,38.7754,121.5576],[40.7754,120.5576,42.7754,128.5576],[42.7754,115.5576,49.7754,131.5576],[45.7754,82.363,46.2212,82.5576],[49.7754,127.5576,50.7754,128.5576],[28.2004,96.2409,28.7754,97.5576],[18.7754,108.5576,20.7754,111.5576],[28.6334,
93.5576,28.7754,94.0161],[25.1912,119.5576,25.7754,119.912],[24.7754,117.5576,25.7754,119.5576],[38.7754,120.5576,39.7754,124.5576],[20.7754,99.5576,21.7754,102.5576],[32.7754,120.5576,33.5701,120.8986],[41.7754,128.5576,42.7754,131.5576],[27.6769,91.7865,27.7754,92.1101],[36.7754,73.5576,40.7754,79.5576],[20.7754,106.5576,22.7754,113.5576],[27.7754,117.5576,29.7754,122.5576],[45.7754,82.5576,47.7754,91.5576],[48.7754,86.6922,49.2494,88.1056],[41.7754,79.2585,41.8535,79.5576],[42.7754,111.5576,45.7754,
115.5576],[21.7754,113.5576,22.7754,116.5576],[32.2241,78.3965,32.6363,78.5576],[42.7754,94.5576,44.7754,96.5576],[29.7754,120.5576,32.7754,122.5576],[26.7754,117.5576,27.7754,121.5576],[24.5027,118.5576,24.7754,118.8161],[29.7754,122.5576,31.7754,123.5576],[40.7754,76.5576,41.7754,79.5576],[29.7754,79.5576,42.7754,120.5576],[49.7754,119.5576,52.7754,127.5576],[21.7754,98.5576,22.7754,104.5576],[47.7754,85.4858,48.7754,90.1507],[44.8404,131.5576,48.4334,134.8631],[27.7754,84.5576,28.7754,93.5576],
[25.7754,117.5576,26.7754,120.5576],[36.7754,121.5576,37.7754,123.5576],[27.2614,88.7706,27.7754,89.2653],[23.7754,97.5576,28.7754,98.5576],[35.7754,75.5576,36.7754,78.5576],[23.7754,117.5576,24.7754,118.5576],[22.7754,98.5576,29.7754,117.5576],[42.7754,79.5576,45.7754,94.5576]]});E.prototype.wa=[oa,pa];E.prototype.Da=[new F({label:"DigitalGlobe",minLevel:0,maxLevel:20,boxes:[[90,-180,-90,180]]}),oa,pa];function I(a,c,b,d,e,g){var f=this;g=g?g:{};var l=a.a.clone().d(c+"/"+a.j+"/"+b).b(g),k=a.l;H.map.provider.ImageTileProvider.call(this,{tileSize:d,max:512==d?19:20,min:512==d?2:0,getURL:function(a,b,c){var g=f.tileBaseUrl_.clone();k&&g.k(k[(c+b+a)%k.length]);g.d(c+"/"+a+"/"+b+"/"+d+"/"+e);return g.toString()}});this.service_=a;this.tileBaseUrl_=l;this.tileType_=c;this.scheme_=b;this.params_=g;this.copyrightKey_=b.split(".")[0];this.updateAndReload_=H.lang.bind(this.updateAndReload_,this);a.addEventListener("versionupdate",
this.updateAndReload_)}H.lang.inherits(I,H.map.provider.ImageTileProvider);I.prototype.getCopyrights=function(a,c){var b=this.service_.getCopyrights().sb[this.copyrightKey_],d,e=b?b.length:0,g=[];for(d=0;d<e;d++)b[d].intersects(c,a)&&g.push(b[d]);return g};I.prototype.updateAndReload_=function(){var a=this.service_;this.tileBaseUrl_=a.a.clone().d(this.tileType_+"/"+a.j+"/"+this.scheme_).b(this.params_);this.reload(!1)};function J(a){a=w(x.maptile,a);H.util.EventTarget.call(this);this.f=a.baseUrl;this.e=a.path;this.n=a.subDomain;this.l=a.shards;this.m=(this.U=!!a.ignoreTypes)?null:a.type;this.j=a.version;this.Q=new E;this.Aa={}}H.lang.inherits(J,H.util.EventTarget);h("H.service.MapTileService",J);function L(a,c){for(var b={},d=a[c+"s"][c],e=d.length;e--;)b[d[e].id]=d[e];a[c+"s"]=b}
J.prototype.g=function(a,c,b,d,e){this.a=(this.f||e).clone();this.n&&this.a.k(this.n);this.m&&this.a.k(this.m);this.e&&this.a.p(this.e);"newest"===this.j&&this.R();return this};J.prototype.configure=J.prototype.g;J.prototype.ta=function(){return this.m};J.prototype.getType=J.prototype.ta;J.prototype.T=function(){return this.j};J.prototype.getVersion=J.prototype.T;J.prototype.fa=function(a){this.j=a};J.prototype.getCopyrights=function(){return this.Q};J.prototype.getCopyrights=J.prototype.getCopyrights;
J.prototype.ia=function(a){a=a.response;var c;L(a,"map");L(a,"scheme");L(a,"tiletype");L(a,"format");L(a,"resolution");L(a,"language");if("newest"===this.j&&"traffic"!==this.m)for(c in a.maps)a.maps[c].hash&&a.maps[c].newest&&(this.fa(a.maps[c].hash),this.dispatchEvent("versionupdate"));this.V=a;this.dispatchEvent("infoupdate")};
J.prototype.R=function(){var a=this,c=this.a.clone().d("info").b({output:"json"});this.l&&c.k(this.l[0]);r({url:c,P:"callback_func",r:function(b){a.ia(JSON.parse(b.replace(/,\s?\]/g,"]")))},D:function(a){throw Error("["+a+"]: Could not fetch meta-info from map tile service @"+c.toString());},za:!0})};J.prototype.S=function(){return this.V};J.prototype.getInfo=J.prototype.S;
J.prototype.s=function(a,c,b,d,e){var g;g=na(this.a.clone().d(a+"/"+this.j+"/"+c+"/"+b+"/"+d).b(e?e:{}).toString());var f=this.Aa[g];f||(f=new I(this,a,c,b,d,e),this.Aa[g]=f);return f};J.prototype.createTileProvider=J.prototype.s;J.prototype.c=function(a,c,b,d,e,g,f){a=this.s(a,c,b,d,e);return new H.map.layer.TileLayer(a,{opacity:g,dark:!!f})};J.prototype.createTileLayer=J.prototype.c;x.maptile={type:"base",version:"newest",subDomain:"maps",path:"maptile/2.1",shards:["1","2","3","4"]};
v.prototype.u=function(a){var c;c=w(x.maptile,a);var b;b=""+(c.ignoreTypes?"":c.type);b+=c.path;b+=c.subDomain;b+=c.baseUrl;b+=c.shards?c.shards.join(""):"";c=na(b);b=this.Ja[c];b||(b=this.g(new J(a)),this.Ja[c]=b);return b};v.prototype.getMapTileService=v.prototype.u;function D(a){a=w(x.trafficIncidents,a);a.callbackKey="jsoncallback";H.util.getSuperProto(D).constructor.call(this,a)}H.lang.inherits(D,s);h("H.service.TrafficIncidentsService",D);D.prototype.ob=function(a,c,b){a=this.a.clone().d("incidents.json").b(a);return t(this,a,c,b)};D.prototype.requestIncidents=D.prototype.ob;D.prototype.Ba=function(a,c,b,d,e,g){a=this.a.clone().d(["incidents/json",b,a,c].join("/")).b(g||{});return t(this,a,d,e)};D.prototype.requestIncidentsByTile=D.prototype.Ba;
x.trafficIncidents={subDomain:"traffic",path:"traffic/6.1"};v.prototype.sa=function(){return this.g(new D)};v.prototype.getTrafficIncidentsService=v.prototype.sa;v.prototype.Ra=function(a,c,b,d,e,g){var f=this.u(),l=this.u({type:"aerial"}),k=this.u({type:"traffic"}),p=this.u({type:"pano"}),u=this.ra(),B=this.sa(),n={};a=a||256;320===c&&(n.ppi=c);b&&(n.lg=b);d&&(n.lg2=d);e&&(n.style=e);g&&(n.pois="");b=new C(B,void 0,b?n:null);this.lb=new H.map.layer.MarkerTileLayer(b);return{normal:{xbase:f.c("xbasetile","normal.day",a,"png8",n,1,!1),base:f.c("basetile","normal.day",a,"png8",n,1,!1),map:f.c("maptile","normal.day",a,"png8",n,1,!1),traffic:k.c("traffictile",
"normal.day",a,"png8",n,1,!1),transit:f.c("maptile","normal.day.transit",a,"png8",n,1,!1),panorama:p.c("rctile","normal.day",a,"png8",n,1,!1),labels:f.c("labeltile","normal.day",a,"png",n,1,!1),metaInfo:u.c(a,320===c?2:1,["buildings"],n)},satellite:{xbase:l.c("xbasetile","hybrid.day",a,"jpg",n,1,!0),base:l.c("basetile","hybrid.day",a,"jpg",n,1,!0),map:l.c("maptile","hybrid.day",a,"jpg",n,1,!0),traffic:k.c("traffictile","hybrid.day",a,"jpg",n,1,!0),panorama:p.c("rctile","hybrid.day",a,"jpg",n,1,!0),
labels:l.c("labeltile","hybrid.day",a,"png",n,1,!0)},terrain:{xbase:l.c("xbasetile","terrain.day",a,"jpg",n,1,!1),base:l.c("basetile","terrain.day",a,"jpg",n,1,!1),map:l.c("maptile","terrain.day",a,"jpg",n,1,!1),traffic:k.c("traffictile","terrain.day",a,"jpg",n,1,!1),panorama:p.c("rctile","terrain.day",a,"jpg",n,1,!1),labels:l.c("labeltile","terrain.day",a,"png",n,1,!1)},incidents:this.lb}};v.prototype.createDefaultLayers=v.prototype.Ra;function M(a,c,b,d){d=d||qa;this.t={};d.provider=a;H.map.Spatial.call(this,c,d);b&&(this.Y=b)}H.lang.inherits(M,H.map.Spatial);h("H.service.metaInfo.Spatial",M);var qa={};M.prototype.v=function(){return this.Y};M.prototype.getRemoteId=M.prototype.v;M.prototype.X=0;M.prototype.L=function(){this.Y&&++this.X};M.prototype.retain=M.prototype.L;M.prototype.J=function(){this.Y&&(--this.X||this.getProvider().removeObject(this));return 1>this.X};M.prototype.release=M.prototype.J;
function O(a,c){this.Wa=a;0<=c&&(this.va=c)}O.prototype.va=-1;var ra=new O([]);M.prototype.getGeometry=function(a){return(this.t[a.key]||ra).Wa};M.prototype.getGeometry=M.prototype.getGeometry;M.prototype.getHybridIdx=function(a){return(this.t[a.key]||ra).va};M.prototype.getHybridIdx=M.prototype.getHybridIdx;function sa(){}sa.prototype.parse=function(){};h("H.service.metaInfo.IParser.prototype.parse",sa.prototype.parse);function P(a){var c;if(a)for(this.ga={},c=a.length;c--;)this.ga[a[c]]=!0;this.Ia={}}var Q;P.prototype.ga={};P.prototype.parse=function(a,c,b){var d,e,g,f,l,k;Q=!1;try{b=A.JSON.parse(b)}catch(p){Q=!0}if(b&&(d=b.metadata))for(e in k={spatials:[]},d){if(b=!this.ga[e]&&(g=R[e]))(f=d[e])||(Q=!0,f=void 0),b=f;if(b)for(b=f.length;b--;){var u;(u=f[b])||(Q=!0,u=void 0);(l=u)&&g(c,a,this,e,l,k)}}else Q=!0;return Q?void 0:k};h("H.service.metaInfo.Parser.prototype.parse",P.prototype.parse);
var R={"street labels":function(a,c,b,d,e,g){var f;(f=e.vertices)||(Q=!0,f=void 0);if(f){var l,k=f.length,p,u;(p=0<k)||(Q=!0,p=void 0);if(p)for(l=Array(k/2);k;)u=f[--k],p=f[--k],l[k/2]=new H.math.Point(p,u);l=l?[l]:[];k=+e["font size"]/a.getPixelRatio();f=b.Ia[k];f||(ta.lineWidth=k,f=b.Ia[k]=b.C.getCopy(ta));S(a,c,l,!1,f,e,d,g,-1)}delete e.vertices},"city center labels":function(a,c,b,d,e,g){S(a,c,ua(e,[]),!0,b.C,e,d,g,-1)},labels:function(a,c,b,d,e,g){var f;(f=e["bounding boxes"])||(Q=!0,f=void 0);
if(f){for(var l=f.length,k=[],p;l--;){var u;(u=f[l])||(Q=!0,u=void 0);(p=u)&&ua(p,k)}S(a,c,k,!0,b.C,e,d,g,-1)}delete e["bounding boxes"]},buildings:function(a,c,b,d,e,g){var f=e.id,l=c.K[f],k,p,u,B,n,G,K=[],N=[];(k=e.sectors)||(Q=!0,k=void 0);if(k)for(u=k.length,p=0;p<u;p++)if((B=k[p])||(Q=!0,B=void 0),B){if(n=B.vertices)(G=B.polygons)&&K.push.apply(K,va(n,G)),(G=B.outlines)&&N.push.apply(N,va(n,G));delete B.vertices;delete B.polygons;delete B.outlines}G=K.length;K.push.apply(K,N);(N=K.length)||(Q=
!0,N=void 0);N&&(l?(l.t[a.key]=new O(K,G),g.spatials.push(l)):(l=S(a,c,K,!0,b.C,e,d,g,G,f),c.addObject(l)))}};R.transit_stops=R.POIs=R.labels;function wa(a){var c=a[0],b=a[1],d=a[2];a=a[3];return[new H.math.Point(c,b),new H.math.Point(c+d,b),new H.math.Point(c+d,b+a),new H.math.Point(c,b+a)]}var xa=["text box","bullet box","annotation box"];function ua(a,c){for(var b=xa.length,d,e;b--;)if(d=xa[b],e=a[d])c.push(wa(e)),delete a[d];return c}
function va(a,c){var b=c.length,d,e,g,f,l;if(0<b)for(e=Array(b);b--;)if((d=c[b])||(Q=!0,d=void 0),d&&(f=d.length,0<f))for(e[b]=g=Array(f);f--;)l=2*d[f],g[f]=new H.math.Point(a[l],a[l+1]);return e||[]}var ya={};function S(a,c,b,d,e,g,f,l,k,p){ya.style=e;d=new M(c,d,p,ya);d.t[a.key]=new O(b,k);za(g);g.category=f;d.setData(g);l.spatials.push(d);d.setParentEventTarget(c);return d}P.prototype.C=new H.map.SpatialStyle({strokeColor:"transparent",fillColor:"transparent",lineWidth:0});var ta={};
function za(a){var c,b=!1;switch(typeof a){case "object":if(a instanceof Array)for(c=a.length;c--;)za(a[c])?b=!0:delete a[c];else if(a)for(c in a)za(a[c])?b=!0:delete a[c];break;case "number":b=!0;break;default:b=!!a}return b};function T(){}T.prototype.v=function(){};h("H.service.metaInfo.IObject.prototype.getRemoteId",T.prototype.v);T.prototype.L=function(){};h("H.service.metaInfo.IObject.prototype.retain",T.prototype.L);T.prototype.J=function(){};h("H.service.metaInfo.IObject.prototype.release",T.prototype.J);function U(a,c){this.mb=a;this.ya={};H.lang.extend(this.ya,c||this.ya);H.map.provider.ObjectProvider.call(this,c);this.K={}}H.lang.inherits(U,H.map.provider.ObjectProvider);h("H.service.metaInfo.ObjectProvider",U);var Aa=[];U.prototype.requestMarkers=function(){return Aa};U.prototype.requestMarkers=U.prototype.requestMarkers;U.prototype.requestDomMarkers=function(){return Aa};U.prototype.requestDomMarkers=U.prototype.requestDomMarkers;U.prototype.providesSpatials=function(){return!0};
U.prototype.providesSpatials=U.prototype.providesSpatials;U.prototype.requestSpatials=function(){return Aa};U.prototype.requestSpatials=U.prototype.requestSpatials;U.prototype.requestSpatialsByTile=function(a){var c=a.ka,b;!c&&(b=a.ja)&&(delete a.ja,b=this.mb.parse(this,a,b))&&(c=a.ka=b.spatials);return c||Aa};U.prototype.requestSpatialsByTile=U.prototype.requestSpatialsByTile;U.prototype.addObject=function(a){var c=a.v();if(this.K[c])throw"Remote object "+c+" allready added";this.K[c]=a};
U.prototype.removeObject=function(a){delete this.K[a.v()]};function V(a){a=w(x.maptile,a||{});H.util.EventTarget.call(this);this.f=a.baseUrl;this.e=a.path;this.n=a.subDomain;this.l=a.shards;this.m=(this.U=!!a.ignoreTypes)?null:a.type;this.j=a.version;this.Q=new E}H.lang.inherits(V,H.util.EventTarget);h("H.service.metaInfo.Service",V);function W(a,c){for(var b={},d=a[c+"s"][c],e=d.length;e--;)b[d[e].id]=d[e];a[c+"s"]=b}
V.prototype.g=function(a,c,b,d,e){this.a=(this.f||e).clone();this.n&&this.a.k(this.n);this.m&&this.a.k(this.m);this.e&&this.a.p(this.e);"newest"===this.j&&this.R();return this};V.prototype.configure=V.prototype.g;V.prototype.ta=function(){return this.m};V.prototype.T=function(){return this.j};V.prototype.getVersion=V.prototype.T;V.prototype.fa=function(a){this.j=a};V.prototype.getCopyrights=function(){return this.Q};V.prototype.getCopyrights=V.prototype.getCopyrights;
V.prototype.ia=function(a){a=a.response;var c;W(a,"map");W(a,"scheme");W(a,"tiletype");W(a,"format");W(a,"resolution");W(a,"language");if("newest"===this.j&&"traffic"!==this.m)for(c in a.maps)a.maps[c].hash&&a.maps[c].newest&&(this.fa(a.maps[c].hash),this.dispatchEvent("versionupdate"));this.V=a;this.dispatchEvent("infoupdate")};
V.prototype.R=function(){var a=this,c=this.a.clone().d("info").b({output:"json"});this.l&&c.k(this.l[0]);r({url:c,P:"callback_func",r:function(b){a.ia(JSON.parse(b.replace(/,\s?\]/g,"]")))},D:function(a){throw Error("["+a+"]: Could not fetch meta-info from map tile service @"+c.toString());},za:!0})};V.prototype.S=function(){return this.V};V.prototype.getInfo=V.prototype.S;V.prototype.s=function(a,c,b,d){return new X(this,d,{tileSize:a,pixelratio:c,categoryFilter:b})};
V.prototype.createTileProvider=V.prototype.s;V.prototype.c=function(a,c,b,d){a=this.s(a,c,b,d);return new H.map.layer.TileLayer(a)};V.prototype.createTileLayer=V.prototype.c;v.prototype.ra=function(a){return this.g(new V(a))};v.prototype.getMetaInfoTileService=v.prototype.ra;x.metainfotile={type:"base",version:"newest",subDomain:"maps",path:"maptile/2.1",shards:["1","2","3","4"]};function X(a,c,b){b=b||{};this.i=c=c||{};if(!(a&&a instanceof V))throw Error("InvalidArgument: service required");this.M=a;this.ha=H.lang.bind(this.ha,this);this.M.addEventListener("versionupdate",this.ha);this.f=a.a.clone().d("maptile/"+a.j+"/normal.day").b(this.la).b(c);this.l=a.l||null;this.tileSize=b.tileSize||256;this.nb=b.pixelratio||1;this.objectProvider_=new U(new P(b.categoryFilter));this.objectProvider_.setParentEventTarget(this);this.W=H.lang.bind(this.W,this);this.objectProvider_.addEventListener("update",
this.W);this.B=[];this.xa=H.lang.bind(this.xa,this);this.oa=this.getCache();H.map.provider.RemoteTileProvider.call(this,{min:0,max:20})}H.lang.inherits(X,H.map.provider.RemoteTileProvider);h("H.service.metaInfo.TileProvider",X);X.prototype.xa=function(a,c){var b,d,e;b=c.getObjects();for(d=b.length;d--;)e=b[d],delete e.t[c.key],e.J();c.data&&(this.B.push(c.releaseCanvas()),c.releaseData())};X.prototype.W=function(){this.dispatchEvent("update")};
X.prototype.requestInternal=function(a,c,b,d,e){var g=this.f.clone(),f=this.l,l=this.tileSize,k=this.getTileKey(a,c,b),k=this.oa.get(k),p,u;if(k&&!k.isCanvasValid())d(this.B.pop()||A.document.createElement("canvas"),null),p={cancel:function(){}};else{f&&g.k(f[(b+c+a)%f.length]);g.d(b+"/"+a+"/"+c+"/"+l+"/png8");var B=A.setTimeout(function(){u=new H.net.Xhr(g.toString(),function(a,b){b?e():d(null,a)})},500)}return p||{cancel:function(){u||A.clearTimeout(B)}}};X.prototype.requestInternal=X.prototype.requestInternal;
X.prototype.createTileInternal=function(a,c,b,d,e){var g=this.objectProvider_,f;f=d||this.B.pop()||A.document.createElement("canvas");if(d)a=this.oa.get(this.getTileKey(a,c,b)),a.render(d);else if(d=a=new H.map.provider.SpatialTile(this.getTileKey(a,c,b),a,c,b,this.tileSize,this.nb,g),delete d.ka,d.ja=e,a.render(f))for(e=a.getObjects(),f=e.length;f--;)e[f].L();else this.B.push(f);return a};X.prototype.createTileInternal=X.prototype.createTileInternal;
X.prototype.ha=function(){var a=this.M;this.f=a.a.clone().d("maptile/"+a.j+"/normal.day").b(this.la).b(this.i);this.reload(!1)};X.prototype.la={metadata:"metaonly",mgen:"2"};function Y(a){a=w(x.enterpriseRouting,a);a.callbackKey="jsoncallback";H.util.getSuperProto(Y).constructor.call(this,a)}H.lang.inherits(Y,s);h("H.service.EnterpriseRoutingService",Y);Y.prototype.O=function(a,c,b){a=this.a.clone().d("calculateroute.json").b(a);t(this,a,c,b)};Y.prototype.calculateRoute=Y.prototype.O;Y.prototype.gb=function(a,c,b){a=this.a.clone().d("getroute.json").b(a);t(this,a,c,b)};Y.prototype.getRoute=Y.prototype.gb;
Y.prototype.ab=function(a,c,b){a=this.a.clone().d("getlinkinfo.json").b(a);t(this,a,c,b)};Y.prototype.getLinkInfo=Y.prototype.ab;Y.prototype.Oa=function(a,c,b){a=this.a.clone().d("calculateisoline.json").b(a);t(this,a,c,b)};Y.prototype.calculateIsoline=Y.prototype.Oa;var Ba={subDomain:"route",path:"routing/6.2",baseUrl:new m("http","nlp.nokia.com")};x.enterpriseRouting=Ba;v.prototype.Ya=function(a){return this.g(new Y(a))};v.prototype.getEnterpriseRoutingService=v.prototype.Ya;function Z(a){a=w(x.routing,a);a.callbackKey="jsoncallback";H.util.getSuperProto(Z).constructor.call(this,a)}H.lang.inherits(Z,s);h("H.service.RoutingService",Z);Z.prototype.O=function(a,c,b){a=this.a.clone().d("calculateroute.json").b(a);t(this,a,c,b)};Z.prototype.calculateRoute=Z.prototype.O;x.routing={subDomain:"route",path:"routing/7.2"};v.prototype.hb=function(a){return this.g(new Z(a))};v.prototype.getRoutingService=v.prototype.hb;function $(a){a=w(x.geocoding,a);a.callbackKey="jsoncallback";H.util.getSuperProto($).constructor.call(this,a);this.Ca=a.reverseSubDomain}H.lang.inherits($,s);h("H.service.GeocodingService",$);$.prototype.Va=function(a,c,b){a=this.a.clone().d("geocode.json").b(a);return t(this,a,c,b)};$.prototype.geocode=$.prototype.Va;$.prototype.qb=function(a,c,b){a=this.a.clone().d("reversegeocode.json").b(a);this.Ca&&a.k(this.Ca);return t(this,a,c,b)};$.prototype.reverseGeocode=$.prototype.qb;
$.prototype.search=function(a,c,b){a=this.a.clone().d("search.json").b(a);return t(this,a,c,b)};$.prototype.search=$.prototype.search;x.geocoding={subDomain:"geocoder",path:"6.2",reverseSubDomain:"reverse"};v.prototype.Za=function(a){return this.g(new $(a))};v.prototype.getGeocodingService=v.prototype.Za;var H=H||{};h("H.service.buildInfo",function(){return H.util.BuildInfo.get("mapsjs-service","dev-0.6.2","6c506935ce114d6469e24fb6b7bd74742b3de38a")});
}(H));//# sourceMappingURL=mapsjs-service.map