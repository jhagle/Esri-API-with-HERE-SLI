{
	"version": 3,
	"file": "mapsjs-corejs",
	"lineCount": 243,
	"mappings": "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",
	"sources": [
		"/home/here/repo/core/dev/node_modules/closure-library/closure/goog/base.js",
		"/home/here/repo/core/dev/node_modules/closure-library/closure/goog/object/object.js",
		"/home/here/repo/core/dev/node_modules/closure-library/closure/goog/events/events.js",
		"out/tmp/src/mapsjs/global.js",
		"out/tmp/src/mapsjs/lang/namespace.js",
		"out/tmp/src/mapsjs/util/namespace.js",
		"out/tmp/src/mapsjs/map/ArrowStyle.js",
		"out/tmp/src/mapsjs/lang/InvalidArgumentError.js",
		"out/tmp/src/mapsjs/math/namespace.js",
		"out/tmp/src/mapsjs/geo/namespace.js",
		"out/tmp/src/mapsjs/geo/Point.js",
		"out/tmp/src/mapsjs/geo/Rect.js",
		"out/tmp/src/mapsjs/geo/Strip.js",
		"out/tmp/src/mapsjs/util/QuadTree.js",
		"out/tmp/src/mapsjs/geo/QuadTree.js",
		"out/tmp/src/mapsjs/map/provider/Invalidations.js",
		"/home/here/repo/core/dev/node_modules/closure-library/closure/goog/disposable/disposable.js",
		"/home/here/repo/core/dev/node_modules/closure-library/closure/goog/events/event.js",
		"out/tmp/src/mapsjs/util/Event.js",
		"out/tmp/src/mapsjs/util/ChangeEvent.js",
		"out/tmp/src/mapsjs/lang/IllegalOperationError.js",
		"/home/here/repo/core/dev/node_modules/closure-library/closure/goog/string/string.js",
		"/home/here/repo/core/dev/node_modules/closure-library/closure/goog/events/listenable.js",
		"/home/here/repo/core/dev/node_modules/closure-library/closure/goog/events/listener.js",
		"/home/here/repo/core/dev/node_modules/closure-library/closure/goog/useragent/useragent.js",
		"/home/here/repo/core/dev/node_modules/closure-library/closure/goog/events/browserfeature.js",
		"/home/here/repo/core/dev/node_modules/closure-library/closure/goog/array/array.js",
		"/home/here/repo/core/dev/node_modules/closure-library/closure/goog/reflect/reflect.js",
		"/home/here/repo/core/dev/node_modules/closure-library/closure/goog/events/browserevent.js",
		"/home/here/repo/core/dev/node_modules/closure-library/closure/goog/events/eventtype.js",
		"/home/here/repo/core/dev/node_modules/closure-library/closure/goog/events/eventtarget.js",
		"out/tmp/src/mapsjs/util/EventTarget.js",
		"out/tmp/src/mapsjs/map/Object.js",
		"out/tmp/src/mapsjs/map/SpatialStyle.js",
		"out/tmp/src/mapsjs/map/Spatial.js",
		"out/tmp/src/mapsjs/map/GeoShape.js",
		"out/tmp/src/mapsjs/map/Polyline.js",
		"out/tmp/src/mapsjs/map/Polygon.js",
		"out/tmp/src/mapsjs/math/clipping.js",
		"out/tmp/src/mapsjs/map/Rect.js",
		"out/tmp/src/mapsjs/util/BuildInfo.js",
		"out/tmp/src/mapsjs/util/ICapturable.js",
		"out/tmp/src/mapsjs/util/Disposable.js",
		"out/tmp/src/mapsjs/map/Imprint.js",
		"out/tmp/src/mapsjs/Map.js",
		"out/tmp/src/mapsjs/util/OList.js",
		"out/tmp/src/mapsjs/map/ChangeEvent.js",
		"out/tmp/src/mapsjs/util/events.js",
		"out/tmp/src/mapsjs/map/ViewModel.js",
		"out/tmp/src/mapsjs/math/Point.js",
		"out/tmp/src/mapsjs/geo/IProjection.js",
		"out/tmp/src/mapsjs/geo/mercator.js",
		"out/tmp/src/mapsjs/geo/PixelProjection.js",
		"out/tmp/src/mapsjs/map/layer/Layer.js",
		"out/tmp/src/mapsjs/map/Group.js",
		"out/tmp/src/mapsjs/math/simplifyDP.js",
		"out/tmp/src/mapsjs/map/provider/Tile.js",
		"out/tmp/src/mapsjs/map/provider/SpatialTile.js",
		"out/tmp/src/mapsjs/util/shims/namespace.js",
		"out/tmp/src/mapsjs/lang/OutOfRangeError.js",
		"out/tmp/src/mapsjs/util/AsyncQueue.js",
		"out/tmp/src/mapsjs/util/SequentialQueue.js",
		"out/tmp/src/mapsjs/map/provider/Provider.js",
		"out/tmp/src/mapsjs/util/Cache.js",
		"out/tmp/src/mapsjs/map/provider/TileProvider.js",
		"out/tmp/src/mapsjs/map/provider/SpatialTileProvider.js",
		"out/tmp/src/mapsjs/map/layer/BaseTileLayer.js",
		"out/tmp/src/mapsjs/util/ParallelQueue.js",
		"out/tmp/src/mapsjs/net/ImageLoader.js",
		"out/tmp/src/mapsjs/map/provider/RemoteTileProvider.js",
		"out/tmp/src/mapsjs/map/provider/ImageTileProvider.js",
		"out/tmp/src/mapsjs/math/Rect.js",
		"out/tmp/src/mapsjs/map/layer/TileLayer.js",
		"out/tmp/src/mapsjs/map/layer/ObjectLayer.js",
		"out/tmp/src/mapsjs/map/ViewPort.js",
		"out/tmp/src/mapsjs/map/provider/ObjectProvider.js",
		"out/tmp/src/mapsjs/math/Size.js",
		"out/tmp/src/mapsjs/map/Icon.js",
		"out/tmp/src/mapsjs/map/provider/LocalObjectProvider.js",
		"out/tmp/src/mapsjs/map/AbstractMarker.js",
		"out/tmp/src/mapsjs/map/render/p2d/MarkerRenderer.js",
		"out/tmp/src/mapsjs/map/render/p2d/Surface.js",
		"out/tmp/src/mapsjs/map/render/p2d/canvas/MarkerRenderer.js",
		"out/tmp/src/mapsjs/map/HitArea.js",
		"out/tmp/src/mapsjs/math/Vector.js",
		"out/tmp/src/mapsjs/map/render/p2d/InteractionUtils.js",
		"out/tmp/src/mapsjs/map/render/p2d/ControlUtils.js",
		"out/tmp/src/mapsjs/map/render/p2d/dom/Surface.js",
		"out/tmp/src/mapsjs/map/render/p2d/capabilities.js",
		"out/tmp/src/mapsjs/map/render/p2d/canvas/TileRenderer.js",
		"out/tmp/src/mapsjs/util/animation/ease.js",
		"out/tmp/src/mapsjs/util/kinetics/KineticMove.js",
		"out/tmp/src/mapsjs/util/animation/Animation.js",
		"out/tmp/src/mapsjs/map/render/RenderEngine.js",
		"out/tmp/src/mapsjs/map/render/p2d/canvas/Surface.js",
		"out/tmp/src/mapsjs/map/render/p2d/dom/MarkerRenderer.js",
		"out/tmp/src/mapsjs/map/DomIcon.js",
		"out/tmp/src/mapsjs/map/render/p2d/RenderEngine.js",
		"out/tmp/src/mapsjs/map/DataModel.js",
		"out/tmp/src/mapsjs/net/Xhr.js",
		"out/tmp/src/mapsjs/map/Circle.js",
		"out/tmp/src/mapsjs/map/DomMarker.js",
		"out/tmp/src/mapsjs/map/Marker.js",
		"out/tmp/src/mapsjs/map/provider/MarkerTileProvider.js",
		"out/tmp/src/mapsjs/map/layer/MarkerTileLayer.js",
		"out/tmp/src/mapsjs/namespace.js"
	],
	"names": [
		"goog.global",
		"goog.typeOf",
		"value",
		"s",
		"Array",
		"Object",
		"className",
		"prototype",
		"toString",
		"call",
		"length",
		"splice",
		"propertyIsEnumerable",
		"goog.isString",
		"val",
		"goog.isFunction",
		"goog.getUid",
		"obj",
		"goog.UID_PROPERTY_",
		"goog.uidCounter_",
		"Math",
		"random",
		"goog.bindNative_",
		"fn",
		"selfObj",
		"var_args",
		"apply",
		"bind",
		"arguments",
		"goog.bindJs_",
		"Error",
		"boundArgs",
		"slice",
		"newArgs",
		"unshift",
		"goog.bind",
		"Function",
		"indexOf",
		"goog.bind.apply",
		"goog.exportSymbol",
		"publicPath",
		"object",
		"parts",
		"split",
		"cur",
		"execScript",
		"part",
		"shift",
		"undefined",
		"goog.inherits",
		"childCtor",
		"parentCtor",
		"tempCtor",
		"superClass_",
		"constructor",
		"goog.object.forEach",
		"f",
		"goog.events.listeners_",
		"key",
		"opt_obj",
		"goog.object.PROTOTYPE_FIELDS_",
		"goog.object.extend",
		"target",
		"source",
		"i",
		"j",
		"goog.object.PROTOTYPE_FIELDS_.length",
		"hasOwnProperty",
		"H.global",
		"H.lang.bind",
		"H.lang.String",
		"String",
		"H.lang.evaluate_",
		"opt_code",
		"eval",
		"H.lang.UNDEF",
		"H.lang.NULL",
		"H.lang.tokenize",
		"opt_delimiter",
		"H.lang.PROTOTYPEFIELDS",
		"H.lang.isInstanceOf",
		"cstr",
		"opt_caller",
		"opt_argNr",
		"isInstanceOf",
		"H.lang.InvalidArgumentError",
		"opt_message",
		"H.lang.isConstructedBy",
		"H.lang.checkIllegalConstructor",
		"instance",
		"TypeError",
		"H.lang.getSymbolPath",
		"goog.isObject",
		"type",
		"goog.isArrayLike",
		"H.lang.isTypeOf",
		"isTypeOf",
		"H.lang.typeOf",
		"H.lang.parseFloat",
		"parseFloat",
		"H.lang.isNaN",
		"isNaN",
		"H.lang.isNumber",
		"H.lang.isNumberLike",
		"match",
		"str",
		"opt_namespace",
		"opt_path",
		"opt_passed",
		"path",
		"initialCall",
		"H.lang.forEachProp",
		"H.lang.propertyNameByValue",
		"H.lang.isObject",
		"cloneNode",
		"push",
		"substr",
		"replace",
		"H.lang.getFunctionName",
		"keys",
		"sort",
		"H.lang.sortByLength",
		"a",
		"b",
		"onlyOwnProperties",
		"callback",
		"H.lang.PROTOTYPEFIELDS.length",
		"func",
		"matches",
		"exec",
		"H.lang.numberedArguments",
		"name",
		"idx",
		"argumentNames",
		"H.util.alphaChannelRegExp_",
		"H.util.isNonTransparent",
		"color",
		"H.util.alphaChannelRegExp_.test",
		"test",
		"$2",
		"H.util.IS_MSIE",
		"H.util.getSuperProto",
		"H.util.eval",
		"H.util.getValue",
		"defaultVal",
		"H.util.svgToDataUrl",
		"svgMarkup",
		"encodeURIComponent",
		"H.util.nextUid_",
		"H.util.returnFalse",
		"H.util.doNothing",
		"H.util.emptyArray",
		"H.util.getContainedCanvasses",
		"element",
		"tagName",
		"getElementsByTagName",
		"H.util.cloneNode",
		"node",
		"targetDocument",
		"containsCanvas",
		"clone",
		"ownerDocument",
		"importNode",
		"originCanvasses",
		"clonedCanvasses",
		"getContext",
		"drawImage",
		"H.util.dummyCanvasContext_",
		"canvas",
		"document",
		"createElement",
		"width",
		"height",
		"H.util.isImageLoaded",
		"img",
		"isComplete",
		"complete",
		"hasSize",
		"naturalWidth",
		"H.util.dummyCanvasContext_.drawImage",
		"e",
		"H.map.ArrowStyle",
		"opt_options",
		"isArrowStyle",
		"isFilling",
		"getClone",
		"H.map.ArrowStyle.prototype.getClone",
		"equals",
		"H.map.ArrowStyle.prototype.equals",
		"other",
		"equal",
		"goog.exportProperty",
		"argsLength",
		"argName",
		"msg",
		"forEach",
		"H.math.Math",
		"H.math.random",
		"H.math.Math.random",
		"H.math.min",
		"H.math.Math.min",
		"min",
		"H.math.max",
		"H.math.Math.max",
		"max",
		"H.math.round",
		"H.math.Math.round",
		"round",
		"H.math.floor",
		"H.math.Math.floor",
		"floor",
		"H.math.ceil",
		"H.math.Math.ceil",
		"ceil",
		"H.math.abs",
		"H.math.Math.abs",
		"abs",
		"H.math.log",
		"H.math.Math.log",
		"log",
		"H.math.sqrt",
		"H.math.Math.sqrt",
		"sqrt",
		"H.math.pow",
		"H.math.Math.pow",
		"pow",
		"H.math.exp",
		"H.math.Math.exp",
		"exp",
		"H.math.sin",
		"H.math.Math.sin",
		"sin",
		"H.math.asin",
		"H.math.Math.asin",
		"asin",
		"H.math.cos",
		"H.math.Math.cos",
		"cos",
		"H.math.tan",
		"H.math.Math.tan",
		"tan",
		"H.math.atan",
		"H.math.Math.atan",
		"atan",
		"H.math.atan2",
		"H.math.Math.atan2",
		"atan2",
		"H.math.LN2",
		"H.math.Math.LN2",
		"LN2",
		"H.math.PI",
		"H.math.Math.PI",
		"PI",
		"H.math.PI_OVER_2",
		"H.math.PI_OVER_4",
		"H.math.TAU",
		"H.math.PI3",
		"H.math.PI_OVER_180",
		"H.math._180_OVER_PI",
		"H.math.MIN_IDX",
		"H.math.modulo",
		"dividend",
		"divisor",
		"modulo",
		"H.math.clamp",
		"H.math.inRange",
		"extreme1",
		"extreme2",
		"tolerance",
		"H.math.getVectorDistance",
		"x",
		"y",
		"ax",
		"ay",
		"bx",
		"by",
		"H.math.isCoveredBy",
		"lineWidth",
		"opt_closed",
		"len",
		"y1",
		"x2",
		"y2",
		"x1Prev",
		"hit",
		"NONE",
		"above",
		"beneath",
		"tol",
		"lastPos",
		"VERTEX",
		"x1",
		"EDGE",
		"yi",
		"SURFACE",
		"H.geo.AltitudeContext",
		"H.geo.validateLat",
		"lat",
		"H.geo.validateLng",
		"lng",
		"H.geo.validateAlt",
		"alt",
		"H.geo.validateCtx",
		"ctx",
		"invalid",
		"H.geo.isIPoint",
		"point",
		"H.geo.Point",
		"opt_alt",
		"opt_ctx",
		"H.geo.Point.prototype.equals",
		"distance",
		"H.geo.Point.prototype.distance",
		"thisLatRad",
		"otherLatRad",
		"walk",
		"H.geo.Point.prototype.walk",
		"bearing",
		"opt_overGreatCircle",
		"lng2",
		"lat1",
		"lng1",
		"lat2",
		"dLat",
		"dLon",
		"H.geo.WGS84_MEAN_RADIUS",
		"angleA",
		"walkGC_",
		"sinAngleA",
		"sinDist",
		"cosDist",
		"angleB",
		"cosAngleA",
		"dLng",
		"dPhi",
		"q",
		"H.geo.Point.validate",
		"couldValidate",
		"H.geo.Point.fromIPoint",
		"iPoint",
		"H.geo.Rect",
		"top",
		"left",
		"bottom",
		"right",
		"set_",
		"H.geo.Rect.prototype.equals",
		"top_",
		"left_",
		"bottom_",
		"right_",
		"H.geo.Rect.prototype.set_",
		"tmpTop",
		"topLeft_",
		"bottomRight_",
		"center_",
		"getTopLeft",
		"H.geo.Rect.prototype.getTopLeft",
		"getBottomRight",
		"H.geo.Rect.prototype.getBottomRight",
		"getTop",
		"H.geo.Rect.prototype.getTop",
		"getBottom",
		"H.geo.Rect.prototype.getBottom",
		"getLeft",
		"H.geo.Rect.prototype.getLeft",
		"getRight",
		"H.geo.Rect.prototype.getRight",
		"getCenter",
		"H.geo.Rect.prototype.getCenter",
		"H.geo.Rect.getBoxMidLng_",
		"getWidth",
		"H.geo.Rect.prototype.getWidth",
		"H.geo.Rect.getBoxWidth_",
		"getHeight",
		"H.geo.Rect.prototype.getHeight",
		"isCDB",
		"H.geo.Rect.prototype.isCDB",
		"isEmpty",
		"H.geo.Rect.prototype.isEmpty",
		"containsLatLng",
		"H.geo.Rect.prototype.containsLatLng",
		"opt_skipValidation",
		"center",
		"resBox",
		"mergeLatLng",
		"resBoxCenter",
		"containsPoint",
		"H.geo.Rect.prototype.containsPoint",
		"geoPoint",
		"containsRect",
		"H.geo.Rect.prototype.containsRect",
		"geoRect",
		"mergeRect",
		"H.geo.Rect.prototype.mergeLatLng",
		"opt_out",
		"H.geo.Rect.merge",
		"mergePoint",
		"H.geo.Rect.prototype.mergePoint",
		"H.geo.Rect.prototype.mergeRect",
		"mergeTopLeftBottomRight",
		"H.geo.Rect.prototype.mergeTopLeftBottomRight",
		"intersects",
		"H.geo.Rect.prototype.intersects",
		"cond1",
		"cond2",
		"cond3",
		"cond4",
		"H.geo.MAX_LONGITUDE_LENGTH",
		"midPoint",
		"H.geo.MAX_LONGITUDE",
		"topA",
		"leftA",
		"bottomA",
		"rightA",
		"topB",
		"leftB",
		"bottomB",
		"rightB",
		"midLngA",
		"newMaxLon",
		"minLat",
		"maxLat",
		"widthA",
		"widthB",
		"bMid",
		"epsilon",
		"newMinLon",
		"H.geo.MIN_LONGITUDE",
		"H.geo.Rect.fromPoints",
		"topLeft",
		"bottomRight",
		"H.geo.Rect.coverPoints",
		"pointArray",
		"H.lang.isArrayLike",
		"l",
		"rect",
		"H.geo.Rect.coverLatLngAlts",
		"latLngAltArray",
		"H.geo.Rect.coverRects",
		"rectArray",
		"resizeToCenter",
		"H.geo.Rect.prototype.resizeToCenter",
		"minLon",
		"maxLon",
		"mid",
		"dlat",
		"dlon",
		"resultMinLon",
		"resultMaxLon",
		"resultMaxLat",
		"resultMinLat",
		"H.geo.Strip",
		"opt_latLngAlts",
		"H.geo.Strip.validateLatLngAlts_",
		"bounds_",
		"latLngAlts_",
		"ctx_",
		"DBCs_",
		"countDBCs_",
		"H.geo.Strip.prototype.countDBCs_",
		"start",
		"end",
		"latLngAlts",
		"count",
		"H.geo.Strip.isDBC",
		"pushLatLngAlt",
		"H.geo.Strip.prototype.pushLatLngAlt",
		"pushLatLngAlt_",
		"H.geo.Strip.prototype.pushLatLngAlt_",
		"caller",
		"spliceLatLngAlts",
		"H.geo.Strip.prototype.spliceLatLngAlts",
		"index",
		"opt_nRemove",
		"removed",
		"concat",
		"insertLatLngAlt",
		"H.geo.Strip.prototype.insertLatLngAlt",
		"removeLatLngAlt",
		"H.geo.Strip.prototype.removeLatLngAlt",
		"pushPoint",
		"H.geo.Strip.prototype.pushPoint",
		"insertPoint",
		"H.geo.Strip.prototype.insertPoint",
		"pointIndex",
		"removePoint",
		"H.geo.Strip.prototype.removePoint",
		"extractPoint",
		"H.geo.Strip.prototype.extractPoint",
		"latLngAltIndex",
		"eachLatLngAlt",
		"H.geo.Strip.prototype.eachLatLngAlt",
		"eachFn",
		"opt_start",
		"opt_end",
		"getDBCs",
		"H.geo.Strip.prototype.getDBCs",
		"dbcs",
		"getPointCount",
		"H.geo.Strip.prototype.getPointCount",
		"getLatLngAltArray",
		"H.geo.Strip.prototype.getLatLngAltArray",
		"getBounds",
		"H.geo.Strip.prototype.getBounds",
		"latS",
		"merge",
		"lngS",
		"hasBounds",
		"H.geo.Strip.prototype.hasBounds",
		"isValid",
		"H.geo.Strip.fromLatLngArray",
		"latLngs",
		"strip",
		"H.util.QuadTree",
		"depth",
		"radiusX",
		"radiusY",
		"centerX",
		"centerY",
		"depth_",
		"head_",
		"extremes_",
		"root_",
		"centerX_",
		"centerY_",
		"radiusX_",
		"radiusY_",
		"flush",
		"H.util.QuadTree.getExtremes_",
		"candidates",
		"extremes",
		"seekingMin",
		"aspectCandidates",
		"aspectCandidate",
		"entries",
		"subCandidates",
		"extreme",
		"subCandidatesFound",
		"aspect",
		"minMaxKey",
		"entries_",
		"quad",
		"H.util.QuadTree.prototype.flush",
		"H.util.QuadTree.Quad_",
		"remove",
		"H.util.QuadTree.prototype.remove",
		"entry",
		"result",
		"quad_",
		"head",
		"tree",
		"parent",
		"parent_",
		"subQuadAddr_",
		"adjustHead_",
		"adjustExtremes_",
		"H.util.QuadTree.prototype.adjustExtremes_",
		"opt_wasAdded",
		"treeExtremes",
		"insert_",
		"H.util.QuadTree.prototype.insert_",
		"minX",
		"minY",
		"maxX",
		"maxY",
		"remainingDepth",
		"qMidX",
		"qMidY",
		"getSubQuad_",
		"H.util.QuadTree.Entry",
		"H.util.QuadTree.prototype.adjustHead_",
		"opt_quad",
		"intersect",
		"H.util.QuadTree.prototype.intersect",
		"intersect_",
		"H.util.QuadTree.prototype.intersect_",
		"midX",
		"midY",
		"eMaxY",
		"eMinX",
		"eMinY",
		"eMaxX",
		"subQuadAddr",
		"opt_minX",
		"opt_minY",
		"opt_maxX",
		"opt_maxY",
		"RIGHT",
		"MID_X",
		"MAX_X",
		"MIN_X",
		"BOTTOM",
		"MID_Y",
		"MAX_Y",
		"MIN_Y",
		"H.util.QuadTree.Quad_.prototype.getSubQuad_",
		"H.util.QuadTree.Entry.lastID_",
		"H.geo.QuadTree",
		"opt_depth",
		"tree_",
		"cdbEntries_",
		"isCDB_",
		"cdbBounds_",
		"treeBounds_",
		"H$geo$QuadTree.prototype",
		"H.geo.QuadTree.prototype",
		"entriesCount_",
		"H.geo.QuadTree.prototype.isCDB",
		"H.geo.QuadTree.prototype.getBounds",
		"bounds",
		"boundsList",
		"cdbEntries",
		"getCdbBounds_",
		"H.geo.QuadTree.prototype.insert_",
		"H.geo.QuadTree.prototype.insertPoint",
		"H.geo.QuadTree.prototype.remove",
		"H.geo.QuadTree.prototype.intersectCdbEntries_",
		"leftShifted",
		"rightShifted",
		"intersectCdbEntry_",
		"H.geo.QuadTree.prototype.intersectCdbEntry_",
		"entryTop",
		"entryRight",
		"entryBottom",
		"entryLeft",
		"H.geo.QuadTree.mergeEntries_",
		"set1",
		"set2",
		"lookup",
		"H.geo.QuadTree.prototype.intersectBounds",
		"intersectCdbEntries_",
		"H.map.provider.Invalidations",
		"update",
		"H.map.provider.Invalidations.prototype.update",
		"mark",
		"types",
		"H.map.provider.Invalidations.Flag.NONE",
		"anyMark_",
		"H.map.provider.Invalidations.Flag.SPATIAL",
		"spatialMark_",
		"H.map.provider.Invalidations.Flag.VISUAL",
		"visualMark_",
		"H.map.provider.Invalidations.Flag.ADD",
		"addMark_",
		"H.map.provider.Invalidations.Flag.REMOVE",
		"removeMark_",
		"H.map.provider.Invalidations.Flag.Z_ORDER",
		"zOrderMark_",
		"getMark",
		"H.map.provider.Invalidations.prototype.getMark",
		"isAny",
		"H.map.provider.Invalidations.prototype.isAny",
		"since",
		"isVisual",
		"H.map.provider.Invalidations.prototype.isVisual",
		"isSpatial",
		"H.map.provider.Invalidations.prototype.isSpatial",
		"isAdd",
		"H.map.provider.Invalidations.prototype.isAdd",
		"isRemove",
		"H.map.provider.Invalidations.prototype.isRemove",
		"isZOrder",
		"H.map.provider.Invalidations.prototype.isZOrder",
		"VISUAL",
		"SPATIAL",
		"ADD",
		"REMOVE",
		"Z_ORDER",
		"H.map.provider.Invalidations.Flag",
		"goog.Disposable",
		"goog.Disposable.MONITORING_MODE",
		"goog.Disposable.MonitoringMode.OFF",
		"goog.Disposable.instances_",
		"OFF",
		"disposed_",
		"dispose",
		"goog.Disposable.prototype.dispose",
		"disposeInternal",
		"uid",
		"addOnDisposeCallback",
		"goog.Disposable.prototype.addOnDisposeCallback",
		"opt_scope",
		"onDisposeCallbacks_",
		"goog.Disposable.prototype.disposeInternal",
		"goog.events.Event",
		"opt_target",
		"currentTarget",
		"goog$events$Event.prototype",
		"goog.events.Event.prototype",
		"goog.events.Event.prototype.disposeInternal",
		"goog.events.Event.prototype.dispose",
		"propagationStopped_",
		"defaultPrevented",
		"returnValue_",
		"stopPropagation",
		"goog.events.Event.prototype.stopPropagation",
		"preventDefault",
		"goog.events.Event.prototype.preventDefault",
		"H.util.ChangeEvent",
		"newValue",
		"oldValue",
		"H.util.ChangeEvent.superClass_.constructor.call",
		"H.lang.IllegalOperationError",
		"message",
		"join",
		"goog.string.compareElements_",
		"goog.events.ListenableKey.counter_",
		"goog.events.Listener",
		"goog$events$Listener.prototype",
		"goog.events.Listener.prototype",
		"callOnce",
		"init",
		"goog.events.Listener.prototype.init",
		"listener",
		"proxy",
		"src",
		"capture",
		"opt_handler",
		"isFunctionListener_",
		"handleEvent",
		"handler",
		"goog.events.Listener.prototype.handleEvent",
		"eventObject",
		"goog.userAgent.getUserAgentString",
		"userAgent",
		"goog.userAgent.detectedGecko_",
		"goog.userAgent.detectedWebkit_",
		"goog.userAgent.detectedIe_",
		"goog.userAgent.detectedOpera_",
		"ua",
		"navigator",
		"product",
		"goog.userAgent.OPERA",
		"goog.userAgent.IE",
		"goog.userAgent.GECKO",
		"goog.userAgent.WEBKIT",
		"goog.userAgent.getDocumentMode_",
		"doc",
		"goog.userAgent.VERSION",
		"version",
		"re",
		"operaVersion",
		"arr",
		"docMode",
		"goog.userAgent.isVersionCache_",
		"goog.userAgent.isVersion",
		"order",
		"v1Subs",
		"v2Subs",
		"version2",
		"subCount",
		"subIdx",
		"v1Sub",
		"v2Sub",
		"v1CompParser",
		"v2CompParser",
		"v1Comp",
		"v2Comp",
		"v1CompNum",
		"parseInt",
		"v2CompNum",
		"goog.userAgent.DOCUMENT_MODE",
		"mode",
		"HAS_W3C_EVENT_SUPPORT",
		"SET_KEY_CODE_TO_PREVENT_DEFAULT",
		"HAS_NAVIGATOR_ONLINE_PROPERTY",
		"HAS_HTML5_NETWORK_EVENT_SUPPORT",
		"HTML5_NETWORK_EVENTS_FIRE_ON_BODY",
		"goog.array.ARRAY_PROTOTYPE_",
		"goog.array.indexOf",
		"goog.array.ARRAY_PROTOTYPE_.indexOf",
		"opt_fromIndex",
		"goog.array.ARRAY_PROTOTYPE_.indexOf.call",
		"fromIndex",
		"goog.reflect.sinkValue",
		"goog.nullFunction",
		"goog.events.BrowserEvent",
		"opt_e",
		"opt_currentTarget",
		"goog$events$BrowserEvent.prototype",
		"goog.events.BrowserEvent.prototype",
		"relatedTarget",
		"offsetX",
		"offsetY",
		"clientX",
		"clientY",
		"screenX",
		"screenY",
		"button",
		"keyCode",
		"charCode",
		"ctrlKey",
		"altKey",
		"shiftKey",
		"metaKey",
		"event_",
		"goog.events.BrowserEvent.prototype.init",
		"goog.events.Event.call",
		"srcElement",
		"MOUSEOVER",
		"fromElement",
		"MOUSEOUT",
		"toElement",
		"layerX",
		"layerY",
		"pageX",
		"pageY",
		"state",
		"goog.events.BrowserEvent.prototype.stopPropagation",
		"goog.events.BrowserEvent.superClass_.stopPropagation.call",
		"cancelBubble",
		"goog.events.BrowserEvent.prototype.preventDefault",
		"goog.events.BrowserEvent.superClass_.preventDefault.call",
		"be",
		"returnValue",
		"goog.events.BrowserFeature.SET_KEY_CODE_TO_PREVENT_DEFAULT",
		"VK_F1",
		"VK_F12",
		"ex",
		"goog.events.BrowserEvent.prototype.disposeInternal",
		"goog.events.listenerTree_",
		"goog.events.sources_",
		"goog.events.onStringMap_",
		"goog.events.listen",
		"opt_capt",
		"listenableKey",
		"goog.events.listen_",
		"map",
		"count_",
		"srcUid",
		"listenerArray",
		"remaining_",
		"listenerObj",
		"goog.events.getProxy",
		"addEventListener",
		"attachEvent",
		"goog.events.onString_",
		"proxyCallbackFunction",
		"goog.events.handleBrowserEvent_",
		"goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT",
		"v",
		"goog.events.listenOnce",
		"goog.events.unlisten",
		"objUid",
		"goog.events.unlistenByKey",
		"removeEventListener",
		"detachEvent",
		"sourcesArray",
		"goog.array.ARRAY_PROTOTYPE_.splice.call",
		"needsCleanup_",
		"goog.events.cleanUp_",
		"locked_",
		"oldIndex",
		"newIndex",
		"goog.events.removeAll",
		"goog.events.fireListeners_",
		"retval",
		"remaining",
		"goog.events.fireListener",
		"Boolean",
		"goog.events.dispatchEvent",
		"oldEvent",
		"rv",
		"ancestors",
		"hasCapture",
		"targetsMap",
		"getParentEventTarget",
		"current",
		"opt_evt",
		"ieEvent",
		"hasBubble",
		"useReturnValue",
		"evt",
		"parentNode",
		"goog.events.EventTarget",
		"goog.Disposable.call",
		"goog$events$EventTarget.prototype",
		"goog.events.EventTarget.prototype",
		"parentEventTarget_",
		"goog.events.EventTarget.prototype.getParentEventTarget",
		"setParentEventTarget",
		"goog.events.EventTarget.prototype.setParentEventTarget",
		"goog.events.EventTarget.prototype.addEventListener",
		"opt_capture",
		"opt_handlerScope",
		"goog.events.EventTarget.prototype.removeEventListener",
		"dispatchEvent",
		"goog.events.EventTarget.prototype.dispatchEvent",
		"goog.events.EventTarget.prototype.disposeInternal",
		"goog.events.EventTarget.superClass_.disposeInternal.call",
		"H.map.Object",
		"H.map.Object.superClass_.constructor.call",
		"id_",
		"H.map.Object.nextObjectId_",
		"min_",
		"max_",
		"visibility_",
		"zIndex_",
		"provider",
		"setData",
		"H.map.Object.Type",
		"EventType",
		"getId",
		"H.map.Object.prototype.getId",
		"setVisibility",
		"H.map.Object.prototype.setVisibility",
		"opt_visibility",
		"currentVisibility",
		"invalidate",
		"VISIBILITYCHANGE",
		"getVisibility",
		"H.map.Object.prototype.getVisibility",
		"opt_effective",
		"visibility",
		"parentGroup",
		"getZIndex",
		"H.map.Object.prototype.getZIndex",
		"setZIndex",
		"H.map.Object.prototype.setZIndex",
		"zIndex",
		"currentZIndex",
		"resetZInfo",
		"ZINDEXCHANGE",
		"zInfo",
		"H.map.Object.prototype.getZInfo",
		"isZIndexed",
		"siblingIndex",
		"getZInfo",
		"H.map.Object.prototype.resetZInfo",
		"H.map.Object.compareZInfo",
		"first",
		"second",
		"onlyZIndex",
		"length1",
		"length2",
		"difference",
		"step",
		"H.map.Object.compareZOrder",
		"compareZOrder",
		"H.map.Object.prototype.compareZOrder",
		"zOrderIdx",
		"H$map$Object.prototype",
		"H.map.Object.prototype",
		"previousSibling",
		"nextSibling",
		"getParentGroup",
		"H.map.Object.prototype.getParentGroup",
		"getRootGroup",
		"H.map.Object.prototype.getRootGroup",
		"contains",
		"H.map.Object.prototype.contains",
		"H.map.Object.prototype.setParentEventTarget",
		"parentEventTarget",
		"H.map.Object.superClass_.setParentEventTarget.call",
		"getProvider",
		"H.map.Object.prototype.getProvider",
		"setProvider",
		"H.map.Object.prototype.setProvider",
		"newProvider",
		"oldProvider",
		"isProviderChange",
		"isNotAGroup",
		"H.map.provider.LocalObjectProvider",
		"removeObject",
		"invalidations_",
		"addObject",
		"getInvalidations",
		"H.map.Object.prototype.getInvalidations",
		"H.map.Object.prototype.invalidate",
		"flags",
		"hasProvider",
		"invalidateObject",
		"H.map.Object.prototype.disposeInternal",
		"H.map.Object.superClass_.disposeInternal.call",
		"getData",
		"H.map.Object.prototype.getData",
		"data_",
		"H.map.Object.prototype.setData",
		"data",
		"H.map.SpatialStyle",
		"mergeOptions_",
		"H.map.SpatialStyle.prototype.mergeOptions_",
		"isSpatialStyle",
		"H.map.SpatialStyle.ATTRIBUTE_COUNT_",
		"H.map.SpatialStyle.ATTRIBUTE_NAMES_",
		"H.map.SpatialStyle.validators_",
		"H.map.SpatialStyle.INVALID_",
		"isEffective",
		"isStroking",
		"H.map.SpatialStyle.ATTRIBUTE_NAMES_.length",
		"H.map.SpatialStyle.prototype.equals",
		"getCopy",
		"H.map.SpatialStyle.prototype.getCopy",
		"opt_attributes",
		"strokeColor",
		"fillColor",
		"lineCap",
		"lineJoin",
		"miterLimit",
		"lineDash",
		"every",
		"lineDashOffset",
		"H.map.SpatialStyle.DEFAULT_STYLE",
		"H.map.Spatial",
		"isClosed",
		"setStyle",
		"isClosed_",
		"H.map.Spatial.superClass_.constructor.call",
		"style",
		"getStyle",
		"H.map.Spatial.prototype.getStyle",
		"H.map.Spatial.prototype.setStyle",
		"opt_style",
		"currentStyle",
		"hasChanged",
		"H$map$Spatial.prototype",
		"H.map.Spatial.prototype",
		"PX_CLIP_MARGIN",
		"FULLY_COVERED",
		"NOT_COVERED",
		"H.map.Spatial.prototype.isClosed",
		"getHybridIdx",
		"H.map.Spatial.prototype.getHybridIdx",
		"H.map.GeoShape",
		"options",
		"H.map.Polygon",
		"H.map.Polyline",
		"H.map.GeoShape.superClass_.constructor.call",
		"setStrip",
		"getStrip",
		"H.map.GeoShape.prototype.getStrip",
		"H.map.GeoShape.prototype.setStrip",
		"currentStrip",
		"H.map.GeoShape.prototype.projectGeoStrips",
		"strips",
		"pxProjection",
		"coords",
		"projectDenormalized_",
		"H.map.GeoShape.prototype.projectDenormalized_",
		"opt_shift",
		"denormalizeLastLng_",
		"denormalize_",
		"H.map.GeoShape.prototype.denormalize_",
		"lastLng",
		"latLngToPixel",
		"arrows",
		"H.map.Polyline.superClass_.constructor.call",
		"setArrows",
		"H.map.Polyline.prototype.getBounds",
		"quadTree_",
		"H.map.Polyline.prototype.setStrip",
		"lastLat",
		"quadEntry",
		"quadTree",
		"$insertionIndex$",
		"H.map.Polyline.superClass_.setStrip.call",
		"getArrows",
		"H.map.Polyline.prototype.getArrows",
		"H.map.Polyline.prototype.setArrows",
		"opt_arrows",
		"currentArrows",
		"changed",
		"clip",
		"H.map.Polyline.prototype.clip",
		"getStripsForGeoRect_",
		"getGeometry",
		"H.map.Polyline.prototype.getGeometry",
		"tile",
		"getGeoClipRect",
		"projectGeoStrips",
		"getPxProj",
		"pxClipRect",
		"getPxClipRect",
		"H.math.clipping.clipStrips",
		"H.map.Polyline.treeEntryIndexComparator_",
		"entryA",
		"entryB",
		"H.map.Polyline.prototype.getStripsForGeoRect_",
		"lastIndex",
		"isDBC",
		"intersectBounds",
		"offset",
		"clippedStripsTmp",
		"clippedStripTmp",
		"H.map.Polygon.superClass_.constructor.call",
		"H.map.Polygon.prototype.getBounds",
		"isCoveringNorthPole",
		"H.map.Polygon.prototype.getGeometry",
		"pxProj",
		"northwards",
		"preparedStripForDateBorder_",
		"closeOpenPolygon_",
		"reverse",
		"newArray",
		"H.math.Point",
		"p1",
		"p2",
		"isLeftTopInside",
		"coversCoords_",
		"clippedData",
		"clippingPolygon",
		"c",
		"H.math.clipping.prepareList_",
		"polygonToClip",
		"auxc",
		"auxs",
		"is",
		"ic",
		"xi",
		"alpha_c",
		"alpha_s",
		"forward",
		"old",
		"newp",
		"crt",
		"params",
		"pC",
		"pS",
		"next_s",
		"next_c",
		"intersectResult",
		"root",
		"H.math.clipping.lastNode_",
		"H.math.clipping.create_",
		"next",
		"H.math.clipping.nextNode_",
		"H.math.clipping.intersect_",
		"alpha_p",
		"alpha_q",
		"neighbor",
		"H.math.clipping.insert_",
		"H.math.clipping.test_",
		"H.math.clipping.circle_",
		"H.math.clipping.firstNode_",
		"visited",
		"prev",
		"nextPoly",
		"clipResult",
		"getStripFromResult_",
		"H.map.Polygon.prototype.coversCoords_",
		"pixelStrip",
		"rayCastFromSouthPole",
		"point1",
		"point2",
		"tmp",
		"H.map.Polygon.prototype.getStripFromResult_",
		"aux",
		"origx",
		"origy",
		"H.map.Polygon.prototype.setStrip",
		"H.map.Polygon.superClass_.setStrip.call",
		"setNorthPoleCovering",
		"H.map.Polygon.prototype.setNorthPoleCovering",
		"flag",
		"getNorthPoleCovering",
		"H.map.Polygon.prototype.getNorthPoleCovering",
		"H.map.Polygon.prototype.preparedStripForDateBorder_",
		"shapeBoundsWidth",
		"coordArray",
		"virtualPointAdded",
		"shapeBounds",
		"tmp2",
		"splitIndex",
		"delta",
		"tmp1",
		"newLat",
		"newLng",
		"rotateStripCoords_",
		"H.map.Polygon.prototype.clip",
		"console",
		"symbol",
		"H.map.Polygon.prototype.rotateStripCoords_",
		"longitude",
		"coordArrayTmp",
		"Number",
		"POSITIVE_INFINITY",
		"tmpLngDelta",
		"H.map.Rect",
		"H.map.Rect.superClass_.constructor.call",
		"setBounds",
		"H.map.Rect.prototype.setBounds",
		"H.map.Rect.superClass_.setStrip.call",
		"H.map.Rect.prototype.getBounds",
		"H.map.Rect.prototype.setNorthPoleCovering",
		"H.map.Rect.prototype.setStrip",
		"H.map.Rect.prototype.getStrip",
		"getStrip_",
		"H.map.Rect.prototype.getStrip_",
		"centerLng",
		"H.util.BuildInfo",
		"revision",
		"H.util.BuildInfo.prototype.toString",
		"H.util.BuildInfo.infos_",
		"H.util.BuildInfo.get",
		"H.util.ICapturable",
		"H.util.ICapturable.prototype.capture",
		"goog.dispose",
		"H.util.dispose",
		"H.map.Imprint",
		"el",
		"getElement",
		"H.map.Imprint.superClass_.constructor.call",
		"map_",
		"element_",
		"appendChild",
		"H.map.Imprint.createEl_",
		"DIV",
		"brandElement_",
		"H.map.Imprint.BRAND_SVG_",
		"brandPathStyle_",
		"firstChild",
		"copyrightElement_",
		"span",
		"setAttribute",
		"termsOfUseElement_",
		"reportImageContainer_",
		"reportImageElement_",
		"lastOptionValues_",
		"H.map.Imprint.defaultOptionValues_.slice",
		"setOptions",
		"updateCopyright_",
		"onLayerChange_",
		"MAPVIEWCHANGEEND",
		"dataModel_",
		"H.map.Imprint.optionNames_",
		"H.map.Imprint.defaultOptionValues_",
		"H.map.Imprint.prototype.setOptions",
		"H.map.Imprint.optionNames_.length",
		"lastOptionValues",
		"fill",
		"opt_cssText",
		"opt_innerHTML",
		"cssText",
		"innerHTML",
		"H.map.Imprint.prototype.getElement",
		"H.map.Imprint.prototype.updateCopyright_",
		"reportHref",
		"reportImageElement",
		"reportImageContainer",
		"position",
		"getEngine",
		"H.Map.EngineType.P2D",
		"display",
		"cameraData",
		"viewModel_",
		"getCameraData",
		"href",
		"getCopyrights",
		"H.map.Imprint.prototype.onLayerChange_",
		"setTimeout",
		"label",
		"H.map.Imprint.CURRENT_YEAR_",
		"getFullYear",
		"Date",
		"H.map.Imprint.prototype.getCopyrights",
		"level",
		"getZoom",
		"getViewBounds",
		"layers",
		"copyrights",
		"labels",
		"H.map.Imprint.DEFAULT_COPYRIGHT_.label",
		"get",
		"H.map.Imprint.prototype.getStyle",
		"H.map.Imprint.prototype.disposeInternal",
		"removeChild",
		"H.map.Imprint.prototype.capture",
		"pixelRatio",
		"opt_errback",
		"window",
		"getComputedStyle",
		"fontSize",
		"getPropertyValue",
		"text",
		"brandImage",
		"getBrandImage",
		"childNodes",
		"tmpNode",
		"brandImageHeight",
		"offsetHeight",
		"copyrightHeight",
		"canvasHeight",
		"brandImageSize",
		"getBoundingClientRect",
		"scaledWidth",
		"scaledHeight",
		"imrpintOffsetTop",
		"fromCharCode",
		"font",
		"fillStyle",
		"fillText",
		"brandImageClone",
		"H.net.images.load",
		"load",
		"brandImageDataUrl",
		"H.map.ChangeEvent",
		"modifiers",
		"H.map.ChangeEvent.superClass_.constructor.call",
		"H.util.events.listenOnce",
		"goog.events.fireListeners",
		"H.util.events.fireListenerOriginal_",
		"eventPhase",
		"isBubbling",
		"eventType",
		"H.map.ViewModel",
		"H.map.ViewModel.superClass_.constructor.call",
		"requested_",
		"renderedCameraData_",
		"renderedZoom_",
		"CAMERA_KEYS_",
		"H.map.ViewModel.CamToSyncFlags_",
		"reduce",
		"table",
		"toUpperCase",
		"H.map.ViewModel.prototype.transferData_",
		"targetVal",
		"syncFlags_",
		"oldCamData_",
		"newCamData_",
		"H.map.ViewModel.prototype.getCameraData",
		"transferData_",
		"transferCameraData_",
		"setCameraData",
		"H.map.ViewModel.prototype.setCameraData",
		"animate",
		"H.map.ViewModel.UpdateEvent",
		"synchronize",
		"H.map.ViewModel.prototype.synchronize",
		"renderedCameraData",
		"zoom",
		"SYNC",
		"setZoom",
		"H.map.ViewModel.prototype.setZoom",
		"H.map.ViewModel.prototype.getZoom",
		"getRequestedCameraData",
		"H.map.ViewModel.prototype.getRequestedCameraData",
		"requestedCameraData",
		"requested",
		"H.map.ViewModel.UpdateEvent.superClass_.constructor.call",
		"UPDATE",
		"set",
		"H.math.Point.prototype.clone",
		"add",
		"H.math.Point.prototype.add",
		"sub",
		"H.math.Point.prototype.sub",
		"scale",
		"H.math.Point.prototype.scale",
		"factor",
		"opt_factorY",
		"H.math.Point.prototype.round",
		"H.math.Point.prototype.floor",
		"H.math.Point.prototype.ceil",
		"H.math.Point.prototype.equals",
		"H.math.Point.prototype.distance",
		"H.geo.IProjection",
		"latLngToPoint",
		"H.geo.IProjection.prototype.latLngToPoint",
		"xyToGeo",
		"H.geo.IProjection.prototype.xyToGeo",
		"pointToGeo",
		"H.geo.IProjection.prototype.pointToGeo",
		"geoToPoint",
		"H.geo.IProjection.prototype.geoToPoint",
		"H.geo.mercator",
		"H.geo.mercator.latToY_",
		"latToY_",
		"H.geo.mercator.lngToX_",
		"lngToX_",
		"H.geo.mercator.latLngToPoint",
		"H.geo.mercator.geoToPoint",
		"H.geo.mercator.yToLat_",
		"yToLat_",
		"H.geo.mercator.xToLng_",
		"xToLng_",
		"H.geo.mercator.xyToGeo",
		"H.geo.mercator.pointToGeo",
		"H.geo.PixelProjection",
		"opt_projection",
		"opt_sizeAtLevelZero",
		"zoom_",
		"tileExponent_",
		"updateSize_",
		"rescale",
		"H.geo.PixelProjection.prototype.rescale",
		"pointX",
		"pointY",
		"H.geo.PixelProjection.prototype.updateSize_",
		"H.geo.PixelProjection.MAX_WORLD_SIZE",
		"getZoomScale",
		"H.geo.PixelProjection.prototype.getZoomScale",
		"geoToPixel",
		"H.geo.PixelProjection.prototype.geoToPixel",
		"px",
		"pixelToGeo",
		"H.geo.PixelProjection.prototype.pixelToGeo",
		"H.geo.PixelProjection.prototype.xyToGeo",
		"H.geo.PixelProjection.prototype.latLngToPixel",
		"latitude",
		"pointToPixel",
		"H.geo.PixelProjection.prototype.pointToPixel",
		"H.map.layer.Layer",
		"H.map.layer.Layer.superClass_.constructor.call",
		"dark",
		"setMin",
		"setMax",
		"H.map.layer.Layer.prototype.isValid",
		"zoomLevel",
		"H.map.layer.Layer.prototype.setMin",
		"currentMin",
		"MINCHANGE",
		"H.map.layer.Layer.prototype.setMax",
		"currentMax",
		"MAXCHANGE",
		"dispatchUpdate",
		"H.map.layer.Layer.prototype.dispatchUpdate",
		"H.map.layer.Layer.prototype.disposeInternal",
		"H.map.layer.Layer.superClass_.disposeInternal.call",
		"H.map.layer.Layer.prototype.getCopyrights",
		"H.map.Group",
		"headAndTail",
		"H.map.Group.superClass_.constructor.call",
		"addObjects",
		"H.map.Group.prototype.setProvider",
		"H.map.Group.superClass_.setProvider.call",
		"H.map.Group.forEach_setProvider_",
		"group",
		"H.map.Group.prototype.contains",
		"H.map.Group.prototype.resetZInfo",
		"H.map.Group.forEach_resetZInfo_",
		"H.map.Group.prototype.invalidate",
		"retVal",
		"H.map.Group.superClass_.invalidate.call",
		"flags_",
		"H.map.Group.forEach_invalidate_",
		"H.map.Group.prototype.forEach",
		"opt_recursive",
		"opt_context",
		"sibling",
		"getObjects",
		"H.map.Group.prototype.getObjects",
		"objects",
		"H.map.Group.forEach_collectObjects_",
		"H.map.Group.prototype.getBounds",
		"subRect",
		"getPosition",
		"childCount_",
		"getChildCount",
		"H.map.Group.prototype.getChildCount",
		"nextSiblingIndex_",
		"H.map.Group.prototype.addObject",
		"lastObject",
		"H.map.Group.prototype.addObjects",
		"H.map.Group.prototype.removeObject",
		"removeObjects",
		"H.map.Group.prototype.removeObjects",
		"removeAll",
		"H.map.Group.prototype.removeAll",
		"clippedStrips",
		"clippedStrip",
		"lastPoint",
		"line",
		"H.math.clipping.clipLine_",
		"x0",
		"y0",
		"reflect",
		"xTmp",
		"yTmp",
		"swapped",
		"alpha",
		"newNode",
		"p",
		"H.math.clipping.dist_",
		"H.math.clipping.computeIntersect_",
		"q1",
		"q2",
		"tp",
		"tq",
		"angleDelta",
		"intersectionResult",
		"ins",
		"last",
		"a_s",
		"H.math.simplifyDP",
		"points",
		"opt_minIterations",
		"opt_begin",
		"distSq",
		"epsSq",
		"maxDistSq",
		"slope",
		"H.map.provider.Tile",
		"z",
		"H.map.provider.SpatialTile",
		"tileSize",
		"objectProvider",
		"H.map.provider.SpatialTile.superClass_.constructor.call",
		"objectProvider_",
		"tileSize_",
		"pixelRatio_",
		"objects_",
		"renderData_",
		"H.map.provider.SpatialTile.prototype.getPxClipRect",
		"pxClipRect_",
		"rightBottom",
		"negMargin",
		"H.math.Rect",
		"H.map.provider.SpatialTile.prototype.getGeoClipRect",
		"geoClipRect",
		"geoClipRect_",
		"H.map.provider.SpatialTile.prototype.getPxProj",
		"pxProj_",
		"getPixelRatio",
		"H.map.provider.SpatialTile.prototype.getPixelRatio",
		"H.map.provider.SpatialTile.zOrderComparator_",
		"requestObjects_",
		"H.map.provider.SpatialTile.prototype.requestObjects_",
		"getProviderInvalidations_",
		"renderedAt_",
		"H.map.provider.SpatialTile.prototype.getProviderInvalidations_",
		"H.map.provider.SpatialTile.prototype.checkInvalidations_",
		"renderedAt",
		"invalidations",
		"queriedObjects",
		"isCanvasValid_",
		"isDataValid_",
		"isCanvasValid",
		"H.map.provider.SpatialTile.prototype.isCanvasValid",
		"checkInvalidations_",
		"defineProperty",
		"releaseCanvas",
		"H.map.provider.SpatialTile.prototype.releaseCanvas",
		"releaseData",
		"H.map.provider.SpatialTile.prototype.releaseData",
		"H.map.provider.SpatialTile.prototype.getObjects",
		"getObjectsAt",
		"H.map.provider.SpatialTile.prototype.getObjectsAt",
		"opt_topMostOnly",
		"renderData",
		"coverageType",
		"isObjectClosed",
		"xyCoords",
		"hybridIdx",
		"isFilled",
		"id",
		"k",
		"isGeometryClosed",
		"render",
		"H.map.provider.SpatialTile.prototype.render",
		"clearRect",
		"renderPolygon_",
		"renderPolyline_",
		"H.map.provider.SpatialTile.prototype.renderPolyline_",
		"renderDataEntry",
		"H.map.provider.SpatialTile.simplify_",
		"H.map.provider.SpatialTile.setStrokeStyle_",
		"H.map.provider.SpatialTile.drawPaths_",
		"H.map.provider.SpatialTile.setFillStyle_",
		"arrowWidthHalf",
		"arrowLengthHalf",
		"arrowLengthQuarter",
		"arrowFrequency",
		"arrowRadius",
		"reducedTileSize",
		"renderArrows_",
		"arrowsArea",
		"stripLength",
		"arrowCount",
		"nextArrowAt",
		"cursor",
		"legLength",
		"pointA",
		"pointB",
		"legRatio",
		"PI_OVER_2",
		"arrowOffset",
		"containsXY",
		"save",
		"translate",
		"rotate",
		"beginPath",
		"moveTo",
		"lineTo",
		"closePath",
		"restore",
		"H.map.provider.SpatialTile.prototype.renderPolygon_",
		"isStroked",
		"fillRect",
		"H.map.provider.SpatialTile.simplifyEpsilon_",
		"strokeStyle",
		"stroke",
		"H.util.shims.cancelAnimationFrame",
		"doNothing",
		"hasNativeImpl",
		"nativeRequest",
		"nativeCancel",
		"prefixes",
		"prefix",
		"ANIMATION_FRAME",
		"H.util.shims.requestAnimationFrame",
		"H.global.setTimeout",
		"handle",
		"H.global.clearTimeout",
		"clearTimeout",
		"H.util.shims.now",
		"H.global.performance",
		"performance",
		"H.global.performance.now",
		"now",
		"H.lang.OutOfRangeError",
		"opt_val",
		"opt_range",
		"vals",
		"H.util.AsyncQueue",
		"processFn",
		"that",
		"H.map.provider.ImageTileProvider",
		"queue_",
		"processing_",
		"mode_",
		"process",
		"processQueueBound_",
		"this.processQueueBound_",
		"processQueue_",
		"processQueueHandle_",
		"scheduleProcessQueue_",
		"this.scheduleProcessQueue_",
		"H.util.AsyncQueue.prototype.push",
		"onDone",
		"task",
		"init_",
		"H.util.AsyncQueue.Task",
		"processSync",
		"H.util.AsyncQueue.prototype.processSync",
		"H.util.AsyncQueue.prototype.processQueue_",
		"processing",
		"cycle",
		"isDone_",
		"done",
		"H.util.AsyncQueue.Task.prototype.init_",
		"onDoneForQueue",
		"onDoneForTask",
		"onDoneForQueue_",
		"onDoneForTask_",
		"cancel_",
		"H.util.AsyncQueue.Task.prototype.done",
		"error",
		"cancel",
		"H.util.AsyncQueue.Task.prototype.cancel",
		"setCancelFn",
		"H.util.AsyncQueue.Task.prototype.setCancelFn",
		"cancelFn",
		"H.util.SequentialQueue",
		"maxTime",
		"H.util.SequentialQueue.superClass_.constructor.call",
		"H.util.SequentialQueue.Mode",
		"setMaxTime",
		"maxTime_",
		"startTime_",
		"H.util.SequentialQueue.Mode.prototype.next",
		"queuedItems",
		"item",
		"H.util.SequentialQueue.Mode.prototype.cycle",
		"H.map.provider.Provider",
		"H.map.provider.Provider.superClass_.constructor.call",
		"H.map.provider.Provider.prototype.dispatchUpdate",
		"H.map.provider.Provider.prototype.disposeInternal",
		"H.map.provider.Provider.prototype.getCopyrights",
		"H.util.Cache",
		"maxSize",
		"opt_onDrop",
		"opt_filter",
		"currentSize",
		"onDrop",
		"filter",
		"lastEntry_",
		"firstEntry_",
		"H.util.Cache.prototype.add",
		"size",
		"filterResult",
		"moveToLRU_",
		"remove_",
		"insertBefore_",
		"adjustToMaxSize_",
		"H.util.Cache.prototype.get",
		"opt_noUpdate",
		"drop",
		"H.util.Cache.prototype.drop",
		"H.util.Cache.prototype.forEach",
		"opt_matcher",
		"H.util.Cache.prototype.removeAll",
		"setMaxSize",
		"H.util.Cache.prototype.setMaxSize",
		"getMaxSize",
		"H.util.Cache.prototype.getMaxSize",
		"getCurrentSize",
		"H.util.Cache.prototype.getCurrentSize",
		"H.util.Cache.prototype.moveToLRU_",
		"H.util.Cache.prototype.adjustToMaxSize_",
		"H.util.Cache.prototype.insertBefore_",
		"next_",
		"prev_",
		"H.util.Cache.prototype.remove_",
		"opt_isCacheDrop",
		"H.map.provider.TileProvider",
		"H.map.provider.TileProvider.superClass_.constructor.call",
		"getTileKey",
		"H.map.provider.TileProvider.prototype.getTileKey",
		"sep",
		"H.map.provider.SpatialTileProvider",
		"H.map.provider.SpatialTileProvider.superClass_.constructor.call",
		"provider_",
		"onTileDropped_",
		"onDataDropped_",
		"processRenderTask_",
		"onRenderTaskDone_",
		"onObjectProviderUpdate_",
		"canvasPool_",
		"tileCache_",
		"dataCache_",
		"renderQueue_",
		"pendingTileRequests_",
		"lastProcessSync_",
		"H.map.provider.SpatialTileProvider.prototype.onObjectProviderUpdate_",
		"requestTile",
		"H.map.provider.SpatialTileProvider.prototype.requestTile",
		"cacheOnly",
		"tileKey",
		"popCanvas_",
		"pop",
		"request",
		"queueForRendering_",
		"H.map.provider.SpatialTileProvider.prototype.processSync",
		"cancelTile",
		"H.map.provider.SpatialTileProvider.prototype.cancelTile",
		"cancelTileByKey",
		"H.map.provider.SpatialTileProvider.prototype.cancelTileByKey",
		"H$map$provider$SpatialTileProvider.prototype",
		"H.map.provider.SpatialTileProvider.prototype",
		"H.map.provider.SpatialTileProvider.prototype.processRenderTask_",
		"H.map.provider.SpatialTileProvider.prototype.onRenderTaskDone_",
		"H.map.provider.SpatialTileProvider.prototype.onTileDropped_",
		"H.map.provider.SpatialTileProvider.prototype.onDataDropped_",
		"H.map.provider.SpatialTileProvider.prototype.disposeInternal",
		"H.map.provider.SpatialTileProvider.superClass_.disposeInternal.call",
		"H.map.layer.BaseTileLayer",
		"H.map.layer.TileLayer",
		"tilesRequested_",
		"H.map.layer.Layer.call",
		"projection",
		"H.map.layer.BaseTileLayer.prototype.getProvider",
		"geoRectToRect",
		"H.map.layer.BaseTileLayer.prototype.geoRectToRect",
		"opt_zoom",
		"previousZoom",
		"pixelProjection",
		"projectedRect",
		"H.math.Rect.fromPoints",
		"getTileBounds",
		"H.map.layer.BaseTileLayer.prototype.getTileBounds",
		"rectBounds",
		"tiles",
		"tileLeft",
		"tileRight",
		"tileBounds",
		"H.map.layer.BaseTileLayer.prototype.requestTile",
		"H.map.layer.BaseTileLayer.prototype.cancelTile",
		"H.map.layer.BaseTileLayer.prototype.getCopyrights",
		"getProviderTiles",
		"H.map.layer.BaseTileLayer.prototype.getProviderTiles",
		"prioCenter",
		"zoomFloored",
		"tilesNum",
		"total",
		"currentlyRequested",
		"tileBoundsRight",
		"xMax",
		"yMax",
		"requestInfos",
		"prioX",
		"prioY",
		"xmod",
		"H.map.layer.BaseTileLayer.sortByPriority_",
		"cancelPreviouslyRequested_",
		"H.util.ParallelQueue",
		"maxParallel",
		"H.util.ParallelQueue.superClass_.constructor.call",
		"H.util.ParallelQueue.Mode",
		"H.util.ParallelQueue.Mode.prototype.next",
		"processingItems",
		"H.util.ParallelQueue.Mode.prototype.cycle",
		"H.net.ImageLoader",
		"opt_maxConcurrent",
		"opt_useFrames",
		"opt_doc",
		"requestQueue_",
		"process_",
		"onImageLoad_",
		"frameLoader_",
		"newImage_",
		"newImageFramed_",
		"H.net.ImageLoader.prototype.load",
		"url",
		"opt_crossOrigin",
		"H.net.ImageLoader.prototype.onImageLoad_",
		"opt_failure",
		"isDataUrl",
		"H.net.ImageLoader.dataUrlRegExp_.test",
		"errback",
		"H.net.ImageLoader.dataUrlRegExp_",
		"H.net.ImageLoader.prototype.process_",
		"image",
		"failure",
		"crossOrigin",
		"H.net.ImageLoader.prototype.newImage_",
		"onload",
		"onerror",
		"removeAttribute",
		"H.net.ImageLoader.prototype.newImageFramed_",
		"H.net.FrameLoader_",
		"frame",
		"subFrames",
		"body",
		"H.net.FrameLoader_.prototype.newImage_",
		"subFrame",
		"contentDocument",
		"innerOnerror",
		"contentWindow",
		"Image",
		"innerOnload",
		"stop",
		"H.net.images",
		"H.map.provider.RemoteTileProvider",
		"H.map.provider.RemoteTileProvider.superClass_.constructor.call",
		"pending_",
		"cache_",
		"cacheFilter",
		"H.map.provider.RemoteTileProvider.cache",
		"getCache",
		"H.map.provider.RemoteTileProvider.prototype.getCache",
		"H.map.provider.RemoteTileProvider.prototype.cacheFilter",
		"entryKey",
		"createTileInternal",
		"H.map.provider.RemoteTileProvider.prototype.createTileInternal",
		"dummyCancelable_",
		"H.map.provider.RemoteTileProvider.prototype.requestTile",
		"cache",
		"pending",
		"cancelable",
		"H.map.provider.RemoteTileProvider.prototype.cancelTileByKey",
		"H.map.provider.RemoteTileProvider.prototype.cancelTile",
		"reload",
		"H.map.provider.RemoteTileProvider.prototype.reload",
		"hard",
		"invalidateEach",
		"H.map.provider.RemoteTileProvider.prototype.invalidateEach",
		"H.map.provider.RemoteTileProvider.prototype.disposeInternal",
		"H.map.provider.ImageTileProvider.superClass_.constructor.call",
		"getURL_",
		"crossOrigin_",
		"requestInternal",
		"H.map.provider.ImageTileProvider.prototype.requestInternal",
		"onResponse",
		"onError",
		"req",
		"timeoutId",
		"H.math.Rect.prototype.getTopLeft",
		"H.math.Rect.prototype.getBottomRight",
		"H.math.Rect.prototype.containsXY",
		"H.math.Rect.prototype.clone",
		"H.map.layer.BaseTileLayer.call",
		"requestTiles",
		"H.map.layer.TileLayer.prototype.requestTiles",
		"boundingRect",
		"H.map.layer.ObjectLayer",
		"spatialProvider_",
		"spatialTileLayer_",
		"H.map.layer.ObjectLayer.superClass_.constructor.call",
		"onProvidersUpdate_",
		"H.map.layer.ObjectLayer.prototype.onProvidersUpdate_",
		"H.map.layer.ObjectLayer.prototype.getProvider",
		"H.map.layer.ObjectLayer.EMPTY_MARKER_LAYER_RESPONSE_",
		"requestMarkers",
		"H.map.layer.ObjectLayer.prototype.requestMarkers",
		"markers",
		"requestDomMarkers",
		"H.map.layer.ObjectLayer.prototype.requestDomMarkers",
		"H.map.layer.ObjectLayer.EMPTY_TILE_LAYER_RESPONSE_",
		"H.map.layer.ObjectLayer.prototype.requestTiles",
		"H.map.layer.ObjectLayer.prototype.requestTile",
		"H.map.layer.ObjectLayer.prototype.cancelTile",
		"H.map.layer.ObjectLayer.prototype.disposeInternal",
		"H.map.layer.ObjectLayer.superClass_.disposeInternal.call",
		"H.map.ViewPort",
		"option",
		"Element",
		"H.map.ViewPort.superClass_.constructor.call",
		"resize",
		"setPadding",
		"setMargin",
		"fixedCenter",
		"H.map.ViewPort.prototype.setMargin",
		"margin",
		"update_",
		"H.map.ViewPort.prototype.setPadding",
		"padding",
		"H.map.ViewPort.prototype.update_",
		"H.map.ViewPort.prototype.resize",
		"offsetWidth",
		"oldSize_",
		"H.math.Size",
		"H.map.ViewPort.prototype.synchronize",
		"H.map.ViewPort.prototype.disposeInternal",
		"checkHandler_",
		"H.map.ViewPort.superClass_.disposeInternal.call",
		"H.map.provider.ObjectProvider",
		"H.map.provider.ObjectProvider.superClass_.constructor.call",
		"H.map.provider.ObjectProvider.prototype.getInvalidations",
		"opt_type",
		"H.map.provider.ObjectProvider.prototype.invalidateObject",
		"mapObject",
		"changes",
		"providesSpatials",
		"providesMarkers",
		"providesDomMarkers",
		"H.map.Icon",
		"bitmap",
		"H.map.Icon.superClass_.constructor.call",
		"size_",
		"anchor_",
		"H.map.HitArea",
		"hitArea_",
		"asCanvas_",
		"H.map.Icon.BmpType_",
		"adjustSizeAndAnchor_",
		"processBitmap_",
		"bitmap_",
		"state_",
		"H.map.Icon.READY",
		"imgToCanvas_",
		"H.map.Icon.LOADING",
		"imageLoaderTask_",
		"onImageOK_",
		"onImageError_",
		"H.map.Icon.ERROR",
		"State",
		"getState",
		"H.map.Icon.prototype.getState",
		"H.map.Icon.prototype.imgToCanvas_",
		"getBitmap",
		"H.map.Icon.prototype.getBitmap",
		"getSize",
		"H.map.Icon.prototype.getSize",
		"getAnchor",
		"H.map.Icon.prototype.getAnchor",
		"H.map.Icon.prototype.adjustSizeAndAnchor_",
		"isImage",
		"isAppended",
		"origParent",
		"origSibling",
		"naturalHeight",
		"insertBefore",
		"getHitArea",
		"H.map.Icon.prototype.getHitArea",
		"H.map.Icon.prototype.onImageOK_",
		"setState_",
		"STATECHANGE",
		"H.map.Icon.prototype.onImageError_",
		"H.map.Icon.prototype.disposeInternal",
		"H.map.Icon.superClass_.disposeInternal.call",
		"rootGroup",
		"H.map.provider.LocalObjectProvider.superClass_.constructor.call",
		"rootGroup_",
		"spatialTree_",
		"markerTree_",
		"domMarkerTree_",
		"H.map.provider.LocalObjectProvider.prototype.getRootGroup",
		"H.map.provider.LocalObjectProvider.prototype.invalidateObject",
		"H.map.provider.LocalObjectProvider.superClass_.invalidateObject.call",
		"H.map.provider.LocalObjectProvider.prototype.addObject",
		"H.map.Marker",
		"H.map.DomMarker",
		"$object$",
		"$entry$",
		"H.map.provider.LocalObjectProvider.prototype.removeObject",
		"H.map.provider.LocalObjectProvider.prototype.requestObjects_",
		"visiblesOnly",
		"nextIdx",
		"noIconTest",
		"alsoInvisibles",
		"icon",
		"H.map.provider.LocalObjectProvider.prototype.providesSpatials",
		"requestSpatials",
		"H.map.provider.LocalObjectProvider.prototype.requestSpatials",
		"requestSpatialsByTile",
		"H.map.provider.LocalObjectProvider.prototype.requestSpatialsByTile",
		"H.map.provider.LocalObjectProvider.prototype.providesMarkers",
		"H.map.provider.LocalObjectProvider.prototype.requestMarkers",
		"H.map.provider.LocalObjectProvider.prototype.providesDomMarkers",
		"H.map.provider.LocalObjectProvider.prototype.requestDomMarkers",
		"H.map.provider.LocalObjectProvider.prototype.disposeInternal",
		"H.map.provider.LocalObjectProvider.superClass_.disposeInternal.call",
		"H.map.render.p2d.MarkerRenderer",
		"layer",
		"surface",
		"enableSubpixelRendering",
		"container",
		"markerDataDict",
		"H.map.render.p2d.MarkerRenderer.prototype.render",
		"bBox",
		"screenCenter",
		"prevMarkerDataDict",
		"response",
		"worldWidth",
		"fetchMarkers",
		"H.map.render.p2d.MarkerRenderer.zOrderComparator",
		"setOpacity",
		"marker",
		"scrCoords",
		"markerData",
		"renderMarker",
		"H.map.render.p2d.canvas.MarkerRenderer",
		"markerDataList_",
		"H.map.render.p2d.canvas.MarkerRenderer.superClass_.constructor.apply",
		"H$map$render$p2d$canvas$MarkerRenderer.prototype",
		"H.map.render.p2d.canvas.MarkerRenderer.prototype",
		"H.map.render.p2d.canvas.MarkerRenderer.prototype.fetchMarkers",
		"H.map.render.p2d.canvas.MarkerRenderer.prototype.render",
		"H.map.render.p2d.canvas.MarkerRenderer.superClass_.render.apply",
		"H.map.render.p2d.canvas.MarkerRenderer.prototype.renderMarker",
		"dx",
		"dy",
		"dw",
		"dh",
		"anchor",
		"draw",
		"details",
		"H.map.render.p2d.canvas.MarkerRenderer.prototype.getObjectsAt",
		"markerDataList",
		"scrRect",
		"hitArea",
		"polygon_",
		"H.map.render.p2d.canvas.MarkerRenderer.prototype.disposeInternal",
		"H.map.render.p2d.canvas.MarkerRenderer.superClass_.disposeInternal.call",
		"H.math.Vector",
		"H.math.Vector.prototype.add",
		"subtract",
		"H.math.Vector.prototype.subtract",
		"dot",
		"H.math.Vector.prototype.dot",
		"multiply",
		"H.math.Vector.prototype.multiply",
		"H.math.Vector.prototype.rescale",
		"magnitude",
		"H.math.Vector.prototype.magnitude",
		"normalize",
		"H.math.Vector.prototype.normalize",
		"mag",
		"H.map.render.p2d.InteractionUtils",
		"opts",
		"minSpeed_",
		"vectorTolerance_",
		"maxSpeed_",
		"timeTolerance_",
		"points_",
		"isRecording_",
		"running_",
		"previous_",
		"current_",
		"H.map.render.p2d.InteractionUtils.prototype.getMoveVector_",
		"previousPoint",
		"distanceA",
		"distanceB",
		"getBifocalCenter_",
		"getMathPoint_",
		"vect",
		"H.map.render.p2d.InteractionUtils.prototype.getBifocalDistance_",
		"H.map.render.p2d.InteractionUtils.prototype.getBifocalCenter_",
		"H.map.render.p2d.InteractionUtils.prototype.getMathPoint_",
		"opt_isBifocal",
		"H$map$render$p2d$InteractionUtils.prototype",
		"H.map.render.p2d.InteractionUtils.prototype",
		"H.map.render.p2d.InteractionUtils.prototype.start",
		"isRecording",
		"clear",
		"modifiers_",
		"store",
		"H.map.render.p2d.InteractionUtils.prototype.store",
		"opt_bx",
		"opt_by",
		"opt_timestamp",
		"invalidArgNr",
		"getTime",
		"NaN",
		"H.map.render.p2d.InteractionUtils.prototype.clear",
		"has",
		"H.map.render.p2d.InteractionUtils.prototype.has",
		"modifier",
		"isRunning",
		"H.map.render.p2d.InteractionUtils.prototype.isRunning",
		"getDirection",
		"H.map.render.p2d.InteractionUtils.prototype.getDirection",
		"num",
		"vector",
		"getMoveVector_",
		"getRecordedMove_",
		"getSpeed",
		"H.map.render.p2d.InteractionUtils.prototype.getSpeed",
		"opt_timeStamp",
		"speed",
		"getBifocalZoom",
		"H.map.render.p2d.InteractionUtils.prototype.getBifocalZoom",
		"prevDistance",
		"currentDistance",
		"getBifocalDistance_",
		"H.map.render.p2d.ControlUtils",
		"lvlChangeToPixels_",
		"reset",
		"H.map.render.p2d.ControlUtils.prototype.start",
		"opt_atX",
		"opt_atY",
		"isRunning_",
		"H.map.render.p2d.ControlUtils.Event",
		"H.map.render.p2d.ControlUtils.Event.superClass_.constructor.call",
		"ANIMATIONUPDATE",
		"H$map$render$p2d$ControlUtils.prototype",
		"H.map.render.p2d.ControlUtils.prototype",
		"H.map.render.p2d.ControlUtils.prototype.isRunning",
		"H.map.render.p2d.ControlUtils.prototype.set",
		"moveX",
		"moveY",
		"moveZ",
		"moveX_",
		"moveY_",
		"moveZ_",
		"dispatchUpdate_",
		"getOffsetValues",
		"H.map.render.p2d.ControlUtils.prototype.getOffsetValues",
		"H.map.render.p2d.ControlUtils.prototype.reset",
		"H.map.render.p2d.ControlUtils.prototype.getSpeed",
		"H.map.render.p2d.ControlUtils.prototype.getDirection",
		"H.map.render.p2d.ControlUtils.prototype.disposeInternal",
		"H.map.render.p2d.ControlUtils.superClass_.disposeInternal.call",
		"H.map.render.p2d.Surface",
		"H.map.render.p2d.Surface.superClass_.constructor.call",
		"setSize",
		"H$map$render$p2d$Surface.prototype",
		"H.map.render.p2d.Surface.prototype",
		"H.map.render.p2d.Surface.prototype.getElement",
		"H.map.render.p2d.Surface.prototype.setSize",
		"setSizeInternal",
		"H.map.render.p2d.Surface.prototype.getSize",
		"opacity",
		"H.map.render.p2d.Surface.prototype.setOpacity",
		"setOpacityInternal",
		"H.map.render.p2d.Surface.prototype.disposeInternal",
		"H.map.render.p2d.Surface.superClass_.disposeInternal.call",
		"H.map.render.p2d.dom.Surface",
		"H.map.render.p2d.dom.Surface.superClass_.constructor.apply",
		"H$map$render$p2d$dom$Surface.prototype",
		"H.map.render.p2d.dom.Surface.prototype",
		"H.map.render.p2d.dom.Surface.prototype.createElement",
		"ownerDoc",
		"H.map.render.p2d.dom.Surface.prototype.setSizeInternal",
		"H.map.render.p2d.dom.Surface.prototype.setOpacityInternal",
		"H.map.render.p2d.dom.Surface.prototype.draw",
		"webkitTransform",
		"mozTransform",
		"oTransform",
		"msTransform",
		"transform",
		"H.map.render.p2d.dom.Surface.prototype.clear",
		"H.map.render.p2d.capabilities",
		"H.map.render.p2d.canvas.TileRenderer",
		"layer_",
		"surface_",
		"placedTiles_",
		"enableSubpixelRendering_",
		"H.map.render.p2d.canvas.TileRenderer.prototype.render",
		"bbox",
		"adjustedZoom",
		"layerProjection",
		"layerOpacity",
		"surfaceOpacity",
		"projectionWidth",
		"placedTiles",
		"projection_",
		"screenCenter_",
		"zoomLevel_",
		"origTileSize",
		"renderedTileSize_",
		"repeatXLeftBorder",
		"repeatXRightBorder",
		"tileX",
		"tileY",
		"lastX",
		"H.map.render.p2d.canvas.TileRenderer.prototype.getObjectsAt",
		"colWidth",
		"fixedCol",
		"col",
		"row",
		"H.util.animation.ease.LINEAR",
		"H.util.animation.ease.EASE_IN_QUAD",
		"H.util.animation.ease.EASE_OUT_QUAD",
		"H.util.animation.ease.EASE_IN_OUT_QUINT",
		"H.util.animation.ease.EASE_OUT_CIRC",
		"H.util.kinetics.KineticMove",
		"acceleration",
		"opt_speed",
		"acceleration_",
		"speed_",
		"duration_",
		"setInitialSpeed",
		"H.util.kinetics.KineticMove.prototype.setInitialSpeed",
		"getDuration",
		"H.util.kinetics.KineticMove.prototype.getDuration",
		"getCurrentSpeed",
		"H.util.kinetics.KineticMove.prototype.getCurrentSpeed",
		"time",
		"getCurrentPath",
		"H.util.kinetics.KineticMove.prototype.getCurrentPath",
		"H.util.animation.Animation",
		"duration",
		"opt_onAnimationStop",
		"opt_ease",
		"transform_",
		"onAnimationStop_",
		"ease_",
		"H.util.animation.Animation.prototype.start",
		"lastFrame",
		"requestAnimationFrame",
		"transformWrapper",
		"timestamp",
		"timeElapsed",
		"progress",
		"animationHandle_",
		"H.util.animation.Animation.prototype.stop",
		"opt_suppressCallback",
		"H.util.animation.Animation.prototype.isRunning",
		"H.map.render.RenderEngine",
		"viewPort",
		"viewModel",
		"dataModel",
		"H.map.render.RenderEngine.superClass_.constructor.call",
		"viewPortBounds",
		"updateViewPortBounds_",
		"onResize",
		"startInteraction",
		"interaction",
		"endInteraction",
		"startControl",
		"control",
		"endControl",
		"onViewUpdate",
		"H.map.render.RenderEngine.prototype.updateViewPortBounds_",
		"paddingTop",
		"paddingLeft",
		"paddingBottom",
		"paddingRight",
		"MARGINED",
		"VISIBLE",
		"PADDED",
		"H.map.render.RenderEngine.prototype.onResize",
		"H.map.render.RenderEngine.prototype.disposeInternal",
		"H.map.render.RenderEngine.prototype.capture",
		"H.map.render.RenderEngine.prototype.fadeout",
		"transition",
		"H.map.render.RenderEngine.InteractionModifiers",
		"H.map.render.RenderEngine.EngineType",
		"H.map.render.p2d.canvas.Surface",
		"H.map.render.p2d.canvas.Surface.superClass_.constructor.apply",
		"H$map$render$p2d$canvas$Surface.prototype",
		"H.map.render.p2d.canvas.Surface.prototype",
		"H.map.render.p2d.canvas.Surface.prototype.createElement",
		"H.map.render.p2d.canvas.Surface.prototype.setSizeInternal",
		"H.map.render.p2d.canvas.Surface.prototype.setOpacityInternal",
		"globalAlpha",
		"H.map.render.p2d.canvas.Surface.prototype.draw",
		"H.map.render.p2d.canvas.Surface.prototype.clear",
		"H.map.render.p2d.canvas.Surface.prototype.disposeInternal",
		"H.map.render.p2d.canvas.Surface.superClass_.disposeInternal.call",
		"H.map.render.p2d.dom.MarkerRenderer",
		"H.map.render.p2d.dom.MarkerRenderer.superClass_.constructor.apply",
		"markerCount_",
		"onAttachNodes_",
		"fireOnAttach_",
		"H$map$render$p2d$dom$MarkerRenderer.prototype",
		"H.map.render.p2d.dom.MarkerRenderer.prototype",
		"H.map.render.p2d.dom.MarkerRenderer.prototype.fetchMarkers",
		"H.map.render.p2d.dom.MarkerRenderer.prototype.render",
		"ret",
		"nextZIndex_",
		"H.map.render.p2d.dom.MarkerRenderer.superClass_.render.apply",
		"dataDict",
		"clearSurfaceNode_",
		"clearSurfaceNodes_",
		"H.map.render.p2d.dom.MarkerRenderer.prototype.fireOnAttach_",
		"$marker$",
		"onAttach",
		"H.map.render.p2d.dom.MarkerRenderer.prototype.renderMarker",
		"detail",
		"invalMark",
		"H.map.render.p2d.dom.MarkerRenderer.prototype.getObjectsAt",
		"docElement",
		"surfaceElement",
		"hiddenNodeStyles",
		"parentElement",
		"documentElement",
		"elementFromPoint",
		"nodeName",
		"displayStr",
		"getPropertyPriority",
		"setProperty",
		"hidden",
		"removeProperty",
		"displayProperty",
		"displayImportance",
		"H.map.render.p2d.dom.MarkerRenderer.prototype.clearSurfaceNode_",
		"onDetach_",
		"H.map.render.p2d.dom.MarkerRenderer.prototype.disposeInternal",
		"H.map.render.p2d.dom.MarkerRenderer.superClass_.disposeInternal.call",
		"H.map.render.p2d.RenderEngine",
		"H.map.render.p2d.RenderEngine.superClass_.constructor.call",
		"prioCenter_",
		"renderBaseBackgroundLower_",
		"renderBaseBackgroundHigher_",
		"suspendTimeout_",
		"lastZoom_",
		"zoomingOut_",
		"lastGeoRendered_",
		"mapCenter_",
		"ratioZoomAdjustment_",
		"interaction_",
		"control_",
		"onAnimationControl_",
		"pixelProjection_",
		"viewPortEl",
		"layersContainer_",
		"layersContainer",
		"initializeRenderers_",
		"asArray",
		"geoSpaceRenderers_",
		"screenSpaceRenderers_",
		"screenDomRenderers_",
		"layers_",
		"insertRenderer_",
		"manageMinMaxListeners_",
		"adjustZoomConstraints_",
		"updateEvent",
		"onDataUpdate_",
		"onLayerAdd_",
		"onLayerRemove_",
		"SET",
		"onLayerSet_",
		"render_",
		"H.map.render.p2d.RenderEngine.SUSPENDED",
		"geoRenderDispatched_",
		"screenRenderDispatched_",
		"domRenderDispatched_",
		"resetAnimationDefaults",
		"clampZoomWithRatio_",
		"setMapCenter_",
		"synchronize_",
		"capabilities_",
		"H.map.render.p2d.RenderEngine.prototype.getState",
		"H.map.render.p2d.RenderEngine.prototype.getClosestX_",
		"startX",
		"destX",
		"H.map.render.p2d.RenderEngine.prototype.onViewUpdate",
		"ev",
		"destZ",
		"deltaZ",
		"animated",
		"destPosition",
		"destPixel",
		"destY",
		"currentZ",
		"mapCenter",
		"lastProgress",
		"startPoint",
		"destPoint",
		"adjustedPos",
		"stopAnimationActions_",
		"adjusted",
		"adjustValues_",
		"getClosestX_",
		"startAnimation_",
		"progressDelta",
		"startPixel",
		"applyPxOffset_",
		"zoomAt_",
		"relaunch_",
		"ANIMATION_DURATION_",
		"ANIMATION_EASE_",
		"stopAnimation_",
		"setAnimationDuration",
		"H.map.render.p2d.RenderEngine.prototype.setAnimationDuration",
		"isNumber",
		"getAnimationDuration",
		"H.map.render.p2d.RenderEngine.prototype.getAnimationDuration",
		"setAnimationEase",
		"H.map.render.p2d.RenderEngine.prototype.setAnimationEase",
		"easeFunction",
		"getAnimationEase",
		"H.map.render.p2d.RenderEngine.prototype.getAnimationEase",
		"H.map.render.p2d.RenderEngine.prototype.resetAnimationDefaults",
		"H$map$render$p2d$RenderEngine.prototype",
		"H.map.render.p2d.RenderEngine.prototype",
		"H.map.render.p2d.RenderEngine.prototype.onDataUpdate_",
		"H.map.render.p2d.RenderEngine.prototype.onLayerAdd_",
		"resetDispatchedFlags_",
		"H.map.render.p2d.RenderEngine.prototype.onLayerRemove_",
		"opt_suppressLaunch",
		"screenRenderer",
		"updateTimestamp_",
		"lastCallTime_",
		"geoRenderer",
		"domRenderer",
		"H.map.render.p2d.RenderEngine.prototype.onLayerSet_",
		"H.map.render.p2d.RenderEngine.prototype.manageMinMaxListeners_",
		"toAdd",
		"method",
		"onMinMaxChabge_",
		"H.map.render.p2d.RenderEngine.prototype.onMinMaxChabge_",
		"H.map.render.p2d.RenderEngine.prototype.insertRenderer_",
		"opt_howMany",
		"viewportSize",
		"getVisibleViewportSize_",
		"H.map.render.p2d.RenderEngine.prototype.adjustZoomConstraints_",
		"capabilitiesZoom",
		"setZoomConstraints_",
		"layerMinZoom_",
		"layerMaxZoom_",
		"newZoom",
		"clampZoom_",
		"H.map.render.p2d.RenderEngine.prototype.adjustValues_",
		"requestedData",
		"cameraPosition",
		"newCamera",
		"correctCameraAngles_",
		"H.map.render.p2d.RenderEngine.prototype.setMapCenter_",
		"H.map.render.p2d.RenderEngine.prototype.clampZoom_",
		"zoomCapabilities",
		"H.map.render.p2d.RenderEngine.prototype.correctCameraAngles_",
		"screenToGeo",
		"H.map.render.p2d.RenderEngine.prototype.screenToGeo",
		"viewPortCenter",
		"setPointer",
		"screenToCameraData",
		"H.map.render.p2d.RenderEngine.prototype.screenToCameraData",
		"geoToScreen",
		"H.map.render.p2d.RenderEngine.prototype.geoToScreen",
		"w",
		"getBBox",
		"H.map.render.p2d.RenderEngine.prototype.getBBox",
		"H.map.render.p2d.RenderEngine.prototype.getObjectsAt",
		"geoSpaceRenderers",
		"screenSpaceRenderers",
		"screenDomRenderers",
		"getObjectsAt_",
		"H.map.render.p2d.RenderEngine.prototype.getObjectsAt_",
		"renderers",
		"renderer",
		"syncedViewPort_",
		"H.map.render.p2d.RenderEngine.prototype.getVisibleViewportSize_",
		"H.map.render.p2d.RenderEngine.prototype.onResize",
		"surfaceSize",
		"previousBounds",
		"H.map.render.p2d.RenderEngine.superClass_.onResize.call",
		"updateDomSurfacesSize_",
		"getCapabilities",
		"H.map.render.p2d.RenderEngine.prototype.getCapabilities",
		"H.map.render.p2d.RenderEngine.prototype.run_",
		"rendered_",
		"frameId_",
		"dispatchRenderEvent_",
		"H.map.render.p2d.RenderEngine.prototype.resetDispatchedFlags_",
		"H.map.render.p2d.RenderEngine.prototype.render_",
		"markersBBox",
		"nonAdjustedZoom",
		"higherLevelBbox",
		"bgZoom",
		"baseBackgroundLower",
		"baseBackgroundHigher",
		"baseRenderer",
		"geoRendered",
		"renderLayers_",
		"screenRendered",
		"domRendered",
		"syncedModel_",
		"run_",
		"H.map.render.p2d.RenderEngine.prototype.renderLayers_",
		"dispatched",
		"layerRendered",
		"rendered",
		"H.map.render.p2d.RenderEngine.prototype.dispatchRenderEvent_",
		"RENDER",
		"H.map.render.p2d.RenderEngine.prototype.disposeInternal",
		"baseLayer",
		"domRenderers",
		"H.map.render.p2d.RenderEngine.SHUTDOWN",
		"H.map.render.p2d.RenderEngine.superClass_.disposeInternal.call",
		"H.map.render.p2d.RenderEngine.prototype.relaunch_",
		"canLaunch_",
		"launch",
		"H.map.render.p2d.RenderEngine.BUSY",
		"H.map.render.p2d.RenderEngine.prototype.getCameraData_",
		"H.map.render.p2d.RenderEngine.prototype.synchronize_",
		"opt_geopoint",
		"camera",
		"getCameraData_",
		"H.map.render.p2d.RenderEngine.prototype.applyPxOffset",
		"H.map.render.p2d.RenderEngine.prototype.applyPxOffset_",
		"zoomAt",
		"H.map.render.p2d.RenderEngine.prototype.zoomAt",
		"H.map.render.p2d.RenderEngine.prototype.zoomAt_",
		"screenOffsetX",
		"screenOffsetY",
		"getCamForBounds",
		"H.map.render.p2d.RenderEngine.prototype.getCamForBounds",
		"keepCenter",
		"pxTopLeft",
		"pxBottomRight",
		"pxCenter",
		"pxWidth",
		"worldSize",
		"pxHeight",
		"viewPortWidth",
		"viewPortHeight",
		"H.map.render.p2d.RenderEngine.prototype.stopAnimationActions_",
		"H.map.render.p2d.RenderEngine.prototype.startInteraction",
		"opt_kinetics",
		"kinetics_",
		"H.map.render.p2d.RenderEngine.prototype.clampZoomWithRatio_",
		"H.map.render.p2d.RenderEngine.prototype.interaction",
		"relaunch",
		"vecXY",
		"applyPxOffset",
		"H.map.render.p2d.RenderEngine.prototype.endInteraction",
		"opt_preventKinetics",
		"currentSpeed",
		"kineticMove",
		"direction",
		"initialSpeed",
		"power",
		"deceleration",
		"ease",
		"H.map.render.p2d.RenderEngine.prototype.startControl",
		"H.map.render.p2d.RenderEngine.prototype.control",
		"angleX",
		"angleY",
		"angleZ",
		"H.map.render.p2d.RenderEngine.prototype.endControl",
		"opt_adjustView",
		"timeFromLastFrame",
		"controlEndTs",
		"zoomChange",
		"controlFrameTs_",
		"applyControl_",
		"applyAdjustedView_",
		"timeFromStart",
		"frameTime",
		"timeStamp",
		"H.map.render.p2d.RenderEngine.prototype.applyAdjustedView_",
		"startY",
		"startZ",
		"atX",
		"atY",
		"lastPath",
		"dz",
		"deltaPath",
		"H.map.render.p2d.RenderEngine.prototype.onAnimationControl_",
		"H.map.render.p2d.RenderEngine.prototype.applyControl_",
		"opt_frameTime",
		"H.map.render.p2d.RenderEngine.prototype.startAnimation_",
		"onFrame",
		"opt_onFinish",
		"animation_",
		"H.map.render.p2d.RenderEngine.prototype.stopAnimation_",
		"enter",
		"exit",
		"H.map.render.p2d.RenderEngine.prototype.exit",
		"fadeout",
		"H.map.render.p2d.RenderEngine.prototype.capture",
		"surfaceCanvas",
		"captureCanvas",
		"H.util.OList",
		"H.util.OList.superClass_.constructor.call",
		"H.util.OList.prototype.adjustIndex_",
		"setToLength",
		"adjIdx",
		"H.util.OList.prototype.add",
		"opt_idx",
		"adjustIndex_",
		"add_",
		"H.util.OList.Event",
		"H.util.OList.prototype.remove_",
		"removeAt",
		"H.util.OList.prototype.removeAt",
		"H.util.OList.prototype.remove",
		"H.util.OList.prototype.set",
		"replacedElement",
		"H.util.OList.prototype.indexOf",
		"H.util.OList.prototype.get",
		"getLength",
		"H.util.OList.prototype.getLength",
		"H.util.OList.prototype.asArray",
		"H.util.OList.prototype.flush",
		"H.util.OList.prototype.disposeInternal",
		"H.util.OList.superClass_.disposeInternal.call",
		"list",
		"added",
		"moved",
		"H.util.OList.Event.superClass_.constructor.call",
		"H.map.DataModel",
		"opt_layers",
		"H.map.DataModel.superClass_.constructor.call",
		"H.map.DataModel.prototype.add",
		"H.map.DataModel.superClass_.add.call",
		"registerLayer_",
		"H.map.DataModel.prototype.set",
		"replacedLayer",
		"H.map.DataModel.superClass_.set.call",
		"deregisterLayer_",
		"H.map.DataModel.prototype.removeAt",
		"H.map.DataModel.superClass_.removeAt.call",
		"H.map.DataModel.prototype.remove",
		"wasFound",
		"H.map.DataModel.superClass_.remove.call",
		"H.map.DataModel.prototype.flush",
		"H.map.DataModel.superClass_.flush.call",
		"H.Map",
		"H.Map.superClass_.constructor.call",
		"engineExitCallback_",
		"options_",
		"H.Map.adjustOptions_",
		"mapviewchangeStarted_",
		"onSync_",
		"createMapElement_",
		"overflow",
		"TRANSPARENT",
		"viewPort_",
		"onDataModelChange_",
		"localObjectProvider_",
		"objectLayer_",
		"addLayer",
		"baseLayer_",
		"engine_",
		"createEngine_",
		"H.Map.EngineType",
		"onFirstRender_",
		"dispatchMapviewchangeEnd_",
		"setViewBounds",
		"setCenter",
		"imprint_",
		"autoColor_",
		"adjustColors_",
		"MAPVIEWCHANGEEND_THRESHOLD_",
		"H.Map.prototype.disposeInternal",
		"H.Map.prototype.getElement",
		"H.Map.prototype.adjustColors_",
		"H.Map.prototype.onDataModelChange_",
		"event",
		"addedLayer",
		"removedLayer",
		"BASELAYERCHANGE",
		"H.Map.prototype.onSync_",
		"dispatchMapviewchange_",
		"mapviewchangeEndHandle_",
		"H.Map.prototype.dispatchMapviewchange_",
		"opt_event",
		"MAPVIEWCHANGE",
		"H.Map.prototype.dispatchMapviewchangeEnd_",
		"H.Map.prototype.setCenter",
		"opt_animate",
		"H.Map.prototype.getCenter",
		"H.Map.prototype.setZoom",
		"H.Map.prototype.getZoom",
		"H.Map.prototype.zoomAt",
		"H.Map.prototype.setViewBounds",
		"cameraModel",
		"H.Map.prototype.getViewBounds",
		"getCameraDataForBounds",
		"H.Map.prototype.getCameraDataForBounds",
		"getViewPort",
		"H.Map.prototype.getViewPort",
		"getViewModel",
		"H.Map.prototype.getViewModel",
		"getLayers",
		"H.Map.prototype.getLayers",
		"getImprint",
		"H.Map.prototype.getImprint",
		"H.Map.prototype.capture",
		"opt_capturables",
		"opt_x1",
		"opt_y1",
		"opt_x2",
		"opt_y2",
		"processTask",
		"capturable",
		"finished",
		"err",
		"callbackOnce",
		"engine",
		"capabilities",
		"imprint",
		"queue",
		"capturables",
		"viewport",
		"H.Map.prototype.getEngine",
		"newEngine_",
		"setEngineType",
		"H.Map.prototype.setEngineType",
		"inTransition_",
		"H.Map.prototype.onFirstRender_",
		"H.Map.prototype.engineExitCallback_",
		"oldType",
		"ENGINECHANGE",
		"H.Map.prototype.createEngine_",
		"H.Map.prototype.addLayer",
		"layerIndex",
		"removeLayer",
		"H.Map.prototype.removeLayer",
		"setBaseLayer",
		"H.Map.prototype.setBaseLayer",
		"getBaseLayer",
		"H.Map.prototype.getBaseLayer",
		"H.Map.prototype.geoToScreen",
		"H.Map.prototype.screenToGeo",
		"argNr",
		"H.Map.prototype.screenToCameraData",
		"H.Map.prototype.addObject",
		"H.Map.prototype.removeObject",
		"H.Map.prototype.getObjects",
		"H.Map.prototype.addObjects",
		"mapObjects",
		"H.Map.prototype.removeObjects",
		"getObjectAt",
		"H.Map.prototype.getObjectAt",
		"H.Map.prototype.getObjectsAt",
		"H.net.Xhr",
		"attachEventsAndSend",
		"onfinished",
		"onfinished_",
		"requestTimeout",
		"H.net.Xhr.XhrTimeoutSupport_",
		"addEventListener_",
		"timeout",
		"xhrTimeout_",
		"abort",
		"send",
		"header",
		"headerValue",
		"optionsHeaders",
		"H.net.Xhr.defaultOptions_",
		"callback_",
		"request_",
		"XMLHttpRequest",
		"open",
		"setRequestHeader",
		"xhrEx",
		"H.net.Xhr.XhrCorsSupport_",
		"XDomainRequest",
		"xdrEx",
		"H.net.Xhr.prototype.addEventListener_",
		"H.net.Xhr.prototype.removeEventListener_",
		"H.net.Xhr.prototype.abort",
		"H.net.Xhr.prototype.onfinished_",
		"evtType",
		"responseText",
		"errorType",
		"status",
		"readyState",
		"removeEventListener_",
		"H.map.Circle",
		"radius",
		"H.map.Circle.superClass_.constructor.call",
		"setRadius",
		"setPrecision",
		"H.map.Circle.prototype.setCenter",
		"H.map.Circle.superClass_.setStrip.call",
		"H.map.Circle.prototype.getCenter",
		"H.map.Circle.prototype.setRadius",
		"radius_",
		"getRadius",
		"H.map.Circle.prototype.getRadius",
		"precision_",
		"H.map.Circle.prototype.setPrecision",
		"precision",
		"getPrecision",
		"H.map.Circle.prototype.getPrecision",
		"H.map.Circle.prototype.setNorthPoleCovering",
		"H.map.Circle.prototype.setStrip",
		"H.map.Circle.prototype.getStrip",
		"H.map.Circle.prototype.getStrip_",
		"H.map.DomIcon",
		"H.map.DomIcon.parserElement_.innerHTML",
		"H.map.DomIcon.parserElement_.firstElementChild",
		"firstElementChild",
		"H.map.DomIcon.parserElement_.removeChild",
		"containsCanvasses_",
		"elem",
		"H.global.document",
		"H.map.DomIcon.parserElement_",
		"H.map.DomIcon.prototype.getClone",
		"shapeType",
		"values",
		"r",
		"deg",
		"rad",
		"H.map.HitArea.ShapeType",
		"H.map.AbstractMarker",
		"H.map.AbstractMarker.superClass_.constructor.call",
		"setPosition",
		"setIcon",
		"getDefaultIcon_",
		"H.map.AbstractMarker.prototype.compareZOrder",
		"thisZInfo",
		"otherZInfo",
		"H.map.AbstractMarker.prototype.getPosition",
		"position_",
		"H.map.AbstractMarker.prototype.setPosition",
		"currentPosition",
		"isInitialCall",
		"getIcon",
		"H.map.AbstractMarker.prototype.getIcon",
		"H.map.AbstractMarker.prototype.setIcon",
		"currentIcon",
		"iconConstructor",
		"H.lang.InvalidArgumentError.apply",
		"H.map.AbstractMarker.prototype.getDefaultIcon_",
		"defaultIcon",
		"defaultIcon_",
		"createDefaultIcon",
		"H.map.AbstractMarker.defaultIconOptions_",
		"H.map.HitArea.ShapeType.POLYGON",
		"H.map.DomMarker.superClass_.constructor.call",
		"H.map.DomMarker.prototype.createDefaultIcon",
		"svg",
		"H.map.Marker.superClass_.constructor.call",
		"H$map$Marker.prototype",
		"H.map.Marker.prototype",
		"H.map.Marker.prototype.invalidate",
		"previousIconState_",
		"H.map.Marker.superClass_.invalidate.call",
		"isListeningForStateChange_",
		"onIconStateChange_",
		"H.map.Marker.prototype.onIconStateChange_",
		"H.map.Marker.prototype.setIcon",
		"H.map.Marker.superClass_.setIcon.call",
		"H.map.Marker.prototype.createDefaultIcon",
		"H.map.provider.MarkerTileProvider",
		"H.map.provider.MarkerTileProvider.superClass_.constructor.call",
		"requestData_",
		"providesDomMarkers_",
		"H.map.provider.MarkerTileProvider.prototype.requestInternal",
		"filterMarkers",
		"filteredData",
		"H.map.provider.MarkerTileProvider.prototype.invalidateObject",
		"H.map.provider.MarkerTileProvider.prototype.providesDomMarkers",
		"H.map.layer.MarkerTileLayer",
		"H.map.layer.MarkerTileLayer.superClass_.constructor.call",
		"H.map.layer.MarkerTileLayer.EMPTY_RESPONSE_",
		"H.map.layer.MarkerTileLayer.prototype.requestTiledMarkers_",
		"calculateTileGrid_",
		"markerTiles",
		"H.map.layer.MarkerTileLayer.prototype.requestMarkers",
		"requestTiledMarkers_",
		"H.map.layer.MarkerTileLayer.prototype.requestDomMarkers",
		"H",
		"H.buildInfo"
	],
	"sourcesContent": [
		"// Copyright 2006 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview Bootstrap for the Google JS Library (Closure).\n *\n * In uncompiled mode base.js will write out Closure's deps file, unless the\n * global <code>CLOSURE_NO_DEPS</code> is set to true.  This allows projects to\n * include their own deps file(s) from different locations.\n *\n *\n * @provideGoog\n */\n\n\n/**\n * @define {boolean} Overridden to true by the compiler when --closure_pass\n *     or --mark_as_compiled is specified.\n */\nvar COMPILED = false;\n\n\n/**\n * Base namespace for the Closure library.  Checks to see goog is\n * already defined in the current scope before assigning to prevent\n * clobbering if base.js is loaded more than once.\n *\n * @const\n */\nvar goog = goog || {}; // Identifies this file as the Closure base.\n\n\n/**\n * Reference to the global context.  In most cases this will be 'window'.\n */\ngoog.global = this;\n\n\n/**\n * @define {boolean} DEBUG is provided as a convenience so that debugging code\n * that should not be included in a production js_binary can be easily stripped\n * by specifying --define goog.DEBUG=false to the JSCompiler. For example, most\n * toString() methods should be declared inside an \"if (goog.DEBUG)\" conditional\n * because they are generally used for debugging purposes and it is difficult\n * for the JSCompiler to statically determine whether they are used.\n */\ngoog.DEBUG = true;\n\n\n/**\n * @define {string} LOCALE defines the locale being used for compilation. It is\n * used to select locale specific data to be compiled in js binary. BUILD rule\n * can specify this value by \"--define goog.LOCALE=<locale_name>\" as JSCompiler\n * option.\n *\n * Take into account that the locale code format is important. You should use\n * the canonical Unicode format with hyphen as a delimiter. Language must be\n * lowercase, Language Script - Capitalized, Region - UPPERCASE.\n * There are few examples: pt-BR, en, en-US, sr-Latin-BO, zh-Hans-CN.\n *\n * See more info about locale codes here:\n * http://www.unicode.org/reports/tr35/#Unicode_Language_and_Locale_Identifiers\n *\n * For language codes you should use values defined by ISO 693-1. See it here\n * http://www.w3.org/WAI/ER/IG/ert/iso639.htm. There is only one exception from\n * this rule: the Hebrew language. For legacy reasons the old code (iw) should\n * be used instead of the new code (he), see http://wiki/Main/IIISynonyms.\n */\ngoog.LOCALE = 'en';  // default to en\n\n\n/**\n * @define {boolean} Whether this code is running on trusted sites.\n *\n * On untrusted sites, several native functions can be defined or overridden by\n * external libraries like Prototype, Datejs, and JQuery and setting this flag\n * to false forces closure to use its own implementations when possible.\n *\n * If your javascript can be loaded by a third party site and you are wary about\n * relying on non-standard implementations, specify\n * \"--define goog.TRUSTED_SITE=false\" to the JSCompiler.\n */\ngoog.TRUSTED_SITE = true;\n\n\n/**\n * Creates object stubs for a namespace.  The presence of one or more\n * goog.provide() calls indicate that the file defines the given\n * objects/namespaces.  Build tools also scan for provide/require statements\n * to discern dependencies, build dependency files (see deps.js), etc.\n * @see goog.require\n * @param {string} name Namespace provided by this file in the form\n *     \"goog.package.part\".\n */\ngoog.provide = function(name) {\n  if (!COMPILED) {\n    // Ensure that the same namespace isn't provided twice. This is intended\n    // to teach new developers that 'goog.provide' is effectively a variable\n    // declaration. And when JSCompiler transforms goog.provide into a real\n    // variable declaration, the compiled JS should work the same as the raw\n    // JS--even when the raw JS uses goog.provide incorrectly.\n    if (goog.isProvided_(name)) {\n      throw Error('Namespace \"' + name + '\" already declared.');\n    }\n    delete goog.implicitNamespaces_[name];\n\n    var namespace = name;\n    while ((namespace = namespace.substring(0, namespace.lastIndexOf('.')))) {\n      if (goog.getObjectByName(namespace)) {\n        break;\n      }\n      goog.implicitNamespaces_[namespace] = true;\n    }\n  }\n\n  goog.exportPath_(name);\n};\n\n\n/**\n * Marks that the current file should only be used for testing, and never for\n * live code in production.\n *\n * In the case of unit tests, the message may optionally be an exact\n * namespace for the test (e.g. 'goog.stringTest'). The linter will then\n * ignore the extra provide (if not explicitly defined in the code).\n *\n * @param {string=} opt_message Optional message to add to the error that's\n *     raised when used in production code.\n */\ngoog.setTestOnly = function(opt_message) {\n  if (COMPILED && !goog.DEBUG) {\n    opt_message = opt_message || '';\n    throw Error('Importing test-only code into non-debug environment' +\n                opt_message ? ': ' + opt_message : '.');\n  }\n};\n\n\nif (!COMPILED) {\n\n  /**\n   * Check if the given name has been goog.provided. This will return false for\n   * names that are available only as implicit namespaces.\n   * @param {string} name name of the object to look for.\n   * @return {boolean} Whether the name has been provided.\n   * @private\n   */\n  goog.isProvided_ = function(name) {\n    return !goog.implicitNamespaces_[name] && !!goog.getObjectByName(name);\n  };\n\n  /**\n   * Namespaces implicitly defined by goog.provide. For example,\n   * goog.provide('goog.events.Event') implicitly declares\n   * that 'goog' and 'goog.events' must be namespaces.\n   *\n   * @type {Object}\n   * @private\n   */\n  goog.implicitNamespaces_ = {};\n}\n\n\n/**\n * Builds an object structure for the provided namespace path,\n * ensuring that names that already exist are not overwritten. For\n * example:\n * \"a.b.c\" -> a = {};a.b={};a.b.c={};\n * Used by goog.provide and goog.exportSymbol.\n * @param {string} name name of the object that this file defines.\n * @param {*=} opt_object the object to expose at the end of the path.\n * @param {Object=} opt_objectToExportTo The object to add the path to; default\n *     is |goog.global|.\n * @private\n */\ngoog.exportPath_ = function(name, opt_object, opt_objectToExportTo) {\n  var parts = name.split('.');\n  var cur = opt_objectToExportTo || goog.global;\n\n  // Internet Explorer exhibits strange behavior when throwing errors from\n  // methods externed in this manner.  See the testExportSymbolExceptions in\n  // base_test.html for an example.\n  if (!(parts[0] in cur) && cur.execScript) {\n    cur.execScript('var ' + parts[0]);\n  }\n\n  // Certain browsers cannot parse code in the form for((a in b); c;);\n  // This pattern is produced by the JSCompiler when it collapses the\n  // statement above into the conditional loop below. To prevent this from\n  // happening, use a for-loop and reserve the init logic as below.\n\n  // Parentheses added to eliminate strict JS warning in Firefox.\n  for (var part; parts.length && (part = parts.shift());) {\n    if (!parts.length && goog.isDef(opt_object)) {\n      // last part and we have an object; use it\n      cur[part] = opt_object;\n    } else if (cur[part]) {\n      cur = cur[part];\n    } else {\n      cur = cur[part] = {};\n    }\n  }\n};\n\n\n/**\n * Returns an object based on its fully qualified external name.  If you are\n * using a compilation pass that renames property names beware that using this\n * function will not find renamed properties.\n *\n * @param {string} name The fully qualified name.\n * @param {Object=} opt_obj The object within which to look; default is\n *     |goog.global|.\n * @return {?} The value (object or primitive) or, if not found, null.\n */\ngoog.getObjectByName = function(name, opt_obj) {\n  var parts = name.split('.');\n  var cur = opt_obj || goog.global;\n  for (var part; part = parts.shift(); ) {\n    if (goog.isDefAndNotNull(cur[part])) {\n      cur = cur[part];\n    } else {\n      return null;\n    }\n  }\n  return cur;\n};\n\n\n/**\n * Globalizes a whole namespace, such as goog or goog.lang.\n *\n * @param {Object} obj The namespace to globalize.\n * @param {Object=} opt_global The object to add the properties to.\n * @deprecated Properties may be explicitly exported to the global scope, but\n *     this should no longer be done in bulk.\n */\ngoog.globalize = function(obj, opt_global) {\n  var global = opt_global || goog.global;\n  for (var x in obj) {\n    global[x] = obj[x];\n  }\n};\n\n\n/**\n * Adds a dependency from a file to the files it requires.\n * @param {string} relPath The path to the js file.\n * @param {Array} provides An array of strings with the names of the objects\n *                         this file provides.\n * @param {Array} requires An array of strings with the names of the objects\n *                         this file requires.\n */\ngoog.addDependency = function(relPath, provides, requires) {\n  if (!COMPILED) {\n    var provide, require;\n    var path = relPath.replace(/\\\\/g, '/');\n    var deps = goog.dependencies_;\n    for (var i = 0; provide = provides[i]; i++) {\n      deps.nameToPath[provide] = path;\n      if (!(path in deps.pathToNames)) {\n        deps.pathToNames[path] = {};\n      }\n      deps.pathToNames[path][provide] = true;\n    }\n    for (var j = 0; require = requires[j]; j++) {\n      if (!(path in deps.requires)) {\n        deps.requires[path] = {};\n      }\n      deps.requires[path][require] = true;\n    }\n  }\n};\n\n\n\n\n// NOTE(nnaze): The debug DOM loader was included in base.js as an orignal\n// way to do \"debug-mode\" development.  The dependency system can sometimes\n// be confusing, as can the debug DOM loader's asyncronous nature.\n//\n// With the DOM loader, a call to goog.require() is not blocking -- the\n// script will not load until some point after the current script.  If a\n// namespace is needed at runtime, it needs to be defined in a previous\n// script, or loaded via require() with its registered dependencies.\n// User-defined namespaces may need their own deps file.  See http://go/js_deps,\n// http://go/genjsdeps, or, externally, DepsWriter.\n// http://code.google.com/closure/library/docs/depswriter.html\n//\n// Because of legacy clients, the DOM loader can't be easily removed from\n// base.js.  Work is being done to make it disableable or replaceable for\n// different environments (DOM-less JavaScript interpreters like Rhino or V8,\n// for example). See bootstrap/ for more information.\n\n\n/**\n * @define {boolean} Whether to enable the debug loader.\n *\n * If enabled, a call to goog.require() will attempt to load the namespace by\n * appending a script tag to the DOM (if the namespace has been registered).\n *\n * If disabled, goog.require() will simply assert that the namespace has been\n * provided (and depend on the fact that some outside tool correctly ordered\n * the script).\n */\ngoog.ENABLE_DEBUG_LOADER = true;\n\n\n/**\n * Implements a system for the dynamic resolution of dependencies\n * that works in parallel with the BUILD system. Note that all calls\n * to goog.require will be stripped by the JSCompiler when the\n * --closure_pass option is used.\n * @see goog.provide\n * @param {string} name Namespace to include (as was given in goog.provide())\n *     in the form \"goog.package.part\".\n */\ngoog.require = function(name) {\n\n  // if the object already exists we do not need do do anything\n  // TODO(arv): If we start to support require based on file name this has\n  //            to change\n  // TODO(arv): If we allow goog.foo.* this has to change\n  // TODO(arv): If we implement dynamic load after page load we should probably\n  //            not remove this code for the compiled output\n  if (!COMPILED) {\n    if (goog.isProvided_(name)) {\n      return;\n    }\n\n    if (goog.ENABLE_DEBUG_LOADER) {\n      var path = goog.getPathFromDeps_(name);\n      if (path) {\n        goog.included_[path] = true;\n        goog.writeScripts_();\n        return;\n      }\n    }\n\n    var errorMessage = 'goog.require could not find: ' + name;\n    if (goog.global.console) {\n      goog.global.console['error'](errorMessage);\n    }\n\n\n      throw Error(errorMessage);\n\n  }\n};\n\n\n/**\n * Path for included scripts\n * @type {string}\n */\ngoog.basePath = '';\n\n\n/**\n * A hook for overriding the base path.\n * @type {string|undefined}\n */\ngoog.global.CLOSURE_BASE_PATH;\n\n\n/**\n * Whether to write out Closure's deps file. By default,\n * the deps are written.\n * @type {boolean|undefined}\n */\ngoog.global.CLOSURE_NO_DEPS;\n\n\n/**\n * A function to import a single script. This is meant to be overridden when\n * Closure is being run in non-HTML contexts, such as web workers. It's defined\n * in the global scope so that it can be set before base.js is loaded, which\n * allows deps.js to be imported properly.\n *\n * The function is passed the script source, which is a relative URI. It should\n * return true if the script was imported, false otherwise.\n */\ngoog.global.CLOSURE_IMPORT_SCRIPT;\n\n\n/**\n * Null function used for default values of callbacks, etc.\n * @return {void} Nothing.\n */\ngoog.nullFunction = function() {};\n\n\n/**\n * The identity function. Returns its first argument.\n *\n * @param {*=} opt_returnValue The single value that will be returned.\n * @param {...*} var_args Optional trailing arguments. These are ignored.\n * @return {?} The first argument. We can't know the type -- just pass it along\n *      without type.\n * @deprecated Use goog.functions.identity instead.\n */\ngoog.identityFunction = function(opt_returnValue, var_args) {\n  return opt_returnValue;\n};\n\n\n/**\n * When defining a class Foo with an abstract method bar(), you can do:\n *\n * Foo.prototype.bar = goog.abstractMethod\n *\n * Now if a subclass of Foo fails to override bar(), an error\n * will be thrown when bar() is invoked.\n *\n * Note: This does not take the name of the function to override as\n * an argument because that would make it more difficult to obfuscate\n * our JavaScript code.\n *\n * @type {!Function}\n * @throws {Error} when invoked to indicate the method should be\n *   overridden.\n */\ngoog.abstractMethod = function() {\n  throw Error('unimplemented abstract method');\n};\n\n\n/**\n * Adds a {@code getInstance} static method that always return the same instance\n * object.\n * @param {!Function} ctor The constructor for the class to add the static\n *     method to.\n */\ngoog.addSingletonGetter = function(ctor) {\n  ctor.getInstance = function() {\n    if (ctor.instance_) {\n      return ctor.instance_;\n    }\n    if (goog.DEBUG) {\n      // NOTE: JSCompiler can't optimize away Array#push.\n      goog.instantiatedSingletons_[goog.instantiatedSingletons_.length] = ctor;\n    }\n    return ctor.instance_ = new ctor;\n  };\n};\n\n\n/**\n * All singleton classes that have been instantiated, for testing. Don't read\n * it directly, use the {@code goog.testing.singleton} module. The compiler\n * removes this variable if unused.\n * @type {!Array.<!Function>}\n * @private\n */\ngoog.instantiatedSingletons_ = [];\n\n\nif (!COMPILED && goog.ENABLE_DEBUG_LOADER) {\n  /**\n   * Object used to keep track of urls that have already been added. This\n   * record allows the prevention of circular dependencies.\n   * @type {Object}\n   * @private\n   */\n  goog.included_ = {};\n\n\n  /**\n   * This object is used to keep track of dependencies and other data that is\n   * used for loading scripts\n   * @private\n   * @type {Object}\n   */\n  goog.dependencies_ = {\n    pathToNames: {}, // 1 to many\n    nameToPath: {}, // 1 to 1\n    requires: {}, // 1 to many\n    // used when resolving dependencies to prevent us from\n    // visiting the file twice\n    visited: {},\n    written: {} // used to keep track of script files we have written\n  };\n\n\n  /**\n   * Tries to detect whether is in the context of an HTML document.\n   * @return {boolean} True if it looks like HTML document.\n   * @private\n   */\n  goog.inHtmlDocument_ = function() {\n    var doc = goog.global.document;\n    return typeof doc != 'undefined' &&\n           'write' in doc;  // XULDocument misses write.\n  };\n\n\n  /**\n   * Tries to detect the base path of the base.js script that bootstraps Closure\n   * @private\n   */\n  goog.findBasePath_ = function() {\n    if (goog.global.CLOSURE_BASE_PATH) {\n      goog.basePath = goog.global.CLOSURE_BASE_PATH;\n      return;\n    } else if (!goog.inHtmlDocument_()) {\n      return;\n    }\n    var doc = goog.global.document;\n    var scripts = doc.getElementsByTagName('script');\n    // Search backwards since the current script is in almost all cases the one\n    // that has base.js.\n    for (var i = scripts.length - 1; i >= 0; --i) {\n      var src = scripts[i].src;\n      var qmark = src.lastIndexOf('?');\n      var l = qmark == -1 ? src.length : qmark;\n      if (src.substr(l - 7, 7) == 'base.js') {\n        goog.basePath = src.substr(0, l - 7);\n        return;\n      }\n    }\n  };\n\n\n  /**\n   * Imports a script if, and only if, that script hasn't already been imported.\n   * (Must be called at execution time)\n   * @param {string} src Script source.\n   * @private\n   */\n  goog.importScript_ = function(src) {\n    var importScript = goog.global.CLOSURE_IMPORT_SCRIPT ||\n        goog.writeScriptTag_;\n    if (!goog.dependencies_.written[src] && importScript(src)) {\n      goog.dependencies_.written[src] = true;\n    }\n  };\n\n\n  /**\n   * The default implementation of the import function. Writes a script tag to\n   * import the script.\n   *\n   * @param {string} src The script source.\n   * @return {boolean} True if the script was imported, false otherwise.\n   * @private\n   */\n  goog.writeScriptTag_ = function(src) {\n    if (goog.inHtmlDocument_()) {\n      var doc = goog.global.document;\n\n      // If the user tries to require a new symbol after document load,\n      // something has gone terribly wrong. Doing a document.write would\n      // wipe out the page.\n      if (doc.readyState == 'complete') {\n        // Certain test frameworks load base.js multiple times, which tries\n        // to write deps.js each time. If that happens, just fail silently.\n        // These frameworks wipe the page between each load of base.js, so this\n        // is OK.\n        var isDeps = /\\bdeps.js$/.test(src);\n        if (isDeps) {\n          return false;\n        } else {\n          throw Error('Cannot write \"' + src + '\" after document load');\n        }\n      }\n\n      doc.write(\n          '<script type=\"text/javascript\" src=\"' + src + '\"></' + 'script>');\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n\n  /**\n   * Resolves dependencies based on the dependencies added using addDependency\n   * and calls importScript_ in the correct order.\n   * @private\n   */\n  goog.writeScripts_ = function() {\n    // the scripts we need to write this time\n    var scripts = [];\n    var seenScript = {};\n    var deps = goog.dependencies_;\n\n    function visitNode(path) {\n      if (path in deps.written) {\n        return;\n      }\n\n      // we have already visited this one. We can get here if we have cyclic\n      // dependencies\n      if (path in deps.visited) {\n        if (!(path in seenScript)) {\n          seenScript[path] = true;\n          scripts.push(path);\n        }\n        return;\n      }\n\n      deps.visited[path] = true;\n\n      if (path in deps.requires) {\n        for (var requireName in deps.requires[path]) {\n          // If the required name is defined, we assume that it was already\n          // bootstrapped by other means.\n          if (!goog.isProvided_(requireName)) {\n            if (requireName in deps.nameToPath) {\n              visitNode(deps.nameToPath[requireName]);\n            } else {\n              throw Error('Undefined nameToPath for ' + requireName);\n            }\n          }\n        }\n      }\n\n      if (!(path in seenScript)) {\n        seenScript[path] = true;\n        scripts.push(path);\n      }\n    }\n\n    for (var path in goog.included_) {\n      if (!deps.written[path]) {\n        visitNode(path);\n      }\n    }\n\n    for (var i = 0; i < scripts.length; i++) {\n      if (scripts[i]) {\n        goog.importScript_(goog.basePath + scripts[i]);\n      } else {\n        throw Error('Undefined script input');\n      }\n    }\n  };\n\n\n  /**\n   * Looks at the dependency rules and tries to determine the script file that\n   * fulfills a particular rule.\n   * @param {string} rule In the form goog.namespace.Class or project.script.\n   * @return {?string} Url corresponding to the rule, or null.\n   * @private\n   */\n  goog.getPathFromDeps_ = function(rule) {\n    if (rule in goog.dependencies_.nameToPath) {\n      return goog.dependencies_.nameToPath[rule];\n    } else {\n      return null;\n    }\n  };\n\n  goog.findBasePath_();\n\n  // Allow projects to manage the deps files themselves.\n  if (!goog.global.CLOSURE_NO_DEPS) {\n    goog.importScript_(goog.basePath + 'deps.js');\n  }\n}\n\n\n\n//==============================================================================\n// Language Enhancements\n//==============================================================================\n\n\n/**\n * This is a \"fixed\" version of the typeof operator.  It differs from the typeof\n * operator in such a way that null returns 'null' and arrays return 'array'.\n * @param {*} value The value to get the type of.\n * @return {string} The name of the type.\n */\ngoog.typeOf = function(value) {\n  var s = typeof value;\n  if (s == 'object') {\n    if (value) {\n      // Check these first, so we can avoid calling Object.prototype.toString if\n      // possible.\n      //\n      // IE improperly marshals tyepof across execution contexts, but a\n      // cross-context object will still return false for \"instanceof Object\".\n      if (value instanceof Array) {\n        return 'array';\n      } else if (value instanceof Object) {\n        return s;\n      }\n\n      // HACK: In order to use an Object prototype method on the arbitrary\n      //   value, the compiler requires the value be cast to type Object,\n      //   even though the ECMA spec explicitly allows it.\n      var className = Object.prototype.toString.call(\n          /** @type {Object} */ (value));\n      // In Firefox 3.6, attempting to access iframe window objects' length\n      // property throws an NS_ERROR_FAILURE, so we need to special-case it\n      // here.\n      if (className == '[object Window]') {\n        return 'object';\n      }\n\n      // We cannot always use constructor == Array or instanceof Array because\n      // different frames have different Array objects. In IE6, if the iframe\n      // where the array was created is destroyed, the array loses its\n      // prototype. Then dereferencing val.splice here throws an exception, so\n      // we can't use goog.isFunction. Calling typeof directly returns 'unknown'\n      // so that will work. In this case, this function will return false and\n      // most array functions will still work because the array is still\n      // array-like (supports length and []) even though it has lost its\n      // prototype.\n      // Mark Miller noticed that Object.prototype.toString\n      // allows access to the unforgeable [[Class]] property.\n      //  15.2.4.2 Object.prototype.toString ( )\n      //  When the toString method is called, the following steps are taken:\n      //      1. Get the [[Class]] property of this object.\n      //      2. Compute a string value by concatenating the three strings\n      //         \"[object \", Result(1), and \"]\".\n      //      3. Return Result(2).\n      // and this behavior survives the destruction of the execution context.\n      if ((className == '[object Array]' ||\n           // In IE all non value types are wrapped as objects across window\n           // boundaries (not iframe though) so we have to do object detection\n           // for this edge case\n           typeof value.length == 'number' &&\n           typeof value.splice != 'undefined' &&\n           typeof value.propertyIsEnumerable != 'undefined' &&\n           !value.propertyIsEnumerable('splice')\n\n          )) {\n        return 'array';\n      }\n      // HACK: There is still an array case that fails.\n      //     function ArrayImpostor() {}\n      //     ArrayImpostor.prototype = [];\n      //     var impostor = new ArrayImpostor;\n      // this can be fixed by getting rid of the fast path\n      // (value instanceof Array) and solely relying on\n      // (value && Object.prototype.toString.vall(value) === '[object Array]')\n      // but that would require many more function calls and is not warranted\n      // unless closure code is receiving objects from untrusted sources.\n\n      // IE in cross-window calls does not correctly marshal the function type\n      // (it appears just as an object) so we cannot use just typeof val ==\n      // 'function'. However, if the object has a call property, it is a\n      // function.\n      if ((className == '[object Function]' ||\n          typeof value.call != 'undefined' &&\n          typeof value.propertyIsEnumerable != 'undefined' &&\n          !value.propertyIsEnumerable('call'))) {\n        return 'function';\n      }\n\n\n    } else {\n      return 'null';\n    }\n\n  } else if (s == 'function' && typeof value.call == 'undefined') {\n    // In Safari typeof nodeList returns 'function', and on Firefox\n    // typeof behaves similarly for HTML{Applet,Embed,Object}Elements\n    // and RegExps.  We would like to return object for those and we can\n    // detect an invalid function by making sure that the function\n    // object has a call method.\n    return 'object';\n  }\n  return s;\n};\n\n\n/**\n * Returns true if the specified value is not |undefined|.\n * WARNING: Do not use this to test if an object has a property. Use the in\n * operator instead.  Additionally, this function assumes that the global\n * undefined variable has not been redefined.\n * @param {*} val Variable to test.\n * @return {boolean} Whether variable is defined.\n */\ngoog.isDef = function(val) {\n  return val !== undefined;\n};\n\n\n/**\n * Returns true if the specified value is |null|\n * @param {*} val Variable to test.\n * @return {boolean} Whether variable is null.\n */\ngoog.isNull = function(val) {\n  return val === null;\n};\n\n\n/**\n * Returns true if the specified value is defined and not null\n * @param {*} val Variable to test.\n * @return {boolean} Whether variable is defined and not null.\n */\ngoog.isDefAndNotNull = function(val) {\n  // Note that undefined == null.\n  return val != null;\n};\n\n\n/**\n * Returns true if the specified value is an array\n * @param {*} val Variable to test.\n * @return {boolean} Whether variable is an array.\n */\ngoog.isArray = function(val) {\n  return goog.typeOf(val) == 'array';\n};\n\n\n/**\n * Returns true if the object looks like an array. To qualify as array like\n * the value needs to be either a NodeList or an object with a Number length\n * property.\n * @param {*} val Variable to test.\n * @return {boolean} Whether variable is an array.\n */\ngoog.isArrayLike = function(val) {\n  var type = goog.typeOf(val);\n  return type == 'array' || type == 'object' && typeof val.length == 'number';\n};\n\n\n/**\n * Returns true if the object looks like a Date. To qualify as Date-like\n * the value needs to be an object and have a getFullYear() function.\n * @param {*} val Variable to test.\n * @return {boolean} Whether variable is a like a Date.\n */\ngoog.isDateLike = function(val) {\n  return goog.isObject(val) && typeof val.getFullYear == 'function';\n};\n\n\n/**\n * Returns true if the specified value is a string\n * @param {*} val Variable to test.\n * @return {boolean} Whether variable is a string.\n */\ngoog.isString = function(val) {\n  return typeof val == 'string';\n};\n\n\n/**\n * Returns true if the specified value is a boolean\n * @param {*} val Variable to test.\n * @return {boolean} Whether variable is boolean.\n */\ngoog.isBoolean = function(val) {\n  return typeof val == 'boolean';\n};\n\n\n/**\n * Returns true if the specified value is a number\n * @param {*} val Variable to test.\n * @return {boolean} Whether variable is a number.\n */\ngoog.isNumber = function(val) {\n  return typeof val == 'number';\n};\n\n\n/**\n * Returns true if the specified value is a function\n * @param {*} val Variable to test.\n * @return {boolean} Whether variable is a function.\n */\ngoog.isFunction = function(val) {\n  return goog.typeOf(val) == 'function';\n};\n\n\n/**\n * Returns true if the specified value is an object.  This includes arrays\n * and functions.\n * @param {*} val Variable to test.\n * @return {boolean} Whether variable is an object.\n */\ngoog.isObject = function(val) {\n  var type = typeof val;\n  return type == 'object' && val != null || type == 'function';\n  // return Object(val) === val also works, but is slower, especially if val is\n  // not an object.\n};\n\n\n/**\n * Gets a unique ID for an object. This mutates the object so that further\n * calls with the same object as a parameter returns the same value. The unique\n * ID is guaranteed to be unique across the current session amongst objects that\n * are passed into {@code getUid}. There is no guarantee that the ID is unique\n * or consistent across sessions. It is unsafe to generate unique ID for\n * function prototypes.\n *\n * @param {Object} obj The object to get the unique ID for.\n * @return {number} The unique ID for the object.\n */\ngoog.getUid = function(obj) {\n  // TODO(arv): Make the type stricter, do not accept null.\n\n  // In Opera window.hasOwnProperty exists but always returns false so we avoid\n  // using it. As a consequence the unique ID generated for BaseClass.prototype\n  // and SubClass.prototype will be the same.\n  return obj[goog.UID_PROPERTY_] ||\n      (obj[goog.UID_PROPERTY_] = ++goog.uidCounter_);\n};\n\n\n/**\n * Removes the unique ID from an object. This is useful if the object was\n * previously mutated using {@code goog.getUid} in which case the mutation is\n * undone.\n * @param {Object} obj The object to remove the unique ID field from.\n */\ngoog.removeUid = function(obj) {\n  // TODO(arv): Make the type stricter, do not accept null.\n\n  // DOM nodes in IE are not instance of Object and throws exception\n  // for delete. Instead we try to use removeAttribute\n  if ('removeAttribute' in obj) {\n    obj.removeAttribute(goog.UID_PROPERTY_);\n  }\n  /** @preserveTry */\n  try {\n    delete obj[goog.UID_PROPERTY_];\n  } catch (ex) {\n  }\n};\n\n\n/**\n * Name for unique ID property. Initialized in a way to help avoid collisions\n * with other closure javascript on the same page.\n * @type {string}\n * @private\n */\ngoog.UID_PROPERTY_ = 'closure_uid_' + ((Math.random() * 1e9) >>> 0);\n\n\n/**\n * Counter for UID.\n * @type {number}\n * @private\n */\ngoog.uidCounter_ = 0;\n\n\n/**\n * Adds a hash code field to an object. The hash code is unique for the\n * given object.\n * @param {Object} obj The object to get the hash code for.\n * @return {number} The hash code for the object.\n * @deprecated Use goog.getUid instead.\n */\ngoog.getHashCode = goog.getUid;\n\n\n/**\n * Removes the hash code field from an object.\n * @param {Object} obj The object to remove the field from.\n * @deprecated Use goog.removeUid instead.\n */\ngoog.removeHashCode = goog.removeUid;\n\n\n/**\n * Clones a value. The input may be an Object, Array, or basic type. Objects and\n * arrays will be cloned recursively.\n *\n * WARNINGS:\n * <code>goog.cloneObject</code> does not detect reference loops. Objects that\n * refer to themselves will cause infinite recursion.\n *\n * <code>goog.cloneObject</code> is unaware of unique identifiers, and copies\n * UIDs created by <code>getUid</code> into cloned results.\n *\n * @param {*} obj The value to clone.\n * @return {*} A clone of the input value.\n * @deprecated goog.cloneObject is unsafe. Prefer the goog.object methods.\n */\ngoog.cloneObject = function(obj) {\n  var type = goog.typeOf(obj);\n  if (type == 'object' || type == 'array') {\n    if (obj.clone) {\n      return obj.clone();\n    }\n    var clone = type == 'array' ? [] : {};\n    for (var key in obj) {\n      clone[key] = goog.cloneObject(obj[key]);\n    }\n    return clone;\n  }\n\n  return obj;\n};\n\n\n/**\n * A native implementation of goog.bind.\n * @param {Function} fn A function to partially apply.\n * @param {Object|undefined} selfObj Specifies the object which |this| should\n *     point to when the function is run.\n * @param {...*} var_args Additional arguments that are partially\n *     applied to the function.\n * @return {!Function} A partially-applied form of the function bind() was\n *     invoked as a method of.\n * @private\n * @suppress {deprecated} The compiler thinks that Function.prototype.bind\n *     is deprecated because some people have declared a pure-JS version.\n *     Only the pure-JS version is truly deprecated.\n */\ngoog.bindNative_ = function(fn, selfObj, var_args) {\n  return /** @type {!Function} */ (fn.call.apply(fn.bind, arguments));\n};\n\n\n/**\n * A pure-JS implementation of goog.bind.\n * @param {Function} fn A function to partially apply.\n * @param {Object|undefined} selfObj Specifies the object which |this| should\n *     point to when the function is run.\n * @param {...*} var_args Additional arguments that are partially\n *     applied to the function.\n * @return {!Function} A partially-applied form of the function bind() was\n *     invoked as a method of.\n * @private\n */\ngoog.bindJs_ = function(fn, selfObj, var_args) {\n  if (!fn) {\n    throw new Error();\n  }\n\n  if (arguments.length > 2) {\n    var boundArgs = Array.prototype.slice.call(arguments, 2);\n    return function() {\n      // Prepend the bound arguments to the current arguments.\n      var newArgs = Array.prototype.slice.call(arguments);\n      Array.prototype.unshift.apply(newArgs, boundArgs);\n      return fn.apply(selfObj, newArgs);\n    };\n\n  } else {\n    return function() {\n      return fn.apply(selfObj, arguments);\n    };\n  }\n};\n\n\n/**\n * Partially applies this function to a particular 'this object' and zero or\n * more arguments. The result is a new function with some arguments of the first\n * function pre-filled and the value of |this| 'pre-specified'.<br><br>\n *\n * Remaining arguments specified at call-time are appended to the pre-\n * specified ones.<br><br>\n *\n * Also see: {@link #partial}.<br><br>\n *\n * Usage:\n * <pre>var barMethBound = bind(myFunction, myObj, 'arg1', 'arg2');\n * barMethBound('arg3', 'arg4');</pre>\n *\n * @param {?function(this:T, ...)} fn A function to partially apply.\n * @param {T} selfObj Specifies the object which |this| should\n *     point to when the function is run.\n * @param {...*} var_args Additional arguments that are partially\n *     applied to the function.\n * @return {!Function} A partially-applied form of the function bind() was\n *     invoked as a method of.\n * @template T\n * @suppress {deprecated} See above.\n */\ngoog.bind = function(fn, selfObj, var_args) {\n  // TODO(nicksantos): narrow the type signature.\n  if (Function.prototype.bind &&\n      // NOTE(nicksantos): Somebody pulled base.js into the default\n      // Chrome extension environment. This means that for Chrome extensions,\n      // they get the implementation of Function.prototype.bind that\n      // calls goog.bind instead of the native one. Even worse, we don't want\n      // to introduce a circular dependency between goog.bind and\n      // Function.prototype.bind, so we have to hack this to make sure it\n      // works correctly.\n      Function.prototype.bind.toString().indexOf('native code') != -1) {\n    goog.bind = goog.bindNative_;\n  } else {\n    goog.bind = goog.bindJs_;\n  }\n  return goog.bind.apply(null, arguments);\n};\n\n\n/**\n * Like bind(), except that a 'this object' is not required. Useful when the\n * target function is already bound.\n *\n * Usage:\n * var g = partial(f, arg1, arg2);\n * g(arg3, arg4);\n *\n * @param {Function} fn A function to partially apply.\n * @param {...*} var_args Additional arguments that are partially\n *     applied to fn.\n * @return {!Function} A partially-applied form of the function bind() was\n *     invoked as a method of.\n */\ngoog.partial = function(fn, var_args) {\n  var args = Array.prototype.slice.call(arguments, 1);\n  return function() {\n    // Prepend the bound arguments to the current arguments.\n    var newArgs = Array.prototype.slice.call(arguments);\n    newArgs.unshift.apply(newArgs, args);\n    return fn.apply(this, newArgs);\n  };\n};\n\n\n/**\n * Copies all the members of a source object to a target object. This method\n * does not work on all browsers for all objects that contain keys such as\n * toString or hasOwnProperty. Use goog.object.extend for this purpose.\n * @param {Object} target Target.\n * @param {Object} source Source.\n */\ngoog.mixin = function(target, source) {\n  for (var x in source) {\n    target[x] = source[x];\n  }\n\n  // For IE7 or lower, the for-in-loop does not contain any properties that are\n  // not enumerable on the prototype object (for example, isPrototypeOf from\n  // Object.prototype) but also it will not include 'replace' on objects that\n  // extend String and change 'replace' (not that it is common for anyone to\n  // extend anything except Object).\n};\n\n\n/**\n * @return {number} An integer value representing the number of milliseconds\n *     between midnight, January 1, 1970 and the current time.\n */\ngoog.now = (goog.TRUSTED_SITE && Date.now) || (function() {\n  // Unary plus operator converts its operand to a number which in the case of\n  // a date is done by calling getTime().\n  return +new Date();\n});\n\n\n/**\n * Evals javascript in the global scope.  In IE this uses execScript, other\n * browsers use goog.global.eval. If goog.global.eval does not evaluate in the\n * global scope (for example, in Safari), appends a script tag instead.\n * Throws an exception if neither execScript or eval is defined.\n * @param {string} script JavaScript string.\n */\ngoog.globalEval = function(script) {\n  if (goog.global.execScript) {\n    goog.global.execScript(script, 'JavaScript');\n  } else if (goog.global.eval) {\n    // Test to see if eval works\n    if (goog.evalWorksForGlobals_ == null) {\n      goog.global.eval('var _et_ = 1;');\n      if (typeof goog.global['_et_'] != 'undefined') {\n        delete goog.global['_et_'];\n        goog.evalWorksForGlobals_ = true;\n      } else {\n        goog.evalWorksForGlobals_ = false;\n      }\n    }\n\n    if (goog.evalWorksForGlobals_) {\n      goog.global.eval(script);\n    } else {\n      var doc = goog.global.document;\n      var scriptElt = doc.createElement('script');\n      scriptElt.type = 'text/javascript';\n      scriptElt.defer = false;\n      // Note(user): can't use .innerHTML since \"t('<test>')\" will fail and\n      // .text doesn't work in Safari 2.  Therefore we append a text node.\n      scriptElt.appendChild(doc.createTextNode(script));\n      doc.body.appendChild(scriptElt);\n      doc.body.removeChild(scriptElt);\n    }\n  } else {\n    throw Error('goog.globalEval not available');\n  }\n};\n\n\n/**\n * Indicates whether or not we can call 'eval' directly to eval code in the\n * global scope. Set to a Boolean by the first call to goog.globalEval (which\n * empirically tests whether eval works for globals). @see goog.globalEval\n * @type {?boolean}\n * @private\n */\ngoog.evalWorksForGlobals_ = null;\n\n\n/**\n * Optional map of CSS class names to obfuscated names used with\n * goog.getCssName().\n * @type {Object|undefined}\n * @private\n * @see goog.setCssNameMapping\n */\ngoog.cssNameMapping_;\n\n\n/**\n * Optional obfuscation style for CSS class names. Should be set to either\n * 'BY_WHOLE' or 'BY_PART' if defined.\n * @type {string|undefined}\n * @private\n * @see goog.setCssNameMapping\n */\ngoog.cssNameMappingStyle_;\n\n\n/**\n * Handles strings that are intended to be used as CSS class names.\n *\n * This function works in tandem with @see goog.setCssNameMapping.\n *\n * Without any mapping set, the arguments are simple joined with a\n * hyphen and passed through unaltered.\n *\n * When there is a mapping, there are two possible styles in which\n * these mappings are used. In the BY_PART style, each part (i.e. in\n * between hyphens) of the passed in css name is rewritten according\n * to the map. In the BY_WHOLE style, the full css name is looked up in\n * the map directly. If a rewrite is not specified by the map, the\n * compiler will output a warning.\n *\n * When the mapping is passed to the compiler, it will replace calls\n * to goog.getCssName with the strings from the mapping, e.g.\n *     var x = goog.getCssName('foo');\n *     var y = goog.getCssName(this.baseClass, 'active');\n *  becomes:\n *     var x= 'foo';\n *     var y = this.baseClass + '-active';\n *\n * If one argument is passed it will be processed, if two are passed\n * only the modifier will be processed, as it is assumed the first\n * argument was generated as a result of calling goog.getCssName.\n *\n * @param {string} className The class name.\n * @param {string=} opt_modifier A modifier to be appended to the class name.\n * @return {string} The class name or the concatenation of the class name and\n *     the modifier.\n */\ngoog.getCssName = function(className, opt_modifier) {\n  var getMapping = function(cssName) {\n    return goog.cssNameMapping_[cssName] || cssName;\n  };\n\n  var renameByParts = function(cssName) {\n    // Remap all the parts individually.\n    var parts = cssName.split('-');\n    var mapped = [];\n    for (var i = 0; i < parts.length; i++) {\n      mapped.push(getMapping(parts[i]));\n    }\n    return mapped.join('-');\n  };\n\n  var rename;\n  if (goog.cssNameMapping_) {\n    rename = goog.cssNameMappingStyle_ == 'BY_WHOLE' ?\n        getMapping : renameByParts;\n  } else {\n    rename = function(a) {\n      return a;\n    };\n  }\n\n  if (opt_modifier) {\n    return className + '-' + rename(opt_modifier);\n  } else {\n    return rename(className);\n  }\n};\n\n\n/**\n * Sets the map to check when returning a value from goog.getCssName(). Example:\n * <pre>\n * goog.setCssNameMapping({\n *   \"goog\": \"a\",\n *   \"disabled\": \"b\",\n * });\n *\n * var x = goog.getCssName('goog');\n * // The following evaluates to: \"a a-b\".\n * goog.getCssName('goog') + ' ' + goog.getCssName(x, 'disabled')\n * </pre>\n * When declared as a map of string literals to string literals, the JSCompiler\n * will replace all calls to goog.getCssName() using the supplied map if the\n * --closure_pass flag is set.\n *\n * @param {!Object} mapping A map of strings to strings where keys are possible\n *     arguments to goog.getCssName() and values are the corresponding values\n *     that should be returned.\n * @param {string=} opt_style The style of css name mapping. There are two valid\n *     options: 'BY_PART', and 'BY_WHOLE'.\n * @see goog.getCssName for a description.\n */\ngoog.setCssNameMapping = function(mapping, opt_style) {\n  goog.cssNameMapping_ = mapping;\n  goog.cssNameMappingStyle_ = opt_style;\n};\n\n\n/**\n * To use CSS renaming in compiled mode, one of the input files should have a\n * call to goog.setCssNameMapping() with an object literal that the JSCompiler\n * can extract and use to replace all calls to goog.getCssName(). In uncompiled\n * mode, JavaScript code should be loaded before this base.js file that declares\n * a global variable, CLOSURE_CSS_NAME_MAPPING, which is used below. This is\n * to ensure that the mapping is loaded before any calls to goog.getCssName()\n * are made in uncompiled mode.\n *\n * A hook for overriding the CSS name mapping.\n * @type {Object|undefined}\n */\ngoog.global.CLOSURE_CSS_NAME_MAPPING;\n\n\nif (!COMPILED && goog.global.CLOSURE_CSS_NAME_MAPPING) {\n  // This does not call goog.setCssNameMapping() because the JSCompiler\n  // requires that goog.setCssNameMapping() be called with an object literal.\n  goog.cssNameMapping_ = goog.global.CLOSURE_CSS_NAME_MAPPING;\n}\n\n\n/**\n * Gets a localized message.\n *\n * This function is a compiler primitive. If you give the compiler a localized\n * message bundle, it will replace the string at compile-time with a localized\n * version, and expand goog.getMsg call to a concatenated string.\n *\n * Messages must be initialized in the form:\n * <code>\n * var MSG_NAME = goog.getMsg('Hello {$placeholder}', {'placeholder': 'world'});\n * </code>\n *\n * @param {string} str Translatable string, places holders in the form {$foo}.\n * @param {Object=} opt_values Map of place holder name to value.\n * @return {string} message with placeholders filled.\n */\ngoog.getMsg = function(str, opt_values) {\n  var values = opt_values || {};\n  for (var key in values) {\n    var value = ('' + values[key]).replace(/\\$/g, '$$$$');\n    str = str.replace(new RegExp('\\\\{\\\\$' + key + '\\\\}', 'gi'), value);\n  }\n  return str;\n};\n\n\n/**\n * Gets a localized message. If the message does not have a translation, gives a\n * fallback message.\n *\n * This is useful when introducing a new message that has not yet been\n * translated into all languages.\n *\n * This function is a compiler primtive. Must be used in the form:\n * <code>var x = goog.getMsgWithFallback(MSG_A, MSG_B);</code>\n * where MSG_A and MSG_B were initialized with goog.getMsg.\n *\n * @param {string} a The preferred message.\n * @param {string} b The fallback message.\n * @return {string} The best translated message.\n */\ngoog.getMsgWithFallback = function(a, b) {\n  return a;\n};\n\n\n/**\n * Exposes an unobfuscated global namespace path for the given object.\n * Note that fields of the exported object *will* be obfuscated,\n * unless they are exported in turn via this function or\n * goog.exportProperty\n *\n * <p>Also handy for making public items that are defined in anonymous\n * closures.\n *\n * ex. goog.exportSymbol('public.path.Foo', Foo);\n *\n * ex. goog.exportSymbol('public.path.Foo.staticFunction',\n *                       Foo.staticFunction);\n *     public.path.Foo.staticFunction();\n *\n * ex. goog.exportSymbol('public.path.Foo.prototype.myMethod',\n *                       Foo.prototype.myMethod);\n *     new public.path.Foo().myMethod();\n *\n * @param {string} publicPath Unobfuscated name to export.\n * @param {*} object Object the name should point to.\n * @param {Object=} opt_objectToExportTo The object to add the path to; default\n *     is |goog.global|.\n */\ngoog.exportSymbol = function(publicPath, object, opt_objectToExportTo) {\n  goog.exportPath_(publicPath, object, opt_objectToExportTo);\n};\n\n\n/**\n * Exports a property unobfuscated into the object's namespace.\n * ex. goog.exportProperty(Foo, 'staticFunction', Foo.staticFunction);\n * ex. goog.exportProperty(Foo.prototype, 'myMethod', Foo.prototype.myMethod);\n * @param {Object} object Object whose static property is being exported.\n * @param {string} publicName Unobfuscated name to export.\n * @param {*} symbol Object the name should point to.\n */\ngoog.exportProperty = function(object, publicName, symbol) {\n  object[publicName] = symbol;\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * Usage:\n * <pre>\n * function ParentClass(a, b) { }\n * ParentClass.prototype.foo = function(a) { }\n *\n * function ChildClass(a, b, c) {\n *   goog.base(this, a, b);\n * }\n * goog.inherits(ChildClass, ParentClass);\n *\n * var child = new ChildClass('a', 'b', 'see');\n * child.foo(); // works\n * </pre>\n *\n * In addition, a superclass' implementation of a method can be invoked\n * as follows:\n *\n * <pre>\n * ChildClass.prototype.foo = function(a) {\n *   ChildClass.superClass_.foo.call(this, a);\n *   // other code\n * };\n * </pre>\n *\n * @param {Function} childCtor Child class.\n * @param {Function} parentCtor Parent class.\n */\ngoog.inherits = function(childCtor, parentCtor) {\n  /** @constructor */\n  function tempCtor() {};\n  tempCtor.prototype = parentCtor.prototype;\n  childCtor.superClass_ = parentCtor.prototype;\n  childCtor.prototype = new tempCtor();\n  /** @override */\n  childCtor.prototype.constructor = childCtor;\n};\n\n\n/**\n * Call up to the superclass.\n *\n * If this is called from a constructor, then this calls the superclass\n * contructor with arguments 1-N.\n *\n * If this is called from a prototype method, then you must pass\n * the name of the method as the second argument to this function. If\n * you do not, you will get a runtime error. This calls the superclass'\n * method with arguments 2-N.\n *\n * This function only works if you use goog.inherits to express\n * inheritance relationships between your classes.\n *\n * This function is a compiler primitive. At compile-time, the\n * compiler will do macro expansion to remove a lot of\n * the extra overhead that this function introduces. The compiler\n * will also enforce a lot of the assumptions that this function\n * makes, and treat it as a compiler error if you break them.\n *\n * @param {!Object} me Should always be \"this\".\n * @param {*=} opt_methodName The method name if calling a super method.\n * @param {...*} var_args The rest of the arguments.\n * @return {*} The return value of the superclass method.\n */\ngoog.base = function(me, opt_methodName, var_args) {\n  var caller = arguments.callee.caller;\n  if (caller.superClass_) {\n    // This is a constructor. Call the superclass constructor.\n    return caller.superClass_.constructor.apply(\n        me, Array.prototype.slice.call(arguments, 1));\n  }\n\n  var args = Array.prototype.slice.call(arguments, 2);\n  var foundCaller = false;\n  for (var ctor = me.constructor;\n       ctor; ctor = ctor.superClass_ && ctor.superClass_.constructor) {\n    if (ctor.prototype[opt_methodName] === caller) {\n      foundCaller = true;\n    } else if (foundCaller) {\n      return ctor.prototype[opt_methodName].apply(me, args);\n    }\n  }\n\n  // If we did not find the caller in the prototype chain,\n  // then one of two things happened:\n  // 1) The caller is an instance method.\n  // 2) This method was not called by the right caller.\n  if (me[opt_methodName] === caller) {\n    return me.constructor.prototype[opt_methodName].apply(me, args);\n  } else {\n    throw Error(\n        'goog.base called from a method of one name ' +\n        'to a method of a different name');\n  }\n};\n\n\n/**\n * Allow for aliasing within scope functions.  This function exists for\n * uncompiled code - in compiled code the calls will be inlined and the\n * aliases applied.  In uncompiled code the function is simply run since the\n * aliases as written are valid JavaScript.\n * @param {function()} fn Function to call.  This function can contain aliases\n *     to namespaces (e.g. \"var dom = goog.dom\") or classes\n *    (e.g. \"var Timer = goog.Timer\").\n */\ngoog.scope = function(fn) {\n  fn.call(goog.global);\n};\n\n\n",
		"// Copyright 2006 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview Utilities for manipulating objects/maps/hashes.\n */\n\ngoog.provide('goog.object');\n\n\n/**\n * Calls a function for each element in an object/map/hash.\n *\n * @param {Object.<K,V>} obj The object over which to iterate.\n * @param {function(this:T,V,?,Object.<K,V>):?} f The function to call\n *     for every element. This function takes 3 arguments (the element, the\n *     index and the object) and the return value is ignored.\n * @param {T=} opt_obj This is used as the 'this' object within f.\n * @template T,K,V\n */\ngoog.object.forEach = function(obj, f, opt_obj) {\n  for (var key in obj) {\n    f.call(opt_obj, obj[key], key, obj);\n  }\n};\n\n\n/**\n * Calls a function for each element in an object/map/hash. If that call returns\n * true, adds the element to a new object.\n *\n * @param {Object.<K,V>} obj The object over which to iterate.\n * @param {function(this:T,V,?,Object.<K,V>):boolean} f The function to call\n *     for every element. This\n *     function takes 3 arguments (the element, the index and the object)\n *     and should return a boolean. If the return value is true the\n *     element is added to the result object. If it is false the\n *     element is not included.\n * @param {T=} opt_obj This is used as the 'this' object within f.\n * @return {!Object.<K,V>} a new object in which only elements that passed the\n *     test are present.\n * @template T,K,V\n */\ngoog.object.filter = function(obj, f, opt_obj) {\n  var res = {};\n  for (var key in obj) {\n    if (f.call(opt_obj, obj[key], key, obj)) {\n      res[key] = obj[key];\n    }\n  }\n  return res;\n};\n\n\n/**\n * For every element in an object/map/hash calls a function and inserts the\n * result into a new object.\n *\n * @param {Object.<K,V>} obj The object over which to iterate.\n * @param {function(this:T,V,?,Object.<K,V>):R} f The function to call\n *     for every element. This function\n *     takes 3 arguments (the element, the index and the object)\n *     and should return something. The result will be inserted\n *     into a new object.\n * @param {T=} opt_obj This is used as the 'this' object within f.\n * @return {!Object.<K,R>} a new object with the results from f.\n * @template T,K,V,R\n */\ngoog.object.map = function(obj, f, opt_obj) {\n  var res = {};\n  for (var key in obj) {\n    res[key] = f.call(opt_obj, obj[key], key, obj);\n  }\n  return res;\n};\n\n\n/**\n * Calls a function for each element in an object/map/hash. If any\n * call returns true, returns true (without checking the rest). If\n * all calls return false, returns false.\n *\n * @param {Object.<K,V>} obj The object to check.\n * @param {function(this:T,V,?,Object.<K,V>):boolean} f The function to\n *     call for every element. This function\n *     takes 3 arguments (the element, the index and the object) and should\n *     return a boolean.\n * @param {T=} opt_obj This is used as the 'this' object within f.\n * @return {boolean} true if any element passes the test.\n * @template T,K,V\n */\ngoog.object.some = function(obj, f, opt_obj) {\n  for (var key in obj) {\n    if (f.call(opt_obj, obj[key], key, obj)) {\n      return true;\n    }\n  }\n  return false;\n};\n\n\n/**\n * Calls a function for each element in an object/map/hash. If\n * all calls return true, returns true. If any call returns false, returns\n * false at this point and does not continue to check the remaining elements.\n *\n * @param {Object.<K,V>} obj The object to check.\n * @param {?function(this:T,V,?,Object.<K,V>):boolean} f The function to\n *     call for every element. This function\n *     takes 3 arguments (the element, the index and the object) and should\n *     return a boolean.\n * @param {T=} opt_obj This is used as the 'this' object within f.\n * @return {boolean} false if any element fails the test.\n * @template T,K,V\n */\ngoog.object.every = function(obj, f, opt_obj) {\n  for (var key in obj) {\n    if (!f.call(opt_obj, obj[key], key, obj)) {\n      return false;\n    }\n  }\n  return true;\n};\n\n\n/**\n * Returns the number of key-value pairs in the object map.\n *\n * @param {Object} obj The object for which to get the number of key-value\n *     pairs.\n * @return {number} The number of key-value pairs in the object map.\n */\ngoog.object.getCount = function(obj) {\n  // JS1.5 has __count__ but it has been deprecated so it raises a warning...\n  // in other words do not use. Also __count__ only includes the fields on the\n  // actual object and not in the prototype chain.\n  var rv = 0;\n  for (var key in obj) {\n    rv++;\n  }\n  return rv;\n};\n\n\n/**\n * Returns one key from the object map, if any exists.\n * For map literals the returned key will be the first one in most of the\n * browsers (a know exception is Konqueror).\n *\n * @param {Object} obj The object to pick a key from.\n * @return {string|undefined} The key or undefined if the object is empty.\n */\ngoog.object.getAnyKey = function(obj) {\n  for (var key in obj) {\n    return key;\n  }\n};\n\n\n/**\n * Returns one value from the object map, if any exists.\n * For map literals the returned value will be the first one in most of the\n * browsers (a know exception is Konqueror).\n *\n * @param {Object.<K,V>} obj The object to pick a value from.\n * @return {V|undefined} The value or undefined if the object is empty.\n * @template K,V\n */\ngoog.object.getAnyValue = function(obj) {\n  for (var key in obj) {\n    return obj[key];\n  }\n};\n\n\n/**\n * Whether the object/hash/map contains the given object as a value.\n * An alias for goog.object.containsValue(obj, val).\n *\n * @param {Object.<K,V>} obj The object in which to look for val.\n * @param {V} val The object for which to check.\n * @return {boolean} true if val is present.\n * @template K,V\n */\ngoog.object.contains = function(obj, val) {\n  return goog.object.containsValue(obj, val);\n};\n\n\n/**\n * Returns the values of the object/map/hash.\n *\n * @param {Object.<K,V>} obj The object from which to get the values.\n * @return {!Array.<V>} The values in the object/map/hash.\n * @template K,V\n */\ngoog.object.getValues = function(obj) {\n  var res = [];\n  var i = 0;\n  for (var key in obj) {\n    res[i++] = obj[key];\n  }\n  return res;\n};\n\n\n/**\n * Returns the keys of the object/map/hash.\n *\n * @param {Object} obj The object from which to get the keys.\n * @return {!Array.<string>} Array of property keys.\n */\ngoog.object.getKeys = function(obj) {\n  var res = [];\n  var i = 0;\n  for (var key in obj) {\n    res[i++] = key;\n  }\n  return res;\n};\n\n\n/**\n * Get a value from an object multiple levels deep.  This is useful for\n * pulling values from deeply nested objects, such as JSON responses.\n * Example usage: getValueByKeys(jsonObj, 'foo', 'entries', 3)\n *\n * @param {!Object} obj An object to get the value from.  Can be array-like.\n * @param {...(string|number|!Array.<number|string>)} var_args A number of keys\n *     (as strings, or numbers, for array-like objects).  Can also be\n *     specified as a single array of keys.\n * @return {*} The resulting value.  If, at any point, the value for a key\n *     is undefined, returns undefined.\n */\ngoog.object.getValueByKeys = function(obj, var_args) {\n  var isArrayLike = goog.isArrayLike(var_args);\n  var keys = isArrayLike ? var_args : arguments;\n\n  // Start with the 2nd parameter for the variable parameters syntax.\n  for (var i = isArrayLike ? 0 : 1; i < keys.length; i++) {\n    obj = obj[keys[i]];\n    if (!goog.isDef(obj)) {\n      break;\n    }\n  }\n\n  return obj;\n};\n\n\n/**\n * Whether the object/map/hash contains the given key.\n *\n * @param {Object} obj The object in which to look for key.\n * @param {*} key The key for which to check.\n * @return {boolean} true If the map contains the key.\n */\ngoog.object.containsKey = function(obj, key) {\n  return key in obj;\n};\n\n\n/**\n * Whether the object/map/hash contains the given value. This is O(n).\n *\n * @param {Object.<K,V>} obj The object in which to look for val.\n * @param {V} val The value for which to check.\n * @return {boolean} true If the map contains the value.\n * @template K,V\n */\ngoog.object.containsValue = function(obj, val) {\n  for (var key in obj) {\n    if (obj[key] == val) {\n      return true;\n    }\n  }\n  return false;\n};\n\n\n/**\n * Searches an object for an element that satisfies the given condition and\n * returns its key.\n * @param {Object.<K,V>} obj The object to search in.\n * @param {function(this:T,V,string,Object.<K,V>):boolean} f The\n *      function to call for every element. Takes 3 arguments (the value,\n *     the key and the object) and should return a boolean.\n * @param {T=} opt_this An optional \"this\" context for the function.\n * @return {string|undefined} The key of an element for which the function\n *     returns true or undefined if no such element is found.\n * @template T,K,V\n */\ngoog.object.findKey = function(obj, f, opt_this) {\n  for (var key in obj) {\n    if (f.call(opt_this, obj[key], key, obj)) {\n      return key;\n    }\n  }\n  return undefined;\n};\n\n\n/**\n * Searches an object for an element that satisfies the given condition and\n * returns its value.\n * @param {Object.<K,V>} obj The object to search in.\n * @param {function(this:T,V,string,Object.<K,V>):boolean} f The function\n *     to call for every element. Takes 3 arguments (the value, the key\n *     and the object) and should return a boolean.\n * @param {T=} opt_this An optional \"this\" context for the function.\n * @return {V} The value of an element for which the function returns true or\n *     undefined if no such element is found.\n * @template T,K,V\n */\ngoog.object.findValue = function(obj, f, opt_this) {\n  var key = goog.object.findKey(obj, f, opt_this);\n  return key && obj[key];\n};\n\n\n/**\n * Whether the object/map/hash is empty.\n *\n * @param {Object} obj The object to test.\n * @return {boolean} true if obj is empty.\n */\ngoog.object.isEmpty = function(obj) {\n  for (var key in obj) {\n    return false;\n  }\n  return true;\n};\n\n\n/**\n * Removes all key value pairs from the object/map/hash.\n *\n * @param {Object} obj The object to clear.\n */\ngoog.object.clear = function(obj) {\n  for (var i in obj) {\n    delete obj[i];\n  }\n};\n\n\n/**\n * Removes a key-value pair based on the key.\n *\n * @param {Object} obj The object from which to remove the key.\n * @param {*} key The key to remove.\n * @return {boolean} Whether an element was removed.\n */\ngoog.object.remove = function(obj, key) {\n  var rv;\n  if ((rv = key in obj)) {\n    delete obj[key];\n  }\n  return rv;\n};\n\n\n/**\n * Adds a key-value pair to the object. Throws an exception if the key is\n * already in use. Use set if you want to change an existing pair.\n *\n * @param {Object.<K,V>} obj The object to which to add the key-value pair.\n * @param {string} key The key to add.\n * @param {V} val The value to add.\n * @template K,V\n */\ngoog.object.add = function(obj, key, val) {\n  if (key in obj) {\n    throw Error('The object already contains the key \"' + key + '\"');\n  }\n  goog.object.set(obj, key, val);\n};\n\n\n/**\n * Returns the value for the given key.\n *\n * @param {Object.<K,V>} obj The object from which to get the value.\n * @param {string} key The key for which to get the value.\n * @param {R=} opt_val The value to return if no item is found for the given\n *     key (default is undefined).\n * @return {V|R|undefined} The value for the given key.\n * @template K,V,R\n */\ngoog.object.get = function(obj, key, opt_val) {\n  if (key in obj) {\n    return obj[key];\n  }\n  return opt_val;\n};\n\n\n/**\n * Adds a key-value pair to the object/map/hash.\n *\n * @param {Object.<K,V>} obj The object to which to add the key-value pair.\n * @param {string} key The key to add.\n * @param {K} value The value to add.\n * @template K,V\n */\ngoog.object.set = function(obj, key, value) {\n  obj[key] = value;\n};\n\n\n/**\n * Adds a key-value pair to the object/map/hash if it doesn't exist yet.\n *\n * @param {Object.<K,V>} obj The object to which to add the key-value pair.\n * @param {string} key The key to add.\n * @param {V} value The value to add if the key wasn't present.\n * @return {V} The value of the entry at the end of the function.\n * @template K,V\n */\ngoog.object.setIfUndefined = function(obj, key, value) {\n  return key in obj ? obj[key] : (obj[key] = value);\n};\n\n\n/**\n * Does a flat clone of the object.\n *\n * @param {Object.<K,V>} obj Object to clone.\n * @return {!Object.<K,V>} Clone of the input object.\n * @template K,V\n */\ngoog.object.clone = function(obj) {\n  // We cannot use the prototype trick because a lot of methods depend on where\n  // the actual key is set.\n\n  var res = {};\n  for (var key in obj) {\n    res[key] = obj[key];\n  }\n  return res;\n  // We could also use goog.mixin but I wanted this to be independent from that.\n};\n\n\n/**\n * Clones a value. The input may be an Object, Array, or basic type. Objects and\n * arrays will be cloned recursively.\n *\n * WARNINGS:\n * <code>goog.object.unsafeClone</code> does not detect reference loops. Objects\n * that refer to themselves will cause infinite recursion.\n *\n * <code>goog.object.unsafeClone</code> is unaware of unique identifiers, and\n * copies UIDs created by <code>getUid</code> into cloned results.\n *\n * @param {*} obj The value to clone.\n * @return {*} A clone of the input value.\n */\ngoog.object.unsafeClone = function(obj) {\n  var type = goog.typeOf(obj);\n  if (type == 'object' || type == 'array') {\n    if (obj.clone) {\n      return obj.clone();\n    }\n    var clone = type == 'array' ? [] : {};\n    for (var key in obj) {\n      clone[key] = goog.object.unsafeClone(obj[key]);\n    }\n    return clone;\n  }\n\n  return obj;\n};\n\n\n/**\n * Returns a new object in which all the keys and values are interchanged\n * (keys become values and values become keys). If multiple keys map to the\n * same value, the chosen transposed value is implementation-dependent.\n *\n * @param {Object} obj The object to transpose.\n * @return {!Object} The transposed object.\n */\ngoog.object.transpose = function(obj) {\n  var transposed = {};\n  for (var key in obj) {\n    transposed[obj[key]] = key;\n  }\n  return transposed;\n};\n\n\n/**\n * The names of the fields that are defined on Object.prototype.\n * @type {Array.<string>}\n * @private\n */\ngoog.object.PROTOTYPE_FIELDS_ = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n\n\n/**\n * Extends an object with another object.\n * This operates 'in-place'; it does not create a new Object.\n *\n * Example:\n * var o = {};\n * goog.object.extend(o, {a: 0, b: 1});\n * o; // {a: 0, b: 1}\n * goog.object.extend(o, {c: 2});\n * o; // {a: 0, b: 1, c: 2}\n *\n * @param {Object} target  The object to modify.\n * @param {...Object} var_args The objects from which values will be copied.\n */\ngoog.object.extend = function(target, var_args) {\n  var key, source;\n  for (var i = 1; i < arguments.length; i++) {\n    source = arguments[i];\n    for (key in source) {\n      target[key] = source[key];\n    }\n\n    // For IE the for-in-loop does not contain any properties that are not\n    // enumerable on the prototype object (for example isPrototypeOf from\n    // Object.prototype) and it will also not include 'replace' on objects that\n    // extend String and change 'replace' (not that it is common for anyone to\n    // extend anything except Object).\n\n    for (var j = 0; j < goog.object.PROTOTYPE_FIELDS_.length; j++) {\n      key = goog.object.PROTOTYPE_FIELDS_[j];\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n};\n\n\n/**\n * Creates a new object built from the key-value pairs provided as arguments.\n * @param {...*} var_args If only one argument is provided and it is an array\n *     then this is used as the arguments,  otherwise even arguments are used as\n *     the property names and odd arguments are used as the property values.\n * @return {!Object} The new object.\n * @throws {Error} If there are uneven number of arguments or there is only one\n *     non array argument.\n */\ngoog.object.create = function(var_args) {\n  var argLength = arguments.length;\n  if (argLength == 1 && goog.isArray(arguments[0])) {\n    return goog.object.create.apply(null, arguments[0]);\n  }\n\n  if (argLength % 2) {\n    throw Error('Uneven number of arguments');\n  }\n\n  var rv = {};\n  for (var i = 0; i < argLength; i += 2) {\n    rv[arguments[i]] = arguments[i + 1];\n  }\n  return rv;\n};\n\n\n/**\n * Creates a new object where the property names come from the arguments but\n * the value is always set to true\n * @param {...*} var_args If only one argument is provided and it is an array\n *     then this is used as the arguments,  otherwise the arguments are used\n *     as the property names.\n * @return {!Object} The new object.\n */\ngoog.object.createSet = function(var_args) {\n  var argLength = arguments.length;\n  if (argLength == 1 && goog.isArray(arguments[0])) {\n    return goog.object.createSet.apply(null, arguments[0]);\n  }\n\n  var rv = {};\n  for (var i = 0; i < argLength; i++) {\n    rv[arguments[i]] = true;\n  }\n  return rv;\n};\n\n\n/**\n * Creates an immutable view of the underlying object, if the browser\n * supports immutable objects.\n *\n * In default mode, writes to this view will fail silently. In strict mode,\n * they will throw an error.\n *\n * @param {!Object.<K,V>} obj An object.\n * @return {!Object.<K,V>} An immutable view of that object, or the\n *     original object if this browser does not support immutables.\n * @template K,V\n */\ngoog.object.createImmutableView = function(obj) {\n  var result = obj;\n  if (Object.isFrozen && !Object.isFrozen(obj)) {\n    result = Object.create(obj);\n    Object.freeze(result);\n  }\n  return result;\n};\n\n\n/**\n * @param {!Object} obj An object.\n * @return {boolean} Whether this is an immutable view of the object.\n */\ngoog.object.isImmutableView = function(obj) {\n  return !!Object.isFrozen && Object.isFrozen(obj);\n};\n",
		"// Copyright 2005 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview Event Manager.\n *\n * Provides an abstracted interface to the browsers' event\n * systems. This uses an indirect lookup of listener functions to avoid circular\n * references between DOM (in IE) or XPCOM (in Mozilla) objects which leak\n * memory. This makes it easier to write OO Javascript/DOM code.\n *\n * It simulates capture & bubble in Internet Explorer.\n *\n * The listeners will also automagically have their event objects patched, so\n * your handlers don't need to worry about the browser.\n *\n * Example usage:\n * <pre>\n * goog.events.listen(myNode, 'click', function(e) { alert('woo') });\n * goog.events.listen(myNode, 'mouseover', mouseHandler, true);\n * goog.events.unlisten(myNode, 'mouseover', mouseHandler, true);\n * goog.events.removeAll(myNode);\n * goog.events.removeAll();\n * </pre>\n *\n *                                            in IE and event object patching]\n *\n * @supported IE6+, FF1.5+, WebKit, Opera.\n * @see ../demos/events.html\n * @see ../demos/event-propagation.html\n * @see ../demos/stopevent.html\n */\n\n\n// This uses 3 lookup tables/trees.\n// listenerTree_ is a tree of type -> capture -> src uid -> [Listener]\n// listeners_ is a map of key -> [Listener]\n//\n// The key is a field of the Listener. The Listener class also has the type,\n// capture and the src so one can always trace back in the tree\n//\n// sources_: src uid -> [Listener]\n\n\ngoog.provide('goog.events');\ngoog.provide('goog.events.Key');\ngoog.provide('goog.events.ListenableType');\n\ngoog.require('goog.array');\n/** @suppress {extraRequire} */\ngoog.require('goog.debug.entryPointRegistry');\ngoog.require('goog.events.BrowserEvent');\ngoog.require('goog.events.BrowserFeature');\ngoog.require('goog.events.Event');\ngoog.require('goog.events.Listenable');\ngoog.require('goog.events.Listener');\ngoog.require('goog.object');\n\n\n/**\n * @typedef {number|goog.events.ListenableKey}\n */\ngoog.events.Key;\n\n\n/**\n * @typedef {EventTarget|goog.events.Listenable|goog.events.EventTarget}\n */\ngoog.events.ListenableType;\n\n\n/**\n * Whether to be strict with custom event targets. When set to true,\n * listening/dispatching on un-initialized event targets will fail.\n * An event target may be un-initialized if you forgot to call\n * goog.events.EventTarget constructor in the custom event target\n * constructor.\n * @type {boolean}\n */\ngoog.events.STRICT_EVENT_TARGET = false;\n\n\n/**\n * Container for storing event listeners and their proxies\n * @private\n * @type {Object.<goog.events.ListenableKey>}\n */\ngoog.events.listeners_ = {};\n\n\n/**\n * The root of the listener tree\n * @private\n * @type {Object}\n */\ngoog.events.listenerTree_ = {};\n\n\n/**\n * Lookup for mapping source UIDs to listeners.\n * @private\n * @type {Object}\n */\ngoog.events.sources_ = {};\n\n\n/**\n * String used to prepend to IE event types.  Not a constant so that it is not\n * inlined.\n * @type {string}\n * @private\n */\ngoog.events.onString_ = 'on';\n\n\n/**\n * Map of computed on strings for IE event types. Caching this removes an extra\n * object allocation in goog.events.listen which improves IE6 performance.\n * @type {Object}\n * @private\n */\ngoog.events.onStringMap_ = {};\n\n\n/**\n * Separator used to split up the various parts of an event key, to help avoid\n * the possibilities of collisions.\n * @type {string}\n * @private\n */\ngoog.events.keySeparator_ = '_';\n\n\n/**\n * Adds an event listener for a specific event on a DOM Node or an\n * object that has implemented {@link goog.events.EventTarget}. A\n * listener can only be added once to an object and if it is added\n * again the key for the listener is returned. Note that if the\n * existing listener is a one-off listener (registered via\n * listenOnce), it will no longer be a one-off listener after a call\n * to listen().\n *\n * @param {goog.events.ListenableType} src The node to listen to\n *     events on.\n * @param {string|Array.<string>} type Event type or array of event types.\n * @param {Function|Object} listener Callback method, or an object with a\n *     handleEvent function.\n * @param {boolean=} opt_capt Whether to fire in capture phase (defaults to\n *     false).\n * @param {Object=} opt_handler Element in whose scope to call the listener.\n * @return {goog.events.Key} Unique key for the listener.\n */\ngoog.events.listen = function(src, type, listener, opt_capt, opt_handler) {\n  if (goog.isArray(type)) {\n    for (var i = 0; i < type.length; i++) {\n      goog.events.listen(src, type[i], listener, opt_capt, opt_handler);\n    }\n    return null;\n  }\n\n  var listenableKey;\n  if (goog.events.Listenable.USE_LISTENABLE_INTERFACE &&\n      goog.events.Listenable.isImplementedBy(src)) {\n    listenableKey = src.listen(\n        /** @type {string} */ (type),\n        goog.events.wrapListener_(listener), opt_capt, opt_handler);\n  } else {\n    listenableKey = goog.events.listen_(\n        /** @type {EventTarget|goog.events.EventTarget} */ (src),\n        type, listener, /* callOnce */ false, opt_capt, opt_handler);\n  }\n\n  var key = listenableKey.key;\n  goog.events.listeners_[key] = listenableKey;\n  return key;\n};\n\n\n/**\n * Property name that indicates that an object is a\n * goog.events.EventTarget.\n * @type {string}\n * @const\n */\ngoog.events.CUSTOM_EVENT_ATTR = 'customEvent_';\n\n\n/**\n * Adds an event listener for a specific event on a DOM Node or an object that\n * has implemented {@link goog.events.EventTarget}. A listener can only be\n * added once to an object and if it is added again the key for the listener\n * is returned.\n *\n * Note that a one-off listener will not change an existing listener,\n * if any. On the other hand a normal listener will change existing\n * one-off listener to become a normal listener.\n *\n * @param {EventTarget|goog.events.EventTarget} src The node to listen to\n *     events on.\n * @param {?string} type Event type or array of event types.\n * @param {Function|Object} listener Callback method, or an object with a\n *     handleEvent function.\n * @param {boolean} callOnce Whether the listener is a one-off\n *     listener or otherwise.\n * @param {boolean=} opt_capt Whether to fire in capture phase (defaults to\n *     false).\n * @param {Object=} opt_handler Element in whose scope to call the listener.\n * @return {goog.events.ListenableKey} Unique key for the listener.\n * @private\n */\ngoog.events.listen_ = function(\n    src, type, listener, callOnce, opt_capt, opt_handler) {\n  if (!type) {\n    throw Error('Invalid event type');\n  }\n\n  var capture = !!opt_capt;\n  var map = goog.events.listenerTree_;\n\n  if (!(type in map)) {\n    map[type] = {count_: 0, remaining_: 0};\n  }\n  map = map[type];\n\n  if (!(capture in map)) {\n    map[capture] = {count_: 0, remaining_: 0};\n    map.count_++;\n  }\n  map = map[capture];\n\n  var srcUid = goog.getUid(src);\n  var listenerArray, listenerObj;\n\n  // The remaining_ property is used to be able to short circuit the iteration\n  // of the event listeners.\n  //\n  // Increment the remaining event listeners to call even if this event might\n  // already have been fired. At this point we do not know if the event has\n  // been fired and it is too expensive to find out. By incrementing it we are\n  // guaranteed that we will not skip any event listeners.\n  map.remaining_++;\n\n  // Do not use srcUid in map here since that will cast the number to a\n  // string which will allocate one string object.\n  if (!map[srcUid]) {\n    listenerArray = map[srcUid] = [];\n    map.count_++;\n  } else {\n    listenerArray = map[srcUid];\n    // Ensure that the listeners do not already contain the current listener\n    for (var i = 0; i < listenerArray.length; i++) {\n      listenerObj = listenerArray[i];\n      if (listenerObj.listener == listener &&\n          listenerObj.handler == opt_handler) {\n\n        // If this listener has been removed we should not return its key. It\n        // is OK that we create new listenerObj below since the removed one\n        // will be cleaned up later.\n        if (listenerObj.removed) {\n          break;\n        }\n\n        if (!callOnce) {\n          // Ensure that, if there is an existing callOnce listener, it is no\n          // longer a callOnce listener.\n          listenerArray[i].callOnce = false;\n        }\n\n        // We already have this listener. Return its key.\n        return listenerArray[i];\n      }\n    }\n  }\n\n  var proxy = goog.events.getProxy();\n  listenerObj = new goog.events.Listener();\n  listenerObj.init(listener, proxy, src, type, capture, opt_handler);\n  listenerObj.callOnce = callOnce;\n\n  proxy.src = src;\n  proxy.listener = listenerObj;\n\n  listenerArray.push(listenerObj);\n\n  if (!goog.events.sources_[srcUid]) {\n    goog.events.sources_[srcUid] = [];\n  }\n  goog.events.sources_[srcUid].push(listenerObj);\n\n  // Attach the proxy through the browser's API\n  if (src.addEventListener) {\n    if (src == goog.global || !src[goog.events.CUSTOM_EVENT_ATTR]) {\n      src.addEventListener(type, proxy, capture);\n    } else if (goog.events.STRICT_EVENT_TARGET) {\n      src.assertInitialized();\n    }\n  } else {\n    // The else above used to be else if (src.attachEvent) and then there was\n    // another else statement that threw an exception warning the developer\n    // they made a mistake. This resulted in an extra object allocation in IE6\n    // due to a wrapper object that had to be implemented around the element\n    // and so was removed.\n    src.attachEvent(goog.events.getOnString_(type), proxy);\n  }\n\n  return listenerObj;\n};\n\n\n/**\n * Helper function for returning a proxy function.\n * @return {Function} A new or reused function object.\n */\ngoog.events.getProxy = function() {\n  var proxyCallbackFunction = goog.events.handleBrowserEvent_;\n  // Use a local var f to prevent one allocation.\n  var f = goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT ?\n      function(eventObject) {\n        return proxyCallbackFunction.call(f.src, f.listener, eventObject);\n      } :\n      function(eventObject) {\n        var v = proxyCallbackFunction.call(f.src, f.listener, eventObject);\n        // NOTE(user): In IE, we hack in a capture phase. However, if\n        // there is inline event handler which tries to prevent default (for\n        // example <a href=\"...\" onclick=\"return false\">...</a>) in a\n        // descendant element, the prevent default will be overridden\n        // by this listener if this listener were to return true. Hence, we\n        // return undefined.\n        if (!v) return v;\n      };\n  return f;\n};\n\n\n/**\n * Adds an event listener for a specific event on a DomNode or an object that\n * has implemented {@link goog.events.EventTarget}. After the event has fired\n * the event listener is removed from the target.\n *\n * If an existing listener already exists, listenOnce will do\n * nothing. In particular, if the listener was previously registered\n * via listen(), listenOnce() will not turn the listener into a\n * one-off listener. Similarly, if there is already an existing\n * one-off listener, listenOnce does not modify the listeners (it is\n * still a once listener).\n *\n * @param {goog.events.ListenableType} src The node to listen to\n *     events on.\n * @param {string|Array.<string>} type Event type or array of event types.\n * @param {Function|Object} listener Callback method.\n * @param {boolean=} opt_capt Fire in capture phase?.\n * @param {Object=} opt_handler Element in whose scope to call the listener.\n * @return {goog.events.Key} Unique key for the listener.\n */\ngoog.events.listenOnce = function(src, type, listener, opt_capt, opt_handler) {\n  if (goog.isArray(type)) {\n    for (var i = 0; i < type.length; i++) {\n      goog.events.listenOnce(src, type[i], listener, opt_capt, opt_handler);\n    }\n    return null;\n  }\n\n  var listenableKey;\n  if (goog.events.Listenable.USE_LISTENABLE_INTERFACE &&\n      goog.events.Listenable.isImplementedBy(src)) {\n    listenableKey = src.listenOnce(\n        /** @type {string} */ (type),\n        goog.events.wrapListener_(listener), opt_capt, opt_handler);\n  } else {\n    listenableKey = goog.events.listen_(\n        /** @type {EventTarget|goog.events.EventTarget} */ (src),\n        type, listener, /* callOnce */ true, opt_capt, opt_handler);\n  }\n\n  var key = listenableKey.key;\n  goog.events.listeners_[key] = listenableKey;\n  return key;\n};\n\n\n/**\n * Adds an event listener with a specific event wrapper on a DOM Node or an\n * object that has implemented {@link goog.events.EventTarget}. A listener can\n * only be added once to an object.\n *\n * @param {EventTarget|goog.events.EventTarget} src The node to listen to\n *     events on.\n * @param {goog.events.EventWrapper} wrapper Event wrapper to use.\n * @param {Function|Object} listener Callback method, or an object with a\n *     handleEvent function.\n * @param {boolean=} opt_capt Whether to fire in capture phase (defaults to\n *     false).\n * @param {Object=} opt_handler Element in whose scope to call the listener.\n */\ngoog.events.listenWithWrapper = function(src, wrapper, listener, opt_capt,\n    opt_handler) {\n  wrapper.listen(src, listener, opt_capt, opt_handler);\n};\n\n\n/**\n * Removes an event listener which was added with listen().\n *\n * @param {goog.events.ListenableType} src The target to stop\n *     listening to events on.\n * @param {string|Array.<string>} type The name of the event without the 'on'\n *     prefix.\n * @param {Function|Object} listener The listener function to remove.\n * @param {boolean=} opt_capt In DOM-compliant browsers, this determines\n *     whether the listener is fired during the capture or bubble phase of the\n *     event.\n * @param {Object=} opt_handler Element in whose scope to call the listener.\n * @return {?boolean} indicating whether the listener was there to remove.\n */\ngoog.events.unlisten = function(src, type, listener, opt_capt, opt_handler) {\n  if (goog.isArray(type)) {\n    for (var i = 0; i < type.length; i++) {\n      goog.events.unlisten(src, type[i], listener, opt_capt, opt_handler);\n    }\n    return null;\n  }\n\n  if (goog.events.Listenable.USE_LISTENABLE_INTERFACE &&\n      goog.events.Listenable.isImplementedBy(src)) {\n    return src.unlisten(\n        /** @type {string} */ (type),\n        goog.events.wrapListener_(listener), opt_capt, opt_handler);\n  }\n\n  var capture = !!opt_capt;\n\n  var listenerArray = goog.events.getListeners_(src, type, capture);\n  if (!listenerArray) {\n    return false;\n  }\n\n  for (var i = 0; i < listenerArray.length; i++) {\n    if (listenerArray[i].listener == listener &&\n        listenerArray[i].capture == capture &&\n        listenerArray[i].handler == opt_handler) {\n      return goog.events.unlistenByKey(listenerArray[i].key);\n    }\n  }\n\n  return false;\n};\n\n\n/**\n * Removes an event listener which was added with listen() by the key\n * returned by listen().\n *\n * @param {goog.events.Key} key The key returned by listen() for this\n *     event listener.\n * @return {boolean} indicating whether the listener was there to remove.\n */\ngoog.events.unlistenByKey = function(key) {\n  // TODO(user): When we flip goog.events.Key to be ListenableKey,\n  // we need to change this.\n  var listener = goog.events.listeners_[key];\n  if (!listener) {\n    return false;\n  }\n  if (listener.removed) {\n    return false;\n  }\n\n  var src = listener.src;\n  if (goog.events.Listenable.USE_LISTENABLE_INTERFACE &&\n      goog.events.Listenable.isImplementedBy(src)) {\n    return src.unlistenByKey(listener);\n  }\n\n  var type = listener.type;\n  var proxy = listener.proxy;\n  var capture = listener.capture;\n\n  if (src.removeEventListener) {\n    // EventTarget calls unlisten so we need to ensure that the source is not\n    // an event target to prevent re-entry.\n    // TODO(arv): What is this goog.global for? Why would anyone listen to\n    // events on the [[Global]] object? Is it supposed to be window? Why would\n    // we not want to allow removing event listeners on the window?\n    if (src == goog.global || !src[goog.events.CUSTOM_EVENT_ATTR]) {\n      src.removeEventListener(type, proxy, capture);\n    }\n  } else if (src.detachEvent) {\n    src.detachEvent(goog.events.getOnString_(type), proxy);\n  }\n\n  var srcUid = goog.getUid(src);\n\n  // In a perfect implementation we would decrement the remaining_ field here\n  // but then we would need to know if the listener has already been fired or\n  // not. We therefore skip doing this and in this uncommon case the entire\n  // ancestor chain will need to be traversed as before.\n\n  // Remove from sources_\n  if (goog.events.sources_[srcUid]) {\n    var sourcesArray = goog.events.sources_[srcUid];\n    goog.array.remove(sourcesArray, listener);\n    if (sourcesArray.length == 0) {\n      delete goog.events.sources_[srcUid];\n    }\n  }\n\n  listener.removed = true;\n\n  // There are some esoteric situations where the hash code of an object\n  // can change, and we won't be able to find the listenerArray anymore.\n  // For example, if you're listening on a window, and the user navigates to\n  // a different window, the UID will disappear.\n  //\n  // It should be impossible to ever find the original listenerArray, so it\n  // doesn't really matter if we can't clean it up in this case.\n  var listenerArray = goog.events.listenerTree_[type][capture][srcUid];\n  if (listenerArray) {\n    listenerArray.needsCleanup_ = true;\n    goog.events.cleanUp_(type, capture, srcUid, listenerArray);\n  }\n\n  delete goog.events.listeners_[key];\n\n  return true;\n};\n\n\n/**\n * Removes an event listener which was added with listenWithWrapper().\n *\n * @param {EventTarget|goog.events.EventTarget} src The target to stop\n *     listening to events on.\n * @param {goog.events.EventWrapper} wrapper Event wrapper to use.\n * @param {Function|Object} listener The listener function to remove.\n * @param {boolean=} opt_capt In DOM-compliant browsers, this determines\n *     whether the listener is fired during the capture or bubble phase of the\n *     event.\n * @param {Object=} opt_handler Element in whose scope to call the listener.\n */\ngoog.events.unlistenWithWrapper = function(src, wrapper, listener, opt_capt,\n    opt_handler) {\n  wrapper.unlisten(src, listener, opt_capt, opt_handler);\n};\n\n\n/**\n * Cleans up goog.events internal data structure. This should be\n * called by all implementations of goog.events.Listenable when\n * removing listeners.\n *\n * TODO(user): Once we remove numeric key support from\n * goog.events.listen and friend, we will be able to remove this\n * requirement.\n *\n * @param {goog.events.ListenableKey} listenableKey The key to clean up.\n */\ngoog.events.cleanUp = function(listenableKey) {\n  delete goog.events.listeners_[listenableKey.key];\n};\n\n\n/**\n * Cleans up the listener array as well as the listener tree\n * @param {string} type  The type of the event.\n * @param {boolean} capture Whether to clean up capture phase listeners instead\n *     bubble phase listeners.\n * @param {number} srcUid  The unique ID of the source.\n * @param {Array.<goog.events.Listener>} listenerArray The array being cleaned.\n * @private\n */\ngoog.events.cleanUp_ = function(type, capture, srcUid, listenerArray) {\n  // The listener array gets locked during the dispatch phase so that removals\n  // of listeners during this phase does not screw up the indeces. This method\n  // is called after we have removed a listener as well as after the dispatch\n  // phase in case any listeners were removed.\n  if (!listenerArray.locked_) { // catches both 0 and not set\n    if (listenerArray.needsCleanup_) {\n      // Loop over the listener array and remove listeners that have removed set\n      // to true. This could have been done with filter or something similar but\n      // we want to change the array in place and we want to minimize\n      // allocations. Adding a listener during this phase adds to the end of the\n      // array so that works fine as long as the length is rechecked every in\n      // iteration.\n      for (var oldIndex = 0, newIndex = 0;\n           oldIndex < listenerArray.length;\n           oldIndex++) {\n        if (listenerArray[oldIndex].removed) {\n          var proxy = listenerArray[oldIndex].proxy;\n          proxy.src = null;\n          continue;\n        }\n        if (oldIndex != newIndex) {\n          listenerArray[newIndex] = listenerArray[oldIndex];\n        }\n        newIndex++;\n      }\n      listenerArray.length = newIndex;\n\n      listenerArray.needsCleanup_ = false;\n\n      // In case the length is now zero we release the object.\n      if (newIndex == 0) {\n        delete goog.events.listenerTree_[type][capture][srcUid];\n        goog.events.listenerTree_[type][capture].count_--;\n\n        if (goog.events.listenerTree_[type][capture].count_ == 0) {\n          delete goog.events.listenerTree_[type][capture];\n          goog.events.listenerTree_[type].count_--;\n        }\n\n        if (goog.events.listenerTree_[type].count_ == 0) {\n          delete goog.events.listenerTree_[type];\n        }\n      }\n\n    }\n  }\n};\n\n\n/**\n * Removes all listeners from an object. You can also optionally\n * remove listeners of a particular type.\n *\n * @param {Object=} opt_obj Object to remove listeners from. Not\n *     specifying opt_obj is now DEPRECATED (it used to remove all\n *     registered listeners).\n * @param {string=} opt_type Type of event to, default is all types.\n * @return {number} Number of listeners removed.\n */\ngoog.events.removeAll = function(opt_obj, opt_type) {\n  var count = 0;\n\n  var noObj = opt_obj == null;\n  var noType = opt_type == null;\n\n  if (!noObj) {\n    if (goog.events.Listenable.USE_LISTENABLE_INTERFACE &&\n        opt_obj && goog.events.Listenable.isImplementedBy(opt_obj)) {\n      return opt_obj.removeAllListeners(opt_type);\n    }\n\n    var srcUid = goog.getUid(/** @type {Object} */ (opt_obj));\n    if (goog.events.sources_[srcUid]) {\n      var sourcesArray = goog.events.sources_[srcUid];\n      for (var i = sourcesArray.length - 1; i >= 0; i--) {\n        var listener = sourcesArray[i];\n        if (noType || opt_type == listener.type) {\n          goog.events.unlistenByKey(listener.key);\n          count++;\n        }\n      }\n    }\n  } else {\n    goog.object.forEach(goog.events.listeners_, function(listener, key) {\n      goog.events.unlistenByKey(key);\n      count++;\n    });\n  }\n\n  return count;\n};\n\n\n/**\n * Removes all native listeners registered via goog.events. Native\n * listeners are listeners on native browser objects (such as DOM\n * elements). In particular, goog.events.Listenable and\n * goog.events.EventTarget listeners will NOT be removed.\n * @return {number} Number of listeners removed.\n */\ngoog.events.removeAllNativeListeners = function() {\n  var count = 0;\n  goog.object.forEach(goog.events.listeners_, function(listener, key) {\n    var src = listener.src;\n    // Only remove the listener if it is not on custom event target.\n    if (!goog.events.Listenable.isImplementedBy(src) &&\n        !src[goog.events.CUSTOM_EVENT_ATTR]) {\n      goog.events.unlistenByKey(key);\n      count++;\n    }\n  });\n  return count;\n};\n\n\n/**\n * Gets the listeners for a given object, type and capture phase.\n *\n * @param {Object} obj Object to get listeners for.\n * @param {string} type Event type.\n * @param {boolean} capture Capture phase?.\n * @return {Array.<goog.events.Listener>} Array of listener objects.\n */\ngoog.events.getListeners = function(obj, type, capture) {\n  if (goog.events.Listenable.USE_LISTENABLE_INTERFACE &&\n      goog.events.Listenable.isImplementedBy(obj)) {\n    return obj.getListeners(type, capture);\n  } else {\n    return goog.events.getListeners_(obj, type, capture) || [];\n  }\n};\n\n\n/**\n * Gets the listeners for a given object, type and capture phase.\n *\n * @param {Object} obj Object to get listeners for.\n * @param {?string} type Event type.\n * @param {boolean} capture Capture phase?.\n * @return {Array.<goog.events.Listener>?} Array of listener objects.\n *     Returns null if object has no listeners of that type.\n * @private\n */\ngoog.events.getListeners_ = function(obj, type, capture) {\n  var map = goog.events.listenerTree_;\n  if (type in map) {\n    map = map[type];\n    if (capture in map) {\n      map = map[capture];\n      var objUid = goog.getUid(obj);\n      if (map[objUid]) {\n        return map[objUid];\n      }\n    }\n  }\n\n  return null;\n};\n\n\n/**\n * Gets the goog.events.Listener for the event or null if no such listener is\n * in use.\n *\n * @param {EventTarget|goog.events.EventTarget} src The node from which to get\n *     listeners.\n * @param {?string} type The name of the event without the 'on' prefix.\n * @param {Function|Object} listener The listener function to get.\n * @param {boolean=} opt_capt In DOM-compliant browsers, this determines\n *                            whether the listener is fired during the\n *                            capture or bubble phase of the event.\n * @param {Object=} opt_handler Element in whose scope to call the listener.\n * @return {goog.events.ListenableKey} the found listener or null if not found.\n */\ngoog.events.getListener = function(src, type, listener, opt_capt, opt_handler) {\n  var capture = !!opt_capt;\n\n  if (goog.events.Listenable.USE_LISTENABLE_INTERFACE &&\n      goog.events.Listenable.isImplementedBy(src)) {\n    return src.getListener(\n        /** @type {string} */ (type),\n        goog.events.wrapListener_(listener), capture, opt_handler);\n  }\n\n  var listenerArray = goog.events.getListeners_(src, type, capture);\n  if (listenerArray) {\n    for (var i = 0; i < listenerArray.length; i++) {\n      // If goog.events.unlistenByKey is called during an event dispatch\n      // then the listener array won't get cleaned up and there might be\n      // 'removed' listeners in the list. Ignore those.\n      if (!listenerArray[i].removed &&\n          listenerArray[i].listener == listener &&\n          listenerArray[i].capture == capture &&\n          listenerArray[i].handler == opt_handler) {\n        // We already have this listener. Return its key.\n        return listenerArray[i];\n      }\n    }\n  }\n  return null;\n};\n\n\n/**\n * Returns whether an event target has any active listeners matching the\n * specified signature. If either the type or capture parameters are\n * unspecified, the function will match on the remaining criteria.\n *\n * @param {EventTarget|goog.events.EventTarget} obj Target to get listeners for.\n * @param {string=} opt_type Event type.\n * @param {boolean=} opt_capture Whether to check for capture or bubble-phase\n *     listeners.\n * @return {boolean} Whether an event target has one or more listeners matching\n *     the requested type and/or capture phase.\n */\ngoog.events.hasListener = function(obj, opt_type, opt_capture) {\n  if (goog.events.Listenable.USE_LISTENABLE_INTERFACE &&\n      goog.events.Listenable.isImplementedBy(obj)) {\n    return obj.hasListener(opt_type, opt_capture);\n  }\n\n  var objUid = goog.getUid(obj);\n  var listeners = goog.events.sources_[objUid];\n\n  if (listeners) {\n    var hasType = goog.isDef(opt_type);\n    var hasCapture = goog.isDef(opt_capture);\n\n    if (hasType && hasCapture) {\n      // Lookup in the listener tree whether the specified listener exists.\n      var map = goog.events.listenerTree_[opt_type];\n      return !!map && !!map[opt_capture] && objUid in map[opt_capture];\n\n    } else if (!(hasType || hasCapture)) {\n      // Simple check for whether the event target has any listeners at all.\n      return true;\n\n    } else {\n      // Iterate through the listeners for the event target to find a match.\n      return goog.array.some(listeners, function(listener) {\n        return (hasType && listener.type == opt_type) ||\n               (hasCapture && listener.capture == opt_capture);\n      });\n    }\n  }\n\n  return false;\n};\n\n\n/**\n * Provides a nice string showing the normalized event objects public members\n * @param {Object} e Event Object.\n * @return {string} String of the public members of the normalized event object.\n */\ngoog.events.expose = function(e) {\n  var str = [];\n  for (var key in e) {\n    if (e[key] && e[key].id) {\n      str.push(key + ' = ' + e[key] + ' (' + e[key].id + ')');\n    } else {\n      str.push(key + ' = ' + e[key]);\n    }\n  }\n  return str.join('\\n');\n};\n\n\n/**\n * Returns a string wth on prepended to the specified type. This is used for IE\n * which expects \"on\" to be prepended. This function caches the string in order\n * to avoid extra allocations in steady state.\n * @param {string} type Event type strng.\n * @return {string} The type string with 'on' prepended.\n * @private\n */\ngoog.events.getOnString_ = function(type) {\n  if (type in goog.events.onStringMap_) {\n    return goog.events.onStringMap_[type];\n  }\n  return goog.events.onStringMap_[type] = goog.events.onString_ + type;\n};\n\n\n/**\n * Fires an object's listeners of a particular type and phase\n *\n * @param {Object} obj Object whose listeners to call.\n * @param {string} type Event type.\n * @param {boolean} capture Which event phase.\n * @param {Object} eventObject Event object to be passed to listener.\n * @return {boolean} True if all listeners returned true else false.\n */\ngoog.events.fireListeners = function(obj, type, capture, eventObject) {\n  if (goog.events.Listenable.USE_LISTENABLE_INTERFACE &&\n      goog.events.Listenable.isImplementedBy(obj)) {\n    return obj.fireListeners(type, capture, eventObject);\n  }\n\n  var map = goog.events.listenerTree_;\n  if (type in map) {\n    map = map[type];\n    if (capture in map) {\n      return goog.events.fireListeners_(map[capture], obj, type,\n                                        capture, eventObject);\n    }\n  }\n  return true;\n};\n\n\n/**\n * Fires an object's listeners of a particular type and phase.\n *\n * @param {Object} map Object with listeners in it.\n * @param {Object} obj Object whose listeners to call.\n * @param {string} type Event type.\n * @param {boolean} capture Which event phase.\n * @param {Object} eventObject Event object to be passed to listener.\n * @return {boolean} True if all listeners returned true else false.\n * @private\n */\ngoog.events.fireListeners_ = function(map, obj, type, capture, eventObject) {\n  var retval = 1;\n\n  var objUid = goog.getUid(obj);\n  if (map[objUid]) {\n    var remaining = --map.remaining_;\n    var listenerArray = map[objUid];\n\n    // If locked_ is not set (and if already 0) initialize it to 1.\n    if (!listenerArray.locked_) {\n      listenerArray.locked_ = 1;\n    } else {\n      listenerArray.locked_++;\n    }\n\n    try {\n      // Events added in the dispatch phase should not be dispatched in\n      // the current dispatch phase. They will be included in the next\n      // dispatch phase though.\n      var length = listenerArray.length;\n      for (var i = 0; i < length; i++) {\n        var listener = listenerArray[i];\n        // We might not have a listener if the listener was removed.\n        if (listener && !listener.removed) {\n          retval &=\n              goog.events.fireListener(listener, eventObject) !== false;\n        }\n      }\n    } finally {\n      // Allow the count of targets remaining to increase (if perhaps we have\n      // added listeners) but do not allow it to decrease if we have reentered\n      // this method through a listener dispatching the same event type,\n      // resetting and exhausted the remaining count.\n      map.remaining_ = Math.max(remaining, map.remaining_);\n      listenerArray.locked_--;\n      goog.events.cleanUp_(type, capture, objUid, listenerArray);\n    }\n  }\n\n  return Boolean(retval);\n};\n\n\n/**\n * Fires a listener with a set of arguments\n *\n * @param {goog.events.Listener} listener The listener object to call.\n * @param {Object} eventObject The event object to pass to the listener.\n * @return {boolean} Result of listener.\n */\ngoog.events.fireListener = function(listener, eventObject) {\n  if (listener.callOnce) {\n    goog.events.unlistenByKey(listener.key);\n  }\n  return listener.handleEvent(eventObject);\n};\n\n\n/**\n * Gets the total number of listeners currently in the system.\n * @return {number} Number of listeners.\n */\ngoog.events.getTotalListenerCount = function() {\n  return goog.object.getCount(goog.events.listeners_);\n};\n\n\n/**\n * Dispatches an event (or event like object) and calls all listeners\n * listening for events of this type. The type of the event is decided by the\n * type property on the event object.\n *\n * If any of the listeners returns false OR calls preventDefault then this\n * function will return false.  If one of the capture listeners calls\n * stopPropagation, then the bubble listeners won't fire.\n *\n * @param {goog.events.Listenable|goog.events.EventTarget} src The\n *     event target.\n * @param {goog.events.EventLike} e Event object.\n * @return {boolean} If anyone called preventDefault on the event object (or\n *     if any of the handlers returns false) this will also return false.\n *     If there are no handlers, or if all handlers return true, this returns\n *     true.\n */\ngoog.events.dispatchEvent = function(src, e) {\n  if (goog.events.Listenable.USE_LISTENABLE_INTERFACE) {\n    if (goog.events.STRICT_EVENT_TARGET) {\n      goog.asserts.assert(\n          goog.events.Listenable.isImplementedBy(src),\n          'Can not use goog.events.dispatchEvent with ' +\n          'non-goog.events.Listenable instance.');\n    }\n    return src.dispatchEvent(e);\n  }\n\n  if (goog.events.STRICT_EVENT_TARGET) {\n    goog.asserts.assert(\n        goog.events.STRICT_EVENT_TARGET && src[goog.events.CUSTOM_EVENT_ATTR],\n        'Can not use goog.events.dispatchEvent with ' +\n        'non-goog.events.EventTarget instance.');\n    src.assertInitialized();\n  }\n\n  var type = e.type || e;\n  var map = goog.events.listenerTree_;\n  if (!(type in map)) {\n    return true;\n  }\n\n  // If accepting a string or object, create a custom event object so that\n  // preventDefault and stopPropagation work with the event.\n  if (goog.isString(e)) {\n    e = new goog.events.Event(e, src);\n  } else if (!(e instanceof goog.events.Event)) {\n    var oldEvent = e;\n    e = new goog.events.Event(/** @type {string} */ (type), src);\n    goog.object.extend(e, oldEvent);\n  } else {\n    e.target = e.target || src;\n  }\n\n  var rv = 1, ancestors;\n\n  map = map[type];\n  var hasCapture = true in map;\n  var targetsMap;\n\n  if (hasCapture) {\n    // Build ancestors now\n    ancestors = [];\n    for (var parent = src; parent; parent = parent.getParentEventTarget()) {\n      ancestors.push(parent);\n    }\n\n    targetsMap = map[true];\n    targetsMap.remaining_ = targetsMap.count_;\n\n    // Call capture listeners\n    for (var i = ancestors.length - 1;\n         !e.propagationStopped_ && i >= 0 && targetsMap.remaining_;\n         i--) {\n      e.currentTarget = ancestors[i];\n      rv &= goog.events.fireListeners_(targetsMap, ancestors[i], e.type,\n                                       true, e) &&\n            e.returnValue_ != false;\n    }\n  }\n\n  var hasBubble = false in map;\n  if (hasBubble) {\n    targetsMap = map[false];\n    targetsMap.remaining_ = targetsMap.count_;\n\n    if (hasCapture) { // We have the ancestors.\n\n      // Call bubble listeners\n      for (var i = 0; !e.propagationStopped_ && i < ancestors.length &&\n           targetsMap.remaining_;\n           i++) {\n        e.currentTarget = ancestors[i];\n        rv &= goog.events.fireListeners_(targetsMap, ancestors[i], e.type,\n                                         false, e) &&\n              e.returnValue_ != false;\n      }\n    } else {\n      // In case we don't have capture we don't have to build up the\n      // ancestors array.\n\n      for (var current = src;\n           !e.propagationStopped_ && current && targetsMap.remaining_;\n           current = current.getParentEventTarget()) {\n        e.currentTarget = current;\n        rv &= goog.events.fireListeners_(targetsMap, current, e.type,\n                                         false, e) &&\n              e.returnValue_ != false;\n      }\n    }\n  }\n\n  return Boolean(rv);\n};\n\n\n/**\n * Installs exception protection for the browser event entry point using the\n * given error handler.\n *\n * @param {goog.debug.ErrorHandler} errorHandler Error handler with which to\n *     protect the entry point.\n */\ngoog.events.protectBrowserEventEntryPoint = function(errorHandler) {\n  goog.events.handleBrowserEvent_ = errorHandler.protectEntryPoint(\n      goog.events.handleBrowserEvent_);\n};\n\n\n/**\n * Handles an event and dispatches it to the correct listeners. This\n * function is a proxy for the real listener the user specified.\n *\n * @param {goog.events.Listener} listener The listener object.\n * @param {Event=} opt_evt Optional event object that gets passed in via the\n *     native event handlers.\n * @return {boolean} Result of the event handler.\n * @this {goog.events.EventTarget|Object} The object or Element that\n *     fired the event.\n * @private\n */\ngoog.events.handleBrowserEvent_ = function(listener, opt_evt) {\n  if (listener.removed) {\n    return true;\n  }\n\n  var type = listener.type;\n  var map = goog.events.listenerTree_;\n\n  if (!(type in map)) {\n    return true;\n  }\n  map = map[type];\n  var retval, targetsMap;\n  // Synthesize event propagation if the browser does not support W3C\n  // event model.\n  if (!goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT) {\n    var ieEvent = opt_evt ||\n        /** @type {Event} */ (goog.getObjectByName('window.event'));\n\n    // Check if we have any capturing event listeners for this type.\n    var hasCapture = true in map;\n    var hasBubble = false in map;\n\n    if (hasCapture) {\n      if (goog.events.isMarkedIeEvent_(ieEvent)) {\n        return true;\n      }\n\n      goog.events.markIeEvent_(ieEvent);\n    }\n\n    var evt = new goog.events.BrowserEvent();\n    // TODO(user): update @this for this function\n    evt.init(ieEvent, /** @type {EventTarget} */ (this));\n\n    retval = true;\n    try {\n      if (hasCapture) {\n        var ancestors = [];\n\n        for (var parent = evt.currentTarget;\n             parent;\n             parent = parent.parentNode) {\n          ancestors.push(parent);\n        }\n\n        targetsMap = map[true];\n        targetsMap.remaining_ = targetsMap.count_;\n\n        // Call capture listeners\n        for (var i = ancestors.length - 1;\n             !evt.propagationStopped_ && i >= 0 && targetsMap.remaining_;\n             i--) {\n          evt.currentTarget = ancestors[i];\n          retval &= goog.events.fireListeners_(targetsMap, ancestors[i], type,\n                                               true, evt);\n        }\n\n        if (hasBubble) {\n          targetsMap = map[false];\n          targetsMap.remaining_ = targetsMap.count_;\n\n          // Call bubble listeners\n          for (var i = 0;\n               !evt.propagationStopped_ && i < ancestors.length &&\n               targetsMap.remaining_;\n               i++) {\n            evt.currentTarget = ancestors[i];\n            retval &= goog.events.fireListeners_(targetsMap, ancestors[i], type,\n                                                 false, evt);\n          }\n        }\n\n      } else {\n        // Bubbling, let IE handle the propagation.\n        retval = goog.events.fireListener(listener, evt);\n      }\n\n    } finally {\n      if (ancestors) {\n        ancestors.length = 0;\n      }\n    }\n    return retval;\n  } // IE\n\n  // Caught a non-IE DOM event. 1 additional argument which is the event object\n  var be = new goog.events.BrowserEvent(\n      opt_evt, /** @type {EventTarget} */ (this));\n  retval = goog.events.fireListener(listener, be);\n  return retval;\n};\n\n\n/**\n * This is used to mark the IE event object so we do not do the Closure pass\n * twice for a bubbling event.\n * @param {Event} e The IE browser event.\n * @private\n */\ngoog.events.markIeEvent_ = function(e) {\n  // Only the keyCode and the returnValue can be changed. We use keyCode for\n  // non keyboard events.\n  // event.returnValue is a bit more tricky. It is undefined by default. A\n  // boolean false prevents the default action. In a window.onbeforeunload and\n  // the returnValue is non undefined it will be alerted. However, we will only\n  // modify the returnValue for keyboard events. We can get a problem if non\n  // closure events sets the keyCode or the returnValue\n\n  var useReturnValue = false;\n\n  if (e.keyCode == 0) {\n    // We cannot change the keyCode in case that srcElement is input[type=file].\n    // We could test that that is the case but that would allocate 3 objects.\n    // If we use try/catch we will only allocate extra objects in the case of a\n    // failure.\n    /** @preserveTry */\n    try {\n      e.keyCode = -1;\n      return;\n    } catch (ex) {\n      useReturnValue = true;\n    }\n  }\n\n  if (useReturnValue ||\n      /** @type {boolean|undefined} */ (e.returnValue) == undefined) {\n    e.returnValue = true;\n  }\n};\n\n\n/**\n * This is used to check if an IE event has already been handled by the Closure\n * system so we do not do the Closure pass twice for a bubbling event.\n * @param {Event} e  The IE browser event.\n * @return {boolean} True if the event object has been marked.\n * @private\n */\ngoog.events.isMarkedIeEvent_ = function(e) {\n  return e.keyCode < 0 || e.returnValue != undefined;\n};\n\n\n/**\n * Counter to create unique event ids.\n * @type {number}\n * @private\n */\ngoog.events.uniqueIdCounter_ = 0;\n\n\n/**\n * Creates a unique event id.\n *\n * @param {string} identifier The identifier.\n * @return {string} A unique identifier.\n */\ngoog.events.getUniqueId = function(identifier) {\n  return identifier + '_' + goog.events.uniqueIdCounter_++;\n};\n\n\n/**\n * Expando property for listener function wrapper for Object with\n * handleEvent.\n * @type {string}\n * @private\n */\ngoog.events.LISTENER_WRAPPER_PROP_ = '__closure_events_fn_' +\n    ((Math.random() * 1e9) >>> 0);\n\n\n/**\n * @param {Object|Function} listener The listener function or an\n *     object that contains handleEvent method.\n * @return {!Function} Either the original function or a function that\n *     calls obj.handleEvent. If the same listener is passed to this\n *     function more than once, the same function is guaranteed to be\n *     returned.\n * @private\n */\ngoog.events.wrapListener_ = function(listener) {\n  if (goog.isFunction(listener)) {\n    return listener;\n  }\n\n  return listener[goog.events.LISTENER_WRAPPER_PROP_] ||\n      (listener[goog.events.LISTENER_WRAPPER_PROP_] = function(e) {\n        return listener.handleEvent(e);\n      });\n};\n\n\n// Register the browser event handler as an entry point, so that\n// it can be monitored for exception handling, etc.\ngoog.debug.entryPointRegistry.register(\n    /**\n     * @param {function(!Function): !Function} transformer The transforming\n     *     function.\n     */\n    function(transformer) {\n      goog.events.handleBrowserEvent_ = transformer(\n          goog.events.handleBrowserEvent_);\n    });\n",
		"goog.provide('H.global');\n\n\n/**\n * Reference to the global object\n */\nH.global = (function() {\n  return this;\n}());\n",
		"goog.provide('H.lang');\n\n\ngoog.require('goog.object');\ngoog.require('H.global');\n\n\n/**\n * Contains implementation for the base library definitions and error handling\n * @namespace H.lang\n * @publish\n */\n\n\n/**\n * This function uses prototype inheritance for provided\n * object constructors. Child constructor receives\n * parent's prototype methods.\n * @method\n * @param {Function} child\n * @param {Function} parent\n *\n * @example\n * function Parent(name){\n *   this.name = name;\n * };\n * Parent.prototype.printName = function(){\n *   console.log(this.name);\n * };\n *\n * function Child(name){\n *   Parent.call(this, name);\n * };\n * H.lang.inherits(Child, Parent);\n *\n * var childInstance = new Child('John');\n * childInstance.printName(); //method is available and will print name\n *\n * @export\n */\nH.lang.inherits =\n    goog.inherits; // new line, otherwise linter doesn't let it through otherwise :(\n\n\n/**\n * Extends an object with another object. This operates 'in-place'; it does not create a new Object.\n *\n * Example:\n * var o = {};\n * H.lang.extend(o, {a: 0, b: 1});\n * o; // {a: 0, b: 1}\n * H.lang.extend(o, {c: 2}, {d: 3});\n * o; // {a: 0, b: 1, c: 2, d: 3}\n *\n * @param {Object} target  The object to modify.\n * @param {...Object} var_args The objects from which values will be copied.\n *\n * @method\n * @export\n */\nH.lang.extend = goog.object.extend;\n\n\n/**\n * This function binds provided method to\n * given context. Which means whenever function will\n * be executed 'this' will point to provided context.\n * @method\n * @param {Function} func\n * @param {Object} ctx\n * @param {...*} var_args Additional arguments that are partially\n *     applied to the function.\n * @return {!Function} a new function which is bound to the provided context\n *\n * @export\n */\nH.lang.bind = goog.bind;\n\n\n/**\n * A reference to the global String function, used for code size optimization\n * @type {function(?)}\n */\nH.lang.String = String;\n\n\n/**\n * A helper function to evaluate any kind of code without be boothered by CC\n * @private\n * @param {*=} opt_code\n * @return {*} the evalueated code\n */\nH.lang.evaluate_ = function(opt_code) {\n  return eval('' + opt_code);\n};\n\n\n//#################################################### CONSTANTS #######################################################\n\n\n/**\n * The \"eval('')\" prevents CC to \"optimize\" references to H.lang.UNDEF with \"void 0\"\n * @const\n * @type {undefined}\n */\nH.lang.UNDEF = /** @type {undefined} */ (H.lang.evaluate_());\n\n\n/**\n * The \"eval(null)\" prevents CC to \"optimize\" references to H.lang.NULL with \"null\"\n * @const\n * @type {null}\n */\nH.lang.NULL = /** @type {null} */ (H.lang.evaluate_(null));\n\n\n//################################################# CUSTOM TYPE DEFS ###################################################\n\n\n/**\n * An object which looks like an Array by having a 'length' property and entries accessible by an index.\n * @typedef {string|Array|NodeList|Arguments|{length: number}}\n */\nH.lang.ArrayLike;\n\n\n/**\n * A NumberLike defines an object that can be converted to a number by operating\n * on it using number operators (+, -, etc.).\n * @typedef {number|string}\n */\nH.lang.NumberLike;\n\n\n/**\n * Represents a truthy or falsy value. The value is evaluated by use of double negation {@code !!value}\n *\n * @typedef {?}\n */\nH.lang.Booly;\n\n\n/**\n * Splits the specified string into tokens\n * @export\n * @param {*} val The value to split it's string representation\n * @param {(string|RegExp)=} opt_delimiter The delimiter to use for splitting, if omitted a space is used\n * @return {Array.<string>} the list of tokens\n */\nH.lang.tokenize = function(val, opt_delimiter) {\n  return H.lang.String(val).split(opt_delimiter !== H.lang.UNDEF ? opt_delimiter : ' ');\n};\n\n\n//############################################# REFLECTION RELATED STUFF ###############################################\n\n\n/**\n * The names of the fields that are defined on Object.prototype.\n * @const\n * @type {Array.<string>}\n */\nH.lang.PROTOTYPEFIELDS = [\n  'prototype',\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n\n\n/**\n * Checks whether the given value is an instance of the given constructor.\n * If not so and the optional caller is specified, an InvalidArgumentError is thrown\n * @throws {H.lang.InvalidArgumentError}\n * @param {*} value The value to test.\n * @param {!Function} cstr The constructor to test against.\n * @param {Function=} opt_caller The caller to use for the error\n * @param {number=} opt_argNr The argument number to use for the error\n * @param {*=} opt_message The message to use for the error\n * @return {boolean} Whether the value is an instance of the constructor\n */\nH.lang.isInstanceOf = function(value, cstr, opt_caller, opt_argNr, opt_message) {\n  'use strict';\n  var isInstanceOf;\n  if (!(isInstanceOf = value instanceof cstr) && opt_caller) {\n    throw new H.lang.InvalidArgumentError(\n        opt_caller, opt_argNr, H.lang.isDef(opt_message) ? opt_message : value);\n  }\n  return isInstanceOf;\n};\n\n\n/**\n * Returns true if the value's constructor is identical with the specified constructor\n * @param {*} value The value to test.\n * @param {!Function} cstr The constructor to test against.\n * @return {boolean} Whether the value's constructor is identical\n */\nH.lang.isConstructedBy = function(value, cstr) {\n  'use strict';\n  return H.lang.isInstanceOf(value, cstr) && value.constructor === cstr;\n};\n\n\n/**\n * It checks the constructor of the given instance and the given constructor for identity. If the result of this check\n * not equals the opt_expected value a TypeError with the message \"Illegal constructor\" and the name of the constructor\n * symbol is thrown.\n *\n * @example\n *   MyAbstractClass = function() {\n *     H.lang.checkIllegalConstructor(this, MyAbstractClass, false);\n *   };\n *   MyFinalClass = function() {\n *     H.lang.checkIllegalConstructor(this, MyFinalClass, true);\n *     MyFinalClass.superClass_.constructor.call(this);\n *   };\n *   goog.inherits(MyFinalClass, MyAbstractClass);\n *   MyClass = function() {\n *     MyClass.superClass_.constructor.call(this);\n *   };\n *   goog.inherits(MyClass, MyFinalClass);\n *\n *   new MyAbstractClass(); // TypeError - You can't instatiate an abstract class\n *   new MyFinalClass();\n *   new MyClass();         // TypeError - You can't extend a final class\n *\n *\n * @throws {TypeError}\n * @param {*} instance The instance to check\n * @param {!Function} constructor The construtor to check against\n * @param {boolean=} opt_expected The expected result of the identity-check, default is {@code false}\n */\nH.lang.checkIllegalConstructor = function(instance, constructor, opt_expected) {\n  if (H.lang.isConstructedBy(instance, constructor) === !opt_expected) {\n    throw new TypeError('Illegal constructor' + ' ' + H.lang.getSymbolPath(constructor));\n  }\n};\n\n\n/**\n * Returns true if the specified value is a function\n * @param {*} val The value to test.\n * @return {boolean} Whether variable is a function.\n */\nH.lang.isFunction = goog.isFunction;\n\n\n/**\n * Determines if the given value is an object\n *\n * @param {*} val The value to test\n * @return {boolean}\n */\nH.lang.isObject = goog.isObject;\n\n\n/**\n * Returns true if the specified value is |null|\n * @param {*} val Variable to test.\n * @return {boolean} Whether variable is null.\n */\nH.lang.isNull = goog.isNull;\n\n\n/**\n * Returns true if the object looks like an array. To qualify as array like\n * the value needs to be either a NodeList or an object with a Number length\n * property.\n * @param {*} val The value to test.\n * @return {boolean} Whether variable is an array.\n */\nH.lang.isArrayLike = goog.isArrayLike;\n\n\n/**\n * Checks whether H.lang.typeof() produces for the given value the given type.\n * If not so and the optional caller is specified, an InvalidArgumentError is thrown\n * @throws {H.lang.InvalidArgumentError}\n * @param {*} value The value to test.\n * @param {!string} type The type to test against.\n * @param {Function=} opt_caller The caller to use for the error\n * @param {number=} opt_argNr The argument number to use for the error\n * @param {*=} opt_message The message to use for the error\n * @return {boolean} Whether the value is of the expected type\n */\nH.lang.isTypeOf = function(value, type, opt_caller, opt_argNr, opt_message) {\n  'use strict';\n  var isTypeOf;\n  if (!(isTypeOf = H.lang.typeOf(value) === type) && opt_caller) {\n    throw new H.lang.InvalidArgumentError(\n        opt_caller, opt_argNr, H.lang.isDef(opt_message) ? opt_message : value);\n  }\n  return isTypeOf;\n};\n\n\n/**\n * Checks whether the given value is of type Array.\n * If not so and the optional caller is specified, an InvalidArgumentError is thrown\n * @throws {H.lang.InvalidArgumentError}\n * @param {*} value The value to test.\n * @param {Function=} opt_caller The caller to use for the error\n * @param {number=} opt_argNr The argument number to use for the error\n * @param {*=} opt_message The message to use for the error\n * @return {boolean} Whether the value is of type Array\n */\nH.lang.isArray = function(value, opt_caller, opt_argNr, opt_message) {\n  'use strict';\n  return H.lang.isTypeOf(value, 'Array', opt_caller, opt_argNr, opt_message);\n};\n\n\n/**\n * Returns true if the specified value is not |undefined|.\n * WARNING: Do not use this to test if an object has a property. Use the in\n * operator instead.\n * @param {*} val The value to test.\n * @return {boolean} Whether variable is defined.\n */\nH.lang.isDef = function(val) {\n  // We are not using goog.isDef code because it assumes that the global undefined variable has not been redefined\n  //return val !== undefined;\n  return val !== H.lang.UNDEF;\n};\n\n\n/**\n * Returns true if the specified value is defined and not null\n * @param {*} val The value to test.\n * @return {boolean} Whether variable is defined and not null.\n */\nH.lang.isDefAndNotNull = goog.isDefAndNotNull;\n\n\n/**\n * Returns true if the specified value is a string\n * @param {*} val The value to test.\n * @return {boolean} Whether variable is a string.\n */\nH.lang.isString = goog.isString;\n\n\n/** @ignore */\nH.lang.parseInt = parseInt;\n\n\n/** @ignore */\nH.lang.parseFloat = parseFloat;\n\n\n/** @ignore */\nH.lang.isNaN = isNaN;\n\n\n/**\n * Returns true if the specified value is a number\n * @param {*} val The value to test.\n * @return {boolean} Whether variable is a number.\n */\nH.lang.isNumber = function(val) {\n  // We are stricter than goog.isNumber(), because we also check !isNaN(val)\n  return val === + /** @type {number} */ (val);\n};\n\n\n/**\n * Returns true if the specified value is number like, a type whose valueOf or toString returns a (parseable) number\n * but not NaN. Examples: null, [ ], '4711', '47e11', '0xFF', new Date, '' etc.\n * @param {*} val The value to test.\n * @return {boolean} Whether variable is number like.\n */\nH.lang.isNumberLike = function(val) {\n  return !H.lang.isNaN(+ /**@type {number} */ (val));\n};\n\n\n/**\n * Determines the type of a value\n *\n * @param {*} val The value to reflect\n * @return {string} The type name of the value\n */\nH.lang.typeOf = function(val) {\n  'use strict';\n  var str = Object[H.lang.PROTOTYPEFIELDS[0]][H.lang.PROTOTYPEFIELDS[6]].call(/** @type {Object} */ (val)),\n      match = str.match(/^\\[object (\\w+)\\]$/);\n  // Google Chrome v31 produces '[object global]' for window objects:\n  return match ? match[1] : typeof val;\n};\n\n\n//######################################### DEBUG RELATED FUNCTIONALITY ################################################\n\n\nif (goog.DEBUG) {\n\n\n  /**\n   * A flag disbale expensive symbol path detection during {@link H.lang.getSymbolPath} calls.\n   * It's automatially set to {@code true} if goog.DEBUG flag is set and jasmine is running.\n   * To enable symbol path detection set the value to {@code false}\n   * @type {boolean}\n   */\n  H.lang.NO_SYMBOLS = !!H.global['jasmine'];\n  // The try catch is needed for IE9:\n  try {\n    H.global.console.warn('DEBUG', H.lang.NO_SYMBOLS ? '/ NO_SYMBOLS' : '');\n  } catch (e) {}\n}\n\n\n/**\n * Determines for a given object the symbol path within H namespace\n * The optional arguments opt_namespace, opt_path and opt_passed MUST NOT passed in initial call, because they are\n * internally used for recursive calls only!\n *\n * @example\n * H.lang.InvalidArgumentError.getNamespace(H.map.Polyline); // ==> 'H.map.Polyline'\n * H.lang.InvalidArgumentError.getNamespace(function(){});        // ==> '~Function'\n *\n * @param {*} object The object to reflect\n * @param {(Object|Function)=} opt_namespace The namespace to reflect\n * @param {string=} opt_path The path to the namespace\n * @param {(Array.<*>)=} opt_passed The list of already passed namespaces\n * @return {string} The determined symbol path or an empty string if symbol clouldn't found\n */\nH.lang.getSymbolPath = function(object, opt_namespace, opt_path, opt_passed) {\n  'use strict';\n  var path = '',\n      initialCall = arguments.length < 2;\n  // Initial call? Define the initial optional arguments:\n  if (initialCall) {\n    // WTF: With \"{'H': H}\" CC says \"incomplete alias created for namespace H\"\n    opt_namespace = H.lang.NO_SYMBOLS ? {} : {'H': H.global['H']};\n    opt_path = '';\n    opt_passed = [];\n  }\n  H.lang.forEachProp(opt_namespace, true, function(obj, key) {\n    var val = obj[key];\n    // Try to adjust the key to the non obfuscated (exported) key:\n    key = H.lang.propertyNameByValue(obj, val);\n    // Ignore window objects and DOM nodes:\n    if (!H.lang.isWindow(val) && !H.lang.isNode(val)) {\n      // Ignore all types other than 'object' and 'function':\n      if (H.lang.isObject(val)) {\n        // Check if we found the requested object:\n        if (val === object) {\n          path = opt_path + '.' + key;\n          return true; // stops forEachProp_\n        }\n        // Ignore already passed objects:\n        if (opt_passed.indexOf(val) < 0) {\n          // Register the value as 'passed' to prevent recursion for circular references:\n          opt_passed.push(val);\n          // Recursive call with the current property value and extended path:\n          path = H.lang.getSymbolPath(object, val,\n              opt_path + '.' + key,\n              opt_passed);\n          if (path) {\n            return true; // stops forEachProp_\n          }\n        }\n      }\n    }\n  });\n\n  if (initialCall) {\n    path = path ?\n        // Remove the leading '.' and replace 'Foo.prototype.bar' with 'Foo#bar':\n        path.substr(1).replace('.' + H.lang.PROTOTYPEFIELDS[0] + '.', '#') :\n        '~' + (\n            H.lang.isFunction(object) ?\n            H.lang.getFunctionName(/** @type {Function} */ (object)) + '()' :\n            H.lang.typeOf(object));\n  }\n  return path;\n};\n\n\n/**\n * Determines if the given value is a Window object\n *\n * @param {*} val The value to reflect\n * @return {boolean}\n */\nH.lang.isWindow = function(val) {\n  'use strict';\n  return H.lang.isObject(val) && val['window'] === val && val['self'] === val;\n};\n\n\n/**\n * Determines if the given value is a Document object\n *\n * @param {*} val The value to reflect\n * @return {boolean}\n */\nH.lang.isNode = function(val) {\n  'use strict';\n  return H.lang.isObject(val) && val['nodeType'] > 0 && H.lang.isFunction(val.cloneNode);\n};\n\n\n/**\n * Detects the identifier of the first property which was found in the given object.\n * It's useful if there is a need to select a property via bracket notation (like myObject[myKey]) but the\n * property identifier was possibly renamed by Closure Compiler.\n * You can also use @link{H.lang.propertyNameByValue} if the property's value is unique within the object and\n * it's whole prototype chain.\n *\n * @example\n * myCar = {color: 'red', doors: 5}; // ==> compiled to e.g. 'x = {m: 'red', o: 5};'\n * colorKey = H.lang.firstOwnPropertyName({color:0}); // ==> 'm'\n * for(key in myObject) {\n *   if(key === colorKey) alert('A ' + myObject[key] + ' Car');  // ==> \"A red Car\"\n * }\n *\n * @param {!Object} object\n * @return {string|undefined}\n */\nH.lang.firstOwnPropertyName = function(object) {\n  'use strict';\n  var firstPropertyName;\n  H.lang.forEachProp(object, true, function(obj, key) {\n    firstPropertyName = key;\n    return true;\n  });\n  return firstPropertyName;\n};\n\n\n/**\n * Tries to find the identifier of the property which references an identical value. If more than one property found,\n * the one with the longest name is taken (typically the non obfuscated exported one).\n * Returns undefined if no property was found which references the given value.\n *\n * @example\n * Cat.prototype.hello = function() { this.say_(); }; // ==> 'hello' compiled to 'a', but also exported as 'hello'\n * Cat.prototype.say_ = function() {\n *   alert(H.lang.propertyNameByValue(this, arguments.callee.caller) // ==> 'hello'\n * };\n *\n * @param {Object|Function} object\n * @param {Object|Function} value\n * @param {boolean=} opt_onlyOwnProperties If set to {@code true} prototype properties are ignored\n * @return {string|undefined}\n */\nH.lang.propertyNameByValue = function(object, value, opt_onlyOwnProperties) {\n  'use strict';\n  var keys = [];\n  H.lang.forEachProp(object, !!opt_onlyOwnProperties, function(obj, key) {\n    if (obj[key] === value) {\n      keys.push(key);\n    }\n  });\n  return keys.sort(H.lang.sortByLength)[0];\n};\n\n\n/**\n * To sort a list of array like objects by length in descending order.\n *\n * @param {H.lang.ArrayLike} a\n * @param {H.lang.ArrayLike} b\n * @return {number}\n */\nH.lang.sortByLength = function(a, b) {\n  'use strict';\n  return b.length - a.length;\n};\n\n\n/**\n * Iterates over the object calling the supplied callback once for each property.\n * @export\n * @param {?(Object|undefined)} obj\n * @param {boolean} onlyOwnProperties If set to {@code true} prototype properties are ignored\n * @param {function(Object, string, boolean): ?} callback The function to invoke.\n *      It gets the iterated object, the current property key and an isEnumerable flag as arguments.\n *      If the callback's return value evaluates to {@code true} the iteration stops\n */\nH.lang.forEachProp = function(obj, onlyOwnProperties, callback) {\n  'use strict';\n  var key,\n      i;\n  if (obj) {\n    for (key in obj) {\n      if (!onlyOwnProperties || obj[H.lang.PROTOTYPEFIELDS[2]](key)) {\n        if (callback(obj, key, true)) {\n          return;\n        }\n      }\n    }\n    i = H.lang.PROTOTYPEFIELDS.length;\n    while (i--) {\n      key = H.lang.PROTOTYPEFIELDS[i];\n      if (!onlyOwnProperties || obj[H.lang.PROTOTYPEFIELDS[2]](key)) {\n        if (callback(obj, key, false)) {\n          return;\n        }\n      }\n    }\n  }\n};\n\n\n/**\n * Creates a JSDOC like separator symbol for a property\n *\n * @example\n * H.lang.propertyRelation([], 'length'); // '^'  ==> length is a instance property of an Array instance\n * H.lang.propertyRelation([], 'splice'); // '#'  ==> splice is a prototype property of an Array instance\n * H.lang.propertyRelation(RegExp, '$1'); // '.'  ==> $1 is a static property of the RegExp class\n * H.lang.propertyRelation({}, {});       // '~'  ==> no relation between the given objects\n *\n * @param {?Object} object\n * @param {string|undefined} key The key of the property\n * @return {string|undefined} The according property type '^' for instance, '.' for static, '#' for prototype\n *       or {@code undefined} if the property couldn't found\n */\nH.lang.propertyRelation = function(object, key) {\n  'use strict';\n  var cstr;\n  return object && key !== undefined && H.lang.isObject(object) && key in object ?\n      object[H.lang.PROTOTYPEFIELDS[2]](key) ?\n          // The object's constructor is neither Object nor Function:\n          (cstr = object[H.lang.PROTOTYPEFIELDS[1]]) !== Object && cstr !== Function ?\n              '^' :     // instance property\n              '.' :     // static property\n          '#' :         // prototype property\n      '~';              // no relation (e.g. a function in scope of a class method)\n};\n\n\n//############################################# SOURCE CODE DEBUG HELPERS ##############################################\n\n\n/**\n * Determines the name of a function\n *\n * @param {Function} func\n * @return {string} The function's name or \"anonymous\"\n */\nH.lang.getFunctionName = function(func) {\n  'use strict';\n  var matches = /^\\s*function ([^\\( ]+)/.exec(func);\n  return matches ? matches[1] : 'anonymous';\n};\n\n\n/**\n * Removes the comments from a source code\n *\n * @param {*} sourceCode\n * @return {string} The source code without comments\n */\nH.lang.dropComments = function(sourceCode) {\n  'use strict';\n  return ('' + sourceCode).replace(/(\\/\\*([\\s\\S]*?)\\*\\/)|(\\/\\/(.*)$)/gm, '');\n};\n\n\n/**\n * Renames the given argument names to '#0', '#1', #2' ...\n *\n * @param {string} name\n * @param {number} idx\n * @param {Array.<string>} argumentNames\n */\nH.lang.numberedArguments = function(name, idx, argumentNames) {\n  'use strict';\n  argumentNames[idx] = '#' + idx;\n};\n\n\n/**\n * Determines the argument names of a function.\n *\n * @param {Function} func\n * @return {Array.<string>} the argument names. If COMPILED is true the obfuscated names are replaces by '#0', '#1' ...\n */\nH.lang.getArgumentNames = function(func) {\n  'use strict';\n  var matches = /.*\\(([^\\)]+)/.exec(H.lang.dropComments(func));\n  matches = matches ? H.lang.tokenize(matches[1].replace(/\\s+/g, ''), ',') : [];\n  if (COMPILED) {\n    matches.forEach(H.lang.numberedArguments);\n  }\n  return matches;\n};\n\n\n/**\n * Function warns the user that a symbol has been\n * deprecated and it will be removed soon.\n * @param {*} symbol symbol function name or object which will be deprecated\n * @param {string=} opt_message optional additional message i.e describing alternative\n */\nH.lang.deprecated = function(symbol, opt_message) {\n  'use strict';\n  var console = H.global['console'],\n      message;\n  if (console && console['warn']) {\n    message = H.lang.getSymbolPath(symbol) + ' is deprecated and will be removed soon. ';\n    if (opt_message) {\n      message += opt_message;\n    }\n    console['warn'](message);\n  }\n};\n\n\n\n",
		"goog.provide('H.util');\n\ngoog.require('H.lang');\n\n\n\n/**\n * This namespace contains utility implementations.\n * @namespace H.util\n * @publish\n * @export\n */\n\n\n//##################################################  CSS COLOR  #######################################################\n/**\n * A RegExp to isolate the alpha value of a \"rgba(...)\" or \"hsla(...)\" CSS color\n * @private\n * @type {RegExp}\n */\nH.util.alphaChannelRegExp_ = /^\\s*(rgb|hsl)a\\s*\\(.+,([^,]+)\\)\\s*$/;\n\n\n/**\n * To check if the given CCS color is non-transparent (neither \"transparent\" nor if rgba or hsla value with alpha 0)\n * DON'T publish, API internally used only in SpatialStyle and ArrowStyle!\n * @param {string} color The CSS color string to check\n * @return {boolean} whether the color is transparent\n */\nH.util.isNonTransparent = function(color) {\n  'use strict';\n  return color !== 'transparent' && color !== 'none' &&\n      // \"RegExp.$2 >= 2e-3\" is a shorter simplification of: Math.round(255 * RegExp.$2) > 0\n      (!H.util.alphaChannelRegExp_.test(color) || H.global['RegExp'].$2 >= 2e-3);\n};\n\n\n//################################################  UNSORTED STUFF  ####################################################\n/**\n * Indicates whether the browser is a Micosoft Internet Explorer\n * @type {boolean}\n */\nH.util.IS_MSIE = !!H.global['VBArray'];\n\n\n/**\n * Returns the super class prototype of the passed constructor or {@code undefined} if the constructor\n * doesn't inherits another one.\n * @export\n * @param {!Function} constructor\n * @return {?}\n */\n// We need this functionality (at least in unit tests) to get access to a super class!\nH.util.getSuperProto = function(constructor) {\n  return constructor.superClass_;\n};\n\n\n/**\n * Method evals string in core module scope\n * @param {string} str string to be evaled\n * @export\n * @return {Object}\n */\nH.util.eval = function(str) {\n  // just eval, it's meant to be like that\n  return /**@type {Object}*/(eval(str));\n};\n\n\n/**\n * Returns the given value if !== undefined - otherwise the given defaultValue\n * @export\n * @param {?} value The value to use\n * @param {?} defaultVal The default value to use\n * @return {?}\n */\nH.util.getValue = function(value, defaultVal) {\n  return value !== H.lang.UNDEF ? value : defaultVal;\n};\n\n\n/**\n * Returns data URL from a given SVG markup. If markup is not a valid SVG returns it as is.\n * @export\n * @param {string} svgMarkup The SVG markup to convert\n * @return {string} Data URL\n */\nH.util.svgToDataUrl = function(svgMarkup) {\n  // If it is SVG markup (\"<svg ...\") we translate it into an encoded svg+xml data URI:\n  return /^<svg/.test(svgMarkup) ?\n      'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(svgMarkup) : svgMarkup;\n};\n\n\n/**\n * Returns data URL from a given SVG markup. If markup is not a valid SVG returns it as is.\n * @param {Element} from\n * @param {Element} to\n * @return {Element} Passed element with the applied styling\n */\nH.util.copyStyle = function(from, to) {\n  var cs = window.getComputedStyle(from),\n      prop, val;\n\n  // Filtering default style properties did not make much difference, so it was removed.\n  // And even more, in order to obtain default styling temporary node has to be inserted into document body\n  // However at the moment of calling this function it might not be fully loaded\n  for (prop in cs) {\n    val = cs[prop];\n    // Omit numeric properties\n    if (typeof prop === 'string' && typeof val === 'string' && val !== '') {\n      to.style[prop] = val;\n    }\n  }\n\n  return to;\n};\n\n\n//#############################################  MAPSJS WIDE UNIQUE ID  ################################################\n/**\n * Counter for session wide unique identifier\n * @type {number}\n * @private\n */\nH.util.nextUid_ = 0;\n\n\n/**\n * Creates a unique ID. The uniqueness is restricted to the session's life time.\n * @return {number}\n */\nH.util.getUid = function() {\n  'use strict';\n  return H.util.nextUid_++;\n};\n\n\n//###############################################  PREDEFINED OBJECTS  #################################################\n/**\n * A function which returns always null\n * @param {...*} var_args\n * @return {null}\n */\nH.util.returnNull = function(var_args) {\n  'use strict';\n  return null;\n};\n\n\n/**\n * A function which returns always true\n * @param {...*} var_args\n * @return {boolean}\n */\nH.util.returnTrue = function(var_args) {\n  'use strict';\n  return true;\n};\n\n\n/**\n * A function which returns always false\n * @param {...*} var_args\n * @return {boolean}\n */\nH.util.returnFalse = function(var_args) {\n  'use strict';\n  return false;\n};\n\n\n/**\n * A function which does nothing\n * @param {...*} var_args\n */\nH.util.doNothing = function(var_args) {\n  'use strict';\n};\n\n\n/**\n * An empty Array\n * @type {Array.<*>}\n */\nH.util.emptyArray = [];\n\n\n//##############################################  DOM NODE CLONING  ####################################################\n/**\n * Returns all HTMLCanvasElement nodes on the descendant-or-self axis of the passed element.\n *\n * @param {!Element} element\n * @return {H.lang.ArrayLike.<HTMLCanvasElement>}\n */\nH.util.getContainedCanvasses = function(element) {\n  'use strict';\n  return element.tagName === 'CANVAS' ? [element] : element.getElementsByTagName('CANVAS');\n};\n\n\n/**\n * Clones a node (if owner- and targetDocument are equal) or imports a node into the targetDocument\n * @export\n * @param {Node} node\n * @param {Document} targetDocument\n * @param {boolean} containsCanvas Indicates that the node is a HTMLCanvasElement or contains at least one of it.\n *      If so, the method blitts also the ImageData of all canvas elements into the according clones\n * @return {Node}\n */\nH.util.cloneNode = function(node, targetDocument, containsCanvas) {\n  'use strict';\n  var clone,\n      originCanvasses,\n      clonedCanvasses,\n      i;\n  clone = node.ownerDocument === targetDocument ?\n      node.cloneNode(true) :\n      targetDocument.importNode(node, true);\n  if (containsCanvas) {\n    originCanvasses = H.util.getContainedCanvasses(/** @type {!Element} */ (node));\n    clonedCanvasses = H.util.getContainedCanvasses(/** @type {!Element} */ (clone));\n    i = clonedCanvasses.length;\n    while (i--) {\n      clonedCanvasses[i].getContext('2d').drawImage(originCanvasses[i], 0, 0);\n    }\n  }\n  return clone;\n};\n\n\n//################################################  IMAGE UTILS  #######################################################\n/**\n * A 1x1 px canvas context used by util.isImageLoaded()\n * @private\n * @type {CanvasRenderingContext2D}\n */\nH.util.dummyCanvasContext_ = (function() {\n  'use strict';\n  var canvas = document.createElement('CANVAS');\n  canvas.width = canvas.height = 1;\n  return canvas.getContext('2d');\n})();\n\n\n/**\n * Indicates whether the passed image is complete loaded\n * @param {HTMLImageElement} img\n * @return {boolean}\n */\nH.util.isImageLoaded = function(img) {\n  'use strict';\n  var isComplete = img.complete,\n      hasSize = img.naturalWidth > 0;\n  // MSIE is not setting the natural size if the src is a SVG (file or data URI):\n  if (isComplete && !hasSize && H.util.IS_MSIE) {\n    try {\n      // This hack works only in IE: drawImage() throws an exception if the image couldn't be rednered before:\n      H.util.dummyCanvasContext_.drawImage(img, 0, 0);\n      // If no exception was thrown we can assume the image has a natural size:\n      hasSize = true;\n    } catch (e) {\n      // Nothing to do here, hasSize is already false\n    }\n  }\n  return isComplete && hasSize;\n};\n",
		"goog.provide('H.map.ArrowStyle');\n\ngoog.require('H.lang');\ngoog.require('H.util');\n\n\n\n/**\n * This class represents style attributes for arrows to be rendered along a polyline.\n * @publish\n * @export\n * @constructor\n * @param {(H.map.ArrowStyle|H.map.ArrowStyle.Options)=} opt_options\n */\nH.map.ArrowStyle = function(opt_options) {\n  'use strict';\n  var isArrowStyle,\n      key,\n      value,\n      isFilling;\n  if (opt_options) {\n    isArrowStyle = H.lang.isInstanceOf(opt_options, H.map.ArrowStyle);\n    for (key in opt_options) {\n      if (key in this) {\n        value = opt_options[key];\n        if (value !== this[key] && (key === 'fillColor' || (value = +value) > 0)) {\n          this[key] = value;\n        }\n      }\n    }\n  }\n\n  // Update isFilling if necessary:\n  isFilling = isArrowStyle ? opt_options.isFilling : H.util.isNonTransparent(this['fillColor']);\n  // Hardcoded: We assume that prototype.isFilling is true:\n  if (!isFilling) {\n    this.isFilling = isFilling;\n  }\n\n};\n\n\n/**\n * Idicates wheter the style is effectively filling:\n * The fill-color is neither \"none\" nor it is non-transparent\n * DON'T publish, API internally use only by SpatialTile!\n * @type {boolean}\n */\nH.map.ArrowStyle.prototype.isFilling = true;\n\n\nH.lang.extend(H.map.ArrowStyle.prototype, /** @lends {H.map.ArrowStyle.prototype}*/ {\n  /**\n   * The CSS color value used to fill the arrow shapes, default is {@code \"rgba(255, 255, 255, 0.75)\"}\n   * @type {string}\n   */\n  'fillColor': 'rgba(255,255,255,.75)',\n\n  /**\n   * The width factor of the arrow shape, default is {@code 1.2}\n   * @type {number}\n   */\n  'width': 1.2,\n\n  /**\n   * The length factor of the arrow shape, default is {@code 1.6}\n   * @type {number}\n   */\n  'length': 1.6,\n\n  /**\n   * The frequency factor to render the arrows, default is {@code 5}\n   * @type {number}\n   */\n  'frequency': 5\n});\n\n\n/**\n * Creates a copy of this arrow style object.\n * DON'T publish, API internally used only!\n *\n * @return {H.map.ArrowStyle} a clone of this arrow style\n */\nH.map.ArrowStyle.prototype.getClone = function() {\n  return new H.map.ArrowStyle(/** @type {H.map.ArrowStyle.Options} */(this));\n};\n\n\n/**\n * This method checks value-equality with another arrow style.\n * @param {H.map.ArrowStyle|H.map.ArrowStyle.Options} other the arrow style to compare with\n * @return {boolean} true if the arrow styles are value-equal, otherwise false\n * @export\n * @publish\n */\nH.map.ArrowStyle.prototype.equals = function(other) {\n  'use strict';\n  var i,\n      key,\n      val,\n      equal = this === other;\n\n  if (!equal && other) {\n    equal = other['width'] === this['width'] &&\n            other['fillColor'] === this['fillColor'] &&\n            other['length'] === this['length'] &&\n            other['frequency'] === this['frequency'];\n  }\n  return equal;\n};\n\n\n/**\n * An object type to specify the style of arrows to render along a polyline\n * @publish\n *\n * @typedef {{\n *   fillColor: (string|undefined),\n *   width: (number|undefined),\n *   length: (number|undefined),\n *   frequency: (number|undefined)\n * }}\n *\n * @property {string=} fillColor\n *        The CSS color value used to fill the arrow shapes.\n *        If omitted or the value evaluates to {@code false} it defaults to {@code \"rgba(255, 255, 255, 0.75)\"}\n * @property {number=} width\n *        The width of the arrow shape. The value is taken as a factor of the width of the line, where the arrow\n *        description is applied. If omitted or the value is {@code <= 0} it defaults to {@code 1.2}\n * @property {number=} length\n *         The length of the arrow shapes. The value is taken as a factor of the width of the line at the end of\n *         which the arrow is drawn. If omitted or the value is {@code <= 0} it defaults to {@code 1.6}\n * @property {number=} frequency\n *         The frequency of arrow shapes. The value is taken as factor of the length of the arrow. A value of 1 results\n *         in gapless arrows. If omitted or the value is {@code false} it defaults to {@code 5}\n */\nH.map.ArrowStyle.Options;\n",
		"goog.provide('H.lang.InvalidArgumentError');\n\ngoog.require('H.lang');\n\n\n\n/**\n * An error to throw if an argument is invalid\n *\n * @example\n * H.Foo.prototype.bar = function(array, idx) {\n *   if(idx < 0) throw new H.lang.InvalidArgumentError(\n *     H.Foo.prototype.bar, 2, 'less then  0');\n * }\n * new H.Foo().bar([], -4711); // ==> 'Invalid Argument: H.Foo#bar \"idx\" (-4711) less then 0\n *\n * @publish\n * @export\n * @extends {Error}\n *\n * @constructor\n * @param {Function=} opt_caller The calling function\n * @param {?number=} opt_argNr The number of the invalid argument (zero based)\n * @param {*=} opt_message\n */\nH.lang.InvalidArgumentError = function(opt_caller, opt_argNr, opt_message) {\n  'use strict';\n  var argsLength = arguments.length,\n      argName,\n      msg;\n  opt_argNr = argsLength > 1 ? +opt_argNr : opt_argNr;\n  msg = argsLength > 2 ? H.lang.String(opt_message) : '';\n  if (opt_argNr !== H.lang.UNDEF) {\n    argName = H.lang.getArgumentNames(/** @type {Function} */ (opt_caller))[opt_argNr] || ('#' + opt_argNr);\n  }\n  this['message'] =\n      (opt_caller ? H.lang.getSymbolPath(opt_caller) : '') +\n      (argName || msg ? ' (' : '') +\n      (argName ? 'Argument ' + argName : '') +\n      (msg ? (argName ? ' ' : '') + msg : '') +\n      (argName || msg ? ')' : '');\n};\n\n\n/** @override */\nH.lang.InvalidArgumentError.prototype = Error();\n\n\n/** @override */\nH.lang.InvalidArgumentError.prototype['name'] = 'InvalidArgumentError';\n",
		"goog.provide('H.math');\n\n\n/**\n * This namespace contains mathematical constants, aliased Math functions\n * and math helper functions.\n * @namespace H.math\n * @publish\n */\n\n/*\n *######################################################################################################################\n * Definition of some mathematical aliases, closure compiler will convert them into variable declarations.\n * The advantages are:\n *  - For every invocation of a Math function we spare one scope lookup and one property lookup\n *  - For every read access of a Math constant we spare all scope and property lookups (inline)\n *\n * // SOURCE CODE\n * var H = {};\n * H.math = {};\n * H.math.Math  = Math;\n * H.math.ceil  = H.math.Math.ceil;\n * H.math.floor = H.math.Math.floor;\n * foo = H.math.floor(1) + H.math.ceil(2) +\n *       H.math.floor(3) + H.math.ceil(4);\n * bar = Math.floor(1) + Math.ceil(2) +\n *       Math.floor(3) + Math.ceil(4);\n *\n * // WILL COMPILED TO:\n * var a = Math, b = a.ceil, c = a.floor;\n * foo = c(1) + b(2) + c(3) + b(4);\n * bar = Math.floor(1) + Math.ceil(2) + Math.floor(3) + Math.ceil(4);\n */\n\n\n/** @ignore */\nH.math.Math = Math;\n\n\n/** @ignore */\nH.math.random = H.math.Math.random;\n\n\n/** @ignore */\nH.math.min = H.math.Math.min;\n\n\n/** @ignore */\nH.math.max = H.math.Math.max;\n\n\n/** @ignore */\nH.math.round = H.math.Math.round;\n\n\n/** @ignore */\nH.math.floor = H.math.Math.floor;\n\n\n/** @ignore */\nH.math.ceil = H.math.Math.ceil;\n\n\n/** @ignore */\nH.math.abs = H.math.Math.abs;\n\n\n/** @ignore */\nH.math.log = H.math.Math.log;\n\n\n/** @ignore */\nH.math.sqrt = H.math.Math.sqrt;\n\n\n/** @ignore */\nH.math.pow = H.math.Math.pow;\n\n\n/** @ignore */\nH.math.exp = H.math.Math.exp;\n\n\n/** @ignore */\nH.math.sin = H.math.Math.sin;\n\n\n/** @ignore */\nH.math.asin = H.math.Math.asin;\n\n\n/** @ignore */\nH.math.cos = H.math.Math.cos;\n\n\n/** @ignore */\nH.math.acos = H.math.Math.acos;\n\n\n/** @ignore */\nH.math.tan = H.math.Math.tan;\n\n\n/** @ignore */\nH.math.atan = H.math.Math.atan;\n\n\n/** @ignore */\nH.math.atan2 = H.math.Math.atan2;\n\n\n/**\n * @ignore\n * @const\n */\nH.math.LN2 = H.math.Math.LN2;\n\n\n/**\n * @ignore\n * @const\n */\nH.math.PI = H.math.Math.PI;\n\n\n/**\n * @ignore\n * @const\n */\nH.math.PI_OVER_2 = H.math.PI / 2;\n\n\n/**\n * @ignore\n * @const\n */\nH.math.PI_OVER_4 = H.math.PI / 4;\n\n\n/**\n * @ignore\n * @const\n */\nH.math.TAU = H.math.PI * 2;\n\n\n/**\n * @ignore\n * @const\n */\nH.math.PI3 = H.math.PI * 3;\n\n\n/**\n * @ignore\n * @const\n */\nH.math.PI_OVER_180 = H.math.PI / 180;\n\n\n/**\n * @ignore\n * @const\n */\nH.math._180_OVER_PI = 180 / H.math.PI;\n\n\n/**\n * @ignore\n * @const\n */\nH.math.Infinity = 1 / 0;\n\n\n/*####################################################################################################################*/\n\n\n/**\n * A signed 32 bit integer (JS restriction) where bit operator can be applied to.\n * The range is [-2,147,483,648 ... 2,147,483,647] or [-2^31 ... 2^31 − 1]\n * @publish\n * @typedef {number}\n */\nH.math.BitMask;\n\n\n/**\n * The minimal index to use for increasing indeces. In DEBUG case the value is 0 (because it's more readable),\n * otherwise -2^53, the minimal number which can be stored loss less in IEEE-754 (64 bit float)\n * @const\n * @type {number}\n */\nH.math.MIN_IDX = goog.DEBUG ? 0 : H.math.pow(-2, 53); // More readable numbers [0...n] in Debug-Mode\n\n\n/**\n * The % operator in JavaScript returns the remainder of dividend / divisor, but differs from\n * some other languages in that the result will have the same sign as the\n * dividend. For example, -1 % 8 == -1, whereas in some other languages\n * (such as Python) the result would be 7. This function emulates the more\n * correct modulo behavior, which is useful for certain applications such as\n * calculating an offset index in a circular list.\n * @param {number} dividend The dividend.\n * @param {number} divisor The divisor.\n * @return {number}\n */\nH.math.modulo = function(dividend, divisor) {\n  'use strict';\n  var modulo;\n  // If modulo and divisor has the same sign return the modulo, otherwise add the divisor\n  return (modulo = dividend % divisor) < 0 === divisor < 0 ? modulo : modulo + divisor;\n};\n\n\n/**\n * Function returns the value narrowed to range\n * @param {number} value\n * @param {number} min\n * @param {number} max\n * @return {number}\n */\nH.math.clamp = function(value, min, max) {\n  'use strict';\n  return ((value -= 0) > max) ? max : (value < min) ? min : value;\n};\n\n\n/**\n * Detects if a is equal be considering the given tolerance.\n * @param {number} a The value to compare to b.\n * @param {number} b The value to compare to a.\n * @param {number} tolerance The value to compare to a.\n * @return {boolean} true, if a matches b considering the given tolerance.\n */\nH.math.match = function(a, b, tolerance) {\n  'use strict';\n  return (a >= (b - tolerance) && a <= (b + tolerance));\n};\n\n\n/**\n * Checks whether a value is in range.\n * It is checking both cases (extreme1 < extreme2 and extreme1 >= extreme2).\n * Moreover the range is enlarged by the given tolerance\n * @param {number} value The value which will be compared to the other ones.\n * @param {number} extreme1 The first extreme value of the range.\n * @param {number} extreme2 The second extreme value of the range.\n * @param {number} tolerance The value by which the range will be enlarged.\n * @return {boolean} true, if a matches b considering the given tolerance.\n */\nH.math.inRange = function(value, extreme1, extreme2, tolerance) {\n  'use strict';\n  if (!(tolerance -= 0)) {\n    tolerance = 0;\n  }\n  return extreme1 < extreme2 ?\n      value >= extreme1 - tolerance && value <= extreme2 + tolerance :\n      value >= extreme2 - tolerance && value <= extreme1 + tolerance;\n};\n\n\n/**\n * Returns the distance between the given point and given line (vecor).\n * The algorithm is based on vector calculation, working plane, vector cross product and so on\n * @param {number} x X value of the point.\n * @param {number} y Y value of the point.\n * @param {number} ax X value of the first vector point.\n * @param {number} ay Y value of the first vector point.\n * @param {number} bx X value of the second vector point.\n * @param {number} by Y value of the second vector point.\n * @return {number} true, if a matches b considering the given tolerance.\n */\nH.math.getVectorDistance = function(x, y, ax, ay, bx, by) {\n  'use strict';\n  return H.math.sqrt(H.math.pow(((x - bx) * (ay - by) - (y - by) * (ax - bx)), 2) /\n      (H.math.pow((ax - bx), 2) + H.math.pow((ay - by), 2)));\n};\n\n\n/**\n * Enumeration is used by isCoveredBy and signifies which part of the shape covers point.\n * @const\n * @enum {number}\n */\nH.math.CoverType = {\n  NONE: 0,\n  VERTEX: 1,\n  EDGE: 2,\n  SURFACE: 3\n};\n\n\n/**\n * This method checks if the x/y coordinate is covered by the given shape.\n * @name jslocation.util.Point.isCoveredBy\n * @publish\n * @param {number} x The x component of the coordinate to check\n * @param {number} y The y component of the coordinate to check\n * @param {Array.<number>} path The path of a polygon; the closing leg is not required\n * @param {number} lineWidth The width of the line\n * @param {boolean=} opt_closed A Boolean indicating if the path should\n * be treated as closed (polygon)\n *\n * @return {H.math.CoverType}\n */\nH.math.isCoveredBy = function(x, y, path, lineWidth, opt_closed) {\n  'use strict';\n  var len = path.length,\n      match = H.math.match,\n      getVectorDistance = H.math.getVectorDistance,\n      i = len,\n      x1, y1,\n      x2, y2,\n      x1Prev = path[0],\n      yi,\n      xi,\n      hit = H.math.CoverType.NONE,\n      above = 0,\n      beneath = 0,\n      tol = lineWidth / 2 || 0,\n      lastPos = opt_closed ? 1 : 3;\n\n  /* Note: we have to walk through the whole shape unless the a vertex hit has been detected, because\n   * even if we detected an edge hit, there could be a vertex of a crossing line, too. As the vertex has\n   * the highest priority we have to check at least all shape points for a direct hit.\n   */\n  while (hit != H.math.CoverType.VERTEX && i > lastPos) {\n    y1 = path[--i];\n    x1 = path[--i];\n    y2 = path[i ? i - 1 : (len + (i - 1)) % len];\n    x2 = path[i ? i - 2 : (len + (i - 2)) % len];\n\n    // Does X-Ray intersect point x1/y1 or x2/y2? (considering the line width)\n    if (match(x1, x, tol) && match(y1, y, tol) || match(x2, x, tol) && match(y2, y, tol)) {\n      hit = H.math.CoverType.VERTEX;\n    }\n    /* X-Ray intersects the first point of the leg?\n     * Note: we can skip the following if clause if a hit (can only be \"E\" here) has been already detected.\n     * We are only looking further for a potential direct vertex hit.\n     */\n    else if (!hit && x1 === x) {\n      // It's a vertical leg and direct hitting?\n      (hit = (x2 === x && (y1 < y && y2 > y || y1 > y && y2 < y)) ?\n          H.math.CoverType.EDGE : H.math.CoverType.NONE) ||\n          // Current & previous leg placed opposite to the X-Ray (previous leg could also go along the X-Ray)?\n          (x1Prev <= x && x2 > x || x1Prev >= x && x2 < x) &&\n          // Count the y1 point:\n          (y1 >= y ? ++above : ++beneath);\n\n      // In case of a line width bigger than 0, we have to check here, if the point is part of the edge,\n      // because otherwise it won't be checked anymore for \"x1 === x\".\n      hit = H.math.inRange(y, y1, y2, tol) && getVectorDistance(x, y, x1, y1, x2, y2) <= tol ?\n          H.math.CoverType.EDGE :\n          H.math.CoverType.NONE;\n    }\n    /* X-Ray intersects the leg BETWEEN the points?\n     * Note: we can skip the following if clause if a hit (can only be \"E\" here) has been already detected.\n     * We are only looking further for a potential direct vertex hit.\n     */\n    else if (!hit && H.math.inRange(x, x1, x2, tol)) {\n      // Direct hitting the leg?\n      // This if clause is only for deciding further on, if the inner shape of a polygon has been hit.\n      if (x1 < x && x2 > x || x1 > x && x2 < x) {\n        // in 2.5 it was as follows\n        // hit = y === (yi = y1 + (y2 - y1) * ((x - x1) / (x2 - x1))),\n        yi = y1 + (y2 - y1) * ((x - x1) / (x2 - x1)),\n        // Count the intersection point yi:\n        above += yi > y,\n        beneath += yi < y;\n      }\n\n      // Checks if an edge has been hit considering the line width.\n      hit = H.math.inRange(y, y1, y2, tol) && getVectorDistance(x, y, x1, y1, x2, y2) <= tol ?\n          H.math.CoverType.EDGE :\n          H.math.CoverType.NONE;\n    }\n\n    x1Prev = x1;\n  }\n  if (opt_closed && hit === H.math.CoverType.SURFACE && hit || hit) {\n    return hit;\n  }\n  // Double check, because points counted if X-Ray goes along the previous leg:\n  if (opt_closed && beneath !== 0 && (above % 2) !== 0) {\n    return H.math.CoverType.SURFACE;\n  }\n  return H.math.CoverType.NONE;\n};\n\n\n/**\n * Returns sign of the number or 0 if 0\n * @param {number} num\n * @return {number} 1, -1 or 0\n */\nH.math.sign = function(num) {\n  'use strict';\n  return num === 0 ? 0 : num > 0 ? 1 : -1;\n};\n\n",
		"goog.provide('H.geo');\n\ngoog.require('H.lang');\ngoog.require('H.lang.InvalidArgumentError');\ngoog.require('H.math');\n\n\n/**\n * This namespace contains functionality for geo-computation.\n * @namespace H.geo\n * @publish\n */\n\n\n/**\n * The geometric mean radius of WGS84 is 6,371,000.7900 meters\n * Additional info: It's the volume equivalent radius, combining the equatorial radius (6,378,137 m)\n * and the polar radius (6,356,752.3142 m)\n *\n * @const\n * @type {number}\n */\nH.geo.WGS84_MEAN_RADIUS = 6371000.7900;\n\n\n/**\n * The circumference of the earth, based on the WGS84 mean radius\n * @const\n * @type {number}\n */\nH.geo.WGS84_MEAN_CIRCUMFERENCE = 2 * H.math.PI * H.geo.WGS84_MEAN_RADIUS;\n\n\n/**\n * Contexts for altitudes to specify the contextual origin of an altitude's value\n * @enum {string}\n * @export\n * @publish\n */\nH.geo.AltitudeContext = {\n  /** Ground level */\n  'undefined': 'GL',\n  /** Ground level */\n  'GL': 'GL',\n  /** Obstruction level */\n  'OL': 'OL',\n  /** Mean sea level */\n  'SL': 'SL',\n  /** Sea bed level */\n  'SB': 'SB',\n  /** WGS84 ellipsoid */\n  'WE': 'WE',\n  /** WGS84 geoid */\n  'WG': 'WG'\n};\n\n\n/**\n * Minimal allowed longitude value\n * @const\n * @type {number}\n */\nH.geo.MIN_LONGITUDE = -180;\n\n\n/**\n * Maximal value for longitude\n * @const\n * @type {number}\n */\nH.geo.MAX_LONGITUDE = 180;\n\n\n/**\n * Minimal value for latitude\n * @const\n * @type {number}\n */\nH.geo.MIN_LATITUDE = -90;\n\n\n/**\n * Maximal value for latitude\n * @const\n * @type {number}\n */\nH.geo.MAX_LATITUDE = 90;\n\n\n/**\n * Maximal length on the longitude axis\n * @const\n * @type {number}\n */\nH.geo.MAX_LONGITUDE_LENGTH = H.geo.MAX_LONGITUDE - H.geo.MIN_LONGITUDE;\n\n\n/**\n * A geographic coordinate that specifies the north-south position of a point on the Earth's surface in the range\n * from -90 to + 90 degrees, inclusive.\n * @name H.geo.Latitude\n * @typedef {number}\n * @publish\n */\nH.geo.Latitude;\n\n\n/**\n * A Geographic coordinate that specifies the east-west position of a point on the Earth's surface in the range\n * from -180 to 180 degrees, inclusive.\n * @name H.geo.Longitude\n * @typedef {number}\n * @publish\n */\nH.geo.Longitude;\n\n\n/**\n * A Geographic coordinate that specifies the height of a point in meters. A value of {@code undefined} is\n * treated as {@code 0}.\n * @see H.geo.AltitudeContext\n * @name H.geo.Altitude\n * @typedef {number|undefined}\n * @publish\n */\nH.geo.Altitude;\n\n\n/**\n * Clamps the given latitude value into a range of {@code -90 ... +90}\n * @param {?} lat The latitude to validate\n * @param {Function=} opt_caller The caller to use for InvalidArgumentError. If omitted no error is thrown.\n * @param {number=} opt_argNr The argument number to use for InvalidArgumentError.\n * @return {H.geo.Latitude}\n */\nH.geo.validateLat = function(lat, opt_caller, opt_argNr) {\n  'use strict';\n  var val = H.math.clamp(+lat, -90, 90);\n\n  if (opt_caller && H.lang.isNaN(val)) {\n    throw new H.lang.InvalidArgumentError(opt_caller, opt_argNr, lat);\n  }\n  return val;\n};\n\n\n/**\n * Modulo the given longitude value into a range of {@code -180 ... +180}\n * @param {?} lng The longitude to validate\n * @param {Function=} opt_caller The caller to use for InvalidArgumentError. If omitted no error is thrown.\n * @param {number=} opt_argNr The argument number to use for InvalidArgumentError.\n * @return {H.geo.Longitude}\n */\nH.geo.validateLng = function(lng, opt_caller, opt_argNr) {\n  'use strict';\n  var val = +lng;\n  if (val < -180 || val > 180) {\n    val = H.math.modulo(val + 180, 360) - 180;\n  }\n  if (opt_caller && H.lang.isNaN(val)) {\n    throw new H.lang.InvalidArgumentError(opt_caller, opt_argNr, lng);\n  }\n  return val;\n};\n\n\n/**\n * Validates the the given altitude value\n * @param {?} alt The altitude to validate\n * @param {Function=} opt_caller The caller to use for InvalidArgumentError. If omitted no error is thrown.\n * @param {number=} opt_argNr The argument number to use for InvalidArgumentError.\n * @return {H.geo.Altitude}\n */\nH.geo.validateAlt = function(alt, opt_caller, opt_argNr) {\n  'use strict';\n  var val;\n  if (alt !== H.lang.UNDEF && H.lang.isNaN(val = +alt) && opt_caller) {\n    throw new H.lang.InvalidArgumentError(opt_caller, opt_argNr, alt);\n  }\n  return val;\n};\n\n\n/**\n * Checks that the given value is a one of the enumeration values of {@link H.geo.AltitudeContext}\n * @param {?} ctx The altitude context to validate\n * @param {Function=} opt_caller The caller to use for InvalidArgumentError. If omitted no error is thrown.\n * @param {number=} opt_argNr The argument number to use for InvalidArgumentError.\n * @return {boolean} whether the value is valid\n */\nH.geo.validateCtx = function(ctx, opt_caller, opt_argNr) {\n  'use strict';\n  var invalid = !H.geo.AltitudeContext[ctx];\n  if (opt_caller && invalid) {\n    throw new H.lang.InvalidArgumentError(opt_caller, opt_argNr, ctx);\n  }\n  return !invalid;\n};\n\n\n/**\n * Method checks if argument passed belongs to H.geo.IPoint\n * @param {H.geo.IPoint} point\n * @return {boolean}\n */\nH.geo.isIPoint = function(point) {\n  if (!point || H.lang.isNaN(point['lat']) || H.lang.isNaN(point['lng'])) {\n    return false;\n  }\n  return true;\n};\n",
		"goog.provide('H.geo.Point');\n\n\ngoog.require('H.geo');\ngoog.require('H.geo.IPoint');\ngoog.require('H.lang');\ngoog.require('H.lang.InvalidArgumentError');\ngoog.require('H.math');\n\n\n\n/**\n * Class represents a geographical point, which is defined by the latitude, longitude and\n * optional altitude.\n *\n * @example\n * var geoPoint = new H.geo.Point(1, 51);\n *\n * @publish\n * @export\n * @implements {H.geo.IPoint}\n *\n * @constructor\n * @param {H.geo.Latitude} lat The latitude coordinate\n * @param {H.geo.Longitude} lng The longitude coordinate\n * @param {H.geo.Altitude=} opt_alt The altitude coordinate\n * @param {H.geo.AltitudeContext=} opt_ctx The altitude context\n */\nH.geo.Point = function(lat, lng, opt_alt, opt_ctx) {\n  'use strict';\n\n  /**\n   * @type {H.geo.Latitude}\n   */\n  this['lat'] = H.geo.validateLat(lat, H.geo.Point, 0);\n\n  /**\n   * @type {H.geo.Longitude}\n   */\n  this['lng'] = H.geo.validateLng(lng, H.geo.Point, 1);\n\n  if (opt_alt !== H.lang.UNDEF) {\n    /**\n     * @type {H.geo.Altitude}\n     */\n    this['alt'] = H.geo.validateAlt(opt_alt, H.geo.Point, 2);\n  }\n\n  if (opt_ctx !== H.lang.UNDEF && H.geo.validateCtx(opt_ctx, H.geo.Point, 3)) {\n    /**\n     * @type {H.geo.AltitudeContext}\n     */\n    this['ctx'] = opt_ctx;\n  }\n\n};\n\n\n/**\n * @override\n */\nH.geo.Point.prototype.lat;\n\n\n/**\n * @override\n */\nH.geo.Point.prototype.lng;\n\n\n/**\n * @override\n */\nH.geo.Point.prototype.alt = H.lang.UNDEF;\n\n\n/**\n * @override\n */\nH.geo.Point.prototype.ctx = H.lang.UNDEF;\n\n\n/**\n * To compare this point with a supplied other point for equality. Two points are considered equal if they\n * have the same {@code lat} and {@code lng} as well as equivalent values for {@code alt} and {@code ctx}.\n *\n * @publish\n * @export\n *\n * @param {H.geo.IPoint} other\n * @return {boolean} Whether the two points are equal.\n */\nH.geo.Point.prototype.equals = function(other) {\n  'use strict';\n\n  return this === other ||\n      !!other &&\n      this['lat'] === other['lat'] &&\n      this['lng'] === other['lng'] &&\n      H.geo.AltitudeContext[this['ctx']] === H.geo.AltitudeContext[other['ctx']] &&\n      (this['alt'] || 0) === (other['alt'] || 0);\n};\n\n\n/**\n * To calculate the distance between this point and the supplied other point.\n * The method uses the Haversine formula. The altitude is not considered.\n *\n * @publish\n * @export\n *\n * @param {H.geo.IPoint} other\n * @return {number} The distance between the given location and the location supplied by the caller\n *    in meters\n */\nH.geo.Point.prototype.distance = function(other) {\n  'use strict';\n  // TODO\n  // Add Support for distance in 3D space - see 2.5 version!\n  // @param {Boolean} [straight] An flag to compute distance in 3D space, not shortest distance on sphere.\n  var distance,\n      thisLatRad,\n      otherLatRad;\n\n  if (this === other || this['lat'] === other['lat'] && this['lng'] === other['lng']) {\n    distance = 0;\n  } else {\n    thisLatRad = this['lat'] * H.math.PI_OVER_180;\n    otherLatRad = other['lat'] * H.math.PI_OVER_180;\n    distance = H.geo.WGS84_MEAN_RADIUS * 2 * H.math.asin(H.math.min(1, H.math.sqrt(\n        H.math.pow(H.math.sin((thisLatRad - otherLatRad) / 2), 2) +\n        H.math.cos(thisLatRad) * H.math.cos(otherLatRad) *\n        H.math.pow(H.math.sin((this['lng'] * H.math.PI_OVER_180 -\n            other['lng'] * H.math.PI_OVER_180) / 2), 2))));\n\n  }\n  return distance;\n};\n\n\n/**\n * This method calculates the geographic point of a destination point using the distance and bearing specified\n * by the caller. The altitude is ignored, instead the WGS84 Mean Radius is taken.\n *\n * @publish\n * @export\n *\n * @param {number} bearing The bearing to use in the calculation in degrees\n * @param {number} distance The distance to the destination in meters\n * @param {boolean=} opt_overGreatCircle If true the computation uses the\n *         \"Great Circle\" otherwise \"Rhumb Line\".\n * @return {H.geo.Point} The calculated point\n */\nH.geo.Point.prototype.walk = function(bearing, distance, opt_overGreatCircle) {\n  'use strict';\n\n  var lng2,\n      lat1,\n      lng1,\n      lat2,\n      dLat,\n      dPhi,\n      q,\n      dLon;\n  if (opt_overGreatCircle) {\n    return this.walkGC_(bearing, distance);\n  }\n  // Adjust bearing to a value 0 (inclusive) ... 360 (exclusive)\n  bearing = (bearing % 360 + 360) % 360;\n  // Is bearing 90 or 270 ?\n  if (((bearing + 90) % 180) === 0) {\n    lng2 = this['lng'] + (distance / (H.math.TAU * (H.math.cos(this['lat'] *\n        H.math.PI_OVER_180) * H.geo.WGS84_MEAN_RADIUS))) *\n        (bearing === 270 ? -360 : 360);\n    return new H.geo.Point(\n        this['lat'],\n        (lng2 + 540) % 360 - 180\n    );\n  }\n\n  // translate into angular distance covered on earth's surface\n  if (distance /= H.geo.WGS84_MEAN_RADIUS) {\n    bearing *= H.math.PI_OVER_180;\n    lat1 = this['lat'] * H.math.PI_OVER_180;\n    lng1 = this['lng'] * H.math.PI_OVER_180;\n    lat2 = lat1 + distance * H.math.cos(bearing);\n    dLat = lat2 - lat1;\n\n    dPhi = H.math.log(\n        H.math.tan(lat2 / 2 + H.math.PI_OVER_4) / H.math.tan(lat1 / 2 + H.math.PI_OVER_4)\n        );\n\n    q = (!H.lang.isNaN(dLat / dPhi)) ? dLat / dPhi : H.math.cos(lat1); // E-W line gives dPhi=0\n    dLon = distance * H.math.sin(bearing) / q;\n    // Check for passing the pole\n    if (H.math.abs(lat2) > H.math.PI_OVER_2) {\n      lat2 = lat2 > 0 ? H.math.PI - lat2 : -(H.math.PI + lat2);\n    }\n\n\n  }\n\n  return distance ?\n      new H.geo.Point(\n          lat2 * H.math._180_OVER_PI,\n          (((lng1 + dLon + H.math.PI3 +\n              (H.math.abs(lat1 + dLat) > H.math.PI_OVER_2 ? H.math.PI : 0)\n          ) % H.math.TAU - H.math.PI)) * H.math._180_OVER_PI\n      ) :\n      this;\n};\n\n\n/**\n * This method calculates the geo points of a destination point using the distance and bearing specified by the caller.\n * The algorithm based on Great Circle.\n *\n * @private\n *\n * @param {number} bearing The bearing to use in the calculation in degrees\n * @param {number} distance The distance to the destination in meters\n * @return {H.geo.Point} The calculated target as a location object containing geo points\n */\nH.geo.Point.prototype.walkGC_ = function(bearing, distance) {\n  'use strict';\n\n  if (distance /= H.geo.WGS84_MEAN_RADIUS) {\n    bearing *= H.math.PI_OVER_180; // to radian\n\n    var angleA = H.math.PI_OVER_180 * this['lat'], // radians\n        sinAngleA = H.math.sin(angleA),\n        sinDist = H.math.sin(distance),\n        cosDist = H.math.cos(distance),\n        angleB = H.math.PI_OVER_180 * this['lng'], // radians\n        cosAngleA = H.math.cos(angleA),\n        y = H.math.asin(cosAngleA * H.math.cos(bearing) * sinDist + sinAngleA * cosDist),\n        dLng = H.math.atan2(H.math.sin(bearing) * cosAngleA * sinDist,\n            cosDist - sinAngleA * H.math.sin(y)),\n        x = ((angleB + dLng + H.math.PI) % (2 * H.math.PI)) - H.math.PI, // modulorize function\n        lng = x * H.math._180_OVER_PI;\n  }\n  return distance ?\n      new H.geo.Point(y * H.math._180_OVER_PI, (lng + 540) % 360 - 180) :\n      this;\n};\n\nif (goog.DEBUG) {\n  /**\n   * Returns a nice string representing the geographic point.\n   * @return {string} In the form (lat, lng[, alt][, ctx]).\n   * @override\n   */\n  H.geo.Point.prototype.toString = function() {\n    'use strict';\n\n    return '(' +\n        this['lat'] + '/' + this['lng'] + (\n            this['alt'] || this['ctx'] ?\n            ' ' + (this['alt'] || 0) + 'm ' + H.geo.AltitudeContext[this['ctx']] :\n            ''\n        ) + ')';\n  };\n}\n\n\n/**\n * This method validates the given IPoint.\n * It checks, if  {@code lat}, {@code lng}, {@code alt} and {@code ctx} have valid types.\n * Additionally the value of the {@code lat} property is clamped into a range of {@code -90 ... +90} and\n * the value of the {@code lng} property is modulo into a range of {@code -180 ... +180} plus validates the values of\n * the {@code alt} and {@code ctx} properties\n *\n * @publish\n * @export\n *\n * @this {H.geo.Point}\n * @param {H.geo.IPoint} point The point to validate\n * @param {Function=} opt_caller The caller to use for InvalidArgumentError. If omitted no error is thrown\n * @param {number=} opt_argNr The argument number to use for InvalidArgumentError.\n * @return {boolean} if the given point could validate\n */\nH.geo.Point.validate = function(point, opt_caller, opt_argNr) {\n  'use strict';\n  var couldValidate = !!point && !(\n      H.lang.isNaN(point['lat'] = H.geo.validateLat(point['lat'])) ||\n      H.lang.isNaN(point['lng'] = H.geo.validateLng(point['lng'])) ||\n      point['alt'] !== H.lang.UNDEF && H.lang.isNaN(point['alt'] = H.geo.validateAlt(point['alt'])) ||\n      point['ctx'] !== H.lang.UNDEF && !H.geo.validateCtx(point['ctx']));\n  if (!couldValidate && opt_caller) {\n    throw new H.lang.InvalidArgumentError(opt_caller, opt_argNr, point);\n  }\n  return couldValidate;\n};\n\n\n/**\n * This method creates a Point instance from a given IPoint object.\n *\n * @publish\n * @export\n *\n * @param {H.geo.IPoint} iPoint The IPoint object to use\n * @return {H.geo.Point} the created Point instance\n */\nH.geo.Point.fromIPoint = function(iPoint) {\n  'use strict';\n  if (!iPoint) {\n    throw new H.lang.InvalidArgumentError(H.geo.Point.fromIPoint, 0, iPoint);\n  }\n  return H.lang.isInstanceOf(iPoint, H.geo.Point) ?\n      /** @type {H.geo.Point} */ (iPoint) :\n      new H.geo.Point(iPoint['lat'], iPoint['lng'], iPoint['alt'], iPoint['ctx']);\n};\n",
		"goog.provide('H.geo.Rect');\n\ngoog.require('H.geo');\ngoog.require('H.geo.Point');\ngoog.require('H.lang');\ngoog.require('H.lang.InvalidArgumentError');\ngoog.require('H.math');\n\n// TODO We should also specify an IRect. This would cause a change from private top_, left_ bottom_, right_\n//      to public properties top, left, bottom, right\n\n\n\n/**\n * This class represents a rectangular geographic area. The area is defined\n * by four geographical coordinates two (left, right) longitudes and two (top, bottom)\n * latitudes.\n * @export\n *\n * @param {H.geo.Latitude} top the northern-most latitude\n * @param {H.geo.Longitude} left the left-most longitude\n * @param {H.geo.Latitude} bottom the southern-most latitude\n * @param {H.geo.Longitude} right the right-most latitude\n * @constructor\n * @publish\n */\nH.geo.Rect = function(top, left, bottom, right) {\n  'use strict';\n  this.set_(\n      H.geo.validateLat(top, H.geo.Rect, 0),\n      H.geo.validateLng(left, H.geo.Rect, 1),\n      H.geo.validateLat(bottom, H.geo.Rect, 2),\n      H.geo.validateLng(right, H.geo.Rect, 3));\n};\n\n\nif (goog.DEBUG) {\n  /**\n   * @override\n   */\n  H.geo.Rect.prototype.toString = function() {\n    return '[(' + this.top_ + ', ' + this.left_ + ') (' + this.bottom_ + ', ' + this.right_ + ')]';\n  };\n}\n\n\n/**\n * To compare this rectangle with a supplied other rectangle for equality.\n *\n * @publish\n * @export\n *\n * @param {H.geo.Rect} other\n * @return {boolean} Whether the two rectangles are equal.\n */\nH.geo.Rect.prototype.equals = function(other) {\n  'use strict';\n  // TODO When we specify an IRect we should except it as argument\n  return this === other ||\n      !!other &&\n      this.top_ === other.top_ &&\n      this.left_ === other.left_ &&\n      this.bottom_ === other.bottom_ &&\n      this.right_ === other.right_;\n};\n\n\n/**\n * This method modifies the values of a bounding box. It is only used\n * internally for memory and performance reasons.\n * @param {H.geo.Latitude} top the northern-most latitude\n * @param {H.geo.Longitude} left the left-most longitude\n * @param {H.geo.Latitude} bottom the southern-most latitude\n * @param {H.geo.Longitude} right the right-most latitude\n * @return {H.geo.Rect} this rect\n * @private\n */\nH.geo.Rect.prototype.set_ = function(top, left, bottom, right) {\n  'use strict';\n  var tmpTop;\n  this.left_ = left;\n  this.right_ = right;\n  if (top < bottom) {\n    // flip top and bottom\n    tmpTop = top;\n    top = bottom;\n    bottom = tmpTop;\n  }\n  this.top_ = top;\n  this.bottom_ = bottom;\n\n  this.topLeft_ = this.bottomRight_ = this.center_ = null;\n\n  return this;\n};\n\n\n/**\n * This method returns the top-left corner of the rectangular area.\n * @return {H.geo.Point} the top-left corner of the area\n * @publish\n * @export\n */\nH.geo.Rect.prototype.getTopLeft = function() {\n  'use strict';\n\n  if (!this.topLeft_) {\n    this.topLeft_ = new H.geo.Point(this.top_, this.left_);\n  }\n  return this.topLeft_;\n};\n\n\n/**\n * This method returns the bottom-right corner of the rectangular area.\n * @return {H.geo.Point} the bottom-right corner of the area\n * @publish\n * @export\n */\n\nH.geo.Rect.prototype.getBottomRight = function() {\n  'use strict';\n\n  if (!this.bottomRight_) {\n    this.bottomRight_ = new H.geo.Point(this.bottom_, this.right_);\n  }\n  return this.bottomRight_;\n};\n\n\n/**\n * This method returns the north-most latitude of this rectangular area\n * @return {H.geo.Latitude} the north-most latitude of the area\n * @publish\n * @export\n */\nH.geo.Rect.prototype.getTop = function() {\n  'use strict';\n\n  return this.top_;\n};\n\n\n/**\n * This method returns the south-most latitude of this rectangular area\n * @return {H.geo.Latitude} the south-most latitude of the area\n * @publish\n * @export\n */\nH.geo.Rect.prototype.getBottom = function() {\n  'use strict';\n\n  return this.bottom_;\n};\n\n\n/**\n * This method returns the left-most longitude of this rectangular area\n * @return {H.geo.Longitude} the left-most longitude of the area\n * @publish\n * @export\n */\nH.geo.Rect.prototype.getLeft = function() {\n  'use strict';\n\n  return this.left_;\n};\n\n\n/**\n * This method returns the right-most longitude of this rectangular area\n * @return {H.geo.Longitude} the right-most longitude of the area\n * @publish\n * @export\n */\nH.geo.Rect.prototype.getRight = function() {\n  'use strict';\n\n  return this.right_;\n};\n\n\n/**\n * This method returns the center point of this rectangular area\n * @return {H.geo.Point} the center point of the area\n * @publish\n * @export\n */\nH.geo.Rect.prototype.getCenter = function() {\n  'use strict';\n\n  if (!this.center_) {\n    this.center_ = new H.geo.Point(\n        this.bottom_ + (this.top_ - this.bottom_) / 2,\n        H.geo.Rect.getBoxMidLng_(this.left_, this.getWidth())\n        );\n  }\n  return this.center_;\n};\n\n\n/**\n * Returns this width of this rectangular area in decimal degrees.\n * @return {number} the width of this area\n * @publish\n * @export\n */\nH.geo.Rect.prototype.getWidth = function() {\n  'use strict';\n\n  return H.geo.Rect.getBoxWidth_(this.left_, this.right_);\n};\n\n\n/**\n * Returns this height of this rectangular area in decimal degrees.\n * @return {number} the height of this area\n * @publish\n * @export\n */\nH.geo.Rect.prototype.getHeight = function() {\n  'use strict';\n\n  return this.top_ - this.bottom_;\n};\n\n\n/**\n * Returns a boolean value indicating whether this rectangular area spans\n * across the date border.\n * @return {boolean} true if the area spans across the date border, otherwise false\n * @publish\n * @export\n */\nH.geo.Rect.prototype.isCDB = function() {\n  'use strict';\n\n  return this.left_ > this.right_;\n};\n\n\n/**\n * The method checks if the area enclosed by the given bounding box is 0.\n * @return {boolean} true if the dimensions of the area a 0, otherwise false\n * @publish\n * @export\n */\nH.geo.Rect.prototype.isEmpty = function() {\n  'use strict';\n  return !this.getWidth() && !this.getHeight();\n};\n\n\n/**\n * This method checks if the latitude and longitude supplied by the caller\n * lie within the area of this rectangular area.\n *\n * @export\n * @param {H.geo.Latitude} lat the latitude\n * @param {H.geo.Longitude} lng the longitude\n * @param {boolean=} opt_skipValidation a boolean flag indicating whether to\n *  check validity of the arguments\n * @return {boolean} true if the latitude and longitude are contained in this\n *  area, otherwise false\n * @publish\n */\nH.geo.Rect.prototype.containsLatLng = function(lat, lng, opt_skipValidation) {\n  'use strict';\n\n  var center = this.getCenter(),\n      resBoxCenter,\n      resBox;\n\n  if (!opt_skipValidation) {\n    lat = H.geo.validateLat(lat, this.containsLatLng, 0);\n    lng = H.geo.validateLng(lng, this.containsLatLng, 1);\n  }\n\n  // TODO Pass a opt_out argument to reuse a Rect instance\n  resBox = this.mergeLatLng(lat, lng, opt_skipValidation);\n  resBoxCenter = resBox.getCenter();\n\n  return resBoxCenter['lat'] === center['lat'] &&\n         resBoxCenter['lng'] === center['lng'] &&\n         this.getHeight() === resBox.getHeight() &&\n         this.getWidth() === resBox.getWidth();\n};\n\n\n/**\n * This method checks if the point supplied by the caller lies within the area of this rectangular area.\n * @param {H.geo.IPoint} geoPoint the point\n * @param {boolean=} opt_skipValidation a boolean flag indicating whether to\n *  check validity of the arguments\n * @return {boolean} true if the point is contained in this\n *  area, otherwise false\n * @publish\n * @export\n */\nH.geo.Rect.prototype.containsPoint = function(geoPoint, opt_skipValidation) {\n  'use strict';\n  opt_skipValidation || H.geo.Point.validate(geoPoint, this.containsPoint, 0);\n\n  return this.containsLatLng(geoPoint['lat'], geoPoint['lng'], opt_skipValidation);\n};\n\n\n/**\n * This method checks if the rectangular area supplied by the caller\n * is completely contained within the area of this rectangular area.\n * @param {H.geo.Rect} geoRect the rectangular area\n * @param {boolean=} opt_skipValidation a boolean flag indicating whether to\n *  check validity of the arguments\n * @return {boolean} true if the rectangular area is contained in this\n *  area, otherwise false\n * @publish\n * @export\n */\nH.geo.Rect.prototype.containsRect = function(geoRect, opt_skipValidation) {\n  'use strict';\n  // TODO When we specify an IRect we should except it as argument\n\n  var center = this.getCenter(),\n      resBoxCenter,\n      resBox;\n\n  if (!opt_skipValidation) {\n    if (!H.lang.isInstanceOf(geoRect, H.geo.Rect)) {\n      throw new H.lang.InvalidArgumentError(this.containsRect, 0, geoRect);\n    }\n  }\n\n  // TODO Pass a opt_out argument to reuse a Rect instance\n  resBox = this.mergeRect(geoRect, opt_skipValidation);\n  resBoxCenter = resBox.getCenter();\n\n  return resBoxCenter['lat'] === center['lat'] &&\n         resBoxCenter['lng'] === center['lng'] &&\n         this.getHeight() === resBox.getHeight() &&\n         this.getWidth() === resBox.getWidth();\n};\n\n\n/**\n * This method returns the smallest bounding box that covers this rectangular\n * area and the latitude and longitude supplied by the caller.\n * @param {H.geo.Latitude} lat the latitude\n * @param {H.geo.Longitude} lng the longitude\n * @param {boolean=} opt_skipValidation a boolean flag indicating whether to\n *  check validity of the arguments\n * @param {H.geo.Rect=} opt_out an optional rectangular area to store\n *  the result\n * @return {H.geo.Rect} either the rectangular area passed as out\n *  parameter or a new rectangular area\n * @publish\n * @export\n */\nH.geo.Rect.prototype.mergeLatLng = function(lat, lng, opt_skipValidation, opt_out) {\n  'use strict';\n\n  if (!opt_skipValidation) {\n    if (H.lang.isNaN(lat = H.geo.validateLat(lat))) {\n      throw new H.lang.InvalidArgumentError(this.mergeLatLng, 0, lat);\n    }\n    if (H.lang.isNaN(lng = H.geo.validateLng(lng))) {\n      throw new H.lang.InvalidArgumentError(this.mergeLatLng, 1, lng);\n    }\n  }\n\n  return H.geo.Rect.merge(\n      this.top_, this.left_, this.bottom_, this.right_,\n      lat, lng, lat, lng,\n      opt_out);\n};\n\n\n/**\n * This method returns the smallest bounding box that covers this rectangular\n * area and the point supplied by the caller.\n * @param {H.geo.IPoint} geoPoint the point to merge\n * @param {boolean=} opt_skipValidation a boolean flag indicating whether to\n *  check validity of the arguments\n * @param {H.geo.Rect=} opt_out an optional rectangular area to store\n *  the result\n * @return {H.geo.Rect} either the rectangular area passed as out\n *  parameter or a new rectangular area\n * @publish\n * @export\n */\nH.geo.Rect.prototype.mergePoint = function(geoPoint, opt_skipValidation, opt_out) {\n  'use strict';\n\n  if (!opt_skipValidation) {\n    H.geo.Point.validate(geoPoint, this.mergePoint, 0);\n  }\n  return this.mergeLatLng(geoPoint['lat'], geoPoint['lng'], opt_skipValidation, opt_out);\n};\n\n\n/**\n * This method returns the smallest bounding box that covers this rectangular\n * area and the rectangular area supplied by the caller.\n * @param {H.geo.Rect} geoRect the point to merge\n * @param {boolean=} opt_skipValidation a boolean flag indicating whether to\n *  check validity of the arguments\n * @param {H.geo.Rect=} opt_out an optional rectangular area to store\n *  the result\n * @return {H.geo.Rect} either the rectangular area passed as out\n *  parameter or a new rectangular area\n * @publish\n * @export\n */\nH.geo.Rect.prototype.mergeRect = function(geoRect, opt_skipValidation, opt_out) {\n  'use strict';\n  // TODO When we specify an IRect we should except it as argument\n\n  if (!opt_skipValidation) {\n    if (!H.lang.isInstanceOf(geoRect, H.geo.Rect)) {\n      throw new H.lang.InvalidArgumentError(this.mergeRect, 0, geoRect);\n    }\n  }\n\n  return H.geo.Rect.merge(\n      this.top_, this.left_, this.bottom_, this.right_,\n      geoRect.top_, geoRect.left_, geoRect.bottom_, geoRect.right_,\n      opt_out);\n};\n\n\n/**\n * This method returns the smallest bounding box that covers this rectangular\n * area and the rectangular area supplied by the caller.\n *\n * @publish\n * @export\n *\n * @param {H.geo.Latitude} top The top latitude of the rectangle to merge\n * @param {H.geo.Longitude} left The left longitude of the rectangle to merge\n * @param {H.geo.Latitude} bottom The bottom latitude of the rectangle to merge\n * @param {H.geo.Longitude} right The right longitude of the rectangle to merge\n * @param {boolean=} opt_skipValidation a boolean flag indicating whether to check validity of the arguments\n * @param {H.geo.Rect=} opt_out an optional rectangular area to store the result\n * @return {H.geo.Rect} either the rectangular area passed as out\n *  parameter or a new rectangular area\n */\nH.geo.Rect.prototype.mergeTopLeftBottomRight = function(top, left, bottom, right, opt_skipValidation, opt_out) {\n  'use strict';\n\n  if (!opt_skipValidation) {\n    top = H.geo.validateLat(top, this.mergeTopLeftBottomRight, 0);\n    left = H.geo.validateLng(left, this.mergeTopLeftBottomRight, 1);\n    bottom = H.geo.validateLat(bottom, this.mergeTopLeftBottomRight, 2);\n    right = H.geo.validateLng(right, this.mergeTopLeftBottomRight, 3);\n  }\n\n  return H.geo.Rect.merge(\n      this.top_, this.left_, this.bottom_, this.right_,\n      top, left, bottom, right,\n      opt_out);\n};\n\n\n/**\n * This method checks if the intersection of two bounding boxes is non-empty.\n *\n * @publish\n * @export\n *\n * @param {H.geo.Rect} geoRect a rectangular area to be tested for intersection with this rectangular area\n * @param {boolean=} opt_skipValidation a boolean flag indicating whether to check validity of the arguments\n * @return {boolean} a boolean value indicating whether the two areas intersect\n */\nH.geo.Rect.prototype.intersects = function(geoRect, opt_skipValidation) {\n  'use strict';\n  // TODO When we specify an IRect we should except it as argument\n\n  if (!opt_skipValidation) {\n    if (!H.lang.isInstanceOf(geoRect, H.geo.Rect)) {\n      throw new H.lang.InvalidArgumentError(this.intersects, 0, geoRect);\n    }\n  }\n\n  var cond1 = this.left_ <= this.right_,\n      cond2 = geoRect.left_ <= geoRect.right_,\n      cond3 = this.left_ < geoRect.right_,\n      cond4 = geoRect.left_ < this.right_;\n\n  return this.bottom_ <= geoRect.top_ &&\n      geoRect.bottom_ <= this.top_ &&\n      (!cond1 && (!cond2 || cond3 || cond4) || !cond2 && (cond3 || cond4) || cond3 && cond4);\n};\n\n\n/**\n * This method returns the span between two longitudes\n * @param {H.geo.Longitude} left the left-most longitude\n * @param {H.geo.Longitude} right the right-most longitude\n * @return {number} the distance between the two longitudes in decimal degrees\n * @private\n */\nH.geo.Rect.getBoxWidth_ = function(left, right) {\n  'use strict';\n\n  var len = right - left;\n  len += len < 0 ? H.geo.MAX_LONGITUDE_LENGTH : 0;\n  return len;\n};\n\n\n/**\n * This method returns longitude half-way between the left-most longitude\n * and the width.\n * @param {H.geo.Longitude} left The left-most longitude\n * @param {number} width The width\n * @return {H.geo.Longitude} the longitude half-way along the width\n * @private\n */\nH.geo.Rect.getBoxMidLng_ = function(left, width) {\n  'use strict';\n\n  var midPoint = left + width / 2;\n  midPoint -= midPoint > H.geo.MAX_LONGITUDE ? H.geo.MAX_LONGITUDE_LENGTH : 0;\n  return midPoint;\n};\n\n\n/**\n * This method merges two rects by their values. The result of the merge is\n * a bounding rect which covers all provided rect bounds.\n * @param {H.geo.Latitude} topA the northern-most latitude\n * @param {H.geo.Longitude} leftA the left-most longitude of operand A\n * @param {H.geo.Latitude} bottomA the southern-most latitude of operand A\n * @param {H.geo.Longitude} rightA the right-most latitude of operand A\n * @param {H.geo.Latitude} topB the northern-most latitude of operand B\n * @param {H.geo.Longitude} leftB the left-most longitude of operand B\n * @param {H.geo.Latitude} bottomB the southern-most latitude of operand B\n * @param {H.geo.Longitude} rightB the right-most latitude of operand B\n * @param {H.geo.Rect=} opt_out an optional rect to store the results\n * @return {H.geo.Rect} either the opt_out rect or a new rect\n * @export\n * @publish\n */\nH.geo.Rect.merge = function(topA, leftA, bottomA, rightA, topB, leftB, bottomB, rightB, opt_out) {\n  'use strict';\n\n  var epsilon = 1e-6,\n      minLat,\n      maxLat,\n      widthA,\n      midLngA,\n      widthB,\n      bMid,\n      newMinLon,\n      newMaxLon,\n      distance,\n      x;\n\n  //latitude longitude\n  minLat = H.math.min(bottomA, bottomB);\n  maxLat = H.math.max(topA, topB);\n  // This BBox\n  widthA = H.geo.Rect.getBoxWidth_(leftA, rightA);\n  midLngA = H.geo.Rect.getBoxMidLng_(leftA, widthA);\n  //the new box\n  widthB = H.geo.Rect.getBoxWidth_(leftB, rightB);\n  bMid = H.geo.Rect.getBoxMidLng_(leftB, widthB);\n\n  /*\n   * Computation of new min/max longitude. We need to use error correction because we should\n   * got something like 180.000000000003 insted of 180\n   * due to JS handling with numbers. So we are using epsilon.\n   */\n  distance = bMid - midLngA;\n  distance += (distance - epsilon) < 0 ? H.geo.MAX_LONGITUDE_LENGTH : 0;\n\n  if (distance - epsilon < H.geo.MAX_LONGITUDE_LENGTH / 2) {\n    newMinLon = leftA;\n    newMaxLon = rightB;\n  } else {\n    distance = H.geo.MAX_LONGITUDE_LENGTH - distance;\n    newMinLon = leftB;\n    newMaxLon = rightA;\n  }\n\n  x = distance + widthA / 2 + widthB / 2;\n  if (x + epsilon / 2 >= H.geo.MAX_LONGITUDE_LENGTH) {\n    newMinLon = H.geo.MIN_LONGITUDE;\n    newMaxLon = H.geo.MAX_LONGITUDE;\n  } else if (x - epsilon / 2 < widthA) {\n    newMinLon = leftA;\n    newMaxLon = rightA;\n  } else if (x - epsilon / 2 < widthB) {\n    newMinLon = leftB;\n    newMaxLon = rightB;\n  }\n\n  return opt_out ?\n      opt_out.set_(maxLat, newMinLon, minLat, newMaxLon) :\n      new H.geo.Rect(maxLat, newMinLon, minLat, newMaxLon);\n};\n\n\n/**\n * This method creates a rectangular area from a top-left and bottom-right point\n *  pair.\n * @param {H.geo.IPoint} topLeft the top-left corner of the area\n * @param {H.geo.IPoint} bottomRight the bottom-right corner of the area\n * @param {boolean=} opt_skipValidation a boolean flag indicating whether to\n *  check validity of the arguments\n * @return {H.geo.Rect} returns the rectangular area defined by the\n *  top-left and bottom-right corners\n * @publish\n * @export\n */\nH.geo.Rect.fromPoints = function(topLeft, bottomRight, opt_skipValidation) {\n  'use strict';\n\n  if (!opt_skipValidation) {\n    H.geo.Point.validate(topLeft, H.geo.Rect.fromPoints, 0);\n    H.geo.Point.validate(bottomRight, H.geo.Rect.fromPoints, 1);\n  }\n\n  return new H.geo.Rect(\n      topLeft['lat'],\n      topLeft['lng'],\n      bottomRight['lat'],\n      bottomRight['lng']);\n};\n\n\n/**\n * This method creates the minimum rectangular area covering all of the points\n * in the argument array.\n * @param {Array.<H.geo.IPoint>} pointArray the array of points to cover\n * @param {boolean=} opt_skipValidation a boolean flag indicating whether to\n *  check validity of the arguments\n * @return {?H.geo.Rect} returns the minimum rectangular area covering\n *  the points or {@code null} if no point is covered\n * @publish\n * @export\n */\nH.geo.Rect.coverPoints = function(pointArray, opt_skipValidation) {\n  'use strict';\n\n  if (!H.lang.isArrayLike(pointArray)) {\n    throw new H.lang.InvalidArgumentError(H.geo.Rect.coverPoints, 0, pointArray);\n  }\n\n  var i = 1,\n      l = pointArray.length,\n      point,\n      rect = null;\n  if (l > 0) {\n    point = pointArray[0];\n    rect = H.geo.Rect.fromPoints(point, point, opt_skipValidation);\n    for (; i < l; i++) {\n      point = pointArray[i];\n      rect.mergeLatLng(point['lat'], point['lng'], opt_skipValidation, rect);\n    }\n  }\n  return rect;\n};\n\n\n/**\n * This method creates the minimum rectangular area covering all of the\n * coordinates in the argument array.\n *\n * @param {Array.<number>} latLngAltArray the array of coordinates to cover\n * @param {boolean=} opt_skipValidation a boolean flag indicating whether to\n *  check validity of the arguments\n * @return {H.geo.Rect|undefined} returns the minimum rectangular area covering\n *  the coordinates\n * @publish\n * @export\n */\nH.geo.Rect.coverLatLngAlts = function(latLngAltArray, opt_skipValidation) {\n  'use strict';\n\n  if (!opt_skipValidation) {\n    if (!latLngAltArray || latLngAltArray.length == null) {\n      throw new H.lang.InvalidArgumentError(H.geo.Rect.coverLatLngAlts, 0, latLngAltArray);\n    }\n  }\n\n  var i = 3,\n      l = latLngAltArray.length,\n      rect;\n  if (l > 0) {\n    rect = new H.geo.Rect(latLngAltArray[0], latLngAltArray[1], latLngAltArray[0], latLngAltArray[1]);\n    for (; i < l; i += 3) {\n      rect.mergeLatLng(latLngAltArray[i], latLngAltArray[i + 1], opt_skipValidation, rect);\n    }\n  }\n  return rect;\n};\n\n\n/**\n * This method creates the minimum rectangular area covering all of the\n * rectangular areas in the argument array.\n * @param {Array.<H.geo.Rect>} rectArray the array of points to cover\n * @param {boolean=} opt_skipValidation a boolean flag indicating whether to\n *  check validity of the arguments\n * @return {H.geo.Rect|undefined} returns the minimum rectangular area covering\n *  the rectangular areas\n * @publish\n * @export\n */\nH.geo.Rect.coverRects = function(rectArray, opt_skipValidation) {\n  'use strict';\n  // TODO When we specify an IRect we should except it as argument\n\n  if (opt_skipValidation) {\n    if (!rectArray || rectArray.length == null) {\n      throw new H.lang.InvalidArgumentError(H.geo.Rect.coverRects, 0, rectArray);\n    }\n  }\n\n  var i = 1,\n      l = rectArray.length,\n      rect;\n  if (l > 0) {\n    rect = new H.geo.Rect(rectArray[0].top_, rectArray[0].left_, rectArray[0].bottom_, rectArray[0].right_);\n    for (; i < l; i++) {\n      rect.mergeRect(rectArray[i], opt_skipValidation, rect);\n    }\n  }\n  return rect;\n};\n\n\n/**\n * This method clones the given bounding rect and resizes the clone if necessary\n * until the location supplied by the caller is at its center.\n *\n * @param {H.geo.IPoint} center a point which is to be the center of the\n *  resized rectangular area\n * @param {H.geo.Rect=} opt_out an optional rectangular area to store\n *  the result\n * @return {H.geo.Rect} the resized rectangular area\n * @publish\n * @export\n */\nH.geo.Rect.prototype.resizeToCenter = function(center, opt_out) {\n  'use strict';\n  H.geo.Point.validate(center, this.resizeToCenter, 0);\n\n  var minLon = this.left_,\n      maxLat = this.top_,\n      maxLon = this.right_,\n      minLat = this.bottom_,\n      mid = this.getCenter()['lng'],\n      dlat = center['lat'] - minLat - (maxLat - minLat) / 2,\n      dlon = center['lng'] - mid,\n      resultMinLon,\n      resultMaxLon,\n      resultMinLat,\n      resultMaxLat;\n\n  dlon = dlon > H.geo.MAX_LONGITUDE || dlon < H.geo.MIN_LONGITUDE ? -(mid + center['lng']) : dlon;\n\n  resultMinLon = minLon + (dlon < 0 ? 2 * dlon : 0);\n  resultMinLon = resultMinLon < H.geo.MIN_LONGITUDE ?\n      H.geo.MAX_LONGITUDE_LENGTH + resultMinLon : resultMinLon;\n\n  resultMaxLon = maxLon + (dlon > 0 ? 2 * dlon : 0);\n\n  resultMaxLon = resultMaxLon > H.geo.MAX_LONGITUDE ?\n      resultMaxLon - H.geo.MAX_LONGITUDE_LENGTH : resultMaxLon;\n\n  //if the latitude takes an invalid value, we have to shrink the bounding rect to the world dimension\n  resultMaxLat = dlat > 0 ? maxLat + 2 * dlat : maxLat;\n  if (resultMaxLat >= 90) resultMaxLat = 90;\n\n  resultMinLat = dlat < 0 ? minLat + 2 * dlat : minLat;\n  if (resultMinLat <= -90) resultMinLat = -90;\n\n  return opt_out ?\n      opt_out.set_(resultMaxLat, resultMinLon, resultMinLat, resultMaxLon) :\n      new H.geo.Rect(resultMaxLat, resultMinLon, resultMinLat, resultMaxLon);\n};\n",
		"goog.provide('H.geo.Strip');\n\ngoog.require('H.geo.Point');\ngoog.require('H.geo.Rect');\ngoog.require('H.lang.InvalidArgumentError');\ngoog.require('H.math');\n\n\n\n/**\n * A strip is a flat list of latitude, longitude, altitude tuples in a fixed order.\n * @export\n * @publish\n * @constructor\n * @throws {H.lang.InvalidArgumentError} in case of invalid lat, lng, alt values\n * @param {Array.<number>=} opt_latLngAlts\n *        An optional array of latitude, longitude and altitude triples to initialize the strip with.\n * @param {H.geo.AltitudeContext=} opt_ctx\n *        An optional altitude context for all altitudes contained in this strip.\n */\n// TODO: [JH] split the strip into 2 arrays: 1 lat,lng Float32 array and on sparse\n// array for altitudes use altitude only when needed\n// TODO: Additional argument \"opt_skipValidation\" to skip the validation\nH.geo.Strip = function(opt_latLngAlts, opt_ctx) {\n  'use strict';\n\n  if (opt_latLngAlts) {\n    H.geo.Strip.validateLatLngAlts_(opt_latLngAlts, H.geo.Strip, 0);\n  }\n\n  this.bounds_ = null;\n\n  /**\n   * The list of lat, lng, alt values which define the strip\n   * @private\n   * @type {Array.<number>}\n   */\n  this.latLngAlts_ = opt_latLngAlts || [];\n\n  /**\n   * The altitude context for all altitudes contained in this strip\n   * @private\n   * @type {H.geo.AltitudeContext|undefined}\n   */\n  this.ctx_ = opt_ctx;\n\n  this.DBCs_ = this.countDBCs_(0, this.latLngAlts_.length);\n};\n\n\n/**\n * This method counts the amount of legs crossing the date border within\n * the boundaries specified.\n * @param {number} start the start index from which to check\n * @param {number} end the end index to which to check\n * @return {number} the number of legs that cross the date border\n * @private\n */\nH.geo.Strip.prototype.countDBCs_ = function(start, end) {\n  'use strict';\n  var latLngAlts = this.latLngAlts_,\n      i,\n      count = 0;\n\n  // clamp start and end values:\n  start = H.math.max(start, 0);\n  end = H.math.min(end, latLngAlts.length);\n\n  // We start at start + 1 to point to the longitude slot.\n  // We end one before the end index, equiv. (end - 3) + 1\n  // because the last leg goes from current index to next index\n  end -= 2;\n  for (i = start + 1; i < end; ) {\n    count += H.geo.Strip.isDBC(latLngAlts[i], latLngAlts[i += 3]);\n  }\n  return count;\n};\n\n\n/**\n * This method pushes a lat, lng, alt to the end of this strip.\n * @export\n * @publish\n * @throws {H.lang.InvalidArgumentError} in case of invalid lat, lng, alt values\n * @param {H.geo.Latitude} lat\n * @param {H.geo.Longitude} lng\n * @param {H.geo.Altitude} alt\n */\nH.geo.Strip.prototype.pushLatLngAlt = function(lat, lng, alt) {\n  'use strict';\n  this.pushLatLngAlt_(lat, lng, alt, this.pushLatLngAlt);\n};\n\n\n/**\n * This method pushes a lat, lng, alt to the end of this strip.\n * See {@link H.geo.validateLat}, {@link H.geo.validateLng}, {@link H.geo.validateAlt}\n * @private\n * @throws {H.lang.InvalidArgumentError} in case of invalid lat, lng, alt values\n * @param {H.geo.Latitude} lat\n * @param {H.geo.Longitude} lng\n * @param {H.geo.Altitude} alt\n * @param {Function} caller The caller to use for InvalidArgumentError.\n */\nH.geo.Strip.prototype.pushLatLngAlt_ = function(lat, lng, alt, caller) {\n  'use strict';\n  var len = this.latLngAlts_.length;\n  lat = H.geo.validateLat(lat, caller);\n  lng = H.geo.validateLng(lng, caller);\n  this.latLngAlts_.push(\n      H.geo.validateLat(lat, caller),\n      H.geo.validateLng(lng, caller),\n      alt === H.lang.UNDEF ? 0 : H.geo.validateAlt(alt, caller));\n\n  // Do we had already coordinates before?\n  if (len) {\n    // Adjust the DBC count:\n    this.DBCs_ += H.geo.Strip.isDBC(this.latLngAlts_[len - 2], lng);\n  }\n\n  // Make sure to invalidate the bounding box:\n  this.bounds_ = null;\n};\n\n\n/**\n * This method splices the strip at the provided index, removing the specified\n * number of items at that index and inserting the lat, lng, alt array.\n * @export\n * @publish\n * @throws {H.lang.InvalidArgumentError} in case of invalid opt_latLngAlts argument\n * @param {number} index The index at which to splice\n * @param {number=} opt_nRemove The number of lat, lng, alt values to remove\n * @param {Array.<number>=} opt_latLngAlts The lat, lng, alt values to add\n * @return {Array.<number>} an array of removed elements\n */\nH.geo.Strip.prototype.spliceLatLngAlts = function(index, opt_nRemove, opt_latLngAlts) {\n  'use strict';\n  if (opt_latLngAlts) {\n    H.geo.Strip.validateLatLngAlts_(opt_latLngAlts, this.spliceLatLngAlts, 2);\n  }\n\n  var removed;\n\n  //if we are removing something, we must count the number of DBCs that\n  //are being removed\n  if (opt_nRemove) {\n    this.DBCs_ -= this.countDBCs_(index - 3, index + opt_nRemove + 3);\n  }\n\n  if (!opt_latLngAlts) {\n    removed = this.latLngAlts_.splice(index, opt_nRemove);\n  } else {\n    // TODO This can cause a \"Maximum call stack size exceeded\" Error for large opt_latLngAlts arrays:\n    removed = this.latLngAlts_.splice.apply(this.latLngAlts_, [index, opt_nRemove].concat(opt_latLngAlts));\n  }\n\n  //if we are adding something we must now count the number of DBCs added\n  if (opt_latLngAlts) {\n    this.DBCs_ += this.countDBCs_(index - 3, index + opt_latLngAlts.length + 3);\n  }\n\n  //if we have removed something and not added anything we need to check the\n  //newly created leg around the removal area\n  if (opt_nRemove && !opt_latLngAlts) {\n    this.DBCs_ += this.countDBCs_(index - 3, index - 3);\n  }\n\n  //make sure to invalidate the bounding box\n  this.bounds_ = null;\n\n  return removed;\n};\n\n\n/**\n * This method inserts one set of lat, lng, alt values into the strip at the\n * specified index.\n * @param {number} index the index at which to add the element\n * @param {H.geo.Latitude} lat the latitude to insert\n * @param {H.geo.Longitude} lng the longitude to insert\n * @param {H.geo.Altitude} alt the altitude to insert\n * @export\n * @publish\n */\nH.geo.Strip.prototype.insertLatLngAlt = function(index, lat, lng, alt) {\n  'use strict';\n  this.spliceLatLngAlts(index, 0, [lat, lng, alt]);\n};\n\n\n/**\n * This method removes one set of lat, lng, alt values from the strip at the\n * specified index.\n * @param {number} index\n * @export\n * @publish\n */\nH.geo.Strip.prototype.removeLatLngAlt = function(index) {\n  'use strict';\n  this.spliceLatLngAlts(index, 3);\n};\n\n\n/**\n * This method pushes the lat, lng, alt values of a {@link H.geo.Point} to the end\n * of this strip.\n * @export\n * @publish\n * @throws {H.lang.InvalidArgumentError} in case of invalid geoPoint argument\n * @param {H.geo.IPoint} geoPoint\n */\nH.geo.Strip.prototype.pushPoint = function(geoPoint) {\n  'use strict';\n  this.pushLatLngAlt_(geoPoint['lat'], geoPoint['lng'], geoPoint['alt'], this.pushPoint);\n};\n\n\n/**\n * This method inserts the lat, lng, alt values of a {@link H.geo.Point} into the list\n * at the specified index.\n * @param {number} pointIndex\n * @param {H.geo.IPoint} geoPoint\n * @export\n * @publish\n */\nH.geo.Strip.prototype.insertPoint = function(pointIndex, geoPoint) {\n  'use strict';\n  this.insertLatLngAlt(pointIndex * 3, geoPoint['lat'], geoPoint['lng'], geoPoint['alt']);\n};\n\n\n/**\n * This method removes one set of lat, lng, alt values from this strip at the virtual point\n * index specified.\n * @param {number} pointIndex the virtual point index\n * @export\n * @publish\n */\nH.geo.Strip.prototype.removePoint = function(pointIndex) {\n  'use strict';\n  this.removeLatLngAlt(pointIndex * 3);\n};\n\n\n/**\n * This method extracts a {@link H.geo.Point} from this strip at the virtual point\n * index. If the extracted point has an alt value, the strip's altitude context\n * will be supplied to the point.\n * @param {number} pointIndex the virtual point index in the strip\n * @param {H.geo.Point=} opt_out an optional point object to store the lat,\n * lng, alt values\n *\n * @return {H.geo.Point} returns either the 'opt_out' point object or a\n *  new point object.\n * @export\n * @publish\n */\nH.geo.Strip.prototype.extractPoint = function(pointIndex, opt_out) {\n  'use strict';\n  var latLngAlts = this.latLngAlts_,\n      latLngAltIndex = pointIndex * 3,\n      lat = latLngAlts[latLngAltIndex],\n      lng = latLngAlts[latLngAltIndex + 1],\n      alt = latLngAlts[latLngAltIndex + 2];\n\n  if (opt_out) {\n    opt_out['lat'] = lat;\n    opt_out['lng'] = lng;\n    opt_out['alt'] = alt;\n    if (alt !== undefined) {\n      if (this.ctx_) {\n        opt_out['ctx'] = this.ctx_;\n      }\n    }\n  }\n  return opt_out || new H.geo.Point(lat, lng, alt, H.lang.isDefAndNotNull(alt) ? this.ctx_ : undefined);\n};\n\n\n/**\n * This method is a utility method that iterates over the lat, lng, alt array\n * and calls the provided function for each 3 elements passing lat, lng and alt\n * and the virtual point index as arguments.\n * @param {function(H.geo.Latitude, H.geo.Longitude, H.geo.Altitude, number)} eachFn\n *  the function to be called for each 3 elements\n * @param {number=} opt_start an optional start index to iterate from\n * @param {number=} opt_end an optional end index to iterate to\n *\n * @example\n * var eachFn = function(lat, lng, alt, idx) {\n *   console.log(\"point\", idx + \":\", lat, lng, alt);\n * }\n * myStrip.eachPoint(eachFn); //iterates over each point and logs its latitude and longitude\n *\n * @export\n * @publish\n */\nH.geo.Strip.prototype.eachLatLngAlt = function(eachFn, opt_start, opt_end) {\n  'use strict';\n  var latLngAlts = this.latLngAlts_,\n      i = opt_start || 0,\n      l = opt_end || latLngAlts.length;\n\n  for (; i < l; i += 3) {\n    eachFn(latLngAlts[i], latLngAlts[i + 1], latLngAlts[2], i / 3);\n  }\n};\n\n\n/**\n * This method returns the number of times that legs in this strip cross the\n * date border.\n * @param {boolean=} opt_closed indicates whether the strip is closed (i.e. whether the strip's last and first\n *  coordinates form the closing leg of a polygon)\n * @return {number} the amount of times this strip crosses the date border.\n * @export\n * @publish\n */\nH.geo.Strip.prototype.getDBCs = function(opt_closed) {\n  'use strict';\n  var dbcs = this.DBCs_,\n      latLngAlts;\n  if (opt_closed) {\n    latLngAlts = this.latLngAlts_;\n    dbcs += H.geo.Strip.isDBC(\n        latLngAlts[latLngAlts.length - 2], // last longitutde\n        latLngAlts[1] // first longitude\n        );\n  }\n\n  return dbcs;\n};\n\n\n/**\n * This method return the number of points stored in this strip.\n * @return {number} the number of points in this strip\n * @export\n * @publish\n */\nH.geo.Strip.prototype.getPointCount = function() {\n  'use strict';\n  return this.latLngAlts_.length / 3;\n};\n\n\n/**\n * This method returns the internal array keeping the lat, lng, alt values.\n * Modifying this array directly can destroy the integrity of this strip. Use it\n * only for read access.\n * @return {Array.<number>} returns the raw lat, lng, alt values of this strip\n * @export\n * @publish\n */\nH.geo.Strip.prototype.getLatLngAltArray = function() {\n  'use strict';\n  return this.latLngAlts_;\n};\n\n\n/**\n * This method returns the bounding box of this strip.\n *\n * Note: The strip is treated as an open path. If the bounding rectangle for a\n * closed shape is required, the closing leg must be merged in an extra step.\n * @return {?H.geo.Rect} this strip's bounding rectangle\n * @export\n * @publish\n */\nH.geo.Strip.prototype.getBounds = function() {\n  'use strict';\n  return this.bounds_ || (this.bounds_ = this.computeBounds_());\n};\n\n\n/**\n * This method returns a boolean value indicating whether this strip has a\n * valid computed bounding rectangle.\n *\n * @return {boolean} true if the strip has a properly computed bounding\n *  rectangle, false otherwise\n * @export\n */\nH.geo.Strip.prototype.hasBounds = function() {\n  'use strict';\n  return this.bounds_ !== null;\n};\n\n\n/**\n * This method computes the bounding rectangle of this strip.\n * @return {?H.geo.Rect} the bounding rectangle of this strip\n * @private\n */\nH.geo.Strip.prototype.computeBounds_ = function() {\n  'use strict';\n  var latLngAlts = this.latLngAlts_,\n      l = latLngAlts.length,\n      i = 3,\n      lat1, lat2,\n      lng1, lng2,\n      latS, lngS,\n      rect = null,\n      MINLNG = H.geo.MIN_LONGITUDE,\n      MAXLNG = H.geo.MAX_LONGITUDE,\n      MAXLENGTH = H.geo.MAX_LONGITUDE_LENGTH,\n      merge = H.geo.Rect.merge,\n      abs = H.math.abs;\n\n  if (l >= 3) {\n    lat1 = lat2 = latLngAlts[0];\n    lng1 = lng2 = latLngAlts[1];\n    rect = new H.geo.Rect(lat1, lng1, lat2, lng2);\n    for (; i < l; i += 3) {\n      lat1 = latLngAlts[i - 3];\n      lng1 = latLngAlts[i - 2];\n      lat2 = latLngAlts[i];\n      lng2 = latLngAlts[i + 1];\n\n      if ((lng1 > lng2 && lng2 - lng1 > MAXLNG) ||\n          (lng1 < lng2 && lng1 - lng2 < MINLNG) ||\n          (lng2 < lng1 && abs(lng2 - lng1) < MAXLENGTH / 2)) {\n        lngS = lng1;\n        lng1 = lng2;\n        lng2 = lngS;\n      }\n      if (lat1 < lat2) {\n        latS = lat1;\n        lat1 = lat2;\n        lat2 = latS;\n      }\n      merge(\n          rect.getTop(), rect.getLeft(), rect.getBottom(), rect.getRight(),\n          lat1, lng1, lat2, lng2,\n          rect);\n    }\n  }\n  return rect;\n};\n\n\n/**\n * This method checks whether the given array has has a valid length (integral multiple of 3) and all lat/lng/alt\n * entries have valid values. The values of the array are modified if necessary.\n * See {@link H.geo.validateLat}, {@link H.geo.validateLng}, {@link H.geo.validateAlt}\n * @private\n * @throws {H.lang.InvalidArgumentError} in case of invalid values (only if opt_caller is defined)\n * @param {Array.<number>} latLngAlts The lat/lng/alt array to validate\n * @param {Function=} opt_caller The caller to use for InvalidArgumentError. If omitted no error is thrown.\n * @param {number=} opt_argNr The argument number to use for InvalidArgumentError.\n * @return {boolean} to indicate whether the lat/lng/alt array is valid\n */\nH.geo.Strip.validateLatLngAlts_ = function(latLngAlts, opt_caller, opt_argNr) {\n  'use strict';\n  var i = latLngAlts.length,\n      isValid = !(i % 3),\n      alt;\n  // Validate (and adjust) the single lat, lng and alt values:\n  while (isValid && i) {\n    isValid = !(\n        // ECMA evaluates the LeftHandSideExpression of an assignment first, therefore \"--i\" on the lefthand side:\n        H.lang.isNaN(latLngAlts[--i] = /** @type {number} */ (\n            H.geo.validateAlt((alt = latLngAlts[i]) === H.lang.UNDEF ? 0 : alt))) ||\n        H.lang.isNaN(latLngAlts[--i] =\n            H.geo.validateLng(latLngAlts[i])) ||\n        H.lang.isNaN(latLngAlts[--i] =\n            H.geo.validateLat(latLngAlts[i]))\n        );\n  }\n  if (!isValid && opt_caller) {\n    throw new H.lang.InvalidArgumentError(opt_caller, opt_argNr, latLngAlts);\n  }\n  return isValid;\n};\n\n\n/**\n * This method checks whether two longitudes form a leg which crosses the date border.\n * @param {H.geo.Longitude} lng1 the start longitude of the leg\n * @param {H.geo.Longitude} lng2 the end longitude of the leg\n * @return {boolean} true if the leg crosses the date border, otherwise false\n * @export\n * @publish\n */\nH.geo.Strip.isDBC = function(lng1, lng2) {\n  'use strict';\n  return ((lng1 / lng2 < 0) && H.math.abs(lng2 - lng1) > 180);\n};\n\n\n/**\n * This method initializes a new strip with an array of lat, lng values. Arrays\n * are expected to have an even length with the format {@code [lat, lng, lat, lng, ...]}.\n * @param {Array.<number>} latLngs the array of lat, lng value.\n * @return {H.geo.Strip} the strip containing the lat, lng values\n *\n * @throws {H.lang.InvalidArgumentError} throws an error in case the latLngs array has an odd length\n *\n * @export\n * @publish\n */\nH.geo.Strip.fromLatLngArray = function(latLngs) {\n  //TODO: [JH]: This is the naive approach. It should be checked again when the strip was properly\n  // re-implemented as stated at the top of the file.\n  var strip = new H.geo.Strip(),\n      i = 0,\n      length = latLngs.length;\n\n  if (length % 2) {\n    throw new H.lang.InvalidArgumentError(H.geo.Strip.fromLatLngArray, 0, latLngs);\n  }\n\n  while (i < length) {\n    strip.pushLatLngAlt_(latLngs[i++], latLngs[i++], 0, H.geo.Strip.fromLatLngArray);\n  }\n  return strip;\n};\n",
		"goog.provide('H.util.QuadTree');\n\n//#############################################  Q U A D T R E E   #####################################################\n\n\n\n/**\n * A quad tree is data structure to do space partitioning,\n * ray and square based intersecting lookup. The space spanned by the tree is always square\n * shaped by a given axis radius.\n *\n * NOTE: Be aware that y coordinate is growing from top to bottom!\n *\n * @final\n * @constructor\n * @param {?number} depth To limit the depth levels of the tree. Default is 10 if the value is a falsy.\n * @param {?number} radiusX The root-quad's half size on x-axis. Default is 1 if the value is a falsy.\n * @param {?number} radiusY The root-quad's half size on y-axis. Default is 1 if the value is a falsy.\n * @param {?number} centerX The x coordinate of the root-quad's center. Default is 0 if the value is a falsy.\n * @param {?number} centerY The y coordinate of the root-quad's center. Default is 0 if the value is a falsy.\n */\nH.util.QuadTree = function(depth, radiusX, radiusY, centerX, centerY) {\n  'use strict';\n\n  /**\n   * Holds a depth limit for the quad tree.\n   * @private\n   * @type {number}\n   */\n  this.depth_ = depth || 10;\n\n  /**\n   * Holds the root quad of the quad tree.\n   * @private\n   * @type {?H.util.QuadTree.Quad_}\n   */\n  this.root_ = null; // Will be initial set by flush()\n\n  /**\n   * Holds a hash table of extreme values for min/max X and Y\n   * @private\n   * @type {?H.util.QuadTree.Extremes}\n   */\n  this.extremes_ = null; // Will be set/used by getExtremes()\n\n  /**\n   * Holds a reference to the first quad which holds more then one sub-quad or one or more entries. Using the head_\n   * instead of root_ optimizes read operations because during the intersection operation it ignores all parent quads of\n   * the head_ but starts the directly on the head_ quad.\n   * @private\n   * @type {?H.util.QuadTree.Quad_}\n   */\n  this.head_ = null; // Will be initial set by flush()\n\n  /**\n   * Holds the x component of the root quad's center\n   * @private\n   * @type {number}\n   */\n  this.centerX_ = centerX || 0;\n\n  /**\n   * Holds the y component of the root quad's center.\n   * @private\n   * @type {number}\n   */\n  this.centerY_ = centerY || 0;\n\n  /**\n   * Holds the starting axis radius of the quad tree in x direction.\n   * @private\n   * @type {number}\n   */\n  this.radiusX_ = radiusX || 1;\n\n  /**\n  * Holds the starting axis radius of the quad tree in y direction.\n  * @private\n  * @type {number}\n  */\n  this.radiusY_ = radiusY || 1;\n\n  // Invoke flush() to set up internal state:\n  this.flush();\n\n};\n\n\n/**\n * A static helper method to determine the extreme values for the given quad candidates for each aspect (top, right,\n *   bottom, left)\n * @private\n * @param {H.util.QuadTree.Candidates_} candidates The quad candidates for all aspects\n * @param {H.util.QuadTree.Extremes} extremes The current extreme values for each aspect\n * @return {H.util.QuadTree.Extremes} The determined extreme values or null if the tree is empty\n */\nH.util.QuadTree.getExtremes_ = function(candidates, extremes) {\n  'use strict';\n  var seekingMin,\n      aspectCandidates,\n      aspectCandidate,\n      entries,\n      entry,\n      subCandidates,\n      extreme,\n      value,\n      quad,\n      subCandidatesFound = 0,\n      i,\n      j,\n      aspect = 4,\n      minMaxKey;\n  // Iterate over all aspects:\n  while (aspect--) {\n    // Shift aspects (0...3) to MIN/MAX (4...7):\n    minMaxKey = aspect + 4;\n    subCandidates = [];\n    seekingMin = +!(aspect % 3);\n    extreme = extremes[aspect];\n    i = (aspectCandidates = candidates[aspect]).length;\n    // Iterate over all candidate quads for the current aspect:\n    while (i--) {\n      aspectCandidate = aspectCandidates[i];\n      // Detect the extreme values in entries:\n      if (entries = aspectCandidate.entries_) {\n        j = entries.length;\n        // Iterate over all entries for the current candidate quad:\n        while (j--) {\n          // Do we have a new extreme value? Assign it!\n          if (((value = entries[j][aspect]) > extreme) - seekingMin) {\n            extreme = value;\n          }\n        }\n      }\n      // Find all sub quads which are candidates:\n      j = 4;\n      while (j--) {\n        if (quad = aspectCandidate[j]) {\n          // Do we look for min extremes:\n          if (seekingMin) {\n            quad[minMaxKey] < extreme && subCandidates.push(quad);\n          } else\n            // Otherwise we look for max extremes:\n            quad[minMaxKey] > extreme && subCandidates.push(quad);\n        }\n      }\n    }\n    // Memorize if at least one of the subCandidates lists has a entry:\n    subCandidatesFound += subCandidates.length;\n    // Save the (potentially new) extreme value for the current aspect:\n    extremes[aspect] = extreme;\n    // Save the (potentially) sub candidates for the current aspect:\n    candidates[aspect] = subCandidates;\n  }\n  if (subCandidatesFound) {\n    // RECURSION!\n    extremes = H.util.QuadTree.getExtremes_(candidates, extremes);\n  }\n  return extremes;\n};\n\n\n/**\n * This method determines the extreme values of all stored entries.\n * @return {?H.util.QuadTree.Extremes} The determined extreme values or null if the tree is empty\n */\nH.util.QuadTree.prototype.getExtremes = function() {\n  'use strict';\n  var head,\n      candidates,\n      extremes;\n  if (!(extremes = this.extremes_)) {\n    head = this.head_;\n    // Tree is not empty? Determine the extremes!\n    if (head.entries_ || head[0/*TL*/] || head[1/*TR*/] || head[2/*BL*/] || head[3/*BR*/]) {\n      candidates = [head];\n      extremes = H.util.QuadTree.getExtremes_(\n          // Use for all 4 aspects the head quad as a single candidate:\n          [candidates, candidates, candidates, candidates],\n          // Use the opposite values of [MIN_Y, MAX_X, MAX_Y, MIN_X] as initial extremes:\n          [\n            head[6/*MAX_Y*/],\n            head[7/*MIN_X*/],\n            head[4/*MIN_Y*/],\n            head[5/*MAX_X*/]\n          ]);\n      this.extremes_ = extremes;\n    }\n  }\n  return extremes;\n};\n\n\n/**\n * This method removes all entries from the quad tree.\n */\nH.util.QuadTree.prototype.flush = function() {\n  'use strict';\n  this.head_ = this.root_ = new H.util.QuadTree.Quad_(\n      null,\n      0,\n      this.centerX_ - this.radiusX_,\n      this.centerY_ - this.radiusY_,\n      this.centerX_ + this.radiusX_,\n      this.centerY_ + this.radiusY_);\n  this.extremes_ = null;\n};\n\n\n/**\n * This method removes an entry from the tree.\n * @param {H.util.QuadTree.Entry} entry The quad tree entry to be removed.\n * @return {boolean} whether the given entry could be found and removed or not\n */\nH.util.QuadTree.prototype.remove = function(entry) {\n  'use strict';\n  var result;\n  if (result = entry.quad_.removeEntry_(entry, this)) {\n    this.adjustExtremes_(entry, false);\n  }\n  return result;\n};\n\n\n/**\n * Adds or subtracts the given extremes from the extremes of the tree.\n * @param {H.util.QuadTree.Extremes} extremes\n * @param {boolean=} opt_wasAdded A flag to specify if the extremes should be added (true) or subtracted (false)\n * @private\n */\nH.util.QuadTree.prototype.adjustExtremes_ = function(extremes, opt_wasAdded) {\n  'use strict';\n  var treeExtremes,\n      aspect,\n      isExtreme = false;\n  if (treeExtremes = this.extremes_) {\n    aspect = 4;\n    while (aspect--) {\n      if (isExtreme = aspect % 3 ?\n          extremes[aspect] >= treeExtremes[aspect] :\n          extremes[aspect] <= treeExtremes[aspect]\n      ) {\n        if (opt_wasAdded) {\n          // Replace the tree extreme for this aspect with the according aspect from the given extremes\n          treeExtremes[aspect] = extremes[aspect];\n        } else { // was removed\n          // TODO Delete only single aspects of the extremes instead of reset all.\n          //      That would also cause changes for getExtremes_() algorithm\n          this.extremes_ = null;\n          break;\n        }\n      }\n    }\n  }\n};\n\n\n/**\n * Creates and inserts an entry into the tree for the given coordinates (recursively if necessary).\n * @private\n * @param {H.util.QuadTree.Quad_} quad The current quad of the tree.\n * @param {number} minX The smaller x The component of the coordinates.\n * @param {number} minY The smaller y The component of the coordinates.\n * @param {number} maxX The bigger x The component of the coordinates.\n * @param {number} maxY The bigger y The component of the coordinates.\n * @param {number} remainingDepth The number of remaining depth levels to fill the tree.\n * @return {H.util.QuadTree.Entry} The created entry\n */\nH.util.QuadTree.prototype.insert_ = function(quad, minX, minY, maxX, maxY, remainingDepth) {\n  'use strict';\n  var entry,\n      qMidX = quad[8/*MID_X*/],\n      qMidY = quad[9/*MID_Y*/];\n\n  // Check if the entry could fit into a sub quad:\n  if (\n      // Maximum level not reached?\n      remainingDepth &&\n      // Booth coordinates fit into left or right half? (remember the quad address bit for right):\n      (maxX < qMidX || maxX < quad[5/*MAX_X*/] && minX >= qMidX) &&\n      // Booth coordinates fit into top or bottom half? (remember the quad address bit for bottom):\n      (maxY < qMidY || maxY < quad[6/*MAX_Y*/] && minY >= qMidY)\n  ) {\n    // RECURSION:\n    entry = this.insert_(\n        quad.getSubQuad_(\n            // Compute the address of the sub quad (BOTTOM + RIGHT):\n            (minY >= qMidY ? 2/*BOTTOM*/ : 0) | minX >= qMidX /*RIGHT*/\n        ),\n        minX, minY, maxX, maxY, remainingDepth - 1);\n  }\n  else {\n    // Otherwise:\n    entry = quad.addNewEntry_(minX, minY, maxX, maxY);\n    this.adjustExtremes_(entry, true);\n    this.adjustHead_(quad);\n  }\n\n  return entry;\n};\n\n\n/**\n * Inserts an entry (line ore square - given by min and max pair values for x and y) into the tree.\n * @param {number} minX The minimum x component.\n * @param {number} minY The minimum y component.\n * @param {number} maxX The maximum x component.\n * @param {number} maxY The maximum y component.\n * @return {H.util.QuadTree.Entry} The created quad tree entry.\n */\nH.util.QuadTree.prototype.insertSorted = function(minX, minY, maxX, maxY) {\n  'use strict';\n  return this.insert_(this.root_, minX, minY, maxX, maxY, this.depth_);\n};\n\n\n/**\n * This method inserts an entry (line ore square - given by two spanning coordinate pairs) into the tree.\n * @param {number} x1 The x component of the first coordinate.\n * @param {number} y1 The y component of the first coordinate.\n * @param {number} x2 The x component of the second coordinate.\n * @param {number} y2 The y component of the second coordinate.\n * @return {H.util.QuadTree.Entry} The created quad tree entry.\n */\nH.util.QuadTree.prototype.insert = function(x1, y1, x2, y2) {\n  'use strict';\n  var minX,\n      minY,\n      maxX,\n      maxY;\n  // Sorting the x and y arguments:\n  if (x1 < x2) {\n    minX = x1;\n    maxX = x2;\n  } else {\n    minX = x2;\n    maxX = x1;\n  }\n  if (y1 < y2) {\n    minY = y1;\n    maxY = y2;\n  } else {\n    minY = y2;\n    maxY = y1;\n  }\n  // Now we can call insertSorted...\n  return this.insertSorted(minX, minY, maxX, maxY);\n};\n\n\n/**\n * When item is inserted into tree shortcut to deepest parent quadrant of all entries is computed\n * and set as new head. Head is using for intersection, it is than not needed to traverse from\n * root to head quad. We are updating head when we remove some entry in that way: If we are deleting\n * quad because it doesn't have any entry, and this quad is head than we shift head pointer to quad\n * parent.\n * @private\n * @param {H.util.QuadTree.Quad_=} opt_quad The new added quad\n */\nH.util.QuadTree.prototype.adjustHead_ = function(opt_quad) {\n  'use strict';\n  var head = this.head_,\n      cur;\n  // Invoked by insert_(), head was not changed during insert-operation.\n  // Adjust the head to a quad on self/ancestor axes which has entries or more than one sub-quad:\n  if (opt_quad) {\n    cur = opt_quad;\n    if (cur !== head) {\n      head = cur;\n      while (cur = cur.parent_) {\n        // The quad has entries or less than 3 empty sub-quad slots?\n        if (cur.entries_ || (!cur[0] + !cur[1] + !cur[2] + !cur[3] < 3)) {\n          head = cur;\n        }\n      }\n    }\n  // Invoked by removeEntry_(), tree is already cleaned up, head_ points to an ancestor of the removed quad\n  // which is the root quad or which has entries or sub-quads.\n  // Adjust the head to a quad on self/descendant axes which has entries or more than one sub-quad:\n  } else {\n    // While head has no entries and more than 2 empty sub-quad-slots:\n    while (!head.entries_ && (!head[0] + !head[1] + !head[2] + !head[3] > 2)) {\n      // Does the head has at least one sub-quad?\n      if (cur = head[0] || head[1] || head[2] || head[3]) {\n        head = cur;\n      } else {\n        // We arrived the root quad, break up:\n        break;\n      }\n    }\n  }\n  this.head_ = head;\n};\n\n\n/**\n * Intersect the tree by given rectangle coordinates.\n * This method is suited mainly for visibility lookup (view port) operations.\n *\n * NOTE: Basically quad tree returns all entries whose bounding boxes are partially intersecting with\n * intersecting rectangle (x1,x2,y1,y2) when intersect flag is set to true. It means that when we have a entry\n * with a big diagonal line and a small intersecting rectangle it is possible to get this entry in the resulting\n * entries list even if it is actually not intersecting this rectangle.\n *\n * Example is below:\n * <pre>\n * .|---|...../\n * .|...|..../.\n * .|---|.../..\n * ......../...\n * ......./....\n * ....../.....\n * ...../......\n * ..../.......\n * </pre>\n *\n * NOTE2: Be aware that y coordinate is growing from top to bottom! It means that y1 component must be\n * smaller or equal to y2 otherwise nothing will be found hence the result will be an empty array.\n *\n * @param {number} left The left edge of the rectangle.\n * @param {number} top The top edge of the rectangle.\n * @param {number} right The right edge of the rectangle.\n * @param {number} bottom The bottom edge of the rectangle.\n * @return {Array.<H.util.QuadTree.Entry>} The matching entries of the quad tree.\n */\nH.util.QuadTree.prototype.intersect = function(left, top, right, bottom) {\n  'use strict';\n  var result = [];\n  this.intersect_(this.head_, result, left, top, right, bottom);\n  return result;\n};\n\n\n/**\n * Intersect the tree by a given rectangle.\n * @private\n * @param {H.util.QuadTree.Quad_} quad The current quad of the tree to use for intersection.\n * @param {Array.<H.util.QuadTree.Entry>} result A list to push encountered entries into.\n * @param {number} left The left (minimum x) value of the rectangle to intersect with\n * @param {number} top The top (minimum y) value of the rectangle to intersect with\n * @param {number} right The right (maximum x) value of the rectangle to intersect with\n * @param {number} bottom The bottom (maximum y) value of the rectangle to intersect with\n */\nH.util.QuadTree.prototype.intersect_ = function(quad, result, left, top, right, bottom) {\n  'use strict';\n  var i,\n      entry,\n      entries = quad.entries_,\n      minX = quad[7/*MIN_X*/],\n      midX = quad[8/*MID_X*/],\n      maxX = quad[5/*MAX_X*/],\n      minY = quad[4/*MIN_Y*/],\n      midY = quad[9/*MID_Y*/],\n      maxY = quad[6/*MAX_Y*/],\n      eMinX,\n      eMinY,\n      eMaxX,\n      eMaxY;\n  // Inspect the entries of the quad:\n  if (entries) {\n    i = entries.length;\n    // Check that at least one edge of the given rectangle crosses the quad:\n    if (left > minX || right < maxX || top > minY || bottom < maxY) {\n      // Find all matching entries:\n      while (i--) {\n        entry = entries[i];\n        eMinX = entry[7/*MIN_X*/ - 4];\n        eMinY = entry[4/*MIN_Y*/ - 4];\n        eMaxX = entry[5/*MAX_X*/ - 4];\n        eMaxY = entry[6/*MAX_Y*/ - 4];\n\n        // Check if the entry is NOT completely outside the given rectangle:\n        if (!(eMinX > right || eMaxX < left || eMinY > bottom || eMaxY < top)) {\n          result.push(entry);\n        }\n      }\n    }\n    // Given rectangle contains the whole quadQuad? Put all entries to the result list!\n    else while (i--) result.push(entries[i]);\n  }\n\n  // Inspect the sub quads:\n  // Rectangle intersects the right sub quads?\n  if (right >= midX) {\n    // Rectangle intersects the existing top right sub quad? Recursion!\n    top <= midY && quad[1/*TR*/] &&\n        this.intersect_(quad[1/*TR*/], result, left, top, right, bottom);\n    // Rectangle intersects the existing bottom right sub quad? Recursion!\n    bottom >= midY && quad[3/*BR*/] &&\n        this.intersect_(quad[3/*BR*/], result, left, top, right, bottom);\n  }\n  // Rectangle intersects the left sub quads?\n  if (left <= midX) {\n    // Rectangle intersects the existing top left sub quad? Recursion!\n    top <= midY && quad[0/*TL*/] &&\n        this.intersect_(quad[0/*TL*/], result, left, top, right, bottom);\n    // Rectangle intersects the existing bottom left sub quad? Recursion!\n    bottom >= midY && quad[2/*BL*/] &&\n        this.intersect_(quad[2/*BL*/], result, left, top, right, bottom);\n  }\n};\n\n\n//######################################################################################################################\n\n\n/**\n * To provide minimum and maximum extremes values for x and y\n * @typedef {Object}\n * @property {number} 0 The minimum y (top) value\n * @property {number} 1 The maximum x (right) value\n * @property {number} 2 The maximum y (bottom) value\n * @property {number} 3 The minimum x (left) value\n */\nH.util.QuadTree.Extremes;\n\n\n/**\n * Data structure to keep the quad candidates for all aspects\n * @private\n * @typedef {Object}\n * @property {Array.<H.util.QuadTree.Quad_>} 0 List of all quad candidates for the minimum y aspect (top)\n * @property {Array.<H.util.QuadTree.Quad_>} 1 List of all quad candidates for the maximum x aspect (right)\n * @property {Array.<H.util.QuadTree.Quad_>} 2 List of all quad candidates for the maximum y aspect (bottom)\n * @property {Array.<H.util.QuadTree.Quad_>} 3 List of all quad candidates for the minimum x aspect (left)\n */\nH.util.QuadTree.Candidates_;\n\n\n//######################################################################################################################\n\n\n/**\n * The keys for minimum and maximum x and y values\n * @enum {number}\n */\nH.util.QuadTree.Key = {\n  //\n  //      (aspect 3)            (aspect 1)\n  //       MIN_X 7               MAX_X 5\n  //          |       MID_X 8       |\n  //          |          |          |\n  //          V          V          V\n  //          -----------------------  <-- MIN_Y 4\n  //          |          |          |     (aspect 0)\n  //          |   TL 0   |   TR 1   |\n  //          |          |          |\n  //          |---------------------|  <-- MID_Y 9\n  //          |          |          |\n  //          |   BL 2   |   BR 3   |\n  //          |          |          |\n  //          -----------------------  <-- MAX_Y 6\n  //                                      (aspect 2)\n  //\n  // DON'T change the MIN/MAX values, because the getExtremes algorithm uses computed keys (4...7)!\n\n  TL: 0, // Top Left Sub-Quad\n  TR: 1, // Top Right Sub-Quad\n  BL: 2, // Bottom Left Sub-Quad\n  BR: 3, // Bottom Right Sub-Quad\n\n  MIN_Y: 4,\n  MAX_X: 5,\n  MAX_Y: 6,\n  MIN_X: 7,\n  MID_X: 8,\n  MID_Y: 9,\n\n  RIGHT: 1,  // bit mask to detect TR and BR quads\n  BOTTOM: 2  // bit mask to detect BL and BR quads\n};\n\n\n\n//#################################################  Q U A D   #########################################################\n\n\n\n/**\n * A QuadTree node, holding the tree hierarchy informations (parent-quad and sub-quads) to traverse the QuadTreee.\n * It holds also min/mid/max values to specify the x/y range of the quad for performance optimization.\n * @constructor\n * @private\n * @param {?H.util.QuadTree.Quad_} parent The parent quad, needed if the quad has a parent (no root quad)\n * @param {?number} subQuadAddr The sub-quad-address, TL, TR, BL or BR, needed if the quad has a parent (no root quad)\n * @param {number=} opt_minX The minimum x value of the quad, only needed if the quad has no parent (root quad)\n * @param {number=} opt_minY The minimum y value of the quad, only needed if the quad has no parent (root quad)\n * @param {number=} opt_maxX The maximum x value of the quad, only needed if the quad has no parent (root quad)\n * @param {number=} opt_maxY The maximum y value of the quad, only needed if the quad has no parent (root quad)\n */\nH.util.QuadTree.Quad_ = function(parent, subQuadAddr, opt_minX, opt_minY, opt_maxX, opt_maxY) {\n  'use strict';\n  // Has a parent quad? Compute the min/max/mid values out of the min/mid/max values of the  parent quad!\n  if (parent) {\n\n    /**\n     * The reference to the parent quad or undefined if it has no no parent quad (root)\n     * @type {?H.util.QuadTree.Quad_}\n     * @private\n     */\n    this.parent_ = parent;\n\n    /**\n     * The sub-quad address of the quad, one of TL, TR, BL, BR or undefined if it is a root quad (has no parent)\n     * @type {?number}\n     * @private\n     */\n    this.subQuadAddr_ = subQuadAddr;\n\n    // It's a sub quad in the right half?\n    if (subQuadAddr & H.util.QuadTree.Key.RIGHT) {\n      opt_minX = parent[H.util.QuadTree.Key.MID_X];\n      opt_maxX = parent[H.util.QuadTree.Key.MAX_X];\n    } else {\n      opt_minX = parent[H.util.QuadTree.Key.MIN_X];\n      opt_maxX = parent[H.util.QuadTree.Key.MID_X];\n    }\n    // It's a sub quad in the bottom half?\n    if (subQuadAddr & H.util.QuadTree.Key.BOTTOM) {\n      opt_minY = parent[H.util.QuadTree.Key.MID_Y];\n      opt_maxY = parent[H.util.QuadTree.Key.MAX_Y];\n    } else {\n      opt_minY = parent[H.util.QuadTree.Key.MIN_Y];\n      opt_maxY = parent[H.util.QuadTree.Key.MID_Y];\n    }\n  } else {\n    this.parent_ = null;\n    this.subQuadAddr_ = null;\n  }\n  /**\n   * The minimum x (left) value (inclusive)\n   * @type {number}\n   * @private\n   */\n  this[H.util.QuadTree.Key.MIN_X] = opt_minX;\n  /**\n   * The maximum x (right) value (exclusive)\n   * @type {number}\n   * @private\n   */\n  this[H.util.QuadTree.Key.MAX_X] = opt_maxX;\n  /**\n   * The middle x (center) value\n   * @type {number}\n   * @private\n   */\n  this[H.util.QuadTree.Key.MID_X] = (opt_minX + opt_maxX) / 2;\n  /**\n   * The minimum y (top) value (inclusive)\n   * @type {number}\n   * @private\n   */\n  this[H.util.QuadTree.Key.MIN_Y] = opt_minY;\n  /**\n   * The maximum y (bottom) value (exclusive)\n   * @type {number}\n   * @private\n   */\n  this[H.util.QuadTree.Key.MAX_Y] = opt_maxY;\n  /**\n   * The middle y (center) value\n   * @type {number}\n   * @private\n   */\n  this[H.util.QuadTree.Key.MID_Y] = (opt_minY + opt_maxY) / 2;\n};\n\n\n\nif (goog.DEBUG) {\n  /**\n   * Returns a string representing the address of the quad by concatenating (from right to left) its sub-quad-address\n   * and all sub-quad-addresses of the quads in the ancestor axis\n   * @return {string} A string in form of e.g. '2013'\n   * @override\n   */\n  H.util.QuadTree.Quad_.prototype.toString = function() {\n    'use strict';\n    var str = '',\n        quad = this;\n    while (quad.parent_) {\n      str = quad.subQuadAddr_ + str;\n      quad = quad.parent_;\n    }\n    return '<Quad ' + (str || 'root') + '>';\n  };\n}\n\n\n/**\n * To fetch a specified sub quad. If the sub quad doesn't exists, a new Quad_ is created and registered.\n * @private\n * @param {number} subQuadAddr The address of the sub-quad, one of TL, TR, BL, BR\n * @return {H.util.QuadTree.Quad_} The requested sub quad\n */\nH.util.QuadTree.Quad_.prototype.getSubQuad_ = function(subQuadAddr) {\n  'use strict';\n  return this[subQuadAddr] || (this[subQuadAddr] = new H.util.QuadTree.Quad_(this, subQuadAddr));\n};\n\n\n/**\n * To create a new entry and register it to the quad\n * @private\n * @param {number} minX The minimum x value of the entry\n * @param {number} minY The minimum y value of the entry\n * @param {number} maxX The maximum x value of the entry\n * @param {number} maxY The maximum y value of the entry\n * @return {H.util.QuadTree.Entry} The new created entry\n */\nH.util.QuadTree.Quad_.prototype.addNewEntry_ = function(minX, minY, maxX, maxY) {\n  'use strict';\n  var entry = new H.util.QuadTree.Entry(this, minX, minY, maxX, maxY);\n  (this.entries_ || (this.entries_ = [])).push(entry);\n  return entry;\n};\n\n\n/**\n * To remove a entry from a quad.\n * @private\n * @param {H.util.QuadTree.Entry} entry The entry to remove\n * @param {H.util.QuadTree} tree The tree of the quad\n * @return {boolean} whether the given entry could be found and removed or not\n */\nH.util.QuadTree.Quad_.prototype.removeEntry_ = function(entry, tree) {\n  'use strict';\n  var entries = this.entries_,\n      idx;\n  if (entries) {\n    idx = entries.indexOf(entry);\n    if (idx !== -1) {\n      entries.splice(idx, 1);\n      // No other entries left?\n      if (!entries.length) {\n        // Delete the entries property, clean up the tree and adjust the head!\n        delete this.entries_;\n        this.cleanUp_(tree);\n        tree.adjustHead_();\n      }\n    }\n  }\n  return idx >= 0;\n};\n\n\n/**\n * To cleanup the tree recursively after an entry was removed from a quad.\n * @private\n * @param {H.util.QuadTree} tree The tree to clean up\n */\nH.util.QuadTree.Quad_.prototype.cleanUp_ = function(tree) {\n  'use strict';\n  var quad = this,\n      parent,\n      head = tree.head_;\n  // While quad is not the root quad (it has a parent) and has neither entries nor sub quads [0...3]?\n  while ((parent = quad.parent_) && !(quad.entries_ || quad[0] || quad[1] || quad[2] || quad[3])) {\n    // If the quad is the tree's head, set the tree's head to the quad's parent\n    if (quad === head) {\n      head = parent;\n    }\n    // Delete the references from quad to parent and parent to quad:\n    delete quad.parent_;\n    delete parent[quad.subQuadAddr_];\n    // Continue the clean up with the quad's parent\n    quad = parent;\n  }\n  // Update the tree's head to the (potentially new head)\n  tree.head_ = head;\n};\n\n\n\n//################################################  E n t r y   ########################################################\n\n\n\n/**\n * A Quad tree entry is a pure data object, holding a unique ID and a reference to the according quad plus the data for\n * a certain region, specified by the minX, minY, maxX and maxY parameters\n * @constructor\n * @param {?H.util.QuadTree.Quad_} quad The according quad.\n * @param {number} minX The minimum x value (left).\n * @param {number} minY The minimum y value (top)\n * @param {number} maxX The maximum x value (right)\n * @param {number} maxY The maximum y value (bottom)\n */\nH.util.QuadTree.Entry = function(quad, minX, minY, maxX, maxY) {\n  'use strict';\n  /**\n   * The unique ID of the entry\n   * @type {number}\n   * @publish\n   */\n  this['id'] = ++H.util.QuadTree.Entry.lastID_;\n  this.quad_ = quad;\n\n\n  /**\n   * The minimum y (top) value\n   * @type {number}\n   * @publish\n   */\n  this[0] = minY;\n\n\n  /**\n   * The maximum x (right) value\n   * @type {number}\n   * @publish\n   */\n  this[1] = maxX;\n\n\n  /**\n   * The maximum y (bottom) value\n   * @type {number}\n   * @publish\n   */\n  this[2] = maxY;\n\n\n  /**\n   * The minimum x (left) value\n   * @type {number}\n   * @publish\n   */\n  this[3] = minX;\n};\n\n\n/**\n * The last used entry ID\n * @type {number}\n * @private\n */\nH.util.QuadTree.Entry.lastID_ = 0;\n",
		"goog.provide('H.geo.QuadTree');\n\ngoog.require('H.geo.Point');\ngoog.require('H.geo.Rect');\ngoog.require('H.util.QuadTree');\n\n\n\n/**\n * A quad tree data structure which do space partitioning, ray and square based intersecting lookup.\n * The space spanned by the tree is always square shaped by a given axis radius.\n * @constructor\n * @param {number=} opt_depth To limit the depth levels of the tree. Default is {@code 10} if the value is a falsy.\n */\nH.geo.QuadTree = function(opt_depth) {\n  'use strict';\n\n  /**\n   * Holds the internally used quad tree.\n   * @private\n   * @type {H.util.QuadTree}\n   */\n  this.tree_ = new H.util.QuadTree(+opt_depth || 10, 180, 90, 0, 0);\n\n\n  /**\n   * A list of all entries which cross the date border (they are not stored in the internal quad tree).\n   * The negative longitude will be stored as shifted by +360 degrees. latitudes are stored negated (* -1)\n   * @private\n   * @type {Array.<H.util.QuadTree.Entry>}\n   * @example:\n   *    leftLng:  -170  --> +190 --> maxX\n   *    rightLng: +160  --> +160 --> minX\n   *    topLat:    +10  --> -10  --> minY\n   *    bottomLat: -20  --> +20  --> maxY\n   */\n  this.cdbEntries_ = [];\n\n\n  /**\n   * Indicates that at least one of the entries of the tree is crossing the date border.\n   * @private\n   * @type {boolean}\n   */\n  this.isCDB_ = false;\n\n\n  /**\n   * The boundary of all entries stored in the tree, if no entries stored the value is <code>null</code>\n   * @private\n   * @type {?H.geo.Rect}\n   */\n  this.bounds_ = null;\n\n  /**\n   * The boundary of all entries stored in the internal quad tree, if no entries stored the value is <code>null</code>\n   * @private\n   * @type {?H.geo.Rect}\n   */\n  this.treeBounds_ = null;\n\n  /**\n   * The boundary of all CDB entries stored in the tree, if no CDB entries stored the value is <code>null</code>\n   * @private\n   * @type {?H.geo.Rect}\n   */\n  this.cdbBounds_ = null;\n\n};\n\n\n/**\n * The count of all entries in this tree.\n * @private\n * @type {number}\n */\nH.geo.QuadTree.prototype.entriesCount_ = 0;\n\n\n/**\n * To get the count of all entries in this tree.\n * @return {number}\n */\nH.geo.QuadTree.prototype.getEntriesCount = function() {\n  return this.entriesCount_;\n};\n\n\n/**\n * This method returns a list of all entries which cross the date border.\n * The negative longitude will be stored as shifted by +360 degrees. latitudes are stored negated (* -1)\n * Be aware that the internal CDB entries list is returned by reference - therefore you should never ever modify it!\n * This method must not be exported! Only internal use (e.g. clipping algorithm) allowed.\n * @return {Array.<H.util.QuadTree.Entry>}\n */\nH.geo.QuadTree.prototype.cdbEntries = function() {\n  'use strict';\n  return this.cdbEntries_;\n};\n\n\n/**\n * This method indicates if at least one of the entries of the tree is crossing the date border.\n * @return {boolean}\n */\nH.geo.QuadTree.prototype.isCDB = function() {\n  'use strict';\n  return this.isCDB_;\n};\n\n\n/**\n * This method returns boundary of all entries stored in the tree or <code>null</code> if no entries stored in the tree.\n * @return {?H.geo.Rect}\n */\nH.geo.QuadTree.prototype.getBounds = function() {\n  'use strict';\n  var extremes,\n      bounds,\n      boundsList;\n  if (!this.bounds_) {\n    boundsList = [];\n    // Try to get the tree bounds\n    if (!this.treeBounds_) {\n      if (extremes = this.tree_.getExtremes()) {\n        this.treeBounds_ = new H.geo.Rect(\n            -extremes[0/*MIN_Y*/], extremes[3/*MIN_X*/],\n            -extremes[2/*MAX_Y*/], extremes[1/*MAX_X*/]);\n      }\n    }\n    if (bounds = this.treeBounds_) {\n      boundsList.push(bounds);\n    }\n    // Try to get the CDB bounds\n    if (bounds = this.getCdbBounds_()) {\n      boundsList.push(bounds);\n    }\n    // Do we have at least one ore more bounds:\n    if (bounds = boundsList[0]) {\n      // Do we have two bounds:\n      if (boundsList[1]) {\n        bounds = bounds.mergeRect(boundsList[1], true);\n      }\n      this.bounds_ = bounds;\n    }\n  }\n  return this.bounds_;\n};\n\n\n/**\n * This method returns boundary of all CDB entries (entries which cross the date-border).\n * @private\n * @return {?H.geo.Rect}\n */\nH.geo.QuadTree.prototype.getCdbBounds_ = function() {\n  'use strict';\n  var top, left, bottom, right,\n      cdbEntries,\n      entry,\n      i;\n  // No CDB bounds computed yet but we have CDB entries?\n  if (!this.cdbBounds_ && (i = (cdbEntries = this.cdbEntries_).length)) {\n    // Set the initial extreme values to opposite values:\n    top = 90;\n    left = 360;\n    bottom = -90;\n    right = 0;\n    while (i--) {\n      entry = cdbEntries[i];\n      top = H.math.min(top, entry[0/*MIN_Y*/]);\n      left = H.math.min(left, entry[3/*MIN_X*/]);\n      bottom = H.math.max(bottom, entry[2/*MAX_Y*/]);\n      right = H.math.max(right, entry[1/*MAX_X*/]);\n    }\n    this.cdbBounds_ = new H.geo.Rect(-top, left, -bottom, right - 360);\n  }\n\n  return this.cdbBounds_;\n};\n\n\n/**\n * This method inserts a given entry into the Tree\n * @private\n * @param {H.geo.Latitude} top The top edge of the entry to insert.\n * @param {H.geo.Longitude} left The left edge of the entry to insert.\n * @param {H.geo.Latitude} bottom The bottom edge of the entry to insert.\n * @param {H.geo.Longitude} right The right edge of the entry to insert.\n * @param {boolean} isCDB A flag to signal, that the entry is crossing the date border\n * @return {H.util.QuadTree.Entry} The quad tree entry created for the given boundary.\n */\nH.geo.QuadTree.prototype.insert_ = function(top, left, bottom, right, isCDB) {\n  'use strict';\n  var entry;\n  if (isCDB) {\n    // Create a parentless entry. Negate the top and bottom latitudes and use right as left and left+360 as right:\n    entry = new H.util.QuadTree.Entry(null, right, -top, left + 360, -bottom);\n    // Store it in to the list of CDB entries:\n    this.cdbEntries_.push(entry);\n    // Update the isCDB flag:\n    this.isCDB_ = true;\n    if (this.cdbBounds_) {\n      this.cdbBounds_.mergeTopLeftBottomRight(top, left, bottom, right, true, this.cdbBounds_);\n    }\n  } else { // Isn't a CDB entry\n    // Insert a tree entry which has negated top and bottom latitudes (QuadTree y axis grows from top to bottom)\n    entry = this.tree_.insertSorted(left, -top, right, -bottom);\n    if (this.treeBounds_) {\n      this.treeBounds_.mergeTopLeftBottomRight(top, left, bottom, right, true, this.treeBounds_);\n    }\n  }\n  // Increase the entries count:\n  ++this.entriesCount_;\n  // Reset the bounds_, must be re-computed (merge treeBounds_ and cdbBounds_) on getBounds()\n  this.bounds_ = null;\n  return entry;\n};\n\n\n/**\n * This method inserts a geographical point into the tree.\n * @param {H.geo.Point} point The point to insert\n * @return {H.util.QuadTree.Entry} The quad tree entry created for the point.\n */\nH.geo.QuadTree.prototype.insertPoint = function(point) {\n  'use strict';\n  var lng = point['lng'],\n      lat = point['lat'];\n  return this.insert_(lat, lng, lat, lng, false);\n};\n\n\n/**\n * This method inserts a geographical boundary into the tree.\n * @param {H.geo.Rect} bounds The boundary to insert\n * @return {H.util.QuadTree.Entry} The quad tree entry created for the inserted boundary.\n */\nH.geo.QuadTree.prototype.insertBounds = function(bounds) {\n  'use strict';\n  var topLeft = bounds.getTopLeft(),\n      bottomRight = bounds.getBottomRight(),\n      isCDB = bounds.isCDB();\n  return isCDB ?\n      // Switch left and right because insert_() expect left < right:\n      this.insert_(topLeft['lat'], bottomRight['lng'], bottomRight['lat'], topLeft['lng'], isCDB) :\n      // Otherwise pass it unmodified:\n      this.insert_(topLeft['lat'], topLeft['lng'], bottomRight['lat'], bottomRight['lng'], isCDB);\n};\n\n\n/**\n * This method inserts a line into the tree.\n * The line presents always the shortest connection between booth points on longitude axis.\n * For example insertLine(-1,-91, 1,91) would create a line from {lat:0, lng: 91} to {lat:0, lng:-91} which crosses the\n * date border at {lat:0, lng: 180}\n * @param {H.geo.Latitude} lat1 The latitude of the start point.\n * @param {H.geo.Longitude} lng1 The longitude of the start point.\n * @param {H.geo.Latitude} lat2 The latitude of the end point.\n * @param {H.geo.Longitude} lng2 The longitude of the end point.\n * @return {H.util.QuadTree.Entry} The quad tree entry created for the given points.\n */\nH.geo.QuadTree.prototype.insertLine = function(lat1, lng1, lat2, lng2) {\n  'use strict';\n  var left,\n      top,\n      right,\n      bottom;\n  if (lng1 < lng2) {\n    left = lng1;\n    right = lng2;\n  } else {\n    left = lng2;\n    right = lng1;\n  }\n  if (lat1 < lat2) {\n    top = lat2;\n    bottom = lat1;\n  } else {\n    top = lat1;\n    bottom = lat2;\n  }\n  return this.insert_(top, left, bottom, right, right - left > 180);\n};\n\n\n/**\n * This method removes an entry from the tree.\n * @param {H.util.QuadTree.Entry} entry The entry to remove.\n * @return {boolean} whether the given entry could be found and removed or not\n */\nH.geo.QuadTree.prototype.remove = function(entry) {\n  'use strict';\n  var idx,\n      cdbEntries,\n      result = false;\n  // Entry has a parent? Remove it from the internal tree:\n  if (entry.quad_) {\n    result = this.tree_.remove(entry);\n    // Reset the tree bounds:\n    this.treeBounds_ = null;\n  } else {\n    // Otherwise it's a CDB entry, remove it from the CDB entries list:\n    idx = (cdbEntries = this.cdbEntries_).indexOf(entry);\n    if (result = idx >= 0) {\n      cdbEntries.splice(idx, 1);\n      // update the isCDB_ flag:\n      this.isCDB_ = cdbEntries.length > 0;\n      // TODO: Optimization: if the extremes of the entry are not equal with one of the boundary sides, don't reset it!\n      this.cdbBounds_ = null;\n    }\n  }\n  if (result) {\n    // Decrease the entries count:\n    --this.entriesCount_;\n    this.bounds_ = null;\n  }\n  return result;\n};\n\n\n/**\n * To determine all date border crossing entries which are covered by, or intersecting with the given rectangle.\n * @private\n * @param {H.geo.Latitude} top The top edge of the rectangle (negated latitude).\n * @param {H.geo.Longitude} left The left edge of the rectangle.\n * @param {H.geo.Latitude} bottom The bottom edge of the rectangle (negated latitude).\n * @param {H.geo.Longitude} right The right edge of the rectangle.\n * @return {Array.<H.util.QuadTree.Entry>} The list of all matching CDB entries\n */\nH.geo.QuadTree.prototype.intersectCdbEntries_ = function(top, left, bottom, right) {\n  'use strict';\n  var cdbEntries = this.cdbEntries_,\n      i = cdbEntries.length,\n      entry,\n      result = [],\n      leftShifted,\n      rightShifted;\n  if (i) {\n    leftShifted = left + 360,\n    rightShifted = right + 360;\n    while (i--) {\n      entry = cdbEntries[i];\n      // Intersect with original rectangle:\n      if (this.intersectCdbEntry_(entry, top, left, bottom, right)) {\n        result.push(entry);\n      } else {\n        // Original rectangle doesn't match, try it with a shifted rectangle (360 degrees):\n        if (this.intersectCdbEntry_(entry, top, leftShifted, bottom, rightShifted)) {\n          result.push(entry);\n        }\n      }\n    }\n  }\n  return result;\n};\n\n\n/**\n * To determine if the given CDB entry is covered by, or intersecting with the given rectangle.\n * @private\n * @param {H.util.QuadTree.Entry} entry The entry to test\n * @param {H.geo.Latitude} top The top edge of the rectangle (negated latitude).\n * @param {H.geo.Longitude} left The left edge of the rectangle.\n * @param {H.geo.Latitude} bottom The bottom edge of the rectangle (negated latitude).\n * @param {H.geo.Longitude} right The right edge of the rectangle.\n * @return {boolean} The intersection test result\n */\nH.geo.QuadTree.prototype.intersectCdbEntry_ = function(entry, top, left, bottom, right) {\n  'use strict';\n  var entryLeft = entry[3/*MIN_X*/],\n      entryTop = entry[0/*MIN_Y*/],\n      entryRight = entry[1/*MAX_X*/],\n      entryBottom = entry[2/*MAX_Y*/];\n  // Check if the entry intersects with the given rectangle:\n  return !(entryLeft > right || entryRight < left || entryTop > bottom || entryBottom < top);\n};\n\n\n/**\n * A static helper function to merge a set of entries into another (ignores doublets).\n * @private\n * @param {Array.<H.util.QuadTree.Entry>} set1 Target result set to merge to.\n * @param {Array.<H.util.QuadTree.Entry>} set2 Source result set to merge from.\n */\nH.geo.QuadTree.mergeEntries_ = function(set1, set2) {\n  'use strict';\n  var i,\n      j,\n      lookup,\n      entry;\n  // A alternative implementation with Array's indexOf is terrible slow!\n  if (j = set2.length) {\n    i = set1.length;\n    lookup = {};\n    // Create a lookup table for all entries of set1:\n    while (i--) {\n      lookup[set1[i]['id']] = 1;\n    }\n    // Iterate over set2 and copy all entries into set1 which are not already part of set1:\n    while (j--) {\n      if (!((entry = set2[j])['id'] in lookup)) {\n        set1.push(entry);\n      }\n    }\n  }\n};\n\n\n/**\n * This method method returns a list of entries intersected by or contained\n * within the given bounding rectangle.\n * @param {H.geo.Rect} bounds the bounding rectangle to intersect with\n * @return {Array.<H.util.QuadTree.Entry>} a list of entries intersected by or contained\n *    within the given bounding rectangle.\n */\nH.geo.QuadTree.prototype.intersectBounds = function(bounds) {\n  'use strict';\n  var tree = this.tree_,\n      topLeft = bounds.getTopLeft(),\n      bottomRight = bounds.getBottomRight(),\n      top = -topLeft['lat'], // negated latitude\n      left = topLeft['lng'],\n      bottom = -bottomRight['lat'], // negated latitude\n      right = bottomRight['lng'],\n      result;\n  if (bounds.isCDB()) {\n    // Intersecting the tree from -180 to the rectangle's right side:\n    result = tree.intersect(-180, top, right, bottom);\n    // Intersecting the tree from rectangle's left side to +180 and merge it into the result list:\n    H.geo.QuadTree.mergeEntries_(result, tree.intersect(left, top, 180, bottom));\n    // Intersecting the CDB entries and merge it into the result list:\n    H.geo.QuadTree.mergeEntries_(result,\n        // \"Normalize\" the rectangle (left becomes right, right becomes left + 360):\n        this.intersectCdbEntries_(top, right, bottom, left + 360));\n  } else {\n    // Intersecting the tree with the bounding rectangle:\n    result = tree.intersect(left, top, right, bottom);\n    // Intersecting the CDB entries and merge it into the result list:\n    H.geo.QuadTree.mergeEntries_(result,\n        this.intersectCdbEntries_(top, left, bottom, right));\n  }\n  return result;\n};\n\n\n/**\n * This method intersects the tree using a geographical point, and returnes\n * all entries which are intersecting the given point.\n * @param {H.geo.Point} point The point to intersect with.\n * @return {Array.<H.util.QuadTree.Entry>} a list of entries intersected by the given point.\n */\nH.geo.QuadTree.prototype.intersectPoint = function(point) {\n  'use strict';\n  var lat = -point['lat'],\n      lng = point['lng'],\n      // Intersecting the tree with the point:\n      result = this.tree_.intersect(lng, lat, lng, lat);\n  // Intersecting the CDB entries and merge it into the result list:\n  H.geo.QuadTree.mergeEntries_(result, this.intersectCdbEntries_(lat, lng, lat, lng));\n  return result;\n};\n",
		"goog.provide('H.map.provider.Invalidations');\n\n\n\n/**\n * This class represents invalidation states of a renderable object. A renderer\n * can optimize its rendering strategies based on the information in this\n * object.\n *\n * For example, renderers may differentiate between a purely visual change of\n * an object and a spatial change of an object. One may only require the\n * change of a color during rendering, the other requires to re-project the\n * object.\n * @publish\n * @export\n * @final\n * @constructor\n */\nH.map.provider.Invalidations = function() {\n  'use strict';\n};\n\n\n/**\n * This constant represents the initial invalidation mark an invalidations\n * object has.\n * @type {H.map.provider.Invalidations.Mark}\n * @const\n * @export\n * @publish\n */\nH.map.provider.Invalidations.MARK_INITIAL = H.math.MIN_IDX;\n\n\n/**\n * To update invalidation marks accordingly to the given the invalidation types.\n * @param {H.map.provider.Invalidations.Mark} mark The invalidation mark to set\n * @param {H.math.BitMask} types The descrete invalidation types to update\n * @export\n * @publish\n */\nH.map.provider.Invalidations.prototype.update = function(mark, types) {\n  'use strict';\n  if (types !== H.map.provider.Invalidations.Flag.NONE) {\n    this.anyMark_ = mark;\n    if (types & H.map.provider.Invalidations.Flag.SPATIAL) {\n      this.spatialMark_ = mark;\n    }\n    if (types & H.map.provider.Invalidations.Flag.VISUAL) {\n      this.visualMark_ = mark;\n    }\n    if (types & H.map.provider.Invalidations.Flag.ADD) {\n      this.addMark_ = mark;\n    }\n    if (types & H.map.provider.Invalidations.Flag.REMOVE) {\n      this.removeMark_ = mark;\n    }\n    if (types & H.map.provider.Invalidations.Flag.Z_ORDER) {\n      this.zOrderMark_ = mark;\n    }\n  }\n};\n\n\n/**\n * This method returns the current invalidation mark of this invalidations\n * object.\n * @return {H.map.provider.Invalidations.Mark} the current invalidation mark\n * @export\n * @publish\n */\nH.map.provider.Invalidations.prototype.getMark = function() {\n  'use strict';\n  return this.anyMark_;\n};\n\n\n/**\n * The invalidation mark for ANY\n * @private\n * @type {number}\n */\nH.map.provider.Invalidations.prototype.anyMark_ = H.map.provider.Invalidations.MARK_INITIAL;\n\n\n/**\n * Checks whether any change occurred after the specified since mark\n * @publish\n *\n * @export\n * @param {H.map.provider.Invalidations.Mark} since The invalidation mark to check against\n * @return {boolean}\n */\nH.map.provider.Invalidations.prototype.isAny = function(since) {\n  'use strict';\n  return this.anyMark_ > since;\n};\n\n\n/**\n * The invalidation mark for VISUAL\n * @private\n * @type {number}\n */\nH.map.provider.Invalidations.prototype.visualMark_ = H.map.provider.Invalidations.MARK_INITIAL;\n\n\n/**\n * Checks whether a visual change occurred after the specified since mark\n * @publish\n *\n * @export\n * @param {H.map.provider.Invalidations.Mark} since The invalidation mark to check against\n * @return {boolean}\n */\nH.map.provider.Invalidations.prototype.isVisual = function(since) {\n  'use strict';\n  return this.visualMark_ > since;\n};\n\n\n/**\n * The invalidation mark for SPATIAL\n * @private\n * @type {number}\n */\nH.map.provider.Invalidations.prototype.spatialMark_ = H.map.provider.Invalidations.MARK_INITIAL;\n\n\n/**\n * Checks whether a spatial change occurred after the specified since mark\n * @publish\n *\n * @export\n * @param {H.map.provider.Invalidations.Mark} since The invalidation mark to check against\n * @return {boolean}\n */\nH.map.provider.Invalidations.prototype.isSpatial = function(since) {\n  'use strict';\n  return this.spatialMark_ > since;\n};\n\n\n/**\n * The invalidation mark for ADD\n * @private\n * @type {number}\n */\nH.map.provider.Invalidations.prototype.addMark_ = H.map.provider.Invalidations.MARK_INITIAL;\n\n\n/**\n * Checks whether an add-operation occurred after the specified since mark\n * @publish\n *\n * @export\n * @param {H.map.provider.Invalidations.Mark} since The invalidation mark to check against\n * @return {boolean}\n */\nH.map.provider.Invalidations.prototype.isAdd = function(since) {\n  'use strict';\n  return this.addMark_ > since;\n};\n\n\n/**\n * The invalidation mark for REMOVE\n * @private\n * @type {number}\n */\nH.map.provider.Invalidations.prototype.removeMark_ = H.map.provider.Invalidations.MARK_INITIAL;\n\n\n/**\n * Checks whether a remove operation occurred after the specified since mark\n * @publish\n *\n * @export\n * @param {H.map.provider.Invalidations.Mark} since The invalidation mark to check against\n * @return {boolean}\n */\nH.map.provider.Invalidations.prototype.isRemove = function(since) {\n  'use strict';\n  return this.removeMark_ > since;\n};\n\n\n/**\n * The invalidation mark for Z_ORDER\n * @private\n * @type {number}\n */\nH.map.provider.Invalidations.prototype.zOrderMark_ = H.map.provider.Invalidations.MARK_INITIAL;\n\n\n/**\n * Checks whether a z-order change occurred after the specified since mark\n * @publish\n *\n * @export\n * @param {H.map.provider.Invalidations.Mark} since The invalidation mark to check against\n * @return {boolean}\n */\nH.map.provider.Invalidations.prototype.isZOrder = function(since) {\n  'use strict';\n  return this.zOrderMark_ > since;\n};\n\n\n/**\n * This enumeration encapsulates bit flags for different invalidations of map objects.\n *\n * Flags can be combined to signal multiple changes at the same time.\n * These flags are used by providers to differentiate different kinds\n * of property changes in order to optimize the rendering.\n *\n * Values of this emumeration are:\n *\n * - VISUAL (an object's visual appearance has been changed)\n * - SPATIAL (an object's geospatial attribute has been changed)\n * - REMOVE (an item has been removed from a provider)\n * - ADD (an item has been added to a provider)\n * - Z_ORDER (an item's z-index or it's index within its parent's children collection has been changed)\n * - NONE (indicating that no change has occured)\n *\n * @enum {number}\n * @export\n * @publish\n */\nH.map.provider.Invalidations.Flag = {\n  NONE: 0,\n  VISUAL: 1,\n  SPATIAL: 2,\n  ADD: 4,\n  REMOVE: 8,\n  Z_ORDER: 16\n};\n\n\n/**\n * The invalidation mark represents a counter which is increased whenever an\n * invalidation takes place.\n * @typedef {number}\n * @publish\n */\nH.map.provider.Invalidations.Mark;\n\n",
		"// Copyright 2005 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview Implements the disposable interface. The dispose method is used\n * to clean up references and resources.\n * @author arv@google.com (Erik Arvidsson)\n */\n\n\ngoog.provide('goog.Disposable');\ngoog.provide('goog.dispose');\n\ngoog.require('goog.disposable.IDisposable');\n\n\n\n/**\n * Class that provides the basic implementation for disposable objects. If your\n * class holds one or more references to COM objects, DOM nodes, or other\n * disposable objects, it should extend this class or implement the disposable\n * interface (defined in goog.disposable.IDisposable).\n * @constructor\n * @implements {goog.disposable.IDisposable}\n */\ngoog.Disposable = function() {\n  if (goog.Disposable.MONITORING_MODE != goog.Disposable.MonitoringMode.OFF) {\n    this.creationStack = new Error().stack;\n    goog.Disposable.instances_[goog.getUid(this)] = this;\n  }\n};\n\n\n/**\n * @enum {number} Different monitoring modes for Disposable.\n */\ngoog.Disposable.MonitoringMode = {\n  /**\n   * No monitoring.\n   */\n  OFF: 0,\n  /**\n   * Creating and disposing the goog.Disposable instances is monitored. All\n   * disposable objects need to call the {@code goog.Disposable} base\n   * constructor. The PERMANENT mode must bet switched on before creating any\n   * goog.Disposable instances.\n   */\n  PERMANENT: 1,\n  /**\n   * INTERACTIVE mode can be switched on and off on the fly without producing\n   * errors. It also doesn't warn if the disposable objects don't call the\n   * {@code goog.Disposable} base constructor.\n   */\n  INTERACTIVE: 2\n};\n\n\n/**\n * @define {number} The monitoring mode of the goog.Disposable\n *     instances. Default is OFF. Switching on the monitoring is only\n *     recommended for debugging because it has a significant impact on\n *     performance and memory usage. If switched off, the monitoring code\n *     compiles down to 0 bytes.\n */\ngoog.Disposable.MONITORING_MODE = 0;\n\n\n/**\n * Maps the unique ID of every undisposed {@code goog.Disposable} object to\n * the object itself.\n * @type {!Object.<number, !goog.Disposable>}\n * @private\n */\ngoog.Disposable.instances_ = {};\n\n\n/**\n * @return {!Array.<!goog.Disposable>} All {@code goog.Disposable} objects that\n *     haven't been disposed of.\n */\ngoog.Disposable.getUndisposedObjects = function() {\n  var ret = [];\n  for (var id in goog.Disposable.instances_) {\n    if (goog.Disposable.instances_.hasOwnProperty(id)) {\n      ret.push(goog.Disposable.instances_[Number(id)]);\n    }\n  }\n  return ret;\n};\n\n\n/**\n * Clears the registry of undisposed objects but doesn't dispose of them.\n */\ngoog.Disposable.clearUndisposedObjects = function() {\n  goog.Disposable.instances_ = {};\n};\n\n\n/**\n * Whether the object has been disposed of.\n * @type {boolean}\n * @private\n */\ngoog.Disposable.prototype.disposed_ = false;\n\n\n/**\n * Callbacks to invoke when this object is disposed.\n * @type {Array.<!Function>}\n * @private\n */\ngoog.Disposable.prototype.onDisposeCallbacks_;\n\n\n/**\n * If monitoring the goog.Disposable instances is enabled, stores the creation\n * stack trace of the Disposable instance.\n * @type {string}\n */\ngoog.Disposable.prototype.creationStack;\n\n\n/**\n * @return {boolean} Whether the object has been disposed of.\n * @override\n */\ngoog.Disposable.prototype.isDisposed = function() {\n  return this.disposed_;\n};\n\n\n/**\n * @return {boolean} Whether the object has been disposed of.\n * @deprecated Use {@link #isDisposed} instead.\n */\ngoog.Disposable.prototype.getDisposed = goog.Disposable.prototype.isDisposed;\n\n\n/**\n * Disposes of the object. If the object hasn't already been disposed of, calls\n * {@link #disposeInternal}. Classes that extend {@code goog.Disposable} should\n * override {@link #disposeInternal} in order to delete references to COM\n * objects, DOM nodes, and other disposable objects. Reentrant.\n *\n * @return {void} Nothing.\n * @override\n */\ngoog.Disposable.prototype.dispose = function() {\n  if (!this.disposed_) {\n    // Set disposed_ to true first, in case during the chain of disposal this\n    // gets disposed recursively.\n    this.disposed_ = true;\n    this.disposeInternal();\n    if (goog.Disposable.MONITORING_MODE != goog.Disposable.MonitoringMode.OFF) {\n      var uid = goog.getUid(this);\n      if (goog.Disposable.MONITORING_MODE ==\n          goog.Disposable.MonitoringMode.PERMANENT &&\n          !goog.Disposable.instances_.hasOwnProperty(uid)) {\n        throw Error(this + ' did not call the goog.Disposable base ' +\n            'constructor or was disposed of after a clearUndisposedObjects ' +\n            'call');\n      }\n      delete goog.Disposable.instances_[uid];\n    }\n  }\n};\n\n\n/**\n * Associates a disposable object with this object so that they will be disposed\n * together.\n * @param {goog.disposable.IDisposable} disposable that will be disposed when\n *     this object is disposed.\n */\ngoog.Disposable.prototype.registerDisposable = function(disposable) {\n  this.addOnDisposeCallback(goog.partial(goog.dispose, disposable));\n};\n\n\n/**\n * Invokes a callback function when this object is disposed. Callbacks are\n * invoked in the order in which they were added.\n * @param {function(this:T):?} callback The callback function.\n * @param {T=} opt_scope An optional scope to call the callback in.\n * @template T\n */\ngoog.Disposable.prototype.addOnDisposeCallback = function(callback, opt_scope) {\n  if (!this.onDisposeCallbacks_) {\n    this.onDisposeCallbacks_ = [];\n  }\n  this.onDisposeCallbacks_.push(goog.bind(callback, opt_scope));\n};\n\n\n/**\n * Deletes or nulls out any references to COM objects, DOM nodes, or other\n * disposable objects. Classes that extend {@code goog.Disposable} should\n * override this method.\n * Not reentrant. To avoid calling it twice, it must only be called from the\n * subclass' {@code disposeInternal} method. Everywhere else the public\n * {@code dispose} method must be used.\n * For example:\n * <pre>\n *   mypackage.MyClass = function() {\n *     goog.base(this);\n *     // Constructor logic specific to MyClass.\n *     ...\n *   };\n *   goog.inherits(mypackage.MyClass, goog.Disposable);\n *\n *   mypackage.MyClass.prototype.disposeInternal = function() {\n *     // Dispose logic specific to MyClass.\n *     ...\n *     // Call superclass's disposeInternal at the end of the subclass's, like\n *     // in C++, to avoid hard-to-catch issues.\n *     goog.base(this, 'disposeInternal');\n *   };\n * </pre>\n * @protected\n */\ngoog.Disposable.prototype.disposeInternal = function() {\n  if (this.onDisposeCallbacks_) {\n    while (this.onDisposeCallbacks_.length) {\n      this.onDisposeCallbacks_.shift()();\n    }\n  }\n};\n\n\n/**\n * Returns True if we can verify the object is disposed.\n * Calls {@code isDisposed} on the argument if it supports it.  If obj\n * is not an object with an isDisposed() method, return false.\n * @param {*} obj The object to investigate.\n * @return {boolean} True if we can verify the object is disposed.\n */\ngoog.Disposable.isDisposed = function(obj) {\n  if (obj && typeof obj.isDisposed == 'function') {\n    return obj.isDisposed();\n  }\n  return false;\n};\n\n\n/**\n * Calls {@code dispose} on the argument if it supports it. If obj is not an\n *     object with a dispose() method, this is a no-op.\n * @param {*} obj The object to dispose of.\n */\ngoog.dispose = function(obj) {\n  if (obj && typeof obj.dispose == 'function') {\n    obj.dispose();\n  }\n};\n\n\n/**\n * Calls {@code dispose} on each member of the list that supports it. (If the\n * member is an ArrayLike, then {@code goog.disposeAll()} will be called\n * recursively on each of its members.) If the member is not an object with a\n * {@code dispose()} method, then it is ignored.\n * @param {...*} var_args The list.\n */\ngoog.disposeAll = function(var_args) {\n  for (var i = 0, len = arguments.length; i < len; ++i) {\n    var disposable = arguments[i];\n    if (goog.isArrayLike(disposable)) {\n      goog.disposeAll.apply(null, disposable);\n    } else {\n      goog.dispose(disposable);\n    }\n  }\n};\n",
		"// Copyright 2005 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview A base class for event objects.\n *\n */\n\n\ngoog.provide('goog.events.Event');\ngoog.provide('goog.events.EventLike');\n\n// goog.events.Event no longer depends on goog.Disposable. Keep requiring\n// goog.Disposable here to not break projects which assume this dependency.\ngoog.require('goog.Disposable');\n\n\n/**\n * A typedef for event like objects that are dispatchable via the\n * goog.events.dispatchEvent function. strings are treated as the type for a\n * goog.events.Event. Objects are treated as an extension of a new\n * goog.events.Event with the type property of the object being used as the type\n * of the Event.\n * @typedef {string|Object|goog.events.Event}\n */\ngoog.events.EventLike;\n\n\n\n/**\n * A base class for event objects, so that they can support preventDefault and\n * stopPropagation.\n *\n * @param {string} type Event Type.\n * @param {Object=} opt_target Reference to the object that is the target of\n *     this event. It has to implement the {@code EventTarget} interface\n *     declared at {@link http://developer.mozilla.org/en/DOM/EventTarget}.\n * @constructor\n */\ngoog.events.Event = function(type, opt_target) {\n  /**\n   * Event type.\n   * @type {string}\n   */\n  this.type = type;\n\n  /**\n   * Target of the event.\n   * @type {Object|undefined}\n   */\n  this.target = opt_target;\n\n  /**\n   * Object that had the listener attached.\n   * @type {Object|undefined}\n   */\n  this.currentTarget = this.target;\n};\n\n\n/**\n * For backwards compatibility (goog.events.Event used to inherit\n * goog.Disposable).\n * @deprecated Events don't need to be disposed.\n */\ngoog.events.Event.prototype.disposeInternal = function() {\n};\n\n\n/**\n * For backwards compatibility (goog.events.Event used to inherit\n * goog.Disposable).\n * @deprecated Events don't need to be disposed.\n */\ngoog.events.Event.prototype.dispose = function() {\n};\n\n\n/**\n * Whether to cancel the event in internal capture/bubble processing for IE.\n * @type {boolean}\n * @suppress {underscore} Technically public, but referencing this outside\n *     this package is strongly discouraged.\n */\ngoog.events.Event.prototype.propagationStopped_ = false;\n\n\n/**\n * Whether the default action has been prevented.\n * This is a property to match the W3C specification at {@link\n * http://www.w3.org/TR/DOM-Level-3-Events/#events-event-type-defaultPrevented}.\n * Must be treated as read-only outside the class.\n * @type {boolean}\n */\ngoog.events.Event.prototype.defaultPrevented = false;\n\n\n/**\n * Return value for in internal capture/bubble processing for IE.\n * @type {boolean}\n * @suppress {underscore} Technically public, but referencing this outside\n *     this package is strongly discouraged.\n */\ngoog.events.Event.prototype.returnValue_ = true;\n\n\n/**\n * Stops event propagation.\n */\ngoog.events.Event.prototype.stopPropagation = function() {\n  this.propagationStopped_ = true;\n};\n\n\n/**\n * Prevents the default action, for example a link redirecting to a url.\n */\ngoog.events.Event.prototype.preventDefault = function() {\n  this.defaultPrevented = true;\n  this.returnValue_ = false;\n};\n\n\n/**\n * Stops the propagation of the event. It is equivalent to\n * {@code e.stopPropagation()}, but can be used as the callback argument of\n * {@link goog.events.listen} without declaring another function.\n * @param {!goog.events.Event} e An event.\n */\ngoog.events.Event.stopPropagation = function(e) {\n  e.stopPropagation();\n};\n\n\n/**\n * Prevents the default action. It is equivalent to\n * {@code e.preventDefault()}, but can be used as the callback argument of\n * {@link goog.events.listen} without declaring another function.\n * @param {!goog.events.Event} e An event.\n */\ngoog.events.Event.preventDefault = function(e) {\n  e.preventDefault();\n};\n",
		"goog.provide('H.util.Event');\ngoog.require('goog.events.Event');\n\n\n\n/**\n * Base Event class which is used for all events dispatched by any EventTarget\n * within the api.\n * @publish\n * @export\n * @constructor\n * @extends {goog.events.Event}\n */\nH.util.Event = goog.events.Event;\n\n/**\n * Object which triggered the event\n * @publish\n * @type {*}\n * @name H.util.Event#target\n */\n\n/**\n * Object which has listener attached\n * @publish\n * @type {*}\n * @name H.util.Event#currentTarget\n */\n\n/**\n * Name of the dispatched event\n * @publish\n * @type {string}\n * @name H.util.Event#type\n */\n\n/**\n * Indicates if preventDefault was called on the current event\n * @publish\n * @type {boolean}\n * @name H.util.Event#defaultPrevented\n */\n\n/**\n * Sets defaultPrevented to true. Which can be used to prevent\n * some default behavior.\n * @publish\n * @method\n * @name H.util.Event#preventDefault\n */\n\n\n/**\n * Stops propagation for current event.\n * @method\n * @export\n * @publish\n */\nH.util.Event.prototype.stopPropagation = goog.events.Event.prototype.stopPropagation;\n\n\n//######################################################################################################################\n//############################################### eventPhase Patch #####################################################\n//######################################################################################################################\n\n\n/**\n * The current event phase is the capturing phase.\n * @publish\n * @type {number}\n */\nH.util.Event.prototype['CAPTURING_PHASE'] = 1;\n\n\n/**\n * The event is currently being evaluated at the target.\n * @publish\n * @type {number}\n */\nH.util.Event.prototype['AT_TARGET'] = 2;\n\n\n/**\n * The current event phase is the bubbling phase\n * @publish\n * @type {number}\n */\nH.util.Event.prototype['BUBBLING_PHASE'] = 3;\n\n\n/**\n * Used to indicate which phase of event flow is currently being evaluated.\n * @publish\n * @type {number}\n */\nH.util.Event.prototype['eventPhase'] = 0;\n",
		"goog.provide('H.util.ChangeEvent');\n\ngoog.require('H.util.Event');\n\n\n\n/**\n * This event indicates a change. It contains the old and the new value.\n * @publish\n * @export\n * @extends {H.util.Event}\n * @constructor\n * @param {string} type The type of the event\n * @param {*} newValue The new value of the property\n * @param {*} oldValue The previous value of the property\n */\nH.util.ChangeEvent = function(type, newValue, oldValue) {\n  'use strict';\n\n  H.util.ChangeEvent.superClass_.constructor.call(this, type);\n\n  /**\n   * This property holds the value of the property before it changed.\n   * @type {*}\n   */\n  this['oldValue'] = oldValue;\n\n  /**\n   * This property holds the value of the property after it changed.\n   * @type {*}\n   */\n  this['newValue'] = newValue;\n\n};\nH.lang.inherits(H.util.ChangeEvent, H.util.Event);\n",
		"goog.provide('H.lang.IllegalOperationError');\n\ngoog.require('H.lang');\n\n\n\n/**\n * An error to throw if an illegal operation happens\n *\n * @example\n * Foo.prototype.bar = function() {\n *   if(this.isDisposed()) {\n *     throw new H.lang.IllegalOperationError(H.Foo.prototype.bar, 'Instance already disposed');\n *   }\n * }\n *\n * @publish\n * @export\n * @extends {Error}\n *\n * @constructor\n * @param {Function=} opt_caller The calling function\n * @param {*=} opt_message\n */\nH.lang.IllegalOperationError = function(opt_caller, opt_message) {\n  'use strict';\n  var message = [];\n  if (opt_caller) {\n    message.push(H.lang.getSymbolPath(opt_caller));\n  }\n  if (arguments.length > 1) {\n    message.push(opt_message);\n  }\n  this['message'] = message.join(' ');\n};\ngoog.inherits(H.lang.IllegalOperationError, Error);\n\n\n/** @override */\nH.lang.IllegalOperationError.prototype = Error();\n\n\n/** @override */\nH.lang.IllegalOperationError.prototype['name'] = 'IllegalOperationError';\n",
		"// Copyright 2006 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview Utilities for string manipulation.\n */\n\n\n/**\n * Namespace for string utilities\n */\ngoog.provide('goog.string');\ngoog.provide('goog.string.Unicode');\n\n\n/**\n * Common Unicode string characters.\n * @enum {string}\n */\ngoog.string.Unicode = {\n  NBSP: '\\xa0'\n};\n\n\n/**\n * Fast prefix-checker.\n * @param {string} str The string to check.\n * @param {string} prefix A string to look for at the start of {@code str}.\n * @return {boolean} True if {@code str} begins with {@code prefix}.\n */\ngoog.string.startsWith = function(str, prefix) {\n  return str.lastIndexOf(prefix, 0) == 0;\n};\n\n\n/**\n * Fast suffix-checker.\n * @param {string} str The string to check.\n * @param {string} suffix A string to look for at the end of {@code str}.\n * @return {boolean} True if {@code str} ends with {@code suffix}.\n */\ngoog.string.endsWith = function(str, suffix) {\n  var l = str.length - suffix.length;\n  return l >= 0 && str.indexOf(suffix, l) == l;\n};\n\n\n/**\n * Case-insensitive prefix-checker.\n * @param {string} str The string to check.\n * @param {string} prefix  A string to look for at the end of {@code str}.\n * @return {boolean} True if {@code str} begins with {@code prefix} (ignoring\n *     case).\n */\ngoog.string.caseInsensitiveStartsWith = function(str, prefix) {\n  return goog.string.caseInsensitiveCompare(\n      prefix, str.substr(0, prefix.length)) == 0;\n};\n\n\n/**\n * Case-insensitive suffix-checker.\n * @param {string} str The string to check.\n * @param {string} suffix A string to look for at the end of {@code str}.\n * @return {boolean} True if {@code str} ends with {@code suffix} (ignoring\n *     case).\n */\ngoog.string.caseInsensitiveEndsWith = function(str, suffix) {\n  return goog.string.caseInsensitiveCompare(\n      suffix, str.substr(str.length - suffix.length, suffix.length)) == 0;\n};\n\n\n/**\n * Case-insensitive equality checker.\n * @param {string} str1 First string to check.\n * @param {string} str2 Second string to check.\n * @return {boolean} True if {@code str1} and {@code str2} are the same string,\n *     ignoring case.\n */\ngoog.string.caseInsensitiveEquals = function(str1, str2) {\n  return str1.toLowerCase() == str2.toLowerCase();\n};\n\n\n/**\n * Does simple python-style string substitution.\n * subs(\"foo%s hot%s\", \"bar\", \"dog\") becomes \"foobar hotdog\".\n * @param {string} str The string containing the pattern.\n * @param {...*} var_args The items to substitute into the pattern.\n * @return {string} A copy of {@code str} in which each occurrence of\n *     {@code %s} has been replaced an argument from {@code var_args}.\n */\ngoog.string.subs = function(str, var_args) {\n  // This appears to be slow, but testing shows it compares more or less\n  // equivalent to the regex.exec method.\n  for (var i = 1; i < arguments.length; i++) {\n    // We cast to String in case an argument is a Function.  Replacing $&, for\n    // example, with $$$& stops the replace from subsituting the whole match\n    // into the resultant string.  $$$& in the first replace becomes $$& in the\n    //  second, which leaves $& in the resultant string.  Also:\n    // $$, $`, $', $n $nn\n    var replacement = String(arguments[i]).replace(/\\$/g, '$$$$');\n    str = str.replace(/\\%s/, replacement);\n  }\n  return str;\n};\n\n\n/**\n * Converts multiple whitespace chars (spaces, non-breaking-spaces, new lines\n * and tabs) to a single space, and strips leading and trailing whitespace.\n * @param {string} str Input string.\n * @return {string} A copy of {@code str} with collapsed whitespace.\n */\ngoog.string.collapseWhitespace = function(str) {\n  // Since IE doesn't include non-breaking-space (0xa0) in their \\s character\n  // class (as required by section 7.2 of the ECMAScript spec), we explicitly\n  // include it in the regexp to enforce consistent cross-browser behavior.\n  return str.replace(/[\\s\\xa0]+/g, ' ').replace(/^\\s+|\\s+$/g, '');\n};\n\n\n/**\n * Checks if a string is empty or contains only whitespaces.\n * @param {string} str The string to check.\n * @return {boolean} True if {@code str} is empty or whitespace only.\n */\ngoog.string.isEmpty = function(str) {\n  // testing length == 0 first is actually slower in all browsers (about the\n  // same in Opera).\n  // Since IE doesn't include non-breaking-space (0xa0) in their \\s character\n  // class (as required by section 7.2 of the ECMAScript spec), we explicitly\n  // include it in the regexp to enforce consistent cross-browser behavior.\n  return /^[\\s\\xa0]*$/.test(str);\n};\n\n\n/**\n * Checks if a string is null, undefined, empty or contains only whitespaces.\n * @param {*} str The string to check.\n * @return {boolean} True if{@code str} is null, undefined, empty, or\n *     whitespace only.\n */\ngoog.string.isEmptySafe = function(str) {\n  return goog.string.isEmpty(goog.string.makeSafe(str));\n};\n\n\n/**\n * Checks if a string is all breaking whitespace.\n * @param {string} str The string to check.\n * @return {boolean} Whether the string is all breaking whitespace.\n */\ngoog.string.isBreakingWhitespace = function(str) {\n  return !/[^\\t\\n\\r ]/.test(str);\n};\n\n\n/**\n * Checks if a string contains all letters.\n * @param {string} str string to check.\n * @return {boolean} True if {@code str} consists entirely of letters.\n */\ngoog.string.isAlpha = function(str) {\n  return !/[^a-zA-Z]/.test(str);\n};\n\n\n/**\n * Checks if a string contains only numbers.\n * @param {*} str string to check. If not a string, it will be\n *     casted to one.\n * @return {boolean} True if {@code str} is numeric.\n */\ngoog.string.isNumeric = function(str) {\n  return !/[^0-9]/.test(str);\n};\n\n\n/**\n * Checks if a string contains only numbers or letters.\n * @param {string} str string to check.\n * @return {boolean} True if {@code str} is alphanumeric.\n */\ngoog.string.isAlphaNumeric = function(str) {\n  return !/[^a-zA-Z0-9]/.test(str);\n};\n\n\n/**\n * Checks if a character is a space character.\n * @param {string} ch Character to check.\n * @return {boolean} True if {code ch} is a space.\n */\ngoog.string.isSpace = function(ch) {\n  return ch == ' ';\n};\n\n\n/**\n * Checks if a character is a valid unicode character.\n * @param {string} ch Character to check.\n * @return {boolean} True if {code ch} is a valid unicode character.\n */\ngoog.string.isUnicodeChar = function(ch) {\n  return ch.length == 1 && ch >= ' ' && ch <= '~' ||\n         ch >= '\\u0080' && ch <= '\\uFFFD';\n};\n\n\n/**\n * Takes a string and replaces newlines with a space. Multiple lines are\n * replaced with a single space.\n * @param {string} str The string from which to strip newlines.\n * @return {string} A copy of {@code str} stripped of newlines.\n */\ngoog.string.stripNewlines = function(str) {\n  return str.replace(/(\\r\\n|\\r|\\n)+/g, ' ');\n};\n\n\n/**\n * Replaces Windows and Mac new lines with unix style: \\r or \\r\\n with \\n.\n * @param {string} str The string to in which to canonicalize newlines.\n * @return {string} {@code str} A copy of {@code} with canonicalized newlines.\n */\ngoog.string.canonicalizeNewlines = function(str) {\n  return str.replace(/(\\r\\n|\\r|\\n)/g, '\\n');\n};\n\n\n/**\n * Normalizes whitespace in a string, replacing all whitespace chars with\n * a space.\n * @param {string} str The string in which to normalize whitespace.\n * @return {string} A copy of {@code str} with all whitespace normalized.\n */\ngoog.string.normalizeWhitespace = function(str) {\n  return str.replace(/\\xa0|\\s/g, ' ');\n};\n\n\n/**\n * Normalizes spaces in a string, replacing all consecutive spaces and tabs\n * with a single space. Replaces non-breaking space with a space.\n * @param {string} str The string in which to normalize spaces.\n * @return {string} A copy of {@code str} with all consecutive spaces and tabs\n *    replaced with a single space.\n */\ngoog.string.normalizeSpaces = function(str) {\n  return str.replace(/\\xa0|[ \\t]+/g, ' ');\n};\n\n\n/**\n * Removes the breaking spaces from the left and right of the string and\n * collapses the sequences of breaking spaces in the middle into single spaces.\n * The original and the result strings render the same way in HTML.\n * @param {string} str A string in which to collapse spaces.\n * @return {string} Copy of the string with normalized breaking spaces.\n */\ngoog.string.collapseBreakingSpaces = function(str) {\n  return str.replace(/[\\t\\r\\n ]+/g, ' ').replace(\n      /^[\\t\\r\\n ]+|[\\t\\r\\n ]+$/g, '');\n};\n\n\n/**\n * Trims white spaces to the left and right of a string.\n * @param {string} str The string to trim.\n * @return {string} A trimmed copy of {@code str}.\n */\ngoog.string.trim = function(str) {\n  // Since IE doesn't include non-breaking-space (0xa0) in their \\s character\n  // class (as required by section 7.2 of the ECMAScript spec), we explicitly\n  // include it in the regexp to enforce consistent cross-browser behavior.\n  return str.replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g, '');\n};\n\n\n/**\n * Trims whitespaces at the left end of a string.\n * @param {string} str The string to left trim.\n * @return {string} A trimmed copy of {@code str}.\n */\ngoog.string.trimLeft = function(str) {\n  // Since IE doesn't include non-breaking-space (0xa0) in their \\s character\n  // class (as required by section 7.2 of the ECMAScript spec), we explicitly\n  // include it in the regexp to enforce consistent cross-browser behavior.\n  return str.replace(/^[\\s\\xa0]+/, '');\n};\n\n\n/**\n * Trims whitespaces at the right end of a string.\n * @param {string} str The string to right trim.\n * @return {string} A trimmed copy of {@code str}.\n */\ngoog.string.trimRight = function(str) {\n  // Since IE doesn't include non-breaking-space (0xa0) in their \\s character\n  // class (as required by section 7.2 of the ECMAScript spec), we explicitly\n  // include it in the regexp to enforce consistent cross-browser behavior.\n  return str.replace(/[\\s\\xa0]+$/, '');\n};\n\n\n/**\n * A string comparator that ignores case.\n * -1 = str1 less than str2\n *  0 = str1 equals str2\n *  1 = str1 greater than str2\n *\n * @param {string} str1 The string to compare.\n * @param {string} str2 The string to compare {@code str1} to.\n * @return {number} The comparator result, as described above.\n */\ngoog.string.caseInsensitiveCompare = function(str1, str2) {\n  var test1 = String(str1).toLowerCase();\n  var test2 = String(str2).toLowerCase();\n\n  if (test1 < test2) {\n    return -1;\n  } else if (test1 == test2) {\n    return 0;\n  } else {\n    return 1;\n  }\n};\n\n\n/**\n * Regular expression used for splitting a string into substrings of fractional\n * numbers, integers, and non-numeric characters.\n * @type {RegExp}\n * @private\n */\ngoog.string.numerateCompareRegExp_ = /(\\.\\d+)|(\\d+)|(\\D+)/g;\n\n\n/**\n * String comparison function that handles numbers in a way humans might expect.\n * Using this function, the string \"File 2.jpg\" sorts before \"File 10.jpg\". The\n * comparison is mostly case-insensitive, though strings that are identical\n * except for case are sorted with the upper-case strings before lower-case.\n *\n * This comparison function is significantly slower (about 500x) than either\n * the default or the case-insensitive compare. It should not be used in\n * time-critical code, but should be fast enough to sort several hundred short\n * strings (like filenames) with a reasonable delay.\n *\n * @param {string} str1 The string to compare in a numerically sensitive way.\n * @param {string} str2 The string to compare {@code str1} to.\n * @return {number} less than 0 if str1 < str2, 0 if str1 == str2, greater than\n *     0 if str1 > str2.\n */\ngoog.string.numerateCompare = function(str1, str2) {\n  if (str1 == str2) {\n    return 0;\n  }\n  if (!str1) {\n    return -1;\n  }\n  if (!str2) {\n    return 1;\n  }\n\n  // Using match to split the entire string ahead of time turns out to be faster\n  // for most inputs than using RegExp.exec or iterating over each character.\n  var tokens1 = str1.toLowerCase().match(goog.string.numerateCompareRegExp_);\n  var tokens2 = str2.toLowerCase().match(goog.string.numerateCompareRegExp_);\n\n  var count = Math.min(tokens1.length, tokens2.length);\n\n  for (var i = 0; i < count; i++) {\n    var a = tokens1[i];\n    var b = tokens2[i];\n\n    // Compare pairs of tokens, returning if one token sorts before the other.\n    if (a != b) {\n\n      // Only if both tokens are integers is a special comparison required.\n      // Decimal numbers are sorted as strings (e.g., '.09' < '.1').\n      var num1 = parseInt(a, 10);\n      if (!isNaN(num1)) {\n        var num2 = parseInt(b, 10);\n        if (!isNaN(num2) && num1 - num2) {\n          return num1 - num2;\n        }\n      }\n      return a < b ? -1 : 1;\n    }\n  }\n\n  // If one string is a substring of the other, the shorter string sorts first.\n  if (tokens1.length != tokens2.length) {\n    return tokens1.length - tokens2.length;\n  }\n\n  // The two strings must be equivalent except for case (perfect equality is\n  // tested at the head of the function.) Revert to default ASCII-betical string\n  // comparison to stablize the sort.\n  return str1 < str2 ? -1 : 1;\n};\n\n\n/**\n * URL-encodes a string\n * @param {*} str The string to url-encode.\n * @return {string} An encoded copy of {@code str} that is safe for urls.\n *     Note that '#', ':', and other characters used to delimit portions\n *     of URLs *will* be encoded.\n */\ngoog.string.urlEncode = function(str) {\n  return encodeURIComponent(String(str));\n};\n\n\n/**\n * URL-decodes the string. We need to specially handle '+'s because\n * the javascript library doesn't convert them to spaces.\n * @param {string} str The string to url decode.\n * @return {string} The decoded {@code str}.\n */\ngoog.string.urlDecode = function(str) {\n  return decodeURIComponent(str.replace(/\\+/g, ' '));\n};\n\n\n/**\n * Converts \\n to <br>s or <br />s.\n * @param {string} str The string in which to convert newlines.\n * @param {boolean=} opt_xml Whether to use XML compatible tags.\n * @return {string} A copy of {@code str} with converted newlines.\n */\ngoog.string.newLineToBr = function(str, opt_xml) {\n  return str.replace(/(\\r\\n|\\r|\\n)/g, opt_xml ? '<br />' : '<br>');\n};\n\n\n/**\n * Escape double quote '\"' characters in addition to '&', '<', and '>' so that a\n * string can be included in an HTML tag attribute value within double quotes.\n *\n * It should be noted that > doesn't need to be escaped for the HTML or XML to\n * be valid, but it has been decided to escape it for consistency with other\n * implementations.\n *\n * NOTE(user):\n * HtmlEscape is often called during the generation of large blocks of HTML.\n * Using statics for the regular expressions and strings is an optimization\n * that can more than half the amount of time IE spends in this function for\n * large apps, since strings and regexes both contribute to GC allocations.\n *\n * Testing for the presence of a character before escaping increases the number\n * of function calls, but actually provides a speed increase for the average\n * case -- since the average case often doesn't require the escaping of all 4\n * characters and indexOf() is much cheaper than replace().\n * The worst case does suffer slightly from the additional calls, therefore the\n * opt_isLikelyToContainHtmlChars option has been included for situations\n * where all 4 HTML entities are very likely to be present and need escaping.\n *\n * Some benchmarks (times tended to fluctuate +-0.05ms):\n *                                     FireFox                     IE6\n * (no chars / average (mix of cases) / all 4 chars)\n * no checks                     0.13 / 0.22 / 0.22         0.23 / 0.53 / 0.80\n * indexOf                       0.08 / 0.17 / 0.26         0.22 / 0.54 / 0.84\n * indexOf + re test             0.07 / 0.17 / 0.28         0.19 / 0.50 / 0.85\n *\n * An additional advantage of checking if replace actually needs to be called\n * is a reduction in the number of object allocations, so as the size of the\n * application grows the difference between the various methods would increase.\n *\n * @param {string} str string to be escaped.\n * @param {boolean=} opt_isLikelyToContainHtmlChars Don't perform a check to see\n *     if the character needs replacing - use this option if you expect each of\n *     the characters to appear often. Leave false if you expect few html\n *     characters to occur in your strings, such as if you are escaping HTML.\n * @return {string} An escaped copy of {@code str}.\n */\ngoog.string.htmlEscape = function(str, opt_isLikelyToContainHtmlChars) {\n\n  if (opt_isLikelyToContainHtmlChars) {\n    return str.replace(goog.string.amperRe_, '&amp;')\n          .replace(goog.string.ltRe_, '&lt;')\n          .replace(goog.string.gtRe_, '&gt;')\n          .replace(goog.string.quotRe_, '&quot;');\n\n  } else {\n    // quick test helps in the case when there are no chars to replace, in\n    // worst case this makes barely a difference to the time taken\n    if (!goog.string.allRe_.test(str)) return str;\n\n    // str.indexOf is faster than regex.test in this case\n    if (str.indexOf('&') != -1) {\n      str = str.replace(goog.string.amperRe_, '&amp;');\n    }\n    if (str.indexOf('<') != -1) {\n      str = str.replace(goog.string.ltRe_, '&lt;');\n    }\n    if (str.indexOf('>') != -1) {\n      str = str.replace(goog.string.gtRe_, '&gt;');\n    }\n    if (str.indexOf('\"') != -1) {\n      str = str.replace(goog.string.quotRe_, '&quot;');\n    }\n    return str;\n  }\n};\n\n\n/**\n * Regular expression that matches an ampersand, for use in escaping.\n * @type {RegExp}\n * @private\n */\ngoog.string.amperRe_ = /&/g;\n\n\n/**\n * Regular expression that matches a less than sign, for use in escaping.\n * @type {RegExp}\n * @private\n */\ngoog.string.ltRe_ = /</g;\n\n\n/**\n * Regular expression that matches a greater than sign, for use in escaping.\n * @type {RegExp}\n * @private\n */\ngoog.string.gtRe_ = />/g;\n\n\n/**\n * Regular expression that matches a double quote, for use in escaping.\n * @type {RegExp}\n * @private\n */\ngoog.string.quotRe_ = /\\\"/g;\n\n\n/**\n * Regular expression that matches any character that needs to be escaped.\n * @type {RegExp}\n * @private\n */\ngoog.string.allRe_ = /[&<>\\\"]/;\n\n\n/**\n * Unescapes an HTML string.\n *\n * @param {string} str The string to unescape.\n * @return {string} An unescaped copy of {@code str}.\n */\ngoog.string.unescapeEntities = function(str) {\n  if (goog.string.contains(str, '&')) {\n    // We are careful not to use a DOM if we do not have one. We use the []\n    // notation so that the JSCompiler will not complain about these objects and\n    // fields in the case where we have no DOM.\n    if ('document' in goog.global) {\n      return goog.string.unescapeEntitiesUsingDom_(str);\n    } else {\n      // Fall back on pure XML entities\n      return goog.string.unescapePureXmlEntities_(str);\n    }\n  }\n  return str;\n};\n\n\n/**\n * Unescapes an HTML string using a DOM to resolve non-XML, non-numeric\n * entities. This function is XSS-safe and whitespace-preserving.\n * @private\n * @param {string} str The string to unescape.\n * @return {string} The unescaped {@code str} string.\n */\ngoog.string.unescapeEntitiesUsingDom_ = function(str) {\n  var seen = {'&amp;': '&', '&lt;': '<', '&gt;': '>', '&quot;': '\"'};\n  var div = document.createElement('div');\n  // Match as many valid entity characters as possible. If the actual entity\n  // happens to be shorter, it will still work as innerHTML will return the\n  // trailing characters unchanged. Since the entity characters do not include\n  // open angle bracket, there is no chance of XSS from the innerHTML use.\n  // Since no whitespace is passed to innerHTML, whitespace is preserved.\n  return str.replace(goog.string.HTML_ENTITY_PATTERN_, function(s, entity) {\n    // Check for cached entity.\n    var value = seen[s];\n    if (value) {\n      return value;\n    }\n    // Check for numeric entity.\n    if (entity.charAt(0) == '#') {\n      // Prefix with 0 so that hex entities (e.g. &#x10) parse as hex numbers.\n      var n = Number('0' + entity.substr(1));\n      if (!isNaN(n)) {\n        value = String.fromCharCode(n);\n      }\n    }\n    // Fall back to innerHTML otherwise.\n    if (!value) {\n      // Append a non-entity character to avoid a bug in Webkit that parses\n      // an invalid entity at the end of innerHTML text as the empty string.\n      div.innerHTML = s + ' ';\n      // Then remove the trailing character from the result.\n      value = div.firstChild.nodeValue.slice(0, -1);\n    }\n    // Cache and return.\n    return seen[s] = value;\n  });\n};\n\n\n/**\n * Unescapes XML entities.\n * @private\n * @param {string} str The string to unescape.\n * @return {string} An unescaped copy of {@code str}.\n */\ngoog.string.unescapePureXmlEntities_ = function(str) {\n  return str.replace(/&([^;]+);/g, function(s, entity) {\n    switch (entity) {\n      case 'amp':\n        return '&';\n      case 'lt':\n        return '<';\n      case 'gt':\n        return '>';\n      case 'quot':\n        return '\"';\n      default:\n        if (entity.charAt(0) == '#') {\n          // Prefix with 0 so that hex entities (e.g. &#x10) parse as hex.\n          var n = Number('0' + entity.substr(1));\n          if (!isNaN(n)) {\n            return String.fromCharCode(n);\n          }\n        }\n        // For invalid entities we just return the entity\n        return s;\n    }\n  });\n};\n\n\n/**\n * Regular expression that matches an HTML entity.\n * See also HTML5: Tokenization / Tokenizing character references.\n * @private\n * @type {!RegExp}\n */\ngoog.string.HTML_ENTITY_PATTERN_ = /&([^;\\s<&]+);?/g;\n\n\n/**\n * Do escaping of whitespace to preserve spatial formatting. We use character\n * entity #160 to make it safer for xml.\n * @param {string} str The string in which to escape whitespace.\n * @param {boolean=} opt_xml Whether to use XML compatible tags.\n * @return {string} An escaped copy of {@code str}.\n */\ngoog.string.whitespaceEscape = function(str, opt_xml) {\n  return goog.string.newLineToBr(str.replace(/  /g, ' &#160;'), opt_xml);\n};\n\n\n/**\n * Strip quote characters around a string.  The second argument is a string of\n * characters to treat as quotes.  This can be a single character or a string of\n * multiple character and in that case each of those are treated as possible\n * quote characters. For example:\n *\n * <pre>\n * goog.string.stripQuotes('\"abc\"', '\"`') --> 'abc'\n * goog.string.stripQuotes('`abc`', '\"`') --> 'abc'\n * </pre>\n *\n * @param {string} str The string to strip.\n * @param {string} quoteChars The quote characters to strip.\n * @return {string} A copy of {@code str} without the quotes.\n */\ngoog.string.stripQuotes = function(str, quoteChars) {\n  var length = quoteChars.length;\n  for (var i = 0; i < length; i++) {\n    var quoteChar = length == 1 ? quoteChars : quoteChars.charAt(i);\n    if (str.charAt(0) == quoteChar && str.charAt(str.length - 1) == quoteChar) {\n      return str.substring(1, str.length - 1);\n    }\n  }\n  return str;\n};\n\n\n/**\n * Truncates a string to a certain length and adds '...' if necessary.  The\n * length also accounts for the ellipsis, so a maximum length of 10 and a string\n * 'Hello World!' produces 'Hello W...'.\n * @param {string} str The string to truncate.\n * @param {number} chars Max number of characters.\n * @param {boolean=} opt_protectEscapedCharacters Whether to protect escaped\n *     characters from being cut off in the middle.\n * @return {string} The truncated {@code str} string.\n */\ngoog.string.truncate = function(str, chars, opt_protectEscapedCharacters) {\n  if (opt_protectEscapedCharacters) {\n    str = goog.string.unescapeEntities(str);\n  }\n\n  if (str.length > chars) {\n    str = str.substring(0, chars - 3) + '...';\n  }\n\n  if (opt_protectEscapedCharacters) {\n    str = goog.string.htmlEscape(str);\n  }\n\n  return str;\n};\n\n\n/**\n * Truncate a string in the middle, adding \"...\" if necessary,\n * and favoring the beginning of the string.\n * @param {string} str The string to truncate the middle of.\n * @param {number} chars Max number of characters.\n * @param {boolean=} opt_protectEscapedCharacters Whether to protect escaped\n *     characters from being cutoff in the middle.\n * @param {number=} opt_trailingChars Optional number of trailing characters to\n *     leave at the end of the string, instead of truncating as close to the\n *     middle as possible.\n * @return {string} A truncated copy of {@code str}.\n */\ngoog.string.truncateMiddle = function(str, chars,\n    opt_protectEscapedCharacters, opt_trailingChars) {\n  if (opt_protectEscapedCharacters) {\n    str = goog.string.unescapeEntities(str);\n  }\n\n  if (opt_trailingChars && str.length > chars) {\n    if (opt_trailingChars > chars) {\n      opt_trailingChars = chars;\n    }\n    var endPoint = str.length - opt_trailingChars;\n    var startPoint = chars - opt_trailingChars;\n    str = str.substring(0, startPoint) + '...' + str.substring(endPoint);\n  } else if (str.length > chars) {\n    // Favor the beginning of the string:\n    var half = Math.floor(chars / 2);\n    var endPos = str.length - half;\n    half += chars % 2;\n    str = str.substring(0, half) + '...' + str.substring(endPos);\n  }\n\n  if (opt_protectEscapedCharacters) {\n    str = goog.string.htmlEscape(str);\n  }\n\n  return str;\n};\n\n\n/**\n * Special chars that need to be escaped for goog.string.quote.\n * @private\n * @type {Object}\n */\ngoog.string.specialEscapeChars_ = {\n  '\\0': '\\\\0',\n  '\\b': '\\\\b',\n  '\\f': '\\\\f',\n  '\\n': '\\\\n',\n  '\\r': '\\\\r',\n  '\\t': '\\\\t',\n  '\\x0B': '\\\\x0B', // '\\v' is not supported in JScript\n  '\"': '\\\\\"',\n  '\\\\': '\\\\\\\\'\n};\n\n\n/**\n * Character mappings used internally for goog.string.escapeChar.\n * @private\n * @type {Object}\n */\ngoog.string.jsEscapeCache_ = {\n  '\\'': '\\\\\\''\n};\n\n\n/**\n * Encloses a string in double quotes and escapes characters so that the\n * string is a valid JS string.\n * @param {string} s The string to quote.\n * @return {string} A copy of {@code s} surrounded by double quotes.\n */\ngoog.string.quote = function(s) {\n  s = String(s);\n  if (s.quote) {\n    return s.quote();\n  } else {\n    var sb = ['\"'];\n    for (var i = 0; i < s.length; i++) {\n      var ch = s.charAt(i);\n      var cc = ch.charCodeAt(0);\n      sb[i + 1] = goog.string.specialEscapeChars_[ch] ||\n          ((cc > 31 && cc < 127) ? ch : goog.string.escapeChar(ch));\n    }\n    sb.push('\"');\n    return sb.join('');\n  }\n};\n\n\n/**\n * Takes a string and returns the escaped string for that character.\n * @param {string} str The string to escape.\n * @return {string} An escaped string representing {@code str}.\n */\ngoog.string.escapeString = function(str) {\n  var sb = [];\n  for (var i = 0; i < str.length; i++) {\n    sb[i] = goog.string.escapeChar(str.charAt(i));\n  }\n  return sb.join('');\n};\n\n\n/**\n * Takes a character and returns the escaped string for that character. For\n * example escapeChar(String.fromCharCode(15)) -> \"\\\\x0E\".\n * @param {string} c The character to escape.\n * @return {string} An escaped string representing {@code c}.\n */\ngoog.string.escapeChar = function(c) {\n  if (c in goog.string.jsEscapeCache_) {\n    return goog.string.jsEscapeCache_[c];\n  }\n\n  if (c in goog.string.specialEscapeChars_) {\n    return goog.string.jsEscapeCache_[c] = goog.string.specialEscapeChars_[c];\n  }\n\n  var rv = c;\n  var cc = c.charCodeAt(0);\n  if (cc > 31 && cc < 127) {\n    rv = c;\n  } else {\n    // tab is 9 but handled above\n    if (cc < 256) {\n      rv = '\\\\x';\n      if (cc < 16 || cc > 256) {\n        rv += '0';\n      }\n    } else {\n      rv = '\\\\u';\n      if (cc < 4096) { // \\u1000\n        rv += '0';\n      }\n    }\n    rv += cc.toString(16).toUpperCase();\n  }\n\n  return goog.string.jsEscapeCache_[c] = rv;\n};\n\n\n/**\n * Takes a string and creates a map (Object) in which the keys are the\n * characters in the string. The value for the key is set to true. You can\n * then use goog.object.map or goog.array.map to change the values.\n * @param {string} s The string to build the map from.\n * @return {Object} The map of characters used.\n */\n// TODO(arv): It seems like we should have a generic goog.array.toMap. But do\n//            we want a dependency on goog.array in goog.string?\ngoog.string.toMap = function(s) {\n  var rv = {};\n  for (var i = 0; i < s.length; i++) {\n    rv[s.charAt(i)] = true;\n  }\n  return rv;\n};\n\n\n/**\n * Checks whether a string contains a given substring.\n * @param {string} s The string to test.\n * @param {string} ss The substring to test for.\n * @return {boolean} True if {@code s} contains {@code ss}.\n */\ngoog.string.contains = function(s, ss) {\n  return s.indexOf(ss) != -1;\n};\n\n\n/**\n * Returns the non-overlapping occurrences of ss in s.\n * If either s or ss evalutes to false, then returns zero.\n * @param {string} s The string to look in.\n * @param {string} ss The string to look for.\n * @return {number} Number of occurrences of ss in s.\n */\ngoog.string.countOf = function(s, ss) {\n  return s && ss ? s.split(ss).length - 1 : 0;\n};\n\n\n/**\n * Removes a substring of a specified length at a specific\n * index in a string.\n * @param {string} s The base string from which to remove.\n * @param {number} index The index at which to remove the substring.\n * @param {number} stringLength The length of the substring to remove.\n * @return {string} A copy of {@code s} with the substring removed or the full\n *     string if nothing is removed or the input is invalid.\n */\ngoog.string.removeAt = function(s, index, stringLength) {\n  var resultStr = s;\n  // If the index is greater or equal to 0 then remove substring\n  if (index >= 0 && index < s.length && stringLength > 0) {\n    resultStr = s.substr(0, index) +\n        s.substr(index + stringLength, s.length - index - stringLength);\n  }\n  return resultStr;\n};\n\n\n/**\n *  Removes the first occurrence of a substring from a string.\n *  @param {string} s The base string from which to remove.\n *  @param {string} ss The string to remove.\n *  @return {string} A copy of {@code s} with {@code ss} removed or the full\n *      string if nothing is removed.\n */\ngoog.string.remove = function(s, ss) {\n  var re = new RegExp(goog.string.regExpEscape(ss), '');\n  return s.replace(re, '');\n};\n\n\n/**\n *  Removes all occurrences of a substring from a string.\n *  @param {string} s The base string from which to remove.\n *  @param {string} ss The string to remove.\n *  @return {string} A copy of {@code s} with {@code ss} removed or the full\n *      string if nothing is removed.\n */\ngoog.string.removeAll = function(s, ss) {\n  var re = new RegExp(goog.string.regExpEscape(ss), 'g');\n  return s.replace(re, '');\n};\n\n\n/**\n * Escapes characters in the string that are not safe to use in a RegExp.\n * @param {*} s The string to escape. If not a string, it will be casted\n *     to one.\n * @return {string} A RegExp safe, escaped copy of {@code s}.\n */\ngoog.string.regExpEscape = function(s) {\n  return String(s).replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g, '\\\\$1').\n      replace(/\\x08/g, '\\\\x08');\n};\n\n\n/**\n * Repeats a string n times.\n * @param {string} string The string to repeat.\n * @param {number} length The number of times to repeat.\n * @return {string} A string containing {@code length} repetitions of\n *     {@code string}.\n */\ngoog.string.repeat = function(string, length) {\n  return new Array(length + 1).join(string);\n};\n\n\n/**\n * Pads number to given length and optionally rounds it to a given precision.\n * For example:\n * <pre>padNumber(1.25, 2, 3) -> '01.250'\n * padNumber(1.25, 2) -> '01.25'\n * padNumber(1.25, 2, 1) -> '01.3'\n * padNumber(1.25, 0) -> '1.25'</pre>\n *\n * @param {number} num The number to pad.\n * @param {number} length The desired length.\n * @param {number=} opt_precision The desired precision.\n * @return {string} {@code num} as a string with the given options.\n */\ngoog.string.padNumber = function(num, length, opt_precision) {\n  var s = goog.isDef(opt_precision) ? num.toFixed(opt_precision) : String(num);\n  var index = s.indexOf('.');\n  if (index == -1) {\n    index = s.length;\n  }\n  return goog.string.repeat('0', Math.max(0, length - index)) + s;\n};\n\n\n/**\n * Returns a string representation of the given object, with\n * null and undefined being returned as the empty string.\n *\n * @param {*} obj The object to convert.\n * @return {string} A string representation of the {@code obj}.\n */\ngoog.string.makeSafe = function(obj) {\n  return obj == null ? '' : String(obj);\n};\n\n\n/**\n * Concatenates string expressions. This is useful\n * since some browsers are very inefficient when it comes to using plus to\n * concat strings. Be careful when using null and undefined here since\n * these will not be included in the result. If you need to represent these\n * be sure to cast the argument to a String first.\n * For example:\n * <pre>buildString('a', 'b', 'c', 'd') -> 'abcd'\n * buildString(null, undefined) -> ''\n * </pre>\n * @param {...*} var_args A list of strings to concatenate. If not a string,\n *     it will be casted to one.\n * @return {string} The concatenation of {@code var_args}.\n */\ngoog.string.buildString = function(var_args) {\n  return Array.prototype.join.call(arguments, '');\n};\n\n\n/**\n * Returns a string with at least 64-bits of randomness.\n *\n * Doesn't trust Javascript's random function entirely. Uses a combination of\n * random and current timestamp, and then encodes the string in base-36 to\n * make it shorter.\n *\n * @return {string} A random string, e.g. sn1s7vb4gcic.\n */\ngoog.string.getRandomString = function() {\n  var x = 2147483648;\n  return Math.floor(Math.random() * x).toString(36) +\n         Math.abs(Math.floor(Math.random() * x) ^ goog.now()).toString(36);\n};\n\n\n/**\n * Compares two version numbers.\n *\n * @param {string|number} version1 Version of first item.\n * @param {string|number} version2 Version of second item.\n *\n * @return {number}  1 if {@code version1} is higher.\n *                   0 if arguments are equal.\n *                  -1 if {@code version2} is higher.\n */\ngoog.string.compareVersions = function(version1, version2) {\n  var order = 0;\n  // Trim leading and trailing whitespace and split the versions into\n  // subversions.\n  var v1Subs = goog.string.trim(String(version1)).split('.');\n  var v2Subs = goog.string.trim(String(version2)).split('.');\n  var subCount = Math.max(v1Subs.length, v2Subs.length);\n\n  // Iterate over the subversions, as long as they appear to be equivalent.\n  for (var subIdx = 0; order == 0 && subIdx < subCount; subIdx++) {\n    var v1Sub = v1Subs[subIdx] || '';\n    var v2Sub = v2Subs[subIdx] || '';\n\n    // Split the subversions into pairs of numbers and qualifiers (like 'b').\n    // Two different RegExp objects are needed because they are both using\n    // the 'g' flag.\n    var v1CompParser = new RegExp('(\\\\d*)(\\\\D*)', 'g');\n    var v2CompParser = new RegExp('(\\\\d*)(\\\\D*)', 'g');\n    do {\n      var v1Comp = v1CompParser.exec(v1Sub) || ['', '', ''];\n      var v2Comp = v2CompParser.exec(v2Sub) || ['', '', ''];\n      // Break if there are no more matches.\n      if (v1Comp[0].length == 0 && v2Comp[0].length == 0) {\n        break;\n      }\n\n      // Parse the numeric part of the subversion. A missing number is\n      // equivalent to 0.\n      var v1CompNum = v1Comp[1].length == 0 ? 0 : parseInt(v1Comp[1], 10);\n      var v2CompNum = v2Comp[1].length == 0 ? 0 : parseInt(v2Comp[1], 10);\n\n      // Compare the subversion components. The number has the highest\n      // precedence. Next, if the numbers are equal, a subversion without any\n      // qualifier is always higher than a subversion with any qualifier. Next,\n      // the qualifiers are compared as strings.\n      order = goog.string.compareElements_(v1CompNum, v2CompNum) ||\n          goog.string.compareElements_(v1Comp[2].length == 0,\n              v2Comp[2].length == 0) ||\n          goog.string.compareElements_(v1Comp[2], v2Comp[2]);\n      // Stop as soon as an inequality is discovered.\n    } while (order == 0);\n  }\n\n  return order;\n};\n\n\n/**\n * Compares elements of a version number.\n *\n * @param {string|number|boolean} left An element from a version number.\n * @param {string|number|boolean} right An element from a version number.\n *\n * @return {number}  1 if {@code left} is higher.\n *                   0 if arguments are equal.\n *                  -1 if {@code right} is higher.\n * @private\n */\ngoog.string.compareElements_ = function(left, right) {\n  if (left < right) {\n    return -1;\n  } else if (left > right) {\n    return 1;\n  }\n  return 0;\n};\n\n\n/**\n * Maximum value of #goog.string.hashCode, exclusive. 2^32.\n * @type {number}\n * @private\n */\ngoog.string.HASHCODE_MAX_ = 0x100000000;\n\n\n/**\n * String hash function similar to java.lang.String.hashCode().\n * The hash code for a string is computed as\n * s[0] * 31 ^ (n - 1) + s[1] * 31 ^ (n - 2) + ... + s[n - 1],\n * where s[i] is the ith character of the string and n is the length of\n * the string. We mod the result to make it between 0 (inclusive) and 2^32\n * (exclusive).\n * @param {string} str A string.\n * @return {number} Hash value for {@code str}, between 0 (inclusive) and 2^32\n *  (exclusive). The empty string returns 0.\n */\ngoog.string.hashCode = function(str) {\n  var result = 0;\n  for (var i = 0; i < str.length; ++i) {\n    result = 31 * result + str.charCodeAt(i);\n    // Normalize to 4 byte range, 0 ... 2^32.\n    result %= goog.string.HASHCODE_MAX_;\n  }\n  return result;\n};\n\n\n/**\n * The most recent unique ID. |0 is equivalent to Math.floor in this case.\n * @type {number}\n * @private\n */\ngoog.string.uniqueStringCounter_ = Math.random() * 0x80000000 | 0;\n\n\n/**\n * Generates and returns a string which is unique in the current document.\n * This is useful, for example, to create unique IDs for DOM elements.\n * @return {string} A unique id.\n */\ngoog.string.createUniqueString = function() {\n  return 'goog_' + goog.string.uniqueStringCounter_++;\n};\n\n\n/**\n * Converts the supplied string to a number, which may be Ininity or NaN.\n * This function strips whitespace: (toNumber(' 123') === 123)\n * This function accepts scientific notation: (toNumber('1e1') === 10)\n *\n * This is better than Javascript's built-in conversions because, sadly:\n *     (Number(' ') === 0) and (parseFloat('123a') === 123)\n *\n * @param {string} str The string to convert.\n * @return {number} The number the supplied string represents, or NaN.\n */\ngoog.string.toNumber = function(str) {\n  var num = Number(str);\n  if (num == 0 && goog.string.isEmpty(str)) {\n    return NaN;\n  }\n  return num;\n};\n\n\n/**\n * Converts a string from selector-case to camelCase (e.g. from\n * \"multi-part-string\" to \"multiPartString\"), useful for converting\n * CSS selectors and HTML dataset keys to their equivalent JS properties.\n * @param {string} str The string in selector-case form.\n * @return {string} The string in camelCase form.\n */\ngoog.string.toCamelCase = function(str) {\n  return String(str).replace(/\\-([a-z])/g, function(all, match) {\n    return match.toUpperCase();\n  });\n};\n\n\n/**\n * Converts a string from camelCase to selector-case (e.g. from\n * \"multiPartString\" to \"multi-part-string\"), useful for converting JS\n * style and dataset properties to equivalent CSS selectors and HTML keys.\n * @param {string} str The string in camelCase form.\n * @return {string} The string in selector-case form.\n */\ngoog.string.toSelectorCase = function(str) {\n  return String(str).replace(/([A-Z])/g, '-$1').toLowerCase();\n};\n\n\n/**\n * Converts a string into TitleCase. First character of the string is always\n * capitalized in addition to the first letter of every subsequent word.\n * Words are delimited by one or more whitespaces by default. Custom delimiters\n * can optionally be specified to replace the default, which doesn't preserve\n * whitespace delimiters and instead must be explicitly included if needed.\n *\n * Default delimiter => \" \":\n *    goog.string.toTitleCase('oneTwoThree')    => 'OneTwoThree'\n *    goog.string.toTitleCase('one two three')  => 'One Two Three'\n *    goog.string.toTitleCase('  one   two   ') => '  One   Two   '\n *    goog.string.toTitleCase('one_two_three')  => 'One_two_three'\n *    goog.string.toTitleCase('one-two-three')  => 'One-two-three'\n *\n * Custom delimiter => \"_-.\":\n *    goog.string.toTitleCase('oneTwoThree', '_-.')       => 'OneTwoThree'\n *    goog.string.toTitleCase('one two three', '_-.')     => 'One two three'\n *    goog.string.toTitleCase('  one   two   ', '_-.')    => '  one   two   '\n *    goog.string.toTitleCase('one_two_three', '_-.')     => 'One_Two_Three'\n *    goog.string.toTitleCase('one-two-three', '_-.')     => 'One-Two-Three'\n *    goog.string.toTitleCase('one...two...three', '_-.') => 'One...Two...Three'\n *    goog.string.toTitleCase('one. two. three', '_-.')   => 'One. two. three'\n *    goog.string.toTitleCase('one-two.three', '_-.')     => 'One-Two.Three'\n *\n * @param {string} str String value in camelCase form.\n * @param {string=} opt_delimiters Custom delimiter character set used to\n *      distinguish words in the string value. Each character represents a\n *      single delimiter. When provided, default whitespace delimiter is\n *      overridden and must be explicitly included if needed.\n * @return {string} String value in TitleCase form.\n */\ngoog.string.toTitleCase = function(str, opt_delimiters) {\n  var delimiters = goog.isString(opt_delimiters) ?\n      goog.string.regExpEscape(opt_delimiters) : '\\\\s';\n\n  // For IE8, we need to prevent using an empty character set. Otherwise,\n  // incorrect matching will occur.\n  delimiters = delimiters ? '|[' + delimiters + ']+' : '';\n\n  var regexp = new RegExp('(^' + delimiters + ')([a-z])', 'g');\n  return str.replace(regexp, function(all, p1, p2) {\n    return p1 + p2.toUpperCase();\n  });\n};\n\n\n/**\n * Parse a string in decimal or hexidecimal ('0xFFFF') form.\n *\n * To parse a particular radix, please use parseInt(string, radix) directly. See\n * https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/parseInt\n *\n * This is a wrapper for the built-in parseInt function that will only parse\n * numbers as base 10 or base 16.  Some JS implementations assume strings\n * starting with \"0\" are intended to be octal. ES3 allowed but discouraged\n * this behavior. ES5 forbids it.  This function emulates the ES5 behavior.\n *\n * For more information, see Mozilla JS Reference: http://goo.gl/8RiFj\n *\n * @param {string|number|null|undefined} value The value to be parsed.\n * @return {number} The number, parsed. If the string failed to parse, this\n *     will be NaN.\n */\ngoog.string.parseInt = function(value) {\n  // Force finite numbers to strings.\n  if (isFinite(value)) {\n    value = String(value);\n  }\n\n  if (goog.isString(value)) {\n    // If the string starts with '0x' or '-0x', parse as hex.\n    return /^\\s*-?0x/i.test(value) ?\n        parseInt(value, 16) : parseInt(value, 10);\n  }\n\n  return NaN;\n};\n",
		"// Copyright 2012 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview An interface for a listenable JavaScript object.\n *\n * WARNING(chrishenry): DO NOT USE! SUPPORT NOT FULLY IMPLEMENTED.\n */\n\ngoog.provide('goog.events.Listenable');\ngoog.provide('goog.events.ListenableKey');\n\n\n\n/**\n * A listenable interface. Also see goog.events.EventTarget.\n * @interface\n */\ngoog.events.Listenable = function() {};\n\n\n/**\n * Whether to use the new listenable interface and mechanism in\n * goog.events and goog.events.EventTarget.\n *\n * TODO(user): Remove this once launched and stable.\n *\n * @type {boolean}\n */\ngoog.events.Listenable.USE_LISTENABLE_INTERFACE = false;\n\n\n/**\n * An expando property to indicate that an object implements\n * goog.events.Listenable.\n *\n * See addImplementation/isImplementedBy.\n *\n * @type {string}\n * @const\n * @private\n */\ngoog.events.Listenable.IMPLEMENTED_BY_PROP_ = '__closure_listenable';\n\n\n/**\n * Marks a given class (constructor) as an implementation of\n * Listenable, do that we can query that fact at runtime. The class\n * must have already implemented the interface.\n * @param {!Function} cls The class constructor. The corresponding\n *     class must have already implemented the interface.\n */\ngoog.events.Listenable.addImplementation = function(cls) {\n  cls.prototype[goog.events.Listenable.IMPLEMENTED_BY_PROP_] = true;\n};\n\n\n/**\n * @param {Object} obj The object to check.\n * @return {boolean} Whether a given instance implements\n *     Listenable. The class/superclass of the instance must call\n *     addImplementation.\n */\ngoog.events.Listenable.isImplementedBy = function(obj) {\n  return !!(obj && obj[goog.events.Listenable.IMPLEMENTED_BY_PROP_]);\n};\n\n\n/**\n * Adds an event listener. A listener can only be added once to an\n * object and if it is added again the key for the listener is\n * returned. Note that if the existing listener is a one-off listener\n * (registered via listenOnce), it will no longer be a one-off\n * listener after a call to listen().\n *\n * @param {string} type Event type or array of event types.\n * @param {!Function} listener Callback method, or an object\n *     with a handleEvent function.\n * @param {boolean=} opt_useCapture Whether to fire in capture phase\n *     (defaults to false).\n * @param {Object=} opt_listenerScope Object in whose scope to call the\n *     listener.\n * @return {goog.events.ListenableKey} Unique key for the listener.\n */\ngoog.events.Listenable.prototype.listen;\n\n\n/**\n * Adds an event listener that is removed automatically after the\n * listener fired once.\n *\n * If an existing listener already exists, listenOnce will do\n * nothing. In particular, if the listener was previously registered\n * via listen(), listenOnce() will not turn the listener into a\n * one-off listener. Similarly, if there is already an existing\n * one-off listener, listenOnce does not modify the listeners (it is\n * still a once listener).\n *\n * @param {string} type Event type or array of event types.\n * @param {!Function} listener Callback method, or an object\n *     with a handleEvent function.\n * @param {boolean=} opt_useCapture Whether to fire in capture phase\n *     (defaults to false).\n * @param {Object=} opt_listenerScope Object in whose scope to call the\n *     listener.\n * @return {goog.events.ListenableKey} Unique key for the listener.\n */\ngoog.events.Listenable.prototype.listenOnce;\n\n\n/**\n * Removes an event listener which was added with listen() or listenOnce().\n *\n * Implementation needs to call goog.events.cleanUp.\n *\n * @param {string} type Event type or array of event types.\n * @param {!Function} listener Callback method, or an object\n *     with a handleEvent function. TODO(user): Consider whether\n *     we can remove Object.\n * @param {boolean=} opt_useCapture Whether to fire in capture phase\n *     (defaults to false).\n * @param {Object=} opt_listenerScope Object in whose scope to call\n *     the listener.\n * @return {boolean} Whether any listener was removed.\n */\ngoog.events.Listenable.prototype.unlisten;\n\n\n/**\n * Removes an event listener which was added with listen() by the key\n * returned by listen().\n *\n * Implementation needs to call goog.events.cleanUp.\n *\n * @param {goog.events.ListenableKey} key The key returned by\n *     listen() or listenOnce().\n * @return {boolean} Whether any listener was removed.\n */\ngoog.events.Listenable.prototype.unlistenByKey;\n\n\n/**\n * Dispatches an event (or event like object) and calls all listeners\n * listening for events of this type. The type of the event is decided by the\n * type property on the event object.\n *\n * If any of the listeners returns false OR calls preventDefault then this\n * function will return false.  If one of the capture listeners calls\n * stopPropagation, then the bubble listeners won't fire.\n *\n * @param {goog.events.EventLike} e Event object.\n * @return {boolean} If anyone called preventDefault on the event object (or\n *     if any of the listeners returns false this will also return false.\n */\ngoog.events.Listenable.prototype.dispatchEvent;\n\n\n/**\n * Removes all listeners from this listenable. If type is specified,\n * it will only remove listeners of the particular type. otherwise all\n * registered listeners will be removed.\n *\n * Implementation needs to call goog.events.cleanUp for each removed\n * listener.\n *\n * @param {string=} opt_type Type of event to remove, default is to\n *     remove all types.\n * @return {number} Number of listeners removed.\n */\ngoog.events.Listenable.prototype.removeAllListeners;\n\n\n/**\n * Fires all registered listeners in this listenable for the given\n * type and capture mode, passing them the given eventObject. This\n * does not perform actual capture/bubble. Only implementors of the\n * interface should be using this.\n *\n * @param {string} type The type of the listeners to fire.\n * @param {boolean} capture The capture mode of the listeners to fire.\n * @param {goog.events.Event} eventObject The event object to fire.\n * @return {boolean} Whether all listeners succeeded without\n *     attempting to prevent default behavior. If any listener returns\n *     false or called goog.events.Event#preventDefault, this returns\n *     false.\n */\ngoog.events.Listenable.prototype.fireListeners;\n\n\n/**\n * Gets all listeners in this listenable for the given type and\n * capture mode.\n *\n * @param {string} type The type of the listeners to fire.\n * @param {boolean} capture The capture mode of the listeners to fire.\n * @return {!Array.<goog.events.ListenableKey>} An array of registered\n *     listeners.\n */\ngoog.events.Listenable.prototype.getListeners;\n\n\n/**\n * Gets the goog.events.ListenableKey for the event or null if no such\n * listener is in use.\n *\n * @param {string} type The name of the event without the 'on' prefix.\n * @param {!Function} listener The listener function to get.\n * @param {boolean=} capture Whether the listener is a capturing listener.\n * @param {Object=} opt_listenerScope Object in whose scope to call the\n *     listener.\n * @return {goog.events.ListenableKey} the found listener or null if not found.\n */\ngoog.events.Listenable.prototype.getListener;\n\n\n/**\n * Whether there is any active listeners matching the specified\n * signature. If either the type or capture parameters are\n * unspecified, the function will match on the remaining criteria.\n *\n * @param {string=} opt_type Event type.\n * @param {boolean=} opt_capture Whether to check for capture or bubble\n *     listeners.\n * @return {boolean} Whether there is any active listeners matching\n *     the requested type and/or capture phase.\n */\ngoog.events.Listenable.prototype.hasListener;\n\n\n\n/**\n * An interface that describes a single registered listener.\n * @interface\n */\ngoog.events.ListenableKey = function() {};\n\n\n/**\n * Counter used to create a unique key\n * @type {number}\n * @private\n */\ngoog.events.ListenableKey.counter_ = 0;\n\n\n/**\n * Reserves a key to be used for ListenableKey#key field.\n * @return {number} A number to be used to fill ListenableKey#key\n *     field.\n */\ngoog.events.ListenableKey.reserveKey = function() {\n  return ++goog.events.ListenableKey.counter_;\n};\n\n\n/**\n * The source event target.\n * @type {!(Object|goog.events.Listenable|goog.events.EventTarget)}\n */\ngoog.events.ListenableKey.prototype.src;\n\n\n/**\n * The event type the listener is listening to.\n * @type {string}\n */\ngoog.events.ListenableKey.prototype.type;\n\n\n/**\n * The listener function.\n * TODO(user): Narrow the type if possible.\n * @type {Function|Object}\n */\ngoog.events.ListenableKey.prototype.listener;\n\n\n/**\n * Whether the listener works on capture phase.\n * @type {boolean}\n */\ngoog.events.ListenableKey.prototype.capture;\n\n\n/**\n * The 'this' object for the listener function's scope.\n * @type {Object}\n */\ngoog.events.ListenableKey.prototype.handler;\n\n\n/**\n * A globally unique number to identify the key.\n * @type {number}\n */\ngoog.events.ListenableKey.prototype.key;\n",
		"// Copyright 2005 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview Listener object.\n * @see ../demos/events.html\n */\n\ngoog.provide('goog.events.Listener');\n\ngoog.require('goog.events.ListenableKey');\n\n\n\n/**\n * Simple class that stores information about a listener\n * @implements {goog.events.ListenableKey}\n * @constructor\n */\ngoog.events.Listener = function() {\n  if (goog.events.Listener.ENABLE_MONITORING) {\n    this.creationStack = new Error().stack;\n  }\n};\n\n\n/**\n * @define {boolean} Whether to enable the monitoring of the\n *     goog.events.Listener instances. Switching on the monitoring is only\n *     recommended for debugging because it has a significant impact on\n *     performance and memory usage. If switched off, the monitoring code\n *     compiles down to 0 bytes.\n */\ngoog.events.Listener.ENABLE_MONITORING = false;\n\n\n/**\n * Whether the listener is a function or an object that implements handleEvent.\n * @type {boolean}\n * @private\n */\ngoog.events.Listener.prototype.isFunctionListener_;\n\n\n/**\n * Call back function or an object with a handleEvent function.\n * @type {Function|Object|null}\n */\ngoog.events.Listener.prototype.listener;\n\n\n/**\n * Proxy for callback that passes through {@link goog.events#HandleEvent_}\n * @type {Function}\n */\ngoog.events.Listener.prototype.proxy;\n\n\n/**\n * Object or node that callback is listening to\n * @type {Object|goog.events.Listenable|goog.events.EventTarget}\n */\ngoog.events.Listener.prototype.src;\n\n\n/**\n * Type of event\n * @type {string}\n */\ngoog.events.Listener.prototype.type;\n\n\n/**\n * Whether the listener is being called in the capture or bubble phase\n * @type {boolean}\n */\ngoog.events.Listener.prototype.capture;\n\n\n/**\n * Optional object whose context to execute the listener in\n * @type {Object|undefined}\n */\ngoog.events.Listener.prototype.handler;\n\n\n/**\n * The key of the listener.\n * @type {number}\n * @override\n */\ngoog.events.Listener.prototype.key = 0;\n\n\n/**\n * Whether the listener has been removed.\n * @type {boolean}\n */\ngoog.events.Listener.prototype.removed = false;\n\n\n/**\n * Whether to remove the listener after it has been called.\n * @type {boolean}\n */\ngoog.events.Listener.prototype.callOnce = false;\n\n\n/**\n * If monitoring the goog.events.Listener instances is enabled, stores the\n * creation stack trace of the Disposable instance.\n * @type {string}\n */\ngoog.events.Listener.prototype.creationStack;\n\n\n/**\n * Initializes the listener.\n * @param {Function|Object} listener Callback function, or an object with a\n *     handleEvent function.\n * @param {Function} proxy Wrapper for the listener that patches the event.\n * @param {Object} src Source object for the event.\n * @param {string} type Event type.\n * @param {boolean} capture Whether in capture or bubble phase.\n * @param {Object=} opt_handler Object in whose context to execute the callback.\n */\ngoog.events.Listener.prototype.init = function(listener, proxy, src, type,\n                                               capture, opt_handler) {\n  // we do the test of the listener here so that we do  not need to\n  // continiously do this inside handleEvent\n  if (goog.isFunction(listener)) {\n    this.isFunctionListener_ = true;\n  } else if (listener && listener.handleEvent &&\n      goog.isFunction(listener.handleEvent)) {\n    this.isFunctionListener_ = false;\n  } else {\n    throw Error('Invalid listener argument');\n  }\n\n  this.listener = listener;\n  this.proxy = proxy;\n  this.src = src;\n  this.type = type;\n  this.capture = !!capture;\n  this.handler = opt_handler;\n  this.callOnce = false;\n  this.key = goog.events.ListenableKey.reserveKey();\n  this.removed = false;\n};\n\n\n/**\n * Calls the internal listener\n * @param {Object} eventObject Event object to be passed to listener.\n * @return {boolean} The result of the internal listener call.\n */\ngoog.events.Listener.prototype.handleEvent = function(eventObject) {\n  if (this.isFunctionListener_) {\n    return this.listener.call(this.handler || this.src, eventObject);\n  }\n  return this.listener.handleEvent.call(this.listener, eventObject);\n};\n",
		"// Copyright 2006 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview Rendering engine detection.\n * @see <a href=\"http://www.useragentstring.com/\">User agent strings</a>\n * For information on the browser brand (such as Safari versus Chrome), see\n * goog.userAgent.product.\n * @see ../demos/useragent.html\n */\n\ngoog.provide('goog.userAgent');\n\ngoog.require('goog.string');\n\n\n/**\n * @define {boolean} Whether we know at compile-time that the browser is IE.\n */\ngoog.userAgent.ASSUME_IE = false;\n\n\n/**\n * @define {boolean} Whether we know at compile-time that the browser is GECKO.\n */\ngoog.userAgent.ASSUME_GECKO = false;\n\n\n/**\n * @define {boolean} Whether we know at compile-time that the browser is WEBKIT.\n */\ngoog.userAgent.ASSUME_WEBKIT = false;\n\n\n/**\n * @define {boolean} Whether we know at compile-time that the browser is a\n *     mobile device running WebKit e.g. iPhone or Android.\n */\ngoog.userAgent.ASSUME_MOBILE_WEBKIT = false;\n\n\n/**\n * @define {boolean} Whether we know at compile-time that the browser is OPERA.\n */\ngoog.userAgent.ASSUME_OPERA = false;\n\n\n/**\n * @define {boolean} Whether the {@code goog.userAgent.isVersion} function will\n *     return true for any version.\n */\ngoog.userAgent.ASSUME_ANY_VERSION = false;\n\n\n/**\n * Whether we know the browser engine at compile-time.\n * @type {boolean}\n * @private\n */\ngoog.userAgent.BROWSER_KNOWN_ =\n    goog.userAgent.ASSUME_IE ||\n    goog.userAgent.ASSUME_GECKO ||\n    goog.userAgent.ASSUME_MOBILE_WEBKIT ||\n    goog.userAgent.ASSUME_WEBKIT ||\n    goog.userAgent.ASSUME_OPERA;\n\n\n/**\n * Returns the userAgent string for the current browser.\n * Some user agents (I'm thinking of you, Gears WorkerPool) do not expose a\n * navigator object off the global scope.  In that case we return null.\n *\n * @return {?string} The userAgent string or null if there is none.\n */\ngoog.userAgent.getUserAgentString = function() {\n  return goog.global['navigator'] ? goog.global['navigator'].userAgent : null;\n};\n\n\n/**\n * @return {Object} The native navigator object.\n */\ngoog.userAgent.getNavigator = function() {\n  // Need a local navigator reference instead of using the global one,\n  // to avoid the rare case where they reference different objects.\n  // (in a WorkerPool, for example).\n  return goog.global['navigator'];\n};\n\n\n/**\n * Initializer for goog.userAgent.\n *\n * This is a named function so that it can be stripped via the jscompiler\n * option for stripping types.\n * @private\n */\ngoog.userAgent.init_ = function() {\n  /**\n   * Whether the user agent string denotes Opera.\n   * @type {boolean}\n   * @private\n   */\n  goog.userAgent.detectedOpera_ = false;\n\n  /**\n   * Whether the user agent string denotes Internet Explorer. This includes\n   * other browsers using Trident as its rendering engine. For example AOL\n   * and Netscape 8\n   * @type {boolean}\n   * @private\n   */\n  goog.userAgent.detectedIe_ = false;\n\n  /**\n   * Whether the user agent string denotes WebKit. WebKit is the rendering\n   * engine that Safari, Android and others use.\n   * @type {boolean}\n   * @private\n   */\n  goog.userAgent.detectedWebkit_ = false;\n\n  /**\n   * Whether the user agent string denotes a mobile device.\n   * @type {boolean}\n   * @private\n   */\n  goog.userAgent.detectedMobile_ = false;\n\n  /**\n   * Whether the user agent string denotes Gecko. Gecko is the rendering\n   * engine used by Mozilla, Mozilla Firefox, Camino and many more.\n   * @type {boolean}\n   * @private\n   */\n  goog.userAgent.detectedGecko_ = false;\n\n  var ua;\n  if (!goog.userAgent.BROWSER_KNOWN_ &&\n      (ua = goog.userAgent.getUserAgentString())) {\n    var navigator = goog.userAgent.getNavigator();\n    goog.userAgent.detectedOpera_ = ua.indexOf('Opera') == 0;\n    goog.userAgent.detectedIe_ = !goog.userAgent.detectedOpera_ &&\n        ua.indexOf('MSIE') != -1;\n    goog.userAgent.detectedWebkit_ = !goog.userAgent.detectedOpera_ &&\n        ua.indexOf('WebKit') != -1;\n    // WebKit also gives navigator.product string equal to 'Gecko'.\n    goog.userAgent.detectedMobile_ = goog.userAgent.detectedWebkit_ &&\n        ua.indexOf('Mobile') != -1;\n    goog.userAgent.detectedGecko_ = !goog.userAgent.detectedOpera_ &&\n        !goog.userAgent.detectedWebkit_ && navigator.product == 'Gecko';\n  }\n};\n\n\nif (!goog.userAgent.BROWSER_KNOWN_) {\n  goog.userAgent.init_();\n}\n\n\n/**\n * Whether the user agent is Opera.\n * @type {boolean}\n */\ngoog.userAgent.OPERA = goog.userAgent.BROWSER_KNOWN_ ?\n    goog.userAgent.ASSUME_OPERA : goog.userAgent.detectedOpera_;\n\n\n/**\n * Whether the user agent is Internet Explorer. This includes other browsers\n * using Trident as its rendering engine. For example AOL and Netscape 8\n * @type {boolean}\n */\ngoog.userAgent.IE = goog.userAgent.BROWSER_KNOWN_ ?\n    goog.userAgent.ASSUME_IE : goog.userAgent.detectedIe_;\n\n\n/**\n * Whether the user agent is Gecko. Gecko is the rendering engine used by\n * Mozilla, Mozilla Firefox, Camino and many more.\n * @type {boolean}\n */\ngoog.userAgent.GECKO = goog.userAgent.BROWSER_KNOWN_ ?\n    goog.userAgent.ASSUME_GECKO :\n    goog.userAgent.detectedGecko_;\n\n\n/**\n * Whether the user agent is WebKit. WebKit is the rendering engine that\n * Safari, Android and others use.\n * @type {boolean}\n */\ngoog.userAgent.WEBKIT = goog.userAgent.BROWSER_KNOWN_ ?\n    goog.userAgent.ASSUME_WEBKIT || goog.userAgent.ASSUME_MOBILE_WEBKIT :\n    goog.userAgent.detectedWebkit_;\n\n\n/**\n * Whether the user agent is running on a mobile device.\n * @type {boolean}\n */\ngoog.userAgent.MOBILE = goog.userAgent.ASSUME_MOBILE_WEBKIT ||\n                        goog.userAgent.detectedMobile_;\n\n\n/**\n * Used while transitioning code to use WEBKIT instead.\n * @type {boolean}\n * @deprecated Use {@link goog.userAgent.product.SAFARI} instead.\n * TODO(nicksantos): Delete this from goog.userAgent.\n */\ngoog.userAgent.SAFARI = goog.userAgent.WEBKIT;\n\n\n/**\n * @return {string} the platform (operating system) the user agent is running\n *     on. Default to empty string because navigator.platform may not be defined\n *     (on Rhino, for example).\n * @private\n */\ngoog.userAgent.determinePlatform_ = function() {\n  var navigator = goog.userAgent.getNavigator();\n  return navigator && navigator.platform || '';\n};\n\n\n/**\n * The platform (operating system) the user agent is running on. Default to\n * empty string because navigator.platform may not be defined (on Rhino, for\n * example).\n * @type {string}\n */\ngoog.userAgent.PLATFORM = goog.userAgent.determinePlatform_();\n\n\n/**\n * @define {boolean} Whether the user agent is running on a Macintosh operating\n *     system.\n */\ngoog.userAgent.ASSUME_MAC = false;\n\n\n/**\n * @define {boolean} Whether the user agent is running on a Windows operating\n *     system.\n */\ngoog.userAgent.ASSUME_WINDOWS = false;\n\n\n/**\n * @define {boolean} Whether the user agent is running on a Linux operating\n *     system.\n */\ngoog.userAgent.ASSUME_LINUX = false;\n\n\n/**\n * @define {boolean} Whether the user agent is running on a X11 windowing\n *     system.\n */\ngoog.userAgent.ASSUME_X11 = false;\n\n\n/**\n * @define {boolean} Whether the user agent is running on Android.\n */\ngoog.userAgent.ASSUME_ANDROID = false;\n\n\n/**\n * @define {boolean} Whether the user agent is running on an iPhone.\n */\ngoog.userAgent.ASSUME_IPHONE = false;\n\n\n/**\n * @define {boolean} Whether the user agent is running on an iPad.\n */\ngoog.userAgent.ASSUME_IPAD = false;\n\n\n/**\n * @type {boolean}\n * @private\n */\ngoog.userAgent.PLATFORM_KNOWN_ =\n    goog.userAgent.ASSUME_MAC ||\n    goog.userAgent.ASSUME_WINDOWS ||\n    goog.userAgent.ASSUME_LINUX ||\n    goog.userAgent.ASSUME_X11 ||\n    goog.userAgent.ASSUME_ANDROID ||\n    goog.userAgent.ASSUME_IPHONE ||\n    goog.userAgent.ASSUME_IPAD;\n\n\n/**\n * Initialize the goog.userAgent constants that define which platform the user\n * agent is running on.\n * @private\n */\ngoog.userAgent.initPlatform_ = function() {\n  /**\n   * Whether the user agent is running on a Macintosh operating system.\n   * @type {boolean}\n   * @private\n   */\n  goog.userAgent.detectedMac_ = goog.string.contains(goog.userAgent.PLATFORM,\n      'Mac');\n\n  /**\n   * Whether the user agent is running on a Windows operating system.\n   * @type {boolean}\n   * @private\n   */\n  goog.userAgent.detectedWindows_ = goog.string.contains(\n      goog.userAgent.PLATFORM, 'Win');\n\n  /**\n   * Whether the user agent is running on a Linux operating system.\n   * @type {boolean}\n   * @private\n   */\n  goog.userAgent.detectedLinux_ = goog.string.contains(goog.userAgent.PLATFORM,\n      'Linux');\n\n  /**\n   * Whether the user agent is running on a X11 windowing system.\n   * @type {boolean}\n   * @private\n   */\n  goog.userAgent.detectedX11_ = !!goog.userAgent.getNavigator() &&\n      goog.string.contains(goog.userAgent.getNavigator()['appVersion'] || '',\n          'X11');\n\n  // Need user agent string for Android/IOS detection\n  var ua = goog.userAgent.getUserAgentString();\n\n  /**\n   * Whether the user agent is running on Android.\n   * @type {boolean}\n   * @private\n   */\n  goog.userAgent.detectedAndroid_ = !!ua && ua.indexOf('Android') >= 0;\n\n  /**\n   * Whether the user agent is running on an iPhone.\n   * @type {boolean}\n   * @private\n   */\n  goog.userAgent.detectedIPhone_ = !!ua && ua.indexOf('iPhone') >= 0;\n\n  /**\n   * Whether the user agent is running on an iPad.\n   * @type {boolean}\n   * @private\n   */\n  goog.userAgent.detectedIPad_ = !!ua && ua.indexOf('iPad') >= 0;\n};\n\n\nif (!goog.userAgent.PLATFORM_KNOWN_) {\n  goog.userAgent.initPlatform_();\n}\n\n\n/**\n * Whether the user agent is running on a Macintosh operating system.\n * @type {boolean}\n */\ngoog.userAgent.MAC = goog.userAgent.PLATFORM_KNOWN_ ?\n    goog.userAgent.ASSUME_MAC : goog.userAgent.detectedMac_;\n\n\n/**\n * Whether the user agent is running on a Windows operating system.\n * @type {boolean}\n */\ngoog.userAgent.WINDOWS = goog.userAgent.PLATFORM_KNOWN_ ?\n    goog.userAgent.ASSUME_WINDOWS : goog.userAgent.detectedWindows_;\n\n\n/**\n * Whether the user agent is running on a Linux operating system.\n * @type {boolean}\n */\ngoog.userAgent.LINUX = goog.userAgent.PLATFORM_KNOWN_ ?\n    goog.userAgent.ASSUME_LINUX : goog.userAgent.detectedLinux_;\n\n\n/**\n * Whether the user agent is running on a X11 windowing system.\n * @type {boolean}\n */\ngoog.userAgent.X11 = goog.userAgent.PLATFORM_KNOWN_ ?\n    goog.userAgent.ASSUME_X11 : goog.userAgent.detectedX11_;\n\n\n/**\n * Whether the user agent is running on Android.\n * @type {boolean}\n */\ngoog.userAgent.ANDROID = goog.userAgent.PLATFORM_KNOWN_ ?\n    goog.userAgent.ASSUME_ANDROID : goog.userAgent.detectedAndroid_;\n\n\n/**\n * Whether the user agent is running on an iPhone.\n * @type {boolean}\n */\ngoog.userAgent.IPHONE = goog.userAgent.PLATFORM_KNOWN_ ?\n    goog.userAgent.ASSUME_IPHONE : goog.userAgent.detectedIPhone_;\n\n\n/**\n * Whether the user agent is running on an iPad.\n * @type {boolean}\n */\ngoog.userAgent.IPAD = goog.userAgent.PLATFORM_KNOWN_ ?\n    goog.userAgent.ASSUME_IPAD : goog.userAgent.detectedIPad_;\n\n\n/**\n * @return {string} The string that describes the version number of the user\n *     agent.\n * @private\n */\ngoog.userAgent.determineVersion_ = function() {\n  // All browsers have different ways to detect the version and they all have\n  // different naming schemes.\n\n  // version is a string rather than a number because it may contain 'b', 'a',\n  // and so on.\n  var version = '', re;\n\n  if (goog.userAgent.OPERA && goog.global['opera']) {\n    var operaVersion = goog.global['opera'].version;\n    version = typeof operaVersion == 'function' ? operaVersion() : operaVersion;\n  } else {\n    if (goog.userAgent.GECKO) {\n      re = /rv\\:([^\\);]+)(\\)|;)/;\n    } else if (goog.userAgent.IE) {\n      re = /MSIE\\s+([^\\);]+)(\\)|;)/;\n    } else if (goog.userAgent.WEBKIT) {\n      // WebKit/125.4\n      re = /WebKit\\/(\\S+)/;\n    }\n    if (re) {\n      var arr = re.exec(goog.userAgent.getUserAgentString());\n      version = arr ? arr[1] : '';\n    }\n  }\n  if (goog.userAgent.IE) {\n    // IE9 can be in document mode 9 but be reporting an inconsistent user agent\n    // version.  If it is identifying as a version lower than 9 we take the\n    // documentMode as the version instead.  IE8 has similar behavior.\n    // It is recommended to set the X-UA-Compatible header to ensure that IE9\n    // uses documentMode 9.\n    var docMode = goog.userAgent.getDocumentMode_();\n    if (docMode > parseFloat(version)) {\n      return String(docMode);\n    }\n  }\n  return version;\n};\n\n\n/**\n * @return {number|undefined} Returns the document mode (for testing).\n * @private\n */\ngoog.userAgent.getDocumentMode_ = function() {\n  // NOTE(user): goog.userAgent may be used in context where there is no DOM.\n  var doc = goog.global['document'];\n  return doc ? doc['documentMode'] : undefined;\n};\n\n\n/**\n * The version of the user agent. This is a string because it might contain\n * 'b' (as in beta) as well as multiple dots.\n * @type {string}\n */\ngoog.userAgent.VERSION = goog.userAgent.determineVersion_();\n\n\n/**\n * Compares two version numbers.\n *\n * @param {string} v1 Version of first item.\n * @param {string} v2 Version of second item.\n *\n * @return {number}  1 if first argument is higher\n *                   0 if arguments are equal\n *                  -1 if second argument is higher.\n * @deprecated Use goog.string.compareVersions.\n */\ngoog.userAgent.compare = function(v1, v2) {\n  return goog.string.compareVersions(v1, v2);\n};\n\n\n/**\n * Cache for {@link goog.userAgent.isVersion}. Calls to compareVersions are\n * surprisingly expensive and as a browsers version number is unlikely to change\n * during a session we cache the results.\n * @type {Object}\n * @private\n */\ngoog.userAgent.isVersionCache_ = {};\n\n\n/**\n * Whether the user agent version is higher or the same as the given version.\n * NOTE: When checking the version numbers for Firefox and Safari, be sure to\n * use the engine's version, not the browser's version number.  For example,\n * Firefox 3.0 corresponds to Gecko 1.9 and Safari 3.0 to Webkit 522.11.\n * Opera and Internet Explorer versions match the product release number.<br>\n * @see <a href=\"http://en.wikipedia.org/wiki/Safari_version_history\">\n *     Webkit</a>\n * @see <a href=\"http://en.wikipedia.org/wiki/Gecko_engine\">Gecko</a>\n *\n * @param {string|number} version The version to check.\n * @return {boolean} Whether the user agent version is higher or the same as\n *     the given version.\n */\ngoog.userAgent.isVersion = function(version) {\n  return goog.userAgent.ASSUME_ANY_VERSION ||\n      goog.userAgent.isVersionCache_[version] ||\n      (goog.userAgent.isVersionCache_[version] =\n          goog.string.compareVersions(goog.userAgent.VERSION, version) >= 0);\n};\n\n\n/**\n * Whether the IE effective document mode is higher or the same as the given\n * document mode version.\n * NOTE: Only for IE, return false for another browser.\n *\n * @param {number} documentMode The document mode version to check.\n * @return {boolean} Whether the IE effective document mode is higher or the\n *     same as the given version.\n */\ngoog.userAgent.isDocumentMode = function(documentMode) {\n  return goog.userAgent.IE && goog.userAgent.DOCUMENT_MODE >= documentMode;\n};\n\n\n/**\n * For IE version < 7, documentMode is undefined, so attempt to use the\n * CSS1Compat property to see if we are in standards mode. If we are in\n * standards mode, treat the browser version as the document mode. Otherwise,\n * IE is emulating version 5.\n * @type {number|undefined}\n * @const\n */\ngoog.userAgent.DOCUMENT_MODE = (function() {\n  var doc = goog.global['document'];\n  if (!doc || !goog.userAgent.IE) {\n    return undefined;\n  }\n  var mode = goog.userAgent.getDocumentMode_();\n  return mode || (doc['compatMode'] == 'CSS1Compat' ?\n      parseInt(goog.userAgent.VERSION, 10) : 5);\n})();\n",
		"// Copyright 2010 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview Browser capability checks for the events package.\n *\n */\n\n\ngoog.provide('goog.events.BrowserFeature');\n\ngoog.require('goog.userAgent');\n\n\n/**\n * Enum of browser capabilities.\n * @enum {boolean}\n */\ngoog.events.BrowserFeature = {\n  /**\n   * Whether the button attribute of the event is W3C compliant.  False in\n   * Internet Explorer prior to version 9; document-version dependent.\n   */\n  HAS_W3C_BUTTON: !goog.userAgent.IE || goog.userAgent.isDocumentMode(9),\n\n  /**\n   * Whether the browser supports full W3C event model.\n   */\n  HAS_W3C_EVENT_SUPPORT: !goog.userAgent.IE || goog.userAgent.isDocumentMode(9),\n\n  /**\n   * To prevent default in IE7-8 for certain keydown events we need set the\n   * keyCode to -1.\n   */\n  SET_KEY_CODE_TO_PREVENT_DEFAULT: goog.userAgent.IE &&\n      !goog.userAgent.isVersion('9'),\n\n  /**\n   * Whether the {@code navigator.onLine} property is supported.\n   */\n  HAS_NAVIGATOR_ONLINE_PROPERTY: !goog.userAgent.WEBKIT ||\n      goog.userAgent.isVersion('528'),\n\n  /**\n   * Whether HTML5 network online/offline events are supported.\n   */\n  HAS_HTML5_NETWORK_EVENT_SUPPORT:\n      goog.userAgent.GECKO && goog.userAgent.isVersion('1.9b') ||\n      goog.userAgent.IE && goog.userAgent.isVersion('8') ||\n      goog.userAgent.OPERA && goog.userAgent.isVersion('9.5') ||\n      goog.userAgent.WEBKIT && goog.userAgent.isVersion('528'),\n\n  /**\n   * Whether HTML5 network events fire on document.body, or otherwise the\n   * window.\n   */\n  HTML5_NETWORK_EVENTS_FIRE_ON_BODY:\n      goog.userAgent.GECKO && !goog.userAgent.isVersion('8') ||\n      goog.userAgent.IE && !goog.userAgent.isVersion('9'),\n\n  /**\n   * Whether touch is enabled in the browser.\n   */\n  TOUCH_ENABLED:\n      ('ontouchstart' in goog.global ||\n          !!(goog.global['document'] &&\n             document.documentElement &&\n             'ontouchstart' in document.documentElement) ||\n          // IE10 uses non-standard touch events, so it has a different check.\n          !!(goog.global['navigator'] &&\n              goog.global['navigator']['msMaxTouchPoints']))\n};\n",
		"// Copyright 2006 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview Utilities for manipulating arrays.\n *\n */\n\n\ngoog.provide('goog.array');\ngoog.provide('goog.array.ArrayLike');\n\ngoog.require('goog.asserts');\n\n\n/**\n * @define {boolean} NATIVE_ARRAY_PROTOTYPES indicates whether the code should\n * rely on Array.prototype functions, if available.\n *\n * The Array.prototype functions can be defined by external libraries like\n * Prototype and setting this flag to false forces closure to use its own\n * goog.array implementation.\n *\n * If your javascript can be loaded by a third party site and you are wary about\n * relying on the prototype functions, specify\n * \"--define goog.NATIVE_ARRAY_PROTOTYPES=false\" to the JSCompiler.\n *\n * Setting goog.TRUSTED_SITE to false will automatically set\n * NATIVE_ARRAY_PROTOTYPES to false.\n */\ngoog.NATIVE_ARRAY_PROTOTYPES = goog.TRUSTED_SITE;\n\n\n/**\n * @typedef {Array|NodeList|Arguments|{length: number}}\n */\ngoog.array.ArrayLike;\n\n\n/**\n * Returns the last element in an array without removing it.\n * @param {goog.array.ArrayLike} array The array.\n * @return {*} Last item in array.\n */\ngoog.array.peek = function(array) {\n  return array[array.length - 1];\n};\n\n\n/**\n * Reference to the original {@code Array.prototype}.\n * @private\n */\ngoog.array.ARRAY_PROTOTYPE_ = Array.prototype;\n\n\n// NOTE(arv): Since most of the array functions are generic it allows you to\n// pass an array-like object. Strings have a length and are considered array-\n// like. However, the 'in' operator does not work on strings so we cannot just\n// use the array path even if the browser supports indexing into strings. We\n// therefore end up splitting the string.\n\n\n/**\n * Returns the index of the first element of an array with a specified\n * value, or -1 if the element is not present in the array.\n *\n * See {@link http://tinyurl.com/developer-mozilla-org-array-indexof}\n *\n * @param {goog.array.ArrayLike} arr The array to be searched.\n * @param {*} obj The object for which we are searching.\n * @param {number=} opt_fromIndex The index at which to start the search. If\n *     omitted the search starts at index 0.\n * @return {number} The index of the first matching array element.\n */\ngoog.array.indexOf = goog.NATIVE_ARRAY_PROTOTYPES &&\n                     goog.array.ARRAY_PROTOTYPE_.indexOf ?\n    function(arr, obj, opt_fromIndex) {\n      goog.asserts.assert(arr.length != null);\n\n      return goog.array.ARRAY_PROTOTYPE_.indexOf.call(arr, obj, opt_fromIndex);\n    } :\n    function(arr, obj, opt_fromIndex) {\n      var fromIndex = opt_fromIndex == null ?\n          0 : (opt_fromIndex < 0 ?\n               Math.max(0, arr.length + opt_fromIndex) : opt_fromIndex);\n\n      if (goog.isString(arr)) {\n        // Array.prototype.indexOf uses === so only strings should be found.\n        if (!goog.isString(obj) || obj.length != 1) {\n          return -1;\n        }\n        return arr.indexOf(obj, fromIndex);\n      }\n\n      for (var i = fromIndex; i < arr.length; i++) {\n        if (i in arr && arr[i] === obj)\n          return i;\n      }\n      return -1;\n    };\n\n\n/**\n * Returns the index of the last element of an array with a specified value, or\n * -1 if the element is not present in the array.\n *\n * See {@link http://tinyurl.com/developer-mozilla-org-array-lastindexof}\n *\n * @param {goog.array.ArrayLike} arr The array to be searched.\n * @param {*} obj The object for which we are searching.\n * @param {?number=} opt_fromIndex The index at which to start the search. If\n *     omitted the search starts at the end of the array.\n * @return {number} The index of the last matching array element.\n */\ngoog.array.lastIndexOf = goog.NATIVE_ARRAY_PROTOTYPES &&\n                         goog.array.ARRAY_PROTOTYPE_.lastIndexOf ?\n    function(arr, obj, opt_fromIndex) {\n      goog.asserts.assert(arr.length != null);\n\n      // Firefox treats undefined and null as 0 in the fromIndex argument which\n      // leads it to always return -1\n      var fromIndex = opt_fromIndex == null ? arr.length - 1 : opt_fromIndex;\n      return goog.array.ARRAY_PROTOTYPE_.lastIndexOf.call(arr, obj, fromIndex);\n    } :\n    function(arr, obj, opt_fromIndex) {\n      var fromIndex = opt_fromIndex == null ? arr.length - 1 : opt_fromIndex;\n\n      if (fromIndex < 0) {\n        fromIndex = Math.max(0, arr.length + fromIndex);\n      }\n\n      if (goog.isString(arr)) {\n        // Array.prototype.lastIndexOf uses === so only strings should be found.\n        if (!goog.isString(obj) || obj.length != 1) {\n          return -1;\n        }\n        return arr.lastIndexOf(obj, fromIndex);\n      }\n\n      for (var i = fromIndex; i >= 0; i--) {\n        if (i in arr && arr[i] === obj)\n          return i;\n      }\n      return -1;\n    };\n\n\n/**\n * Calls a function for each element in an array. Skips holes in the array.\n * See {@link http://tinyurl.com/developer-mozilla-org-array-foreach}\n *\n * @param {Array.<T>|goog.array.ArrayLike} arr Array or array like object over\n *     which to iterate.\n * @param {?function(this: S, T, number, ?): ?} f The function to call for every\n *     element. This function takes 3 arguments (the element, the index and the\n *     array). The return value is ignored.\n * @param {S=} opt_obj The object to be used as the value of 'this' within f.\n * @template T,S\n */\ngoog.array.forEach = goog.NATIVE_ARRAY_PROTOTYPES &&\n                     goog.array.ARRAY_PROTOTYPE_.forEach ?\n    function(arr, f, opt_obj) {\n      goog.asserts.assert(arr.length != null);\n\n      goog.array.ARRAY_PROTOTYPE_.forEach.call(arr, f, opt_obj);\n    } :\n    function(arr, f, opt_obj) {\n      var l = arr.length;  // must be fixed during loop... see docs\n      var arr2 = goog.isString(arr) ? arr.split('') : arr;\n      for (var i = 0; i < l; i++) {\n        if (i in arr2) {\n          f.call(opt_obj, arr2[i], i, arr);\n        }\n      }\n    };\n\n\n/**\n * Calls a function for each element in an array, starting from the last\n * element rather than the first.\n *\n * @param {Array.<T>|goog.array.ArrayLike} arr Array or array\n *     like object over which to iterate.\n * @param {?function(this: S, T, number, ?): ?} f The function to call for every\n *     element. This function\n *     takes 3 arguments (the element, the index and the array). The return\n *     value is ignored.\n * @param {S=} opt_obj The object to be used as the value of 'this'\n *     within f.\n * @template T,S\n */\ngoog.array.forEachRight = function(arr, f, opt_obj) {\n  var l = arr.length;  // must be fixed during loop... see docs\n  var arr2 = goog.isString(arr) ? arr.split('') : arr;\n  for (var i = l - 1; i >= 0; --i) {\n    if (i in arr2) {\n      f.call(opt_obj, arr2[i], i, arr);\n    }\n  }\n};\n\n\n/**\n * Calls a function for each element in an array, and if the function returns\n * true adds the element to a new array.\n *\n * See {@link http://tinyurl.com/developer-mozilla-org-array-filter}\n *\n * @param {Array.<T>|goog.array.ArrayLike} arr Array or array\n *     like object over which to iterate.\n * @param {?function(this:S, T, number, ?):boolean} f The function to call for\n *     every element. This function\n *     takes 3 arguments (the element, the index and the array) and must\n *     return a Boolean. If the return value is true the element is added to the\n *     result array. If it is false the element is not included.\n * @param {S=} opt_obj The object to be used as the value of 'this'\n *     within f.\n * @return {!Array} a new array in which only elements that passed the test are\n *     present.\n * @template T,S\n */\ngoog.array.filter = goog.NATIVE_ARRAY_PROTOTYPES &&\n                    goog.array.ARRAY_PROTOTYPE_.filter ?\n    function(arr, f, opt_obj) {\n      goog.asserts.assert(arr.length != null);\n\n      return goog.array.ARRAY_PROTOTYPE_.filter.call(arr, f, opt_obj);\n    } :\n    function(arr, f, opt_obj) {\n      var l = arr.length;  // must be fixed during loop... see docs\n      var res = [];\n      var resLength = 0;\n      var arr2 = goog.isString(arr) ? arr.split('') : arr;\n      for (var i = 0; i < l; i++) {\n        if (i in arr2) {\n          var val = arr2[i];  // in case f mutates arr2\n          if (f.call(opt_obj, val, i, arr)) {\n            res[resLength++] = val;\n          }\n        }\n      }\n      return res;\n    };\n\n\n/**\n * Calls a function for each element in an array and inserts the result into a\n * new array.\n *\n * See {@link http://tinyurl.com/developer-mozilla-org-array-map}\n *\n * @param {Array.<T>|goog.array.ArrayLike} arr Array or array\n *     like object over which to iterate.\n * @param {?function(this:S, T, number, ?):?} f The function to call for every\n *     element. This function\n *     takes 3 arguments (the element, the index and the array) and should\n *     return something. The result will be inserted into a new array.\n * @param {S=} opt_obj The object to be used as the value of 'this'\n *     within f.\n * @return {!Array} a new array with the results from f.\n * @template T,S\n */\ngoog.array.map = goog.NATIVE_ARRAY_PROTOTYPES &&\n                 goog.array.ARRAY_PROTOTYPE_.map ?\n    function(arr, f, opt_obj) {\n      goog.asserts.assert(arr.length != null);\n\n      return goog.array.ARRAY_PROTOTYPE_.map.call(arr, f, opt_obj);\n    } :\n    function(arr, f, opt_obj) {\n      var l = arr.length;  // must be fixed during loop... see docs\n      var res = new Array(l);\n      var arr2 = goog.isString(arr) ? arr.split('') : arr;\n      for (var i = 0; i < l; i++) {\n        if (i in arr2) {\n          res[i] = f.call(opt_obj, arr2[i], i, arr);\n        }\n      }\n      return res;\n    };\n\n\n/**\n * Passes every element of an array into a function and accumulates the result.\n *\n * See {@link http://tinyurl.com/developer-mozilla-org-array-reduce}\n *\n * For example:\n * var a = [1, 2, 3, 4];\n * goog.array.reduce(a, function(r, v, i, arr) {return r + v;}, 0);\n * returns 10\n *\n * @param {Array.<T>|goog.array.ArrayLike} arr Array or array\n *     like object over which to iterate.\n * @param {?function(this:S, R, T, number, ?) : R} f The function to call for\n *     every element. This function\n *     takes 4 arguments (the function's previous result or the initial value,\n *     the value of the current array element, the current array index, and the\n *     array itself)\n *     function(previousValue, currentValue, index, array).\n * @param {?} val The initial value to pass into the function on the first call.\n * @param {S=} opt_obj  The object to be used as the value of 'this'\n *     within f.\n * @return {R} Result of evaluating f repeatedly across the values of the array.\n * @template T,S,R\n */\ngoog.array.reduce = function(arr, f, val, opt_obj) {\n  if (arr.reduce) {\n    if (opt_obj) {\n      return arr.reduce(goog.bind(f, opt_obj), val);\n    } else {\n      return arr.reduce(f, val);\n    }\n  }\n  var rval = val;\n  goog.array.forEach(arr, function(val, index) {\n    rval = f.call(opt_obj, rval, val, index, arr);\n  });\n  return rval;\n};\n\n\n/**\n * Passes every element of an array into a function and accumulates the result,\n * starting from the last element and working towards the first.\n *\n * See {@link http://tinyurl.com/developer-mozilla-org-array-reduceright}\n *\n * For example:\n * var a = ['a', 'b', 'c'];\n * goog.array.reduceRight(a, function(r, v, i, arr) {return r + v;}, '');\n * returns 'cba'\n *\n * @param {Array.<T>|goog.array.ArrayLike} arr Array or array\n *     like object over which to iterate.\n * @param {?function(this:S, R, T, number, ?) : R} f The function to call for\n *     every element. This function\n *     takes 4 arguments (the function's previous result or the initial value,\n *     the value of the current array element, the current array index, and the\n *     array itself)\n *     function(previousValue, currentValue, index, array).\n * @param {?} val The initial value to pass into the function on the first call.\n * @param {S=} opt_obj The object to be used as the value of 'this'\n *     within f.\n * @return {R} Object returned as a result of evaluating f repeatedly across the\n *     values of the array.\n * @template T,S,R\n */\ngoog.array.reduceRight = function(arr, f, val, opt_obj) {\n  if (arr.reduceRight) {\n    if (opt_obj) {\n      return arr.reduceRight(goog.bind(f, opt_obj), val);\n    } else {\n      return arr.reduceRight(f, val);\n    }\n  }\n  var rval = val;\n  goog.array.forEachRight(arr, function(val, index) {\n    rval = f.call(opt_obj, rval, val, index, arr);\n  });\n  return rval;\n};\n\n\n/**\n * Calls f for each element of an array. If any call returns true, some()\n * returns true (without checking the remaining elements). If all calls\n * return false, some() returns false.\n *\n * See {@link http://tinyurl.com/developer-mozilla-org-array-some}\n *\n * @param {Array.<T>|goog.array.ArrayLike} arr Array or array\n *     like object over which to iterate.\n * @param {?function(this:S, T, number, ?) : boolean} f The function to call for\n *     for every element. This function takes 3 arguments (the element, the\n *     index and the array) and should return a boolean.\n * @param {S=} opt_obj  The object to be used as the value of 'this'\n *     within f.\n * @return {boolean} true if any element passes the test.\n * @template T,S\n */\ngoog.array.some = goog.NATIVE_ARRAY_PROTOTYPES &&\n                  goog.array.ARRAY_PROTOTYPE_.some ?\n    function(arr, f, opt_obj) {\n      goog.asserts.assert(arr.length != null);\n\n      return goog.array.ARRAY_PROTOTYPE_.some.call(arr, f, opt_obj);\n    } :\n    function(arr, f, opt_obj) {\n      var l = arr.length;  // must be fixed during loop... see docs\n      var arr2 = goog.isString(arr) ? arr.split('') : arr;\n      for (var i = 0; i < l; i++) {\n        if (i in arr2 && f.call(opt_obj, arr2[i], i, arr)) {\n          return true;\n        }\n      }\n      return false;\n    };\n\n\n/**\n * Call f for each element of an array. If all calls return true, every()\n * returns true. If any call returns false, every() returns false and\n * does not continue to check the remaining elements.\n *\n * See {@link http://tinyurl.com/developer-mozilla-org-array-every}\n *\n * @param {Array.<T>|goog.array.ArrayLike} arr Array or array\n *     like object over which to iterate.\n * @param {?function(this:S, T, number, ?) : boolean} f The function to call for\n *     for every element. This function takes 3 arguments (the element, the\n *     index and the array) and should return a boolean.\n * @param {S=} opt_obj The object to be used as the value of 'this'\n *     within f.\n * @return {boolean} false if any element fails the test.\n * @template T,S\n */\ngoog.array.every = goog.NATIVE_ARRAY_PROTOTYPES &&\n                   goog.array.ARRAY_PROTOTYPE_.every ?\n    function(arr, f, opt_obj) {\n      goog.asserts.assert(arr.length != null);\n\n      return goog.array.ARRAY_PROTOTYPE_.every.call(arr, f, opt_obj);\n    } :\n    function(arr, f, opt_obj) {\n      var l = arr.length;  // must be fixed during loop... see docs\n      var arr2 = goog.isString(arr) ? arr.split('') : arr;\n      for (var i = 0; i < l; i++) {\n        if (i in arr2 && !f.call(opt_obj, arr2[i], i, arr)) {\n          return false;\n        }\n      }\n      return true;\n    };\n\n\n/**\n * Counts the array elements that fulfill the predicate, i.e. for which the\n * callback function returns true. Skips holes in the array.\n *\n * @param {!(Array.<T>|goog.array.ArrayLike)} arr Array or array like object\n *     over which to iterate.\n * @param {function(this: S, T, number, ?): boolean} f The function to call for\n *     every element. Takes 3 arguments (the element, the index and the array).\n * @param {S=} opt_obj The object to be used as the value of 'this' within f.\n * @return {number} The number of the matching elements.\n * @template T,S\n */\ngoog.array.count = function(arr, f, opt_obj) {\n  var count = 0;\n  goog.array.forEach(arr, function(element, index, arr) {\n    if (f.call(opt_obj, element, index, arr)) {\n      ++count;\n    }\n  }, opt_obj);\n  return count;\n};\n\n\n/**\n * Search an array for the first element that satisfies a given condition and\n * return that element.\n * @param {Array.<T>|goog.array.ArrayLike} arr Array or array\n *     like object over which to iterate.\n * @param {?function(this:S, T, number, ?) : boolean} f The function to call\n *     for every element. This function takes 3 arguments (the element, the\n *     index and the array) and should return a boolean.\n * @param {S=} opt_obj An optional \"this\" context for the function.\n * @return {T} The first array element that passes the test, or null if no\n *     element is found.\n * @template T,S\n */\ngoog.array.find = function(arr, f, opt_obj) {\n  var i = goog.array.findIndex(arr, f, opt_obj);\n  return i < 0 ? null : goog.isString(arr) ? arr.charAt(i) : arr[i];\n};\n\n\n/**\n * Search an array for the first element that satisfies a given condition and\n * return its index.\n * @param {Array.<T>|goog.array.ArrayLike} arr Array or array\n *     like object over which to iterate.\n * @param {?function(this:S, T, number, ?) : boolean} f The function to call for\n *     every element. This function\n *     takes 3 arguments (the element, the index and the array) and should\n *     return a boolean.\n * @param {S=} opt_obj An optional \"this\" context for the function.\n * @return {number} The index of the first array element that passes the test,\n *     or -1 if no element is found.\n * @template T,S\n */\ngoog.array.findIndex = function(arr, f, opt_obj) {\n  var l = arr.length;  // must be fixed during loop... see docs\n  var arr2 = goog.isString(arr) ? arr.split('') : arr;\n  for (var i = 0; i < l; i++) {\n    if (i in arr2 && f.call(opt_obj, arr2[i], i, arr)) {\n      return i;\n    }\n  }\n  return -1;\n};\n\n\n/**\n * Search an array (in reverse order) for the last element that satisfies a\n * given condition and return that element.\n * @param {Array.<T>|goog.array.ArrayLike} arr Array or array\n *     like object over which to iterate.\n * @param {?function(this:S, T, number, ?) : boolean} f The function to call\n *     for every element. This function\n *     takes 3 arguments (the element, the index and the array) and should\n *     return a boolean.\n * @param {S=} opt_obj An optional \"this\" context for the function.\n * @return {T} The last array element that passes the test, or null if no\n *     element is found.\n * @template T,S\n */\ngoog.array.findRight = function(arr, f, opt_obj) {\n  var i = goog.array.findIndexRight(arr, f, opt_obj);\n  return i < 0 ? null : goog.isString(arr) ? arr.charAt(i) : arr[i];\n};\n\n\n/**\n * Search an array (in reverse order) for the last element that satisfies a\n * given condition and return its index.\n * @param {Array.<T>|goog.array.ArrayLike} arr Array or array\n *     like object over which to iterate.\n * @param {?function(this:S, T, number, ?) : boolean} f The function to call\n *     for every element. This function\n *     takes 3 arguments (the element, the index and the array) and should\n *     return a boolean.\n * @param {Object=} opt_obj An optional \"this\" context for the function.\n * @return {number} The index of the last array element that passes the test,\n *     or -1 if no element is found.\n * @template T,S\n */\ngoog.array.findIndexRight = function(arr, f, opt_obj) {\n  var l = arr.length;  // must be fixed during loop... see docs\n  var arr2 = goog.isString(arr) ? arr.split('') : arr;\n  for (var i = l - 1; i >= 0; i--) {\n    if (i in arr2 && f.call(opt_obj, arr2[i], i, arr)) {\n      return i;\n    }\n  }\n  return -1;\n};\n\n\n/**\n * Whether the array contains the given object.\n * @param {goog.array.ArrayLike} arr The array to test for the presence of the\n *     element.\n * @param {*} obj The object for which to test.\n * @return {boolean} true if obj is present.\n */\ngoog.array.contains = function(arr, obj) {\n  return goog.array.indexOf(arr, obj) >= 0;\n};\n\n\n/**\n * Whether the array is empty.\n * @param {goog.array.ArrayLike} arr The array to test.\n * @return {boolean} true if empty.\n */\ngoog.array.isEmpty = function(arr) {\n  return arr.length == 0;\n};\n\n\n/**\n * Clears the array.\n * @param {goog.array.ArrayLike} arr Array or array like object to clear.\n */\ngoog.array.clear = function(arr) {\n  // For non real arrays we don't have the magic length so we delete the\n  // indices.\n  if (!goog.isArray(arr)) {\n    for (var i = arr.length - 1; i >= 0; i--) {\n      delete arr[i];\n    }\n  }\n  arr.length = 0;\n};\n\n\n/**\n * Pushes an item into an array, if it's not already in the array.\n * @param {Array.<T>} arr Array into which to insert the item.\n * @param {T} obj Value to add.\n * @template T\n */\ngoog.array.insert = function(arr, obj) {\n  if (!goog.array.contains(arr, obj)) {\n    arr.push(obj);\n  }\n};\n\n\n/**\n * Inserts an object at the given index of the array.\n * @param {goog.array.ArrayLike} arr The array to modify.\n * @param {*} obj The object to insert.\n * @param {number=} opt_i The index at which to insert the object. If omitted,\n *      treated as 0. A negative index is counted from the end of the array.\n */\ngoog.array.insertAt = function(arr, obj, opt_i) {\n  goog.array.splice(arr, opt_i, 0, obj);\n};\n\n\n/**\n * Inserts at the given index of the array, all elements of another array.\n * @param {goog.array.ArrayLike} arr The array to modify.\n * @param {goog.array.ArrayLike} elementsToAdd The array of elements to add.\n * @param {number=} opt_i The index at which to insert the object. If omitted,\n *      treated as 0. A negative index is counted from the end of the array.\n */\ngoog.array.insertArrayAt = function(arr, elementsToAdd, opt_i) {\n  goog.partial(goog.array.splice, arr, opt_i, 0).apply(null, elementsToAdd);\n};\n\n\n/**\n * Inserts an object into an array before a specified object.\n * @param {Array.<T>} arr The array to modify.\n * @param {T} obj The object to insert.\n * @param {T=} opt_obj2 The object before which obj should be inserted. If obj2\n *     is omitted or not found, obj is inserted at the end of the array.\n * @template T\n */\ngoog.array.insertBefore = function(arr, obj, opt_obj2) {\n  var i;\n  if (arguments.length == 2 || (i = goog.array.indexOf(arr, opt_obj2)) < 0) {\n    arr.push(obj);\n  } else {\n    goog.array.insertAt(arr, obj, i);\n  }\n};\n\n\n/**\n * Removes the first occurrence of a particular value from an array.\n * @param {goog.array.ArrayLike} arr Array from which to remove value.\n * @param {*} obj Object to remove.\n * @return {boolean} True if an element was removed.\n */\ngoog.array.remove = function(arr, obj) {\n  var i = goog.array.indexOf(arr, obj);\n  var rv;\n  if ((rv = i >= 0)) {\n    goog.array.removeAt(arr, i);\n  }\n  return rv;\n};\n\n\n/**\n * Removes from an array the element at index i\n * @param {goog.array.ArrayLike} arr Array or array like object from which to\n *     remove value.\n * @param {number} i The index to remove.\n * @return {boolean} True if an element was removed.\n */\ngoog.array.removeAt = function(arr, i) {\n  goog.asserts.assert(arr.length != null);\n\n  // use generic form of splice\n  // splice returns the removed items and if successful the length of that\n  // will be 1\n  return goog.array.ARRAY_PROTOTYPE_.splice.call(arr, i, 1).length == 1;\n};\n\n\n/**\n * Removes the first value that satisfies the given condition.\n * @param {Array.<T>|goog.array.ArrayLike} arr Array or array\n *     like object over which to iterate.\n * @param {?function(this:S, T, number, ?) : boolean} f The function to call\n *     for every element. This function\n *     takes 3 arguments (the element, the index and the array) and should\n *     return a boolean.\n * @param {S=} opt_obj An optional \"this\" context for the function.\n * @return {boolean} True if an element was removed.\n * @template T,S\n */\ngoog.array.removeIf = function(arr, f, opt_obj) {\n  var i = goog.array.findIndex(arr, f, opt_obj);\n  if (i >= 0) {\n    goog.array.removeAt(arr, i);\n    return true;\n  }\n  return false;\n};\n\n\n/**\n * Returns a new array that is the result of joining the arguments.  If arrays\n * are passed then their items are added, however, if non-arrays are passed they\n * will be added to the return array as is.\n *\n * Note that ArrayLike objects will be added as is, rather than having their\n * items added.\n *\n * goog.array.concat([1, 2], [3, 4]) -> [1, 2, 3, 4]\n * goog.array.concat(0, [1, 2]) -> [0, 1, 2]\n * goog.array.concat([1, 2], null) -> [1, 2, null]\n *\n * There is bug in all current versions of IE (6, 7 and 8) where arrays created\n * in an iframe become corrupted soon (not immediately) after the iframe is\n * destroyed. This is common if loading data via goog.net.IframeIo, for example.\n * This corruption only affects the concat method which will start throwing\n * Catastrophic Errors (#-2147418113).\n *\n * See http://endoflow.com/scratch/corrupted-arrays.html for a test case.\n *\n * Internally goog.array should use this, so that all methods will continue to\n * work on these broken array objects.\n *\n * @param {...*} var_args Items to concatenate.  Arrays will have each item\n *     added, while primitives and objects will be added as is.\n * @return {!Array} The new resultant array.\n */\ngoog.array.concat = function(var_args) {\n  return goog.array.ARRAY_PROTOTYPE_.concat.apply(\n      goog.array.ARRAY_PROTOTYPE_, arguments);\n};\n\n\n/**\n * Converts an object to an array.\n * @param {goog.array.ArrayLike} object  The object to convert to an array.\n * @return {!Array} The object converted into an array. If object has a\n *     length property, every property indexed with a non-negative number\n *     less than length will be included in the result. If object does not\n *     have a length property, an empty array will be returned.\n */\ngoog.array.toArray = function(object) {\n  var length = object.length;\n\n  // If length is not a number the following it false. This case is kept for\n  // backwards compatibility since there are callers that pass objects that are\n  // not array like.\n  if (length > 0) {\n    var rv = new Array(length);\n    for (var i = 0; i < length; i++) {\n      rv[i] = object[i];\n    }\n    return rv;\n  }\n  return [];\n};\n\n\n/**\n * Does a shallow copy of an array.\n * @param {goog.array.ArrayLike} arr  Array or array-like object to clone.\n * @return {!Array} Clone of the input array.\n */\ngoog.array.clone = goog.array.toArray;\n\n\n/**\n * Extends an array with another array, element, or \"array like\" object.\n * This function operates 'in-place', it does not create a new Array.\n *\n * Example:\n * var a = [];\n * goog.array.extend(a, [0, 1]);\n * a; // [0, 1]\n * goog.array.extend(a, 2);\n * a; // [0, 1, 2]\n *\n * @param {Array} arr1  The array to modify.\n * @param {...*} var_args The elements or arrays of elements to add to arr1.\n */\ngoog.array.extend = function(arr1, var_args) {\n  for (var i = 1; i < arguments.length; i++) {\n    var arr2 = arguments[i];\n    // If we have an Array or an Arguments object we can just call push\n    // directly.\n    var isArrayLike;\n    if (goog.isArray(arr2) ||\n        // Detect Arguments. ES5 says that the [[Class]] of an Arguments object\n        // is \"Arguments\" but only V8 and JSC/Safari gets this right. We instead\n        // detect Arguments by checking for array like and presence of \"callee\".\n        (isArrayLike = goog.isArrayLike(arr2)) &&\n            // The getter for callee throws an exception in strict mode\n            // according to section 10.6 in ES5 so check for presence instead.\n            Object.prototype.hasOwnProperty.call(arr2, 'callee')) {\n      arr1.push.apply(arr1, arr2);\n    } else if (isArrayLike) {\n      // Otherwise loop over arr2 to prevent copying the object.\n      var len1 = arr1.length;\n      var len2 = arr2.length;\n      for (var j = 0; j < len2; j++) {\n        arr1[len1 + j] = arr2[j];\n      }\n    } else {\n      arr1.push(arr2);\n    }\n  }\n};\n\n\n/**\n * Adds or removes elements from an array. This is a generic version of Array\n * splice. This means that it might work on other objects similar to arrays,\n * such as the arguments object.\n *\n * @param {goog.array.ArrayLike} arr The array to modify.\n * @param {number|undefined} index The index at which to start changing the\n *     array. If not defined, treated as 0.\n * @param {number} howMany How many elements to remove (0 means no removal. A\n *     value below 0 is treated as zero and so is any other non number. Numbers\n *     are floored).\n * @param {...*} var_args Optional, additional elements to insert into the\n *     array.\n * @return {!Array} the removed elements.\n */\ngoog.array.splice = function(arr, index, howMany, var_args) {\n  goog.asserts.assert(arr.length != null);\n\n  return goog.array.ARRAY_PROTOTYPE_.splice.apply(\n      arr, goog.array.slice(arguments, 1));\n};\n\n\n/**\n * Returns a new array from a segment of an array. This is a generic version of\n * Array slice. This means that it might work on other objects similar to\n * arrays, such as the arguments object.\n *\n * @param {Array.<T>|goog.array.ArrayLike} arr The array from\n * which to copy a segment.\n * @param {number} start The index of the first element to copy.\n * @param {number=} opt_end The index after the last element to copy.\n * @return {!Array.<T>} A new array containing the specified segment of the\n *     original array.\n * @template T\n */\ngoog.array.slice = function(arr, start, opt_end) {\n  goog.asserts.assert(arr.length != null);\n\n  // passing 1 arg to slice is not the same as passing 2 where the second is\n  // null or undefined (in that case the second argument is treated as 0).\n  // we could use slice on the arguments object and then use apply instead of\n  // testing the length\n  if (arguments.length <= 2) {\n    return goog.array.ARRAY_PROTOTYPE_.slice.call(arr, start);\n  } else {\n    return goog.array.ARRAY_PROTOTYPE_.slice.call(arr, start, opt_end);\n  }\n};\n\n\n/**\n * Removes all duplicates from an array (retaining only the first\n * occurrence of each array element).  This function modifies the\n * array in place and doesn't change the order of the non-duplicate items.\n *\n * For objects, duplicates are identified as having the same unique ID as\n * defined by {@link goog.getUid}.\n *\n * Runtime: N,\n * Worstcase space: 2N (no dupes)\n *\n * @param {goog.array.ArrayLike} arr The array from which to remove duplicates.\n * @param {Array=} opt_rv An optional array in which to return the results,\n *     instead of performing the removal inplace.  If specified, the original\n *     array will remain unchanged.\n */\ngoog.array.removeDuplicates = function(arr, opt_rv) {\n  var returnArray = opt_rv || arr;\n\n  var seen = {}, cursorInsert = 0, cursorRead = 0;\n  while (cursorRead < arr.length) {\n    var current = arr[cursorRead++];\n\n    // Prefix each type with a single character representing the type to\n    // prevent conflicting keys (e.g. true and 'true').\n    var key = goog.isObject(current) ?\n        'o' + goog.getUid(current) :\n        (typeof current).charAt(0) + current;\n\n    if (!Object.prototype.hasOwnProperty.call(seen, key)) {\n      seen[key] = true;\n      returnArray[cursorInsert++] = current;\n    }\n  }\n  returnArray.length = cursorInsert;\n};\n\n\n/**\n * Searches the specified array for the specified target using the binary\n * search algorithm.  If no opt_compareFn is specified, elements are compared\n * using <code>goog.array.defaultCompare</code>, which compares the elements\n * using the built in < and > operators.  This will produce the expected\n * behavior for homogeneous arrays of String(s) and Number(s). The array\n * specified <b>must</b> be sorted in ascending order (as defined by the\n * comparison function).  If the array is not sorted, results are undefined.\n * If the array contains multiple instances of the specified target value, any\n * of these instances may be found.\n *\n * Runtime: O(log n)\n *\n * @param {goog.array.ArrayLike} arr The array to be searched.\n * @param {*} target The sought value.\n * @param {Function=} opt_compareFn Optional comparison function by which the\n *     array is ordered. Should take 2 arguments to compare, and return a\n *     negative number, zero, or a positive number depending on whether the\n *     first argument is less than, equal to, or greater than the second.\n * @return {number} Lowest index of the target value if found, otherwise\n *     (-(insertion point) - 1). The insertion point is where the value should\n *     be inserted into arr to preserve the sorted property.  Return value >= 0\n *     iff target is found.\n */\ngoog.array.binarySearch = function(arr, target, opt_compareFn) {\n  return goog.array.binarySearch_(arr,\n      opt_compareFn || goog.array.defaultCompare, false /* isEvaluator */,\n      target);\n};\n\n\n/**\n * Selects an index in the specified array using the binary search algorithm.\n * The evaluator receives an element and determines whether the desired index\n * is before, at, or after it.  The evaluator must be consistent (formally,\n * goog.array.map(goog.array.map(arr, evaluator, opt_obj), goog.math.sign)\n * must be monotonically non-increasing).\n *\n * Runtime: O(log n)\n *\n * @param {goog.array.ArrayLike} arr The array to be searched.\n * @param {Function} evaluator Evaluator function that receives 3 arguments\n *     (the element, the index and the array). Should return a negative number,\n *     zero, or a positive number depending on whether the desired index is\n *     before, at, or after the element passed to it.\n * @param {Object=} opt_obj The object to be used as the value of 'this'\n *     within evaluator.\n * @return {number} Index of the leftmost element matched by the evaluator, if\n *     such exists; otherwise (-(insertion point) - 1). The insertion point is\n *     the index of the first element for which the evaluator returns negative,\n *     or arr.length if no such element exists. The return value is non-negative\n *     iff a match is found.\n */\ngoog.array.binarySelect = function(arr, evaluator, opt_obj) {\n  return goog.array.binarySearch_(arr, evaluator, true /* isEvaluator */,\n      undefined /* opt_target */, opt_obj);\n};\n\n\n/**\n * Implementation of a binary search algorithm which knows how to use both\n * comparison functions and evaluators. If an evaluator is provided, will call\n * the evaluator with the given optional data object, conforming to the\n * interface defined in binarySelect. Otherwise, if a comparison function is\n * provided, will call the comparison function against the given data object.\n *\n * This implementation purposefully does not use goog.bind or goog.partial for\n * performance reasons.\n *\n * Runtime: O(log n)\n *\n * @param {goog.array.ArrayLike} arr The array to be searched.\n * @param {Function} compareFn Either an evaluator or a comparison function,\n *     as defined by binarySearch and binarySelect above.\n * @param {boolean} isEvaluator Whether the function is an evaluator or a\n *     comparison function.\n * @param {*=} opt_target If the function is a comparison function, then this is\n *     the target to binary search for.\n * @param {Object=} opt_selfObj If the function is an evaluator, this is an\n  *    optional this object for the evaluator.\n * @return {number} Lowest index of the target value if found, otherwise\n *     (-(insertion point) - 1). The insertion point is where the value should\n *     be inserted into arr to preserve the sorted property.  Return value >= 0\n *     iff target is found.\n * @private\n */\ngoog.array.binarySearch_ = function(arr, compareFn, isEvaluator, opt_target,\n    opt_selfObj) {\n  var left = 0;  // inclusive\n  var right = arr.length;  // exclusive\n  var found;\n  while (left < right) {\n    var middle = (left + right) >> 1;\n    var compareResult;\n    if (isEvaluator) {\n      compareResult = compareFn.call(opt_selfObj, arr[middle], middle, arr);\n    } else {\n      compareResult = compareFn(opt_target, arr[middle]);\n    }\n    if (compareResult > 0) {\n      left = middle + 1;\n    } else {\n      right = middle;\n      // We are looking for the lowest index so we can't return immediately.\n      found = !compareResult;\n    }\n  }\n  // left is the index if found, or the insertion point otherwise.\n  // ~left is a shorthand for -left - 1.\n  return found ? left : ~left;\n};\n\n\n/**\n * Sorts the specified array into ascending order.  If no opt_compareFn is\n * specified, elements are compared using\n * <code>goog.array.defaultCompare</code>, which compares the elements using\n * the built in < and > operators.  This will produce the expected behavior\n * for homogeneous arrays of String(s) and Number(s), unlike the native sort,\n * but will give unpredictable results for heterogenous lists of strings and\n * numbers with different numbers of digits.\n *\n * This sort is not guaranteed to be stable.\n *\n * Runtime: Same as <code>Array.prototype.sort</code>\n *\n * @param {Array.<T>} arr The array to be sorted.\n * @param {?function(T,T):number=} opt_compareFn Optional comparison\n *     function by which the\n *     array is to be ordered. Should take 2 arguments to compare, and return a\n *     negative number, zero, or a positive number depending on whether the\n *     first argument is less than, equal to, or greater than the second.\n * @template T\n */\ngoog.array.sort = function(arr, opt_compareFn) {\n  // TODO(arv): Update type annotation since null is not accepted.\n  goog.asserts.assert(arr.length != null);\n\n  goog.array.ARRAY_PROTOTYPE_.sort.call(\n      arr, opt_compareFn || goog.array.defaultCompare);\n};\n\n\n/**\n * Sorts the specified array into ascending order in a stable way.  If no\n * opt_compareFn is specified, elements are compared using\n * <code>goog.array.defaultCompare</code>, which compares the elements using\n * the built in < and > operators.  This will produce the expected behavior\n * for homogeneous arrays of String(s) and Number(s).\n *\n * Runtime: Same as <code>Array.prototype.sort</code>, plus an additional\n * O(n) overhead of copying the array twice.\n *\n * @param {Array.<T>} arr The array to be sorted.\n * @param {?function(T, T): number=} opt_compareFn Optional comparison function\n *     by which the array is to be ordered. Should take 2 arguments to compare,\n *     and return a negative number, zero, or a positive number depending on\n *     whether the first argument is less than, equal to, or greater than the\n *     second.\n * @template T\n */\ngoog.array.stableSort = function(arr, opt_compareFn) {\n  for (var i = 0; i < arr.length; i++) {\n    arr[i] = {index: i, value: arr[i]};\n  }\n  var valueCompareFn = opt_compareFn || goog.array.defaultCompare;\n  function stableCompareFn(obj1, obj2) {\n    return valueCompareFn(obj1.value, obj2.value) || obj1.index - obj2.index;\n  };\n  goog.array.sort(arr, stableCompareFn);\n  for (var i = 0; i < arr.length; i++) {\n    arr[i] = arr[i].value;\n  }\n};\n\n\n/**\n * Sorts an array of objects by the specified object key and compare\n * function. If no compare function is provided, the key values are\n * compared in ascending order using <code>goog.array.defaultCompare</code>.\n * This won't work for keys that get renamed by the compiler. So use\n * {'foo': 1, 'bar': 2} rather than {foo: 1, bar: 2}.\n * @param {Array.<Object>} arr An array of objects to sort.\n * @param {string} key The object key to sort by.\n * @param {Function=} opt_compareFn The function to use to compare key\n *     values.\n */\ngoog.array.sortObjectsByKey = function(arr, key, opt_compareFn) {\n  var compare = opt_compareFn || goog.array.defaultCompare;\n  goog.array.sort(arr, function(a, b) {\n    return compare(a[key], b[key]);\n  });\n};\n\n\n/**\n * Tells if the array is sorted.\n * @param {!Array.<T>} arr The array.\n * @param {?function(T,T):number=} opt_compareFn Function to compare the\n *     array elements.\n *     Should take 2 arguments to compare, and return a negative number, zero,\n *     or a positive number depending on whether the first argument is less\n *     than, equal to, or greater than the second.\n * @param {boolean=} opt_strict If true no equal elements are allowed.\n * @return {boolean} Whether the array is sorted.\n * @template T\n */\ngoog.array.isSorted = function(arr, opt_compareFn, opt_strict) {\n  var compare = opt_compareFn || goog.array.defaultCompare;\n  for (var i = 1; i < arr.length; i++) {\n    var compareResult = compare(arr[i - 1], arr[i]);\n    if (compareResult > 0 || compareResult == 0 && opt_strict) {\n      return false;\n    }\n  }\n  return true;\n};\n\n\n/**\n * Compares two arrays for equality. Two arrays are considered equal if they\n * have the same length and their corresponding elements are equal according to\n * the comparison function.\n *\n * @param {goog.array.ArrayLike} arr1 The first array to compare.\n * @param {goog.array.ArrayLike} arr2 The second array to compare.\n * @param {Function=} opt_equalsFn Optional comparison function.\n *     Should take 2 arguments to compare, and return true if the arguments\n *     are equal. Defaults to {@link goog.array.defaultCompareEquality} which\n *     compares the elements using the built-in '===' operator.\n * @return {boolean} Whether the two arrays are equal.\n */\ngoog.array.equals = function(arr1, arr2, opt_equalsFn) {\n  if (!goog.isArrayLike(arr1) || !goog.isArrayLike(arr2) ||\n      arr1.length != arr2.length) {\n    return false;\n  }\n  var l = arr1.length;\n  var equalsFn = opt_equalsFn || goog.array.defaultCompareEquality;\n  for (var i = 0; i < l; i++) {\n    if (!equalsFn(arr1[i], arr2[i])) {\n      return false;\n    }\n  }\n  return true;\n};\n\n\n/**\n * @deprecated Use {@link goog.array.equals}.\n * @param {goog.array.ArrayLike} arr1 See {@link goog.array.equals}.\n * @param {goog.array.ArrayLike} arr2 See {@link goog.array.equals}.\n * @param {Function=} opt_equalsFn See {@link goog.array.equals}.\n * @return {boolean} See {@link goog.array.equals}.\n */\ngoog.array.compare = function(arr1, arr2, opt_equalsFn) {\n  return goog.array.equals(arr1, arr2, opt_equalsFn);\n};\n\n\n/**\n * 3-way array compare function.\n * @param {!goog.array.ArrayLike} arr1 The first array to compare.\n * @param {!goog.array.ArrayLike} arr2 The second array to compare.\n * @param {?function(?, ?): number=} opt_compareFn Optional comparison function\n *     by which the array is to be ordered. Should take 2 arguments to compare,\n *     and return a negative number, zero, or a positive number depending on\n *     whether the first argument is less than, equal to, or greater than the\n *     second.\n * @return {number} Negative number, zero, or a positive number depending on\n *     whether the first argument is less than, equal to, or greater than the\n *     second.\n */\ngoog.array.compare3 = function(arr1, arr2, opt_compareFn) {\n  var compare = opt_compareFn || goog.array.defaultCompare;\n  var l = Math.min(arr1.length, arr2.length);\n  for (var i = 0; i < l; i++) {\n    var result = compare(arr1[i], arr2[i]);\n    if (result != 0) {\n      return result;\n    }\n  }\n  return goog.array.defaultCompare(arr1.length, arr2.length);\n};\n\n\n/**\n * Compares its two arguments for order, using the built in < and >\n * operators.\n * @param {*} a The first object to be compared.\n * @param {*} b The second object to be compared.\n * @return {number} A negative number, zero, or a positive number as the first\n *     argument is less than, equal to, or greater than the second.\n */\ngoog.array.defaultCompare = function(a, b) {\n  return a > b ? 1 : a < b ? -1 : 0;\n};\n\n\n/**\n * Compares its two arguments for equality, using the built in === operator.\n * @param {*} a The first object to compare.\n * @param {*} b The second object to compare.\n * @return {boolean} True if the two arguments are equal, false otherwise.\n */\ngoog.array.defaultCompareEquality = function(a, b) {\n  return a === b;\n};\n\n\n/**\n * Inserts a value into a sorted array. The array is not modified if the\n * value is already present.\n * @param {Array.<T>} array The array to modify.\n * @param {T} value The object to insert.\n * @param {?function(T,T):number=} opt_compareFn Optional comparison function by\n *     which the\n *     array is ordered. Should take 2 arguments to compare, and return a\n *     negative number, zero, or a positive number depending on whether the\n *     first argument is less than, equal to, or greater than the second.\n * @return {boolean} True if an element was inserted.\n * @template T\n */\ngoog.array.binaryInsert = function(array, value, opt_compareFn) {\n  var index = goog.array.binarySearch(array, value, opt_compareFn);\n  if (index < 0) {\n    goog.array.insertAt(array, value, -(index + 1));\n    return true;\n  }\n  return false;\n};\n\n\n/**\n * Removes a value from a sorted array.\n * @param {Array} array The array to modify.\n * @param {*} value The object to remove.\n * @param {Function=} opt_compareFn Optional comparison function by which the\n *     array is ordered. Should take 2 arguments to compare, and return a\n *     negative number, zero, or a positive number depending on whether the\n *     first argument is less than, equal to, or greater than the second.\n * @return {boolean} True if an element was removed.\n */\ngoog.array.binaryRemove = function(array, value, opt_compareFn) {\n  var index = goog.array.binarySearch(array, value, opt_compareFn);\n  return (index >= 0) ? goog.array.removeAt(array, index) : false;\n};\n\n\n/**\n * Splits an array into disjoint buckets according to a splitting function.\n * @param {Array.<T>} array The array.\n * @param {function(T,number,Array.<T>):?} sorter Function to call for every\n *     element.  This\n *     takes 3 arguments (the element, the index and the array) and must\n *     return a valid object key (a string, number, etc), or undefined, if\n *     that object should not be placed in a bucket.\n * @return {!Object} An object, with keys being all of the unique return values\n *     of sorter, and values being arrays containing the items for\n *     which the splitter returned that key.\n * @template T\n */\ngoog.array.bucket = function(array, sorter) {\n  var buckets = {};\n\n  for (var i = 0; i < array.length; i++) {\n    var value = array[i];\n    var key = sorter(value, i, array);\n    if (goog.isDef(key)) {\n      // Push the value to the right bucket, creating it if necessary.\n      var bucket = buckets[key] || (buckets[key] = []);\n      bucket.push(value);\n    }\n  }\n\n  return buckets;\n};\n\n\n/**\n * Creates a new object built from the provided array and the key-generation\n * function.\n * @param {Array.<T>|goog.array.ArrayLike} arr Array or array like object over\n *     which to iterate whose elements will be the values in the new object.\n * @param {?function(this:S, T, number, ?) : string} keyFunc The function to\n *     call for every element. This function takes 3 arguments (the element, the\n *     index and the array) and should return a string that will be used as the\n *     key for the element in the new object. If the function returns the same\n *     key for more than one element, the value for that key is\n *     implementation-defined.\n * @param {S=} opt_obj  The object to be used as the value of 'this'\n *     within keyFunc.\n * @return {!Object.<T>} The new object.\n * @template T,S\n */\ngoog.array.toObject = function(arr, keyFunc, opt_obj) {\n  var ret = {};\n  goog.array.forEach(arr, function(element, index) {\n    ret[keyFunc.call(opt_obj, element, index, arr)] = element;\n  });\n  return ret;\n};\n\n\n/**\n * Creates a range of numbers in an arithmetic progression.\n *\n * Range takes 1, 2, or 3 arguments:\n * <pre>\n * range(5) is the same as range(0, 5, 1) and produces [0, 1, 2, 3, 4]\n * range(2, 5) is the same as range(2, 5, 1) and produces [2, 3, 4]\n * range(-2, -5, -1) produces [-2, -3, -4]\n * range(-2, -5, 1) produces [], since stepping by 1 wouldn't ever reach -5.\n * </pre>\n *\n * @param {number} startOrEnd The starting value of the range if an end argument\n *     is provided. Otherwise, the start value is 0, and this is the end value.\n * @param {number=} opt_end The optional end value of the range.\n * @param {number=} opt_step The step size between range values. Defaults to 1\n *     if opt_step is undefined or 0.\n * @return {!Array.<number>} An array of numbers for the requested range. May be\n *     an empty array if adding the step would not converge toward the end\n *     value.\n */\ngoog.array.range = function(startOrEnd, opt_end, opt_step) {\n  var array = [];\n  var start = 0;\n  var end = startOrEnd;\n  var step = opt_step || 1;\n  if (opt_end !== undefined) {\n    start = startOrEnd;\n    end = opt_end;\n  }\n\n  if (step * (end - start) < 0) {\n    // Sign mismatch: start + step will never reach the end value.\n    return [];\n  }\n\n  if (step > 0) {\n    for (var i = start; i < end; i += step) {\n      array.push(i);\n    }\n  } else {\n    for (var i = start; i > end; i += step) {\n      array.push(i);\n    }\n  }\n  return array;\n};\n\n\n/**\n * Returns an array consisting of the given value repeated N times.\n *\n * @param {*} value The value to repeat.\n * @param {number} n The repeat count.\n * @return {!Array} An array with the repeated value.\n */\ngoog.array.repeat = function(value, n) {\n  var array = [];\n  for (var i = 0; i < n; i++) {\n    array[i] = value;\n  }\n  return array;\n};\n\n\n/**\n * Returns an array consisting of every argument with all arrays\n * expanded in-place recursively.\n *\n * @param {...*} var_args The values to flatten.\n * @return {!Array} An array containing the flattened values.\n */\ngoog.array.flatten = function(var_args) {\n  var result = [];\n  for (var i = 0; i < arguments.length; i++) {\n    var element = arguments[i];\n    if (goog.isArray(element)) {\n      result.push.apply(result, goog.array.flatten.apply(null, element));\n    } else {\n      result.push(element);\n    }\n  }\n  return result;\n};\n\n\n/**\n * Rotates an array in-place. After calling this method, the element at\n * index i will be the element previously at index (i - n) %\n * array.length, for all values of i between 0 and array.length - 1,\n * inclusive.\n *\n * For example, suppose list comprises [t, a, n, k, s]. After invoking\n * rotate(array, 1) (or rotate(array, -4)), array will comprise [s, t, a, n, k].\n *\n * @param {!Array.<T>} array The array to rotate.\n * @param {number} n The amount to rotate.\n * @return {!Array.<T>} The array.\n * @template T\n */\ngoog.array.rotate = function(array, n) {\n  goog.asserts.assert(array.length != null);\n\n  if (array.length) {\n    n %= array.length;\n    if (n > 0) {\n      goog.array.ARRAY_PROTOTYPE_.unshift.apply(array, array.splice(-n, n));\n    } else if (n < 0) {\n      goog.array.ARRAY_PROTOTYPE_.push.apply(array, array.splice(0, -n));\n    }\n  }\n  return array;\n};\n\n\n/**\n * Creates a new array for which the element at position i is an array of the\n * ith element of the provided arrays.  The returned array will only be as long\n * as the shortest array provided; additional values are ignored.  For example,\n * the result of zipping [1, 2] and [3, 4, 5] is [[1,3], [2, 4]].\n *\n * This is similar to the zip() function in Python.  See {@link\n * http://docs.python.org/library/functions.html#zip}\n *\n * @param {...!goog.array.ArrayLike} var_args Arrays to be combined.\n * @return {!Array.<!Array>} A new array of arrays created from provided arrays.\n */\ngoog.array.zip = function(var_args) {\n  if (!arguments.length) {\n    return [];\n  }\n  var result = [];\n  for (var i = 0; true; i++) {\n    var value = [];\n    for (var j = 0; j < arguments.length; j++) {\n      var arr = arguments[j];\n      // If i is larger than the array length, this is the shortest array.\n      if (i >= arr.length) {\n        return result;\n      }\n      value.push(arr[i]);\n    }\n    result.push(value);\n  }\n};\n\n\n/**\n * Shuffles the values in the specified array using the Fisher-Yates in-place\n * shuffle (also known as the Knuth Shuffle). By default, calls Math.random()\n * and so resets the state of that random number generator. Similarly, may reset\n * the state of the any other specified random number generator.\n *\n * Runtime: O(n)\n *\n * @param {!Array} arr The array to be shuffled.\n * @param {function():number=} opt_randFn Optional random function to use for\n *     shuffling.\n *     Takes no arguments, and returns a random number on the interval [0, 1).\n *     Defaults to Math.random() using JavaScript's built-in Math library.\n */\ngoog.array.shuffle = function(arr, opt_randFn) {\n  var randFn = opt_randFn || Math.random;\n\n  for (var i = arr.length - 1; i > 0; i--) {\n    // Choose a random array index in [0, i] (inclusive with i).\n    var j = Math.floor(randFn() * (i + 1));\n\n    var tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n  }\n};\n",
		"// Copyright 2009 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview Useful compiler idioms.\n *\n */\n\ngoog.provide('goog.reflect');\n\n\n/**\n * Syntax for object literal casts.\n * @see http://go/jscompiler-renaming\n * @see http://code.google.com/p/closure-compiler/wiki/\n *      ExperimentalTypeBasedPropertyRenaming\n *\n * Use this if you have an object literal whose keys need to have the same names\n * as the properties of some class even after they are renamed by the compiler.\n *\n * @param {!Function} type Type to cast to.\n * @param {Object} object Object literal to cast.\n * @return {Object} The object literal.\n */\ngoog.reflect.object = function(type, object) {\n  return object;\n};\n\n\n/**\n * To assert to the compiler that an operation is needed when it would\n * otherwise be stripped. For example:\n * <code>\n *     // Force a layout\n *     goog.reflect.sinkValue(dialog.offsetHeight);\n * </code>\n * @type {!Function}\n */\ngoog.reflect.sinkValue = function(x) {\n  goog.reflect.sinkValue[' '](x);\n  return x;\n};\n\n\n/**\n * The compiler should optimize this function away iff no one ever uses\n * goog.reflect.sinkValue.\n */\ngoog.reflect.sinkValue[' '] = goog.nullFunction;\n\n\n/**\n * Check if a property can be accessed without throwing an exception.\n * @param {Object} obj The owner of the property.\n * @param {string} prop The property name.\n * @return {boolean} Whether the property is accessible. Will also return true\n *     if obj is null.\n */\ngoog.reflect.canAccessProperty = function(obj, prop) {\n  /** @preserveTry */\n  try {\n    goog.reflect.sinkValue(obj[prop]);\n    return true;\n  } catch (e) {}\n  return false;\n};\n",
		"// Copyright 2005 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview A patched, standardized event object for browser events.\n *\n * <pre>\n * The patched event object contains the following members:\n * - type           {string}    Event type, e.g. 'click'\n * - timestamp      {Date}      A date object for when the event was fired\n * - target         {Object}    The element that actually triggered the event\n * - currentTarget  {Object}    The element the listener is attached to\n * - relatedTarget  {Object}    For mouseover and mouseout, the previous object\n * - offsetX        {number}    X-coordinate relative to target\n * - offsetY        {number}    Y-coordinate relative to target\n * - clientX        {number}    X-coordinate relative to viewport\n * - clientY        {number}    Y-coordinate relative to viewport\n * - screenX        {number}    X-coordinate relative to the edge of the screen\n * - screenY        {number}    Y-coordinate relative to the edge of the screen\n * - button         {number}    Mouse button. Use isButton() to test.\n * - keyCode        {number}    Key-code\n * - ctrlKey        {boolean}   Was ctrl key depressed\n * - altKey         {boolean}   Was alt key depressed\n * - shiftKey       {boolean}   Was shift key depressed\n * - metaKey        {boolean}   Was meta key depressed\n * - defaultPrevented {boolean} Whether the default action has been prevented\n * - state          {Object}    History state object\n *\n * NOTE: The keyCode member contains the raw browser keyCode. For normalized\n * key and character code use {@link goog.events.KeyHandler}.\n * </pre>\n *\n */\n\ngoog.provide('goog.events.BrowserEvent');\ngoog.provide('goog.events.BrowserEvent.MouseButton');\n\ngoog.require('goog.events.BrowserFeature');\ngoog.require('goog.events.Event');\ngoog.require('goog.events.EventType');\ngoog.require('goog.reflect');\ngoog.require('goog.userAgent');\n\n\n\n/**\n * Accepts a browser event object and creates a patched, cross browser event\n * object.\n * The content of this object will not be initialized if no event object is\n * provided. If this is the case, init() needs to be invoked separately.\n * @param {Event=} opt_e Browser event object.\n * @param {EventTarget=} opt_currentTarget Current target for event.\n * @constructor\n * @extends {goog.events.Event}\n */\ngoog.events.BrowserEvent = function(opt_e, opt_currentTarget) {\n  if (opt_e) {\n    this.init(opt_e, opt_currentTarget);\n  }\n};\ngoog.inherits(goog.events.BrowserEvent, goog.events.Event);\n\n\n/**\n * Normalized button constants for the mouse.\n * @enum {number}\n */\ngoog.events.BrowserEvent.MouseButton = {\n  LEFT: 0,\n  MIDDLE: 1,\n  RIGHT: 2\n};\n\n\n/**\n * Static data for mapping mouse buttons.\n * @type {Array.<number>}\n */\ngoog.events.BrowserEvent.IEButtonMap = [\n  1, // LEFT\n  4, // MIDDLE\n  2  // RIGHT\n];\n\n\n/**\n * Target that fired the event.\n * @override\n * @type {Node}\n */\ngoog.events.BrowserEvent.prototype.target = null;\n\n\n/**\n * Node that had the listener attached.\n * @override\n * @type {Node|undefined}\n */\ngoog.events.BrowserEvent.prototype.currentTarget;\n\n\n/**\n * For mouseover and mouseout events, the related object for the event.\n * @type {Node}\n */\ngoog.events.BrowserEvent.prototype.relatedTarget = null;\n\n\n/**\n * X-coordinate relative to target.\n * @type {number}\n */\ngoog.events.BrowserEvent.prototype.offsetX = 0;\n\n\n/**\n * Y-coordinate relative to target.\n * @type {number}\n */\ngoog.events.BrowserEvent.prototype.offsetY = 0;\n\n\n/**\n * X-coordinate relative to the window.\n * @type {number}\n */\ngoog.events.BrowserEvent.prototype.clientX = 0;\n\n\n/**\n * Y-coordinate relative to the window.\n * @type {number}\n */\ngoog.events.BrowserEvent.prototype.clientY = 0;\n\n\n/**\n * X-coordinate relative to the monitor.\n * @type {number}\n */\ngoog.events.BrowserEvent.prototype.screenX = 0;\n\n\n/**\n * Y-coordinate relative to the monitor.\n * @type {number}\n */\ngoog.events.BrowserEvent.prototype.screenY = 0;\n\n\n/**\n * Which mouse button was pressed.\n * @type {number}\n */\ngoog.events.BrowserEvent.prototype.button = 0;\n\n\n/**\n * Keycode of key press.\n * @type {number}\n */\ngoog.events.BrowserEvent.prototype.keyCode = 0;\n\n\n/**\n * Keycode of key press.\n * @type {number}\n */\ngoog.events.BrowserEvent.prototype.charCode = 0;\n\n\n/**\n * Whether control was pressed at time of event.\n * @type {boolean}\n */\ngoog.events.BrowserEvent.prototype.ctrlKey = false;\n\n\n/**\n * Whether alt was pressed at time of event.\n * @type {boolean}\n */\ngoog.events.BrowserEvent.prototype.altKey = false;\n\n\n/**\n * Whether shift was pressed at time of event.\n * @type {boolean}\n */\ngoog.events.BrowserEvent.prototype.shiftKey = false;\n\n\n/**\n * Whether the meta key was pressed at time of event.\n * @type {boolean}\n */\ngoog.events.BrowserEvent.prototype.metaKey = false;\n\n\n/**\n * History state object, only set for PopState events where it's a copy of the\n * state object provided to pushState or replaceState.\n * @type {Object}\n */\ngoog.events.BrowserEvent.prototype.state;\n\n\n/**\n * Whether the default platform modifier key was pressed at time of event.\n * (This is control for all platforms except Mac, where it's Meta.\n * @type {boolean}\n */\ngoog.events.BrowserEvent.prototype.platformModifierKey = false;\n\n\n/**\n * The browser event object.\n * @type {Event}\n * @private\n */\ngoog.events.BrowserEvent.prototype.event_ = null;\n\n\n/**\n * Accepts a browser event object and creates a patched, cross browser event\n * object.\n * @param {Event} e Browser event object.\n * @param {EventTarget=} opt_currentTarget Current target for event.\n */\ngoog.events.BrowserEvent.prototype.init = function(e, opt_currentTarget) {\n  var type = this.type = e.type;\n  goog.events.Event.call(this, type);\n\n  // TODO(nicksantos): Change this.target to type EventTarget.\n  this.target = /** @type {Node} */ (e.target) || e.srcElement;\n\n  // TODO(nicksantos): Change this.currentTarget to type EventTarget.\n  this.currentTarget = /** @type {Node} */ (opt_currentTarget);\n\n  var relatedTarget = /** @type {Node} */ (e.relatedTarget);\n  if (relatedTarget) {\n    // There's a bug in FireFox where sometimes, relatedTarget will be a\n    // chrome element, and accessing any property of it will get a permission\n    // denied exception. See:\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=497780\n    if (goog.userAgent.GECKO) {\n      if (!goog.reflect.canAccessProperty(relatedTarget, 'nodeName')) {\n        relatedTarget = null;\n      }\n    }\n    // TODO(arv): Use goog.events.EventType when it has been refactored into its\n    // own file.\n  } else if (type == goog.events.EventType.MOUSEOVER) {\n    relatedTarget = e.fromElement;\n  } else if (type == goog.events.EventType.MOUSEOUT) {\n    relatedTarget = e.toElement;\n  }\n\n  this.relatedTarget = relatedTarget;\n\n  // Webkit emits a lame warning whenever layerX/layerY is accessed.\n  // http://code.google.com/p/chromium/issues/detail?id=101733\n  this.offsetX = (goog.userAgent.WEBKIT || e.offsetX !== undefined) ?\n      e.offsetX : e.layerX;\n  this.offsetY = (goog.userAgent.WEBKIT || e.offsetY !== undefined) ?\n      e.offsetY : e.layerY;\n\n  this.clientX = e.clientX !== undefined ? e.clientX : e.pageX;\n  this.clientY = e.clientY !== undefined ? e.clientY : e.pageY;\n  this.screenX = e.screenX || 0;\n  this.screenY = e.screenY || 0;\n\n  this.button = e.button;\n\n  this.keyCode = e.keyCode || 0;\n  this.charCode = e.charCode || (type == 'keypress' ? e.keyCode : 0);\n  this.ctrlKey = e.ctrlKey;\n  this.altKey = e.altKey;\n  this.shiftKey = e.shiftKey;\n  this.metaKey = e.metaKey;\n  this.platformModifierKey = goog.userAgent.MAC ? e.metaKey : e.ctrlKey;\n  this.state = e.state;\n  this.event_ = e;\n  if (e.defaultPrevented) {\n    this.preventDefault();\n  }\n  delete this.propagationStopped_;\n};\n\n\n/**\n * Tests to see which button was pressed during the event. This is really only\n * useful in IE and Gecko browsers. And in IE, it's only useful for\n * mousedown/mouseup events, because click only fires for the left mouse button.\n *\n * Safari 2 only reports the left button being clicked, and uses the value '1'\n * instead of 0. Opera only reports a mousedown event for the middle button, and\n * no mouse events for the right button. Opera has default behavior for left and\n * middle click that can only be overridden via a configuration setting.\n *\n * There's a nice table of this mess at http://www.unixpapa.com/js/mouse.html.\n *\n * @param {goog.events.BrowserEvent.MouseButton} button The button\n *     to test for.\n * @return {boolean} True if button was pressed.\n */\ngoog.events.BrowserEvent.prototype.isButton = function(button) {\n  if (!goog.events.BrowserFeature.HAS_W3C_BUTTON) {\n    if (this.type == 'click') {\n      return button == goog.events.BrowserEvent.MouseButton.LEFT;\n    } else {\n      return !!(this.event_.button &\n          goog.events.BrowserEvent.IEButtonMap[button]);\n    }\n  } else {\n    return this.event_.button == button;\n  }\n};\n\n\n/**\n * Whether this has an \"action\"-producing mouse button.\n *\n * By definition, this includes left-click on windows/linux, and left-click\n * without the ctrl key on Macs.\n *\n * @return {boolean} The result.\n */\ngoog.events.BrowserEvent.prototype.isMouseActionButton = function() {\n  // Webkit does not ctrl+click to be a right-click, so we\n  // normalize it to behave like Gecko and Opera.\n  return this.isButton(goog.events.BrowserEvent.MouseButton.LEFT) &&\n      !(goog.userAgent.WEBKIT && goog.userAgent.MAC && this.ctrlKey);\n};\n\n\n/**\n * @override\n */\ngoog.events.BrowserEvent.prototype.stopPropagation = function() {\n  goog.events.BrowserEvent.superClass_.stopPropagation.call(this);\n  if (this.event_.stopPropagation) {\n    this.event_.stopPropagation();\n  } else {\n    this.event_.cancelBubble = true;\n  }\n};\n\n\n/**\n * @override\n */\ngoog.events.BrowserEvent.prototype.preventDefault = function() {\n  goog.events.BrowserEvent.superClass_.preventDefault.call(this);\n  var be = this.event_;\n  if (!be.preventDefault) {\n    be.returnValue = false;\n    if (goog.events.BrowserFeature.SET_KEY_CODE_TO_PREVENT_DEFAULT) {\n      /** @preserveTry */\n      try {\n        // Most keys can be prevented using returnValue. Some special keys\n        // require setting the keyCode to -1 as well:\n        //\n        // In IE7:\n        // F3, F5, F10, F11, Ctrl+P, Crtl+O, Ctrl+F (these are taken from IE6)\n        //\n        // In IE8:\n        // Ctrl+P, Crtl+O, Ctrl+F (F1-F12 cannot be stopped through the event)\n        //\n        // We therefore do this for all function keys as well as when Ctrl key\n        // is pressed.\n        var VK_F1 = 112;\n        var VK_F12 = 123;\n        if (be.ctrlKey || be.keyCode >= VK_F1 && be.keyCode <= VK_F12) {\n          be.keyCode = -1;\n        }\n      } catch (ex) {\n        // IE throws an 'access denied' exception when trying to change\n        // keyCode in some situations (e.g. srcElement is input[type=file],\n        // or srcElement is an anchor tag rewritten by parent's innerHTML).\n        // Do nothing in this case.\n      }\n    }\n  } else {\n    be.preventDefault();\n  }\n};\n\n\n/**\n * @return {Event} The underlying browser event object.\n */\ngoog.events.BrowserEvent.prototype.getBrowserEvent = function() {\n  return this.event_;\n};\n\n\n/** @override */\ngoog.events.BrowserEvent.prototype.disposeInternal = function() {\n};\n",
		"// Copyright 2010 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview Event Types.\n *\n * @author arv@google.com (Erik Arvidsson)\n * @author mirkov@google.com (Mirko Visontai)\n */\n\n\ngoog.provide('goog.events.EventType');\n\ngoog.require('goog.userAgent');\n\n\n/**\n * Constants for event names.\n * @enum {string}\n */\ngoog.events.EventType = {\n  // Mouse events\n  CLICK: 'click',\n  DBLCLICK: 'dblclick',\n  MOUSEDOWN: 'mousedown',\n  MOUSEUP: 'mouseup',\n  MOUSEOVER: 'mouseover',\n  MOUSEOUT: 'mouseout',\n  MOUSEMOVE: 'mousemove',\n  SELECTSTART: 'selectstart', // IE, Safari, Chrome\n\n  // Key events\n  KEYPRESS: 'keypress',\n  KEYDOWN: 'keydown',\n  KEYUP: 'keyup',\n\n  // Focus\n  BLUR: 'blur',\n  FOCUS: 'focus',\n  DEACTIVATE: 'deactivate', // IE only\n  // NOTE: The following two events are not stable in cross-browser usage.\n  //     WebKit and Opera implement DOMFocusIn/Out.\n  //     IE implements focusin/out.\n  //     Gecko implements neither see bug at\n  //     https://bugzilla.mozilla.org/show_bug.cgi?id=396927.\n  // The DOM Events Level 3 Draft deprecates DOMFocusIn in favor of focusin:\n  //     http://dev.w3.org/2006/webapi/DOM-Level-3-Events/html/DOM3-Events.html\n  // You can use FOCUS in Capture phase until implementations converge.\n  FOCUSIN: goog.userAgent.IE ? 'focusin' : 'DOMFocusIn',\n  FOCUSOUT: goog.userAgent.IE ? 'focusout' : 'DOMFocusOut',\n\n  // Forms\n  CHANGE: 'change',\n  SELECT: 'select',\n  SUBMIT: 'submit',\n  INPUT: 'input',\n  PROPERTYCHANGE: 'propertychange', // IE only\n\n  // Drag and drop\n  DRAGSTART: 'dragstart',\n  DRAG: 'drag',\n  DRAGENTER: 'dragenter',\n  DRAGOVER: 'dragover',\n  DRAGLEAVE: 'dragleave',\n  DROP: 'drop',\n  DRAGEND: 'dragend',\n\n  // WebKit touch events.\n  TOUCHSTART: 'touchstart',\n  TOUCHMOVE: 'touchmove',\n  TOUCHEND: 'touchend',\n  TOUCHCANCEL: 'touchcancel',\n\n  // Misc\n  BEFOREUNLOAD: 'beforeunload',\n  CONTEXTMENU: 'contextmenu',\n  ERROR: 'error',\n  HELP: 'help',\n  LOAD: 'load',\n  LOSECAPTURE: 'losecapture',\n  READYSTATECHANGE: 'readystatechange',\n  RESIZE: 'resize',\n  SCROLL: 'scroll',\n  UNLOAD: 'unload',\n\n  // HTML 5 History events\n  // See http://www.w3.org/TR/html5/history.html#event-definitions\n  HASHCHANGE: 'hashchange',\n  PAGEHIDE: 'pagehide',\n  PAGESHOW: 'pageshow',\n  POPSTATE: 'popstate',\n\n  // Copy and Paste\n  // Support is limited. Make sure it works on your favorite browser\n  // before using.\n  // http://www.quirksmode.org/dom/events/cutcopypaste.html\n  COPY: 'copy',\n  PASTE: 'paste',\n  CUT: 'cut',\n  BEFORECOPY: 'beforecopy',\n  BEFORECUT: 'beforecut',\n  BEFOREPASTE: 'beforepaste',\n\n  // HTML5 online/offline events.\n  // http://www.w3.org/TR/offline-webapps/#related\n  ONLINE: 'online',\n  OFFLINE: 'offline',\n\n  // HTML 5 worker events\n  MESSAGE: 'message',\n  CONNECT: 'connect',\n\n  // CSS transition events. Based on the browser support described at:\n  // https://developer.mozilla.org/en/css/css_transitions#Browser_compatibility\n  TRANSITIONEND: goog.userAgent.WEBKIT ? 'webkitTransitionEnd' :\n      (goog.userAgent.OPERA ? 'oTransitionEnd' : 'transitionend'),\n\n  // IE specific events.\n  // See http://msdn.microsoft.com/en-us/library/ie/hh673557(v=vs.85).aspx\n  MSGESTURECHANGE: 'MSGestureChange',\n  MSGESTUREEND: 'MSGestureEnd',\n  MSGESTUREHOLD: 'MSGestureHold',\n  MSGESTURESTART: 'MSGestureStart',\n  MSGESTURETAP: 'MSGestureTap',\n  MSGOTPOINTERCAPTURE: 'MSGotPointerCapture',\n  MSINERTIASTART: 'MSInertiaStart',\n  MSLOSTPOINTERCAPTURE: 'MSLostPointerCapture',\n  MSPOINTERCANCEL: 'MSPointerCancel',\n  MSPOINTERDOWN: 'MSPointerDown',\n  MSPOINTERMOVE: 'MSPointerMove',\n  MSPOINTEROVER: 'MSPointerOver',\n  MSPOINTEROUT: 'MSPointerOut',\n  MSPOINTERUP: 'MSPointerUp',\n\n  // Native IMEs/input tools events.\n  TEXTINPUT: 'textinput',\n  COMPOSITIONSTART: 'compositionstart',\n  COMPOSITIONUPDATE: 'compositionupdate',\n  COMPOSITIONEND: 'compositionend'\n};\n",
		"// Copyright 2005 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview Implementation of EventTarget as defined by W3C DOM 2/3.\n *\n * @author arv@google.com (Erik Arvidsson) [Original implementation]\n * @author pupius@google.com (Daniel Pupius) [Port to use goog.events]\n * @see ../demos/eventtarget.html\n */\n\ngoog.provide('goog.events.EventTarget');\n\ngoog.require('goog.Disposable');\ngoog.require('goog.array');\ngoog.require('goog.asserts');\ngoog.require('goog.events');\ngoog.require('goog.events.Event');\ngoog.require('goog.events.Listenable');\ngoog.require('goog.events.Listener');\ngoog.require('goog.object');\n\n\n\n/**\n * Inherit from this class to give your object the ability to dispatch events.\n * Note that this class provides event <em>sending</em> behaviour, not event\n * receiving behaviour: your object will be able to broadcast events, and other\n * objects will be able to listen for those events using goog.events.listen().\n *\n * <p>The name \"EventTarget\" reflects the fact that this class implements the\n * <a href=\"http://www.w3.org/TR/DOM-Level-2-Events/events.html\">\n * EventTarget interface</a> as defined by W3C DOM 2/3, with a few differences:\n * <ul>\n * <li>Event objects do not have to implement the Event interface. An object\n *     is treated as an event object if it has a 'type' property.\n * <li>You can use a plain string instead of an event object; an event-like\n *     object will be created with the 'type' set to the string value.\n * </ul>\n *\n * <p>Unless propagation is stopped, an event dispatched by an EventTarget\n * will bubble to the parent returned by <code>getParentEventTarget</code>.\n * To set the parent, call <code>setParentEventTarget</code> or override\n * <code>getParentEventTarget</code> in a subclass.  Subclasses that don't\n * support changing the parent should override the setter to throw an error.\n *\n * <p>Example usage:\n * <pre>\n *   var source = new goog.events.EventTarget();\n *   function handleEvent(event) {\n *     alert('Type: ' + e.type + '\\nTarget: ' + e.target);\n *   }\n *   goog.events.listen(source, 'foo', handleEvent);\n *   ...\n *   source.dispatchEvent({type: 'foo'}); // will call handleEvent\n *   // or source.dispatchEvent('foo');\n *   ...\n *   goog.events.unlisten(source, 'foo', handleEvent);\n *\n *   // You can also use the Listener interface:\n *   var listener = {\n *     handleEvent: function(event) {\n *       ...\n *     }\n *   };\n *   goog.events.listen(source, 'bar', listener);\n * </pre>\n *\n * @constructor\n * @extends {goog.Disposable}\n * @implements {goog.events.Listenable}\n */\ngoog.events.EventTarget = function() {\n  goog.Disposable.call(this);\n\n  /**\n   * Maps of event type to an array of listeners.\n   *\n   * @type {Object.<string, !Array.<!goog.events.ListenableKey>>}\n   * @private\n   */\n  this.eventTargetListeners_ = {};\n\n  /**\n   * The object to use for event.target. Useful when mixing in an\n   * EventTarget to another object.\n   * @type {!Object}\n   * @private\n   */\n  this.actualEventTarget_ = this;\n};\ngoog.inherits(goog.events.EventTarget, goog.Disposable);\n\n\nif (goog.events.Listenable.USE_LISTENABLE_INTERFACE) {\n  goog.events.Listenable.addImplementation(goog.events.EventTarget);\n}\n\n\n/**\n * An artificial cap on the number of ancestors you can have. This is mainly\n * for loop detection.\n * @const {number}\n * @private\n */\ngoog.events.EventTarget.MAX_ANCESTORS_ = 1000;\n\n\n/**\n * Used to tell if an event is a real event in goog.events.listen() so we don't\n * get listen() calling addEventListener() and vice-versa.\n * @type {boolean}\n * @private\n */\ngoog.events.EventTarget.prototype[goog.events.CUSTOM_EVENT_ATTR] = true;\n\n\n/**\n * Parent event target, used during event bubbling.\n * @type {goog.events.EventTarget?}\n * @private\n */\ngoog.events.EventTarget.prototype.parentEventTarget_ = null;\n\n\n/**\n * Returns the parent of this event target to use for bubbling.\n *\n * @return {goog.events.EventTarget} The parent EventTarget or null if there\n * is no parent.\n */\ngoog.events.EventTarget.prototype.getParentEventTarget = function() {\n  return this.parentEventTarget_;\n};\n\n\n/**\n * Sets the parent of this event target to use for bubbling.\n *\n * @param {goog.events.EventTarget?} parent Parent EventTarget (null if none).\n */\ngoog.events.EventTarget.prototype.setParentEventTarget = function(parent) {\n  this.parentEventTarget_ = parent;\n};\n\n\n/**\n * Adds an event listener to the event target. The same handler can only be\n * added once per the type. Even if you add the same handler multiple times\n * using the same type then it will only be called once when the event is\n * dispatched.\n *\n * Supported for legacy but use goog.events.listen(src, type, handler) instead.\n *\n * @param {string} type The type of the event to listen for.\n * @param {Function|Object} handler The function to handle the event. The\n *     handler can also be an object that implements the handleEvent method\n *     which takes the event object as argument.\n * @param {boolean=} opt_capture In DOM-compliant browsers, this determines\n *     whether the listener is fired during the capture or bubble phase\n *     of the event.\n * @param {Object=} opt_handlerScope Object in whose scope to call\n *     the listener.\n */\ngoog.events.EventTarget.prototype.addEventListener = function(\n    type, handler, opt_capture, opt_handlerScope) {\n  goog.events.listen(this, type, handler, opt_capture, opt_handlerScope);\n};\n\n\n/**\n * Removes an event listener from the event target. The handler must be the\n * same object as the one added. If the handler has not been added then\n * nothing is done.\n * @param {string} type The type of the event to listen for.\n * @param {Function|Object} handler The function to handle the event. The\n *     handler can also be an object that implements the handleEvent method\n *     which takes the event object as argument.\n * @param {boolean=} opt_capture In DOM-compliant browsers, this determines\n *     whether the listener is fired during the capture or bubble phase\n *     of the event.\n * @param {Object=} opt_handlerScope Object in whose scope to call\n *     the listener.\n */\ngoog.events.EventTarget.prototype.removeEventListener = function(\n    type, handler, opt_capture, opt_handlerScope) {\n  goog.events.unlisten(this, type, handler, opt_capture, opt_handlerScope);\n};\n\n\n/** @override */\ngoog.events.EventTarget.prototype.dispatchEvent = function(e) {\n  if (goog.events.Listenable.USE_LISTENABLE_INTERFACE) {\n    this.assertInitialized();\n\n    var ancestorsTree, ancestor = this.getParentEventTarget();\n    if (ancestor) {\n      ancestorsTree = [];\n      var ancestorCount = 1;\n      for (; ancestor; ancestor = ancestor.getParentEventTarget()) {\n        ancestorsTree.push(ancestor);\n        goog.asserts.assert(\n            (++ancestorCount < goog.events.EventTarget.MAX_ANCESTORS_),\n            'infinite loop');\n      }\n    }\n\n    return goog.events.EventTarget.dispatchEventInternal_(\n        this.actualEventTarget_, e, ancestorsTree);\n  } else {\n    return goog.events.dispatchEvent(this, e);\n  }\n};\n\n\n/**\n * Unattach listeners from this object.  Classes that extend EventTarget may\n * need to override this method in order to remove references to DOM Elements\n * and additional listeners, it should be something like this:\n * <pre>\n * MyClass.prototype.disposeInternal = function() {\n *   MyClass.superClass_.disposeInternal.call(this);\n *   // Dispose logic for MyClass\n * };\n * </pre>\n * @override\n * @protected\n */\ngoog.events.EventTarget.prototype.disposeInternal = function() {\n  goog.events.EventTarget.superClass_.disposeInternal.call(this);\n\n  if (goog.events.Listenable.USE_LISTENABLE_INTERFACE) {\n    this.removeAllListeners();\n  } else {\n    goog.events.removeAll(this);\n  }\n\n  this.parentEventTarget_ = null;\n};\n\n\n/**\n * Asserts that the event target instance is initialized properly.\n */\ngoog.events.EventTarget.prototype.assertInitialized = function() {\n  if (goog.events.STRICT_EVENT_TARGET) {\n    goog.asserts.assert(\n        this.eventTargetListeners_,\n        'Event target is not initialized. Did you call superclass ' +\n        '(goog.events.EventTarget) constructor?');\n  }\n};\n\n\nif (goog.events.Listenable.USE_LISTENABLE_INTERFACE) {\n\n/** @override */\ngoog.events.EventTarget.prototype.listen = function(\n    type, listener, opt_useCapture, opt_listenerScope) {\n  return this.listenInternal_(\n      type, listener, false /* callOnce */, opt_useCapture, opt_listenerScope);\n};\n\n\n/** @override */\ngoog.events.EventTarget.prototype.listenOnce = function(\n    type, listener, opt_useCapture, opt_listenerScope) {\n  return this.listenInternal_(\n      type, listener, true /* callOnce */, opt_useCapture, opt_listenerScope);\n};\n\n\n/**\n * Adds an event listener. A listener can only be added once to an\n * object and if it is added again the key for the listener is\n * returned.\n *\n * Note that a one-off listener will not change an existing listener,\n * if any. On the other hand a normal listener will change existing\n * one-off listener to become a normal listener.\n *\n * @param {string} type Event type to listen to.\n * @param {!Function} listener Callback method.\n * @param {boolean} callOnce Whether the listener is a one-off\n *     listener or otherwise.\n * @param {boolean=} opt_useCapture Whether to fire in capture phase\n *     (defaults to false).\n * @param {Object=} opt_listenerScope Object in whose scope to call the\n *     listener.\n * @return {goog.events.ListenableKey} Unique key for the listener.\n * @private\n */\ngoog.events.EventTarget.prototype.listenInternal_ = function(\n    type, listener, callOnce, opt_useCapture, opt_listenerScope) {\n  this.assertInitialized();\n\n  var listenerArray = this.eventTargetListeners_[type] ||\n      (this.eventTargetListeners_[type] = []);\n\n  var listenerObj;\n  var index = goog.events.EventTarget.findListenerIndex_(\n      listenerArray, listener, opt_useCapture, opt_listenerScope);\n  if (index > -1) {\n    listenerObj = listenerArray[index];\n    if (!callOnce) {\n      // Ensure that, if there is an existing callOnce listener, it is no\n      // longer a callOnce listener.\n      listenerObj.callOnce = false;\n    }\n    return listenerObj;\n  }\n\n  listenerObj = new goog.events.Listener();\n  listenerObj.init(\n      listener, null, this, type, !!opt_useCapture, opt_listenerScope);\n  listenerObj.callOnce = callOnce;\n  listenerArray.push(listenerObj);\n\n  return listenerObj;\n};\n\n\n/** @override */\ngoog.events.EventTarget.prototype.unlisten = function(\n    type, listener, opt_useCapture, opt_listenerScope) {\n  if (!(type in this.eventTargetListeners_)) {\n    return false;\n  }\n\n  var listenerArray = this.eventTargetListeners_[type];\n  var index = goog.events.EventTarget.findListenerIndex_(\n      listenerArray, listener, opt_useCapture, opt_listenerScope);\n  if (index > -1) {\n    var listenerObj = listenerArray[index];\n    goog.events.cleanUp(listenerObj);\n    listenerObj.removed = true;\n    return goog.array.removeAt(listenerArray, index);\n  }\n  return false;\n};\n\n\n/** @override */\ngoog.events.EventTarget.prototype.unlistenByKey = function(key) {\n  var type = key.type;\n  if (!(type in this.eventTargetListeners_)) {\n    return false;\n  }\n\n  var removed = goog.array.remove(this.eventTargetListeners_[type], key);\n  if (removed) {\n    goog.events.cleanUp(key);\n    key.removed = true;\n  }\n  return removed;\n};\n\n\n/** @override */\ngoog.events.EventTarget.prototype.removeAllListeners = function(\n    opt_type, opt_capture) {\n  var count = 0;\n  for (var type in this.eventTargetListeners_) {\n    if (!opt_type || type == opt_type) {\n      var listenerArray = this.eventTargetListeners_[type];\n      for (var i = 0; i < listenerArray.length; i++) {\n        ++count;\n        goog.events.cleanUp(listenerArray[i]);\n        listenerArray[i].removed = true;\n      }\n      listenerArray.length = 0;\n    }\n  }\n  return count;\n};\n\n\n/** @override */\ngoog.events.EventTarget.prototype.fireListeners = function(\n    type, capture, eventObject) {\n  if (!(type in this.eventTargetListeners_)) {\n    return true;\n  }\n\n  var rv = true;\n  var listenerArray = goog.array.clone(this.eventTargetListeners_[type]);\n  for (var i = 0; i < listenerArray.length; ++i) {\n    var listener = listenerArray[i];\n    // We might not have a listener if the listener was removed.\n    if (listener && !listener.removed && listener.capture == capture) {\n      // TODO(user): This logic probably should be in the Listener\n      // object instead.\n      if (listener.callOnce) {\n        this.unlistenByKey(listener);\n      }\n      rv = listener.handleEvent(eventObject) !== false && rv;\n    }\n  }\n\n  return rv && eventObject.returnValue_ != false;\n};\n\n\n/** @override */\ngoog.events.EventTarget.prototype.getListeners = function(type, capture) {\n  var listenerArray = this.eventTargetListeners_[type];\n  var rv = [];\n  if (listenerArray) {\n    for (var i = 0; i < listenerArray.length; ++i) {\n      var listenerObj = listenerArray[i];\n      if (listenerObj.capture == capture) {\n        rv.push(listenerObj);\n      }\n    }\n  }\n  return rv;\n};\n\n\n/** @override */\ngoog.events.EventTarget.prototype.getListener = function(\n    type, listener, capture, opt_listenerScope) {\n  var listenerArray = this.eventTargetListeners_[type];\n  var i = -1;\n  if (listenerArray) {\n    i = goog.events.EventTarget.findListenerIndex_(\n        listenerArray, listener, capture, opt_listenerScope);\n  }\n  return i > -1 ? listenerArray[i] : null;\n};\n\n\n/** @override */\ngoog.events.EventTarget.prototype.hasListener = function(\n    opt_type, opt_capture) {\n  var hasType = goog.isDef(opt_type);\n  var hasCapture = goog.isDef(opt_capture);\n\n  return goog.object.some(\n      this.eventTargetListeners_, function(listenersArray, type) {\n        for (var i = 0; i < listenersArray.length; ++i) {\n          if ((!hasType || listenersArray[i].type == opt_type) &&\n              (!hasCapture || listenersArray[i].capture == opt_capture)) {\n            return true;\n          }\n        }\n\n        return false;\n      });\n};\n\n\n/**\n * Sets the target to be used for {@code event.target} when firing\n * event. Mainly used for testing. For example, see\n * {@code goog.testing.events.mixinListenable}.\n * @param {!Object} target The target.\n */\ngoog.events.EventTarget.prototype.setTargetForTesting = function(target) {\n  this.actualEventTarget_ = target;\n};\n\n\n/**\n * Dispatches the given event on the ancestorsTree.\n *\n * TODO(user): Look for a way to reuse this logic in\n * goog.events, if possible.\n *\n * @param {!Object} target The target to dispatch on.\n * @param {goog.events.Event|Object|string} e The event object.\n * @param {Array.<goog.events.Listenable>=} opt_ancestorsTree The ancestors\n *     tree of the target, in reverse order from the closest ancestor\n *     to the root event target. May be null if the target has no ancestor.\n * @return {boolean} If anyone called preventDefault on the event object (or\n *     if any of the listeners returns false this will also return false.\n * @private\n */\ngoog.events.EventTarget.dispatchEventInternal_ = function(\n    target, e, opt_ancestorsTree) {\n  var type = e.type || /** @type {string} */ (e);\n\n  // If accepting a string or object, create a custom event object so that\n  // preventDefault and stopPropagation work with the event.\n  if (goog.isString(e)) {\n    e = new goog.events.Event(e, target);\n  } else if (!(e instanceof goog.events.Event)) {\n    var oldEvent = e;\n    e = new goog.events.Event(type, target);\n    goog.object.extend(e, oldEvent);\n  } else {\n    e.target = e.target || target;\n  }\n\n  var rv = true, currentTarget;\n\n  // Executes all capture listeners on the ancestors, if any.\n  if (opt_ancestorsTree) {\n    for (var i = opt_ancestorsTree.length - 1; !e.propagationStopped_ && i >= 0;\n         i--) {\n      currentTarget = e.currentTarget = opt_ancestorsTree[i];\n      rv = currentTarget.fireListeners(type, true, e) && rv;\n    }\n  }\n\n  // Executes capture and bubble listeners on the target.\n  if (!e.propagationStopped_) {\n    currentTarget = e.currentTarget = target;\n    rv = currentTarget.fireListeners(type, true, e) && rv;\n    if (!e.propagationStopped_) {\n      rv = currentTarget.fireListeners(type, false, e) && rv;\n    }\n  }\n\n  // Executes all bubble listeners on the ancestors, if any.\n  if (opt_ancestorsTree) {\n    for (i = 0; !e.propagationStopped_ && i < opt_ancestorsTree.length; i++) {\n      currentTarget = e.currentTarget = opt_ancestorsTree[i];\n      rv = currentTarget.fireListeners(type, false, e) && rv;\n    }\n  }\n\n  return rv;\n};\n\n\n/**\n * Finds the index of a matching goog.events.Listener in the given\n * listenerArray.\n * @param {!Array.<!goog.events.Listener>} listenerArray Array of listener.\n * @param {!Function} listener The listener function.\n * @param {boolean=} opt_useCapture The capture flag for the listener.\n * @param {Object=} opt_listenerScope The listener scope.\n * @return {number} The index of the matching listener within the\n *     listenerArray.\n * @private\n */\ngoog.events.EventTarget.findListenerIndex_ = function(\n    listenerArray, listener, opt_useCapture, opt_listenerScope) {\n  for (var i = 0; i < listenerArray.length; ++i) {\n    var listenerObj = listenerArray[i];\n    if (listenerObj.listener == listener &&\n        listenerObj.capture == !!opt_useCapture &&\n        listenerObj.handler == opt_listenerScope) {\n      return i;\n    }\n  }\n  return -1;\n};\n\n}  // if (goog.events.Listenable.USE_LISTENABLE_INTERFACE)\n",
		"goog.provide('H.util.EventTarget');\ngoog.require('goog.events.EventTarget');\n\n\n\n/**\n * EventTarget enabled listening and dispatching events on all instances and\n * derived classes.\n *\n * @publish\n * @export\n * @extends {goog.events.EventTarget}\n * @constructor\n */\nH.util.EventTarget = goog.events.EventTarget;\n\n\n/**\n * @method H.util.EventTarget#setParentEventTarget\n * @param {H.util.EventTarget} parent the new parent event target\n * @export\n */\nH.util.EventTarget.prototype.setParentEventTarget = goog.events.EventTarget.prototype.setParentEventTarget;\n\n\n/**\n * @method H.util.EventTarget#getParentEventTarget\n * @return {?H.util.EventTarget} the current parent event target\n * @export\n */\nH.util.EventTarget.prototype.getParentEventTarget = goog.events.EventTarget.prototype.getParentEventTarget;\n\n\n/**\n * This method allows to listen for specific event triggered by the object\n * @param {string} type name of event\n * @param {!Function} handler event handler function\n * @param {boolean=} opt_capture if set to true will listen in the capture phase (bubble otherwise)\n * @param {Object=} opt_scope scope for the handler function\n * @method\n * @export\n * @publish\n */\nH.util.EventTarget.prototype.addEventListener = goog.events.EventTarget.prototype.addEventListener;\n\n\n/**\n * This method will removed previously added listener from the event target\n * @param {string} type name of event\n * @param {!Function} handler previously added event handler\n * @param {boolean=} opt_capture if set to true will listen in the capture phase (bubble otherwise)\n * @param {Object=} opt_scope scope for the handler function\n * @method\n * @export\n * @publish\n */\nH.util.EventTarget.prototype.removeEventListener = goog.events.EventTarget.prototype.removeEventListener;\n\n\n/**\n * This method will dispatch event on the event target object\n * @param {H.util.Event|string} evt event object or event name\n * @method\n * @export\n * @publish\n */\nH.util.EventTarget.prototype.dispatchEvent = goog.events.EventTarget.prototype.dispatchEvent;\n\n\n/**\n * Removes listeners from this object. Classes that extend EventTarget may\n * need to override this method in order to remove references to DOM Elements\n * and additional listeners.\n * @method\n * @export\n * @publish\n */\nH.util.EventTarget.prototype.dispose = goog.events.EventTarget.prototype.dispose;\n\n\n/**\n * This method adds callback which is triggered when the object is being disposed\n * @method\n * @param {!Function} callback\n * @param {Object=} opt_scope\n * @export\n * @publish\n */\nH.util.EventTarget.prototype.addOnDisposeCallback = goog.events.EventTarget.prototype.addOnDisposeCallback;\n\n",
		"goog.provide('H.map.Object');\n\ngoog.require('H.lang.IllegalOperationError');\ngoog.require('H.map.provider.Invalidations');\ngoog.require('H.math');\ngoog.require('H.util');\ngoog.require('H.util.ChangeEvent');\ngoog.require('H.util.EventTarget');\n\n\n\n//###############################################  CONSTRUCTOR  ########################################################\n/**\n * This class represents the abstract base class for map objects such as\n * polylines, polygons, markers, groups etc.\n * @publish\n * @export\n * @abstract\n * @extends {H.util.EventTarget}\n * @constructor\n * @param {H.map.Object.Options=} opt_options The values to initialize this object\n */\nH.map.Object = function(opt_options) {\n  'use strict';\n  var key;\n\n  H.lang.checkIllegalConstructor(this, H.map.Object, false);\n  H.map.Object.superClass_.constructor.call(this);\n\n  this.id_ = H.map.Object.nextObjectId_++;\n\n  if (opt_options) {\n    key = 'min';\n    if (H.lang.isNumber(opt_options[key])) {\n      this.min_ = opt_options[key];\n    }\n    key = 'max';\n    if (H.lang.isNumber(opt_options[key])) {\n      this.max_ = opt_options[key];\n    }\n    key = 'visibility';\n    if (key in opt_options) {\n      this.visibility_ = !!opt_options[key];\n    }\n    key = 'zIndex';\n    if (key in opt_options) {\n      this.zIndex_ = +opt_options[key] || 0;\n    }\n    key = 'provider';\n    if (key in opt_options) {\n      // We must NOT use setProvider() because it is only used by Group for LocalObjectProvider content\n      this.provider = opt_options[key];\n    }\n    key = 'data';\n    if (key in opt_options) {\n      this.setData(opt_options[key]);\n    }\n  }\n\n};\nH.lang.inherits(H.map.Object, H.util.EventTarget);\n\n\n//###################################################  TYPE  ###########################################################\n/**\n * The major types of map objects\n * @publish\n * @export\n * @enum {number}\n */\nH.map.Object.Type = {\n  /** spatial object */\n  'ANY': 0,\n  /** spatial object */\n  'SPATIAL': 1,\n  /** Marker object */\n  'MARKER': 2,\n  /** DomMarker object */\n  'DOM_MARKER': 3,\n  /** DomMarker object */\n  'GROUP': 4\n};\n\n\n/**\n * The major type of this object. Any concrete implementation has to define the type!\n * Must NOT be published, it's used API internally only!\n *\n * @type {H.map.Object.Type}\n */\nH.map.Object.prototype.type;\n\n\n//##################################################  EVENTS  ##########################################################\n/**\n * Events fired by Object\n * @enum {string}\n */\nH.map.Object.prototype.EventType = {\n  VISIBILITYCHANGE: 'visibilitychange',\n  ZINDEXCHANGE: 'zindexchange'\n};\n\n\n/**\n * Fired when this object's visibility changes\n * @publish\n * @deprecated since 3.0.7.0\n * @event H.map.Object#visibilitychange\n * @type {H.util.ChangeEvent}\n */\n\n\n/**\n * Fired when this object's z-index changes\n * @publish\n * @deprecated since 3.0.7.0\n * @event H.map.Object#zindexchange\n * @type {H.util.ChangeEvent}\n */\n\n\n//##################################################  ID  ##############################################################\n/**\n * A counter to create unique IDs for all map.Object instances\n * @private\n * @type {number}\n */\nH.map.Object.nextObjectId_ = H.math.MIN_IDX;\n\n\n/**\n * The ID of this object\n * @private\n * @type {number}\n */\nH.map.Object.prototype.id_;\n\n\n/**\n * Returns the ID of this object.\n * @publish\n *\n * @export\n * @return {number}\n */\nH.map.Object.prototype.getId = function() {\n  'use strict';\n  return this.id_;\n};\n\n\n//################################################  VISIBILITY  ########################################################\n/**\n * The minimum zoom level for which the object is visible, default is {@code -Infinity}\n * @private\n * @type {number}\n */\nH.map.Object.prototype.min_ = -1 / 0;\n\n\n/**\n * The maximum zoom level for which the object is visible, default is {@code Infinity}\n * @private\n * @type {number}\n */\nH.map.Object.prototype.max_ = 1 / 0;\n\n\n/**\n * Checks if the given zoom level is in the visibility range of this object\n * Must NOT be published, it's used API interally only by ObjectProvider\n *\n * @param {number} zoomLevel The zoom level to check against\n * @return {boolean}\n */\nH.map.Object.prototype.isVisibleForZoom = function(zoomLevel) {\n  'use strict';\n  var object = this,\n      visibility;\n  while ((visibility = (object.min_ <= zoomLevel && object.max_ >= zoomLevel)) && (object = object.parentGroup)) {\n    // The body is here to satisfy CC and gjslint\n  }\n  return visibility;\n};\n\n\n/**\n * The visibility flag of this Object, default is {@code true}\n * @private\n * @type {boolean}\n */\nH.map.Object.prototype.visibility_ = true;\n\n\n/**\n * Sets the visibility of this object.\n * @publish\n *\n * @export\n * @param {boolean=} opt_visibility Indicates whether this map object should be visible.\n * @return {H.map.Object} returns this object\n */\nH.map.Object.prototype.setVisibility = function(opt_visibility) {\n  'use strict';\n  var currentVisibility = this.visibility_;\n  if ((opt_visibility = !!opt_visibility) ^ currentVisibility) {\n    this.visibility_ = opt_visibility;\n    this.invalidate(H.map.provider.Invalidations.Flag.VISUAL);\n    // TODO \"visibilitychange\" event deprecated since 3.0.7.0\n    this.dispatchEvent(new H.util.ChangeEvent(\n        this.EventType.VISIBILITYCHANGE, opt_visibility, currentVisibility));\n  }\n  return this;\n};\n\n\n/**\n * Returns the visibility of this object.\n * @publish\n *\n * @export\n * @param {boolean=} opt_effective Indicates that the effective visibility is requested. In this case the visibility of\n *        all possible ancestor groups is also taken into account\n * @return {boolean}\n */\nH.map.Object.prototype.getVisibility = function(opt_effective) {\n  'use strict';\n  var object = this,\n      visibility;\n  while ((visibility = object.visibility_) && opt_effective && (object = object.parentGroup)) {\n    // The body is here to satisfy CC and gjslint\n  }\n  return visibility;\n};\n\n\n//################################################  Z-INDEX  ###########################################################\n/**\n * The z-index of this object, default is {@code 0}\n * @private\n *\n * @type {number|undefined}\n */\nH.map.Object.prototype.zIndex_ = H.lang.UNDEF;\n\n\n/**\n * Returns the z-index of this object.\n * @publish\n *\n * @export\n * @return {number|undefined}\n */\nH.map.Object.prototype.getZIndex = function() {\n  'use strict';\n  return this.zIndex_;\n};\n\n\n/**\n * To set the-index of this object.\n * @publish\n *\n * @export\n * @param {number|undefined} zIndex\n * @return {H.map.Object} returns this object\n */\nH.map.Object.prototype.setZIndex = function(zIndex) {\n  'use strict';\n  var currentZIndex = this.zIndex_;\n  if (zIndex !== currentZIndex) {\n    this.resetZInfo();\n    this.zIndex_ = zIndex;\n    this.invalidate(H.map.provider.Invalidations.Flag.Z_ORDER);\n    // TODO \"zindexchange\" event deprecated since 3.0.7.0\n    this.dispatchEvent(new H.util.ChangeEvent(\n        this.EventType.ZINDEXCHANGE, zIndex, currentZIndex));\n  }\n  return this;\n};\n\n\n//#################################################  Z-INFO  ###########################################################\n/**\n * An Array that collects information for z-ordering.\n * At index 0 it stores a boolean flag to indicate whether at least one of the objects on ancestor-or-self axis\n * has a defined zIndex {@code 1} - otherwise {@code 0}.\n * At index [1 ... n] it stores alternating the zIndex and the siblingIndex of each object on ancestor-or-self axis,\n * starting with the root ancestor\n * Must NOT be published, it's used API interally only by Group#resetZInfo!\n *\n * @protected\n * @type {Array.<number>|undefined}\n */\nH.map.Object.prototype.zInfo = H.lang.UNDEF;\n\n\n/**\n * Returns the z-info of this object.\n * Must NOT be published, it's used API interally only!\n *\n * @return {Array.<number>} see H.map.Object.prototype.zInfo for more informations\n */\nH.map.Object.prototype.getZInfo = function() {\n  'use strict';\n  var zInfo = this.zInfo,\n      parentGroup,\n      isZIndexed,\n      zIndex,\n      siblingIndex;\n  if (!zInfo) {\n    isZIndexed = (zIndex = this.zIndex_) !== H.lang.UNDEF;\n    if (parentGroup = this.parentGroup) {\n      zInfo = parentGroup.getZInfo().slice();\n      zInfo[0] |= isZIndexed;\n    } else {\n      zInfo = [isZIndexed | 0];\n    }\n    zInfo.push(\n        zIndex || 0,\n        // If siblingIndex is undefined (root node) we use the ID as a fall back\n        (siblingIndex = this.siblingIndex) !== H.lang.UNDEF ? siblingIndex : this.id_\n    );\n    this.zInfo = zInfo;\n  }\n  return zInfo;\n};\n\n\n/**\n * Resets the z-info for this object. We need a method, because Group will override the behavior\n * Must NOT be published, it's used API interally only!\n */\nH.map.Object.prototype.resetZInfo = function() {\n  // Warning: Group's implementation doesn't call its super. If you change this method align also Group's implementation\n  this.zInfo = H.lang.UNDEF;\n};\n\n\n//#################################################  Z-ORDER  ##########################################################\n/**\n * Compares two zInfos. It's used to sort objects by z-order.\n * Must NOT be published, it's used API interally only by Object.compareZOrder and during rendering!\n *\n * @param {Array.<number>} first The first z-info to compare\n * @param {Array.<number>} second The second z-info to compare\n * @param {boolean} onlyZIndex Indicates to compare only z-indexes but not sibling-indexes\n * @return {number}\n *      If less then {@code 0} the first z-info results to a lower z-order.\n *      If equal {@code 0} booth z-infos result tothe same z-order.\n *      If greater then {@code 0} the first z-info results to a higher z-order.\n */\nH.map.Object.compareZInfo = function(first, second, onlyZIndex) {\n  'use strict';\n  // We compare the zInfos only if onlyZinfo is false or one of the zInfos have set the \"isZindexed\" flag:\n  if (!onlyZIndex || first[0] | second[0]) {\n    var length1 = first.length,\n        length2 = second.length,\n        length = H.math.min(length1, length2),\n        difference,\n        // We start at index 1 because the \"isZIndexed\" flag is stored at index 0:\n        i = 1,\n        step = 1 + onlyZIndex;\n    for (; i < length; i += step) {\n      // If two zInfo entries are not equal return the difference:\n      if (difference = first[i] - second[i]) {\n        return difference;\n      }\n    }\n  }\n  // No difference were found for zIndexes (respectively sibling-index)\n  // If onlyZIndex is true we return \"equality\", otherwise compare the lengths of the zInfos:\n  return onlyZIndex ? 0 : length1 - length2;\n};\n\n\n/**\n * Compares two objects regarding their z-order, useful to sort a list of objects via Array's sort() method\n *\n * @publish\n * @export\n * @param {H.map.Object} first The first object to compare\n * @param {H.map.Object} second The second object to compare\n * @return {number}\n *      If less then {@code 0} the first object has a lower z-order.\n *      If equal {@code 0} booth objects have the same z-order.\n *      If greater then {@code 0} the first object has a higher z-order.\n */\nH.map.Object.compareZOrder = function(first, second) {\n  'use strict';\n  return first.compareZOrder(second);\n};\n\n\n/**\n * An index to use if different object types are compared for z-ordering.\n * Each concrete implementation of a map object has to provide a correct z-order index.\n * The current version of our API uses:\n *  * 0 for Spatial\n *  * 1 for Marker\n *  * 2 for DomMarker\n * @abstract\n * @protected\n * @type {number}\n */\nH.map.Object.prototype.zOrderIdx;\n\n\n/**\n * Compares the rendering z-order of this object with another object.\n * @publish\n * @export\n * @param {H.map.Object} other The other map object to compare with\n * @return {number}\n *      If less then {@code 0} the first object has a lower z-order.\n *      If equal {@code 0} booth objects have the same z-order.\n *      If greater then {@code 0} the first object has a higher z-order.\n */\nH.map.Object.prototype.compareZOrder = function(other) {\n  'use strict';\n  var thisZInfo,\n      otherZInfo;\n  // If booth objects have the same zOrderIdx we compare the zInfos (iclusive sibling index):\n  return this.zOrderIdx - other.zOrderIdx ||\n      H.map.Object.compareZInfo(this.getZInfo(), other.getZInfo(), false);\n};\n\n\n//################################################  TREE PROPERTIES  ###################################################\n/**\n * A reference to the previous sibling within this object's group\n * or {@code null} if this object is not yet attached to a group or this object is the first child in its group\n * Must NOT be published, it's used API interally only by Group!\n *\n * @type {?H.map.Object}\n */\nH.map.Object.prototype.previousSibling = H.lang.NULL;\n\n\n/**\n * A reference to the next sibling within this object's group\n * or {@code null} if this object is not yet attached to a group or this object is the last child in its group\n * Must NOT be published, it's used API interally only by Group!\n *\n * @type {?H.map.Object}\n */\nH.map.Object.prototype.nextSibling = H.lang.NULL;\n\n\n/**\n * The sibling index of this object.\n * The sibling index might not be identical with the child's index in the children collection of the group but it's\n * assured that each object has an higher siblingIndex than its previous sibling and a lower siblingIndex than\n * its next sibling.\n * Must NOT be published, it's used API interally only by Object and Group!\n *\n * @type {number|undefined}\n */\nH.map.Object.prototype.siblingIndex = H.lang.UNDEF;\n\n\n/**\n * A reference to the parent group of this object or {@code null} if this object is not yet attached to a group\n * Must NOT be published, it's used API interally only by Object and Group!\n *\n * @protected\n * @type {?H.map.Group}\n */\nH.map.Object.prototype.parentGroup = H.lang.NULL;\n\n\n//################################################  TREE RELATIONS  ####################################################\n/**\n * Returns the parent group which contains this object or {@code null} if the object is not contained by any group.\n * @publish\n *\n * @export\n * @return {?H.map.Group}\n */\nH.map.Object.prototype.getParentGroup = function() {\n  'use strict';\n  return this.parentGroup;\n};\n\n\n/**\n * To set the parent group which contains this object or {@code null} if it is not contained by any group\n * Must NOT be published, it's used API interally only by Group!\n * @method\n *\n * @protected\n * @param {?H.map.Group} parentGroup\n */\nH.map.Object.prototype.setParentGroup = function(parentGroup) {\n  // We call the super directly to prevent the additional check in Object's implementation of setParentEventTarget()\n  this.parentGroup = parentGroup;\n  H.map.Object.superClass_.setParentEventTarget.call(this, parentGroup);\n};\n\n\n/**\n * The root object in which this object is attached or the object itself.\n * @publish\n *\n * @export\n * @return {!H.map.Object}\n */\nH.map.Object.prototype.getRootGroup = function() {\n  'use strict';\n  var object = this,\n      parent;\n  while (parent = object.parentGroup) {\n    object = parent;\n  }\n  return object;\n};\n\n\n/**\n * Checks whether the given object is an inclusive descendant of this object\n * @publish\n *\n * @export\n * @param {*} object The object that's being compared against.\n * @return {boolean}\n */\nH.map.Object.prototype.contains = function(object) {\n  'use strict';\n  // Warning: Group's implementation doesn't call its super. If you change this method align also Group's implementation\n  return this === object;\n};\n\n\n//############################################  PARENT EVENT TARGET  ###################################################\n/**\n * @override\n * @export\n */\nH.map.Object.prototype.setParentEventTarget = function(parentEventTarget) {\n  'use strict';\n  // We not allow to set the parent EventTarget on an object which is currently contained by a group!\n  if (this.parentGroup) {\n    throw new H.lang.IllegalOperationError(this.setParentEventTarget, 'Not allowed for a child of a group');\n  }\n  H.map.Object.superClass_.setParentEventTarget.call(this, parentEventTarget);\n};\n\n\n//################################################  PROVIDER  ##########################################################\n/**\n * Reference to the current provider of this object\n * Must NOT be published, it's used API interally only by Object and Group!\n *\n * @type {?H.map.provider.ObjectProvider}\n */\nH.map.Object.prototype.provider = null;\n\n\n/**\n * The current provider of this object\n * @publish\n *\n * @export\n * @return {?H.map.provider.ObjectProvider} the current provider\n */\nH.map.Object.prototype.getProvider = function() {\n  'use strict';\n  return this.provider;\n};\n\n\n/**\n * Sets the provider of this object.\n * Must NOT be published, it's used API interally only by Group!\n *\n * @throws {H.lang.IllegalOperationError}\n * @param {?H.map.provider.ObjectProvider} newProvider\n * @param {Function=} opt_caller The caller to use for the error message.\n *      If omitted, the providers are NOT checked!\n *      It's usefull for Group#setProvider to prevent unnecessary checks for all descendants.\n * @return {boolean} whether the provider has been changed\n */\nH.map.Object.prototype.setProvider = function(newProvider, opt_caller) {\n  var oldProvider = this.provider,\n      isProviderChange,\n      isNotAGroup;\n\n  // Prevent unnecessary checks and modifications:\n  if (isProviderChange = oldProvider !== newProvider) {\n\n    // Check involved providers for instance of LocalObjectPovider:\n    if (opt_caller &&\n        oldProvider && !H.lang.isInstanceOf(oldProvider, H.map.provider.LocalObjectProvider) ||\n        newProvider && !H.lang.isInstanceOf(newProvider, H.map.provider.LocalObjectProvider)) {\n      throw new H.lang.IllegalOperationError(opt_caller, 'Only LocalObjectProvider allows an object transfers');\n    }\n\n    isNotAGroup = this.type !== H.map.Object.Type['GROUP'];\n\n    if (oldProvider) {\n      this.invalidate(H.map.provider.Invalidations.Flag.REMOVE);\n      if (isNotAGroup) {\n        oldProvider.removeObject(this);\n      }\n    }\n\n    this.invalidations_ = H.lang.NULL;\n    this.provider = newProvider;\n\n    if (newProvider) {\n      if (isNotAGroup) {\n        newProvider.addObject(this);\n      }\n      this.invalidate(H.map.provider.Invalidations.Flag.ADD);\n    }\n\n  }\n  return isProviderChange;\n};\n\n\n//##############################################  INVALIDATION  ########################################################\n/**\n * The Invalidations of this object\n * @private\n * @type {H.map.provider.Invalidations}\n */\nH.map.Object.prototype.invalidations_;\n\n\n/**\n * Returns the invalidations of this object\n * @publish\n *\n * @export\n * @return {H.map.provider.Invalidations} an invalidation object\n */\nH.map.Object.prototype.getInvalidations = function() {\n  'use strict';\n  return this.invalidations_ || (this.invalidations_ = new H.map.provider.Invalidations());\n};\n\n\n/**\n * This method invalidates this map object.\n * @publish\n *\n * @export\n * @param {H.math.BitMask} flags The flags indicating the types of occurred changes\n * @return {boolean} indicates whether a validtion was executed (only if the object has a provider)\n */\nH.map.Object.prototype.invalidate = function(flags) {\n  'use strict';\n  var provider = this.getProvider(),\n      hasProvider;\n  if (hasProvider = !!provider) {\n    provider.invalidateObject(this, flags);\n  }\n  return hasProvider;\n};\n\n\n//################################################  DISPOSABLE  ########################################################\n/**\n * @override\n */\nH.map.Object.prototype.disposeInternal = function() {\n  'use strict';\n\n  //First let's remove the object from its parent group:\n  if (this.parentGroup) {\n    this.parentGroup.removeObject(this);\n    //implies the following:\n    // this.provider =\n    // this.parentGroup =\n    // this.previousSibling =\n    // this.nextSibling =\n    // H.lang.NULL;\n  }\n  //We will not need invalidations anymore\n  delete this.invalidations_;\n\n  //Assuming that EventTarget#disposeInternal will clear all event handlers\n  H.map.Object.superClass_.disposeInternal.call(this);\n};\n\n\n//############################################ ARBITRARY DATA  #########################################################\n/**\n * This method returns previously stored arbitrary data from this object.\n * @return {*} the previously stored data or {@code undefined} if not data was stored.\n * @export\n * @publish\n */\nH.map.Object.prototype.getData = function() {\n  'use strict';\n  return this.data_;\n};\n\n\n/**\n * This method stores arbitrary data with this map object\n * @param {*} data the data to be stored\n * @return {H.map.Object} returns this map object instance\n * @export\n * @publish\n */\nH.map.Object.prototype.setData = function(data) {\n  'use strict';\n  this.data_ = data;\n  return this;\n};\n\n\n//################################################  OPTIONS  ###########################################################\n/**\n * Options used to initialize a map object\n * @publish\n *\n * @property {number=} min\n *           The minimum zoom level for which the object is visible, default is {@code -Infinity}\n * @property {number=} max\n *           The maximum zoom level for which the object is visible, default is {@code Infinity}\n * @property {boolean=} visibility\n *           Indicates whether the map object is visible at all, default is {@code true}\n * @property {number=} zIndex\n *           The z-index value of the map object, default is {@code 0}\n * @property {(H.map.provider.Provider|null)=} provider\n *           The provider of this object. This property is only needed if a customized Implementation of ObjectProvider\n *           wants to instantiate an object.\n * @property {*} data\n *           Optional arbitrary data to be stored with this map object. This data can be retrieved by calling\n *           {@code getData}.\n *\n * @typedef {{\n *   min: (number|undefined),\n *   max: (number|undefined),\n *   visibility: (boolean|undefined),\n *   zIndex: (number|undefined),\n *   provider: (H.map.provider.ObjectProvider|null|undefined),\n *   data: *\n * }}\n */\nH.map.Object.Options;\n\n",
		"goog.provide('H.map.SpatialStyle');\n\ngoog.require('H.lang');\ngoog.require('H.lang.InvalidArgumentError');\ngoog.require('H.util');\n\n\n\n/**\n * The SpatialStyle class represents a style with which spatial objects like polylines and polygons are drawn.\n * A SpatialStyle instance is always treated as immutable to avoid inconstiencies and must not modified.\n * @export\n * @publish\n * @final\n * @constructor\n * @param {(H.map.SpatialStyle|H.map.SpatialStyle.Options)=} opt_options The optional style attributes\n */\nH.map.SpatialStyle = function(opt_options) {\n  'use strict';\n  this.mergeOptions_(H.map.SpatialStyle, opt_options);\n};\n\n\n/**\n * To merge style attributes into this spatial style instance\n * @private\n * @throws {H.lang.InvalidArgumentError}\n * @param {Function} caller The caller to use for InvalidArgumentError.\n * @param {(H.map.SpatialStyle|H.map.SpatialStyle.Options)=} opt_options The optional style attributes\n * @return {H.map.SpatialStyle}\n */\nH.map.SpatialStyle.prototype.mergeOptions_ = function(caller, opt_options) {\n  'use strict';\n  var i,\n      key,\n      value,\n      isSpatialStyle,\n      isEffective;\n\n  if (opt_options) {\n    i = H.map.SpatialStyle.ATTRIBUTE_COUNT_;\n    isSpatialStyle = H.lang.isInstanceOf(opt_options, H.map.SpatialStyle);\n    while (i--) {\n      key = H.map.SpatialStyle.ATTRIBUTE_NAMES_[i];\n      if (opt_options.hasOwnProperty(key)) {\n        value = opt_options[key];\n        // If the opt_options are already an instance of SpatialTile we store the property without additional checks:\n        if (isSpatialStyle) {\n          this[key] = value;\n        } else {\n          if ((value = H.map.SpatialStyle.validators_[i](value)) === H.map.SpatialStyle.INVALID_) {\n            throw new H.lang.InvalidArgumentError(caller, 0, key + ': ' + opt_options[key]);\n          }\n          // Only if the value is not equal to the current/prototypical value and not undefined we store it:\n          if (value !== this[key] && value !== H.lang.UNDEF) {\n            this[key] = value;\n          }\n        }\n      }\n    }\n\n    // Update isStroking:\n    isEffective = isSpatialStyle ?\n        opt_options.isStroking : this['lineWidth'] > 0 && H.util.isNonTransparent(this['strokeColor']);\n    this.isStroking = isEffective;\n\n    // Update isFilling:\n    isEffective = isSpatialStyle ? opt_options.isFilling : H.util.isNonTransparent(this['fillColor']);\n    this.isFilling = isEffective;\n\n  }\n\n  return this;\n};\n\n\n//############################################# EFFECTIVE STYLES #######################################################\n/**\n * Idicates wheter the style is effectively filling:\n * The fill-color is neither \"none\" nor it is non-transparent\n * DON'T publish, API internally use only by SpatialTile!\n * @type {boolean}\n */\nH.map.SpatialStyle.prototype.isFilling = true;\n\n\n/**\n * Idicates wheter the style is effectively stroking:\n * The lineWidth is greater than 0 and the stroke-color is neither \"none\" nor it is non-transparent\n * DON'T publish, API internally use only by SpatialTile!\n * @type {boolean}\n */\nH.map.SpatialStyle.prototype.isStroking = true;\n\n\n//######################################## DEFAULT ATTRIBUTES ##########################################################\n/**\n * The list of all style's attribute names\n * @private\n * @const\n * @type {Array.<string>}\n */\nH.map.SpatialStyle.ATTRIBUTE_NAMES_ = [\n  // The list will be populated during definition of the prototype attributes in the code below\n];\n\n\n/**\n * The color of the stroke in CSS syntax, default is {@code 'rgba(0, 85, 170, 0.6)'}.\n * @name H.map.SpatialStyle.prototype.strokeColor\n * @publish\n * @type {string}\n */\nH.map.SpatialStyle.prototype[H.map.SpatialStyle.ATTRIBUTE_NAMES_[0] = 'strokeColor'] = 'rgba(0,85,170,.6)';\n\n\n/**\n * The filling color in CSS syntax, default is {@code 'rgba(0, 85, 170, 0.4)'}.\n * @name H.map.SpatialStyle.prototype.fillColor\n * @publish\n * @type {string}\n */\nH.map.SpatialStyle.prototype[H.map.SpatialStyle.ATTRIBUTE_NAMES_[1] = 'fillColor'] = 'rgba(0,85,170,.4)';\n\n\n/**\n * The width of the line in pixels, default is {@code 2}.\n * @name H.map.SpatialStyle.prototype.lineWidth\n * @publish\n * @type {number}\n */\nH.map.SpatialStyle.prototype[H.map.SpatialStyle.ATTRIBUTE_NAMES_[2] = 'lineWidth'] = 2;\n\n\n/**\n * The style of the end caps for a line, default is {@code 'round'}.\n * @name H.map.SpatialStyle.prototype.lineCap\n * @publish\n * @type {H.map.SpatialStyle.LineCap}\n */\nH.map.SpatialStyle.prototype[H.map.SpatialStyle.ATTRIBUTE_NAMES_[3] = 'lineCap'] = 'round';\n\n\n/**\n * The type of corner created, when two lines meet, default is {@code 'miter'}.\n * @name H.map.SpatialStyle.prototype.lineJoin\n * @publish\n * @type {H.map.SpatialStyle.LineJoin}\n */\nH.map.SpatialStyle.prototype[H.map.SpatialStyle.ATTRIBUTE_NAMES_[4] = 'lineJoin'] = 'miter';\n\n\n/**\n * The miter length is the distance between the inner corner and the outer corner where two lines meet.\n * The default is {@code 10}.\n * @name H.map.SpatialStyle.prototype.miterLimit\n * @publish\n * @type {number}\n */\nH.map.SpatialStyle.prototype[H.map.SpatialStyle.ATTRIBUTE_NAMES_[5] = 'miterLimit'] = 10;\n\n\n/**\n * The line dash pattern as an even numbered list of distances to alternately produce a line and a space.\n * The default is {@code [ ]}.\n * @name H.map.SpatialStyle.prototype.lineDash\n * @publish\n * @type {Array.<number>}\n */\nH.map.SpatialStyle.prototype[H.map.SpatialStyle.ATTRIBUTE_NAMES_[6] = 'lineDash'] = H.util.emptyArray;\n\n\n/**\n * The phase offset of the line dash pattern\n * The default is {@code 0}.\n * @name H.map.SpatialStyle.prototype.lineDashOffset\n * @publish\n * @type {number}\n */\nH.map.SpatialStyle.prototype[H.map.SpatialStyle.ATTRIBUTE_NAMES_[7] = 'lineDashOffset'] = 0;\n\n\n/**\n * The count of all style properties\n * @private\n * @const\n * @type {number}\n */\nH.map.SpatialStyle.ATTRIBUTE_COUNT_ = H.map.SpatialStyle.ATTRIBUTE_NAMES_.length;\n\n\n/**\n * This method checks value-equality with another style.\n * @param {H.map.SpatialStyle|H.map.SpatialStyle.Options} other the style to compare with\n * @return {boolean} true if the styles are value-equal, otherwise false\n * @export\n * @publish\n */\nH.map.SpatialStyle.prototype.equals = function(other) {\n  'use strict';\n  var i,\n      key,\n      equal = this === other;\n\n  if (!equal && other) {\n    for (i = 0; i < H.map.SpatialStyle.ATTRIBUTE_COUNT_; i++) {\n      key = H.map.SpatialStyle.ATTRIBUTE_NAMES_[i];\n      if (this[key] !== other[key]) {\n        break;\n      }\n    }\n    equal = i === H.map.SpatialStyle.ATTRIBUTE_COUNT_;\n  }\n  return equal;\n};\n\n\n/**\n * Returns a copy of spatial style object and replaces the passed style attributes into it.\n * Must NOT published, API internally used only!\n * @export\n * @publish\n * @param {H.map.SpatialStyle.Options=} opt_attributes The style attributes to set on the copied style instance\n * @return {H.map.SpatialStyle}\n */\nH.map.SpatialStyle.prototype.getCopy = function(opt_attributes) {\n  'use strict';\n  return new H.map.SpatialStyle(this).mergeOptions_(this.getCopy, opt_attributes);\n};\n\n\n/**\n * Special return value for validators_ to signalize an invalid value\n * @private\n * @type {Object}\n */\nH.map.SpatialStyle.INVALID_ = {};\n\n\n/**\n * The validators for all style properties, indexes aligned with ATTRIBUTE_NAMES_.\n * A check against undefined should be done beforehand!\n * A validator returns .INVALID_ to signalize that the value is invalid.\n * @private\n * @type {Array.<function(?):(string|number|Object)>}\n */\nH.map.SpatialStyle.validators_ = [\n  /** gjslint needs this comment  :-/\n   * @param {?} strokeColor\n   * @return {string|Object}\n   */\n  function(strokeColor) {\n    return strokeColor ?\n        H.lang.String(strokeColor) :\n        H.map.SpatialStyle.INVALID_;\n  },\n  function(fillColor) {\n    return fillColor ?\n        H.lang.String(fillColor) :\n        H.map.SpatialStyle.INVALID_;\n  },\n  function(lineWidth) {\n    return lineWidth >= 0 && lineWidth <= 100 ?\n        +lineWidth :\n        H.map.SpatialStyle.INVALID_;\n  },\n  function(lineCap) {\n    return (lineCap = H.lang.String(lineCap)) === 'butt' || lineCap === 'square' || lineCap === 'round' ?\n        lineCap :\n        H.map.SpatialStyle.INVALID_;\n  },\n  function(lineJoin) {\n    return lineJoin === 'round' || lineJoin === 'bevel' || lineJoin === 'miter' ?\n        lineJoin :\n        H.map.SpatialStyle.INVALID_;\n  },\n  function(miterLimit) {\n    return miterLimit > 0 && miterLimit <= 100 ?\n        +miterLimit :\n        H.map.SpatialStyle.INVALID_;\n  },\n  function(lineDash) {\n    return lineDash && lineDash.every && lineDash.every(H.lang.isNumberLike) ?\n        lineDash :\n        H.map.SpatialStyle.INVALID_;\n  },\n  function(lineDashOffset) {\n    return H.lang.isNaN(+lineDashOffset) ?\n        H.map.SpatialStyle.INVALID_ :\n        +lineDashOffset;\n  }\n];\n\n\n//############################################# TYPE DEFINITIONS #######################################################\n/**\n * The style of the end caps for a line, one of {@code 'butt'}, {@code 'round'} or {@code 'square'}.\n * @typedef {string}\n * @publish\n */\nH.map.SpatialStyle.LineCap;\n\n\n/**\n * The type of corner created, when two lines meet, one of {@code 'round'}, {@code 'bevel'} or {@code 'miter'}.\n * @typedef {string}\n * @publish\n */\nH.map.SpatialStyle.LineJoin;\n\n\n/**\n * Options used to initialize a style.\n * If a property is not set, the default value from {@link H.map.SpatialStyle} is taken.\n * @publish\n *\n * @typedef {{\n *   strokeColor: (string|undefined),\n *   fillColor: (string|undefined),\n *   lineWidth: (number|undefined),\n *   lineCap: (H.map.SpatialStyle.LineCap|undefined),\n *   lineJoin: (H.map.SpatialStyle.LineJoin|undefined),\n *   miterLimit: (number|undefined),\n *   lineDash: (Array.<number>|undefined),\n *   lineDashOffset: (number|undefined)\n * }}\n * @property {string=} strokeColor\n *           The color of the stroke in CSS syntax.\n * @property {string=} fillColor\n *           The color of the stroke in CSS syntax.\n * @property {number=} lineWidth\n *           The width of the line in pixels, default is {@code 2}. The maximum supported line width is {@code 100}.\n * @property {H.map.SpatialStyle.LineCap=} lineCap\n *           The style of the end caps for a line.\n * @property {H.map.SpatialStyle.LineJoin=} lineJoin\n *           The type of corner created, when two lines meet.\n * @property {number=} miterLimit\n *           The miter limit in pixel, default is {@code 10}. The maximum supported miter limit is {@code 100}\n * @property {Array.<number>} lineDash\n *           The line dash pattern as an even numbered list of distances to alternately produce a line and a space.\n *           If the browser doesn't support this feature this style property is ignored.\n * @property {number=} lineDashOffset\n *           The phase offset of the line dash pattern\n */\nH.map.SpatialStyle.Options;\n\n\n/**\n * This constant represents the maximum line width which can be used for rendering.\n * @publish\n * @const\n * @type {number}\n */\nH.map.SpatialStyle['MAX_LINE_WIDTH'] = 100;\n\n\n/**\n * This static member defines the default style for spatial objects on the map.\n * It's value is\n * <code>\n * {\n *   strokeColor: '#05A',\n *   fillColor: 'rgba(0, 85, 170, 0.4)'\n *   lineWidth: 1,\n *   lineCap: 'round',\n *   lineJoin: 'miter',\n *   miterLimit: 10,\n *   lineDash: [ ],\n *   lineDashOffset: 0\n * }\n * </code>\n * @export\n * @publish\n *\n * @type {H.map.SpatialStyle}\n */\nH.map.SpatialStyle.DEFAULT_STYLE = new H.map.SpatialStyle();\n",
		"goog.provide('H.map.Spatial');\n\ngoog.require('H.geo.Rect');\ngoog.require('H.map.Object');\ngoog.require('H.map.SpatialStyle');\ngoog.require('H.map.provider.Invalidations');\ngoog.require('H.util.ChangeEvent'); // TODO \"change\" event deprecated since 3.0.7.0\n\n\n\n//###############################################  CONSTRUCTOR  ########################################################\n/**\n * This class represents a spatial map object which provides its projected geometry.\n * @publish\n * @export\n * @extends {H.map.Object}\n * @abstract\n * @constructor\n * @param {boolean} isClosed Indicates whether this spatial object represents a closed shape\n * @param {H.map.Spatial.Options=} opt_options The options to apply\n */\nH.map.Spatial = function(isClosed, opt_options) {\n  'use strict';\n\n  if (opt_options) {\n    this.setStyle(opt_options['style']);\n  }\n  if (isClosed) {\n    this.isClosed_ = true;\n  }\n  H.map.Spatial.superClass_.constructor.call(this, opt_options);\n\n};\nH.lang.inherits(H.map.Spatial, H.map.Object);\n\n\n//##################################################  TYPE  ############################################################\n/**\n * @override\n */\nH.map.Spatial.prototype.type = H.map.Object.Type['SPATIAL'];\n\n\n//#################################################  Z-ORDER  ##########################################################\n/**\n * @override\n */\nH.map.Spatial.prototype.zOrderIdx = 0;\n\n\n//#################################################  EVENTS  ###########################################################\n/**\n * Fired when this spatial's style changes.\n * @publish\n * @deprecated since 3.0.7.0\n * @event H.map.Spatial#stylechange\n * @type {H.util.ChangeEvent}\n */\n\n\n//################################################  STYLE  #############################################################\n/**\n * The current style of this spatial object. If it is not defined you have to call getStyle() to create a default style.\n * Must NOT published, API internally used only by SpatialTile to prevent unnecessary cloning.\n * @type {H.map.SpatialStyle}\n */\nH.map.Spatial.prototype.style = H.map.SpatialStyle.DEFAULT_STYLE;\n\n\n/**\n * To get the drawing style of this object. The returned style is treated as immutable and must not be modified\n * afterwards to prevent inconsistancies!\n * @export\n * @publish\n * @return {H.map.SpatialStyle}\n */\nH.map.Spatial.prototype.getStyle = function() {\n  'use strict';\n  return this.style;\n};\n\n\n/**\n * To set the drawing style of this object.\n * If the passed opt_style argument is an instance of {@link H.map.SpatialStyle} it is treated as immutable and\n * must not be modified afterwards to prevent inconsistancies!\n * .\n * @export\n * @publish\n * @param {(H.map.SpatialStyle|H.map.SpatialStyle.Options)=} opt_style The style to set.\n *        If it evaluates to a {@code falsy} the {@link H.map.SpatialStyle.DEFAULT_STYLE} is used.\n * @return {H.map.Spatial} the Spatial instance itself\n */\nH.map.Spatial.prototype.setStyle = function(opt_style) {\n  'use strict';\n  var currentStyle = this.style,\n      hasChanged = true;\n\n  if (opt_style) {\n    this.style = H.lang.isInstanceOf(opt_style, H.map.SpatialStyle) ?\n        /** @type {H.map.SpatialStyle} */ (opt_style) :\n        new H.map.SpatialStyle(opt_style);\n  } else {\n    if (this.style) {\n      // Delete the instance property to expose the prototypic style:\n      delete this.style;\n    } else {\n      hasChanged = false;\n    }\n  }\n  if (hasChanged) {\n    // TODO \"stylechange\" event deprecated since 3.0.7.0\n    this.dispatchEvent(new H.util.ChangeEvent('stylechange', this.style, currentStyle));\n    this.invalidate(H.map.provider.Invalidations.Flag.VISUAL);\n  }\n  return this;\n};\n\n\n//##########################################  GEOMETRY & PROJECTION  ###################################################\n/**\n * The clip margin in pixel to use when clipping a projected geometry in pixel space\n * DON'T publish it, API internal use only\n * @type {number}\n */\nH.map.Spatial.prototype.PX_CLIP_MARGIN = H.math.round(H.map.SpatialStyle['MAX_LINE_WIDTH'] / 2) + 1;\n\n\n/**\n * The constant to signalize that the geometry of the spatial object is covering the requested area fully\n * DON'T publish it, API internally use only\n * @type {Array}\n */\nH.map.Spatial.prototype.FULLY_COVERED = [];\n\n\n/**\n * The constant to signalize that the geometry of the spatial object is not covering the requested area at all\n * DON'T publish it, API internally use only\n * @type {Array}\n */\nH.map.Spatial.prototype.NOT_COVERED = [];\n\n\n/**\n * Indicates whether this spatial object represents a closed shape\n * @private\n * @type {boolean}\n */\nH.map.Spatial.prototype.isClosed_ = false;\n\n\n/**\n * Indicates whether this spatial object represents a closed shape\n * @publish\n * @export\n * @return {boolean}\n */\nH.map.Spatial.prototype.isClosed = function() {\n  return this.isClosed_;\n};\n\n\n/**\n * Returns the projected geometry of this spatial object for a given spatial tile. Tile's coordinate\n * system origin is top left corner.\n * @publish\n * @abstract\n * @export\n * @method\n * @param {H.map.provider.SpatialTile} tile The tile for which the geometry is requested\n * @return {Array.<Array.<H.math.Point>>} an array of arrays containing alternating x, y coordinate pairs\n */\nH.map.Spatial.prototype.getGeometry = goog.abstractMethod;\n\n\n/**\n * The index of the geometry where the polyline geometries start. If the value is {@code -1} the geometry is not a\n * hybrid geometrys.\n * DON'T publish! It's just a work arround to be able to represent spatial objects which are a composit of\n * tessellated polygons (as surface area) and polylines (as outline) like the Meta-Info-Buildings.\n * The provided geometry begins with the shapes for the tessellated polygons. Starting at hybrid index the pathes for\n * the outlines are added. The hybrid index is taken in to account during rendering and hit testing.\n * It is only considered if the isClosed flag is true and the hybrid index is {@code >= 0}.\n * The default implementation returns always {@code -1}. Concrete Spatial implementation have to override it.\n * @export\n * @param {H.map.provider.SpatialTile} tile The tile for which the geometry is requested\n * @return {number} the index where outline geometries are starting, 0 means no hybrid geometry at all\n */\nH.map.Spatial.prototype.getHybridIdx = function(tile) {\n  return -1;\n};\n\n\n//################################################  OPTIONS  ###########################################################\n/**\n * Options which are used to initialize spatial object object\n * @publish\n * @typedef {{\n *   style: (H.map.SpatialStyle|H.map.SpatialStyle.Options|undefined),\n *   visibility: (boolean|undefined),\n *   zIndex: (number|undefined),\n *   min: (number|undefined),\n *   max: (number|undefined),\n *   provider: (H.map.provider.ObjectProvider|null|undefined)\n * }}\n * @property {(H.map.SpatialStyle|H.map.SpatialStyle.Options)=} style the\n *           style to be used when tracing the spatial object\n * @property {boolean=} visibility An optional boolean value indicating whether this\n *           map object is visible, default is {@code true}\n * @property {number=} zIndex The z-index value of the map object, default is {@code 0}\n * @property {number=} min\n *           The minimum zoom level for which the object is visible, default is {@code -Infinity}\n * @property {number=} max\n *           The maximum zoom level for which the object is visible, default is {@code Infinity}\n * @property {(H.map.provider.Provider|null)=} provider\n *           The provider of this object. This property is only needed if a customized Implementation of\n *           ObjectProvider wants to instantiate an object.\n */\nH.map.Spatial.Options;\n",
		"goog.provide('H.map.GeoShape');\n\ngoog.require('H.geo.Rect');\ngoog.require('H.geo.Strip');\ngoog.require('H.map.Object');\ngoog.require('H.map.Spatial');\ngoog.require('H.map.provider.Invalidations');\ngoog.require('H.math');\ngoog.require('H.util.ChangeEvent'); // TODO \"stripchange\" event deprecated since 3.0.7.0, to remove in 3.0.8.0\n\n\n\n//###############################################  CONSTRUCTOR  ########################################################\n/**\n * This class represents a spatial shape in geographic space. It is defined by a path\n * containing the vertices of the shape (lat, lng, alt values).\n * @publish\n * @export\n * @extends {H.map.Spatial}\n * @abstract\n * @constructor\n * @param {boolean} isClosed Indicates whether this geographical shape is closed (a polygon)\n * @param {H.geo.Strip} strip The strip describing the shape of the spatial object\n * @param {H.map.Spatial.Options} options The options to apply\n */\nH.map.GeoShape = function(isClosed, strip, options) {\n  'use strict';\n\n  // As long as GeoShape is published we have to protect direct instantiation or inheritance other than Polyline and\n  // Polygon because there is a \"special treatment\" in setStrip():\n  if (!H.lang.isInstanceOf(this, H.map.Polygon) &&\n      !H.lang.isInstanceOf(this, H.map.Polyline)) {\n    throw new Error('Illegal constructor call ' + H.lang.getSymbolPath(H.map.GeoShape));\n  }\n\n  H.map.GeoShape.superClass_.constructor.call(this, isClosed, options);\n  this.setStrip(strip);\n};\nH.lang.inherits(H.map.GeoShape, H.map.Spatial);\n\n\n//#################################################  EVENTS  ###########################################################\n/**\n * Fired when this spatial's strip changes.\n * @publish\n * @deprecated since 3.0.7.0, will be removed in 3.0.8.0\n * @event H.map.GeoShape#stripchange\n * @type {H.util.ChangeEvent}\n */\n\n\n//##################################################  STRIP  ###########################################################\n/**\n * The strip to describe the shape in geo-space\n * @protected\n * @type {?H.geo.Strip}\n */\nH.map.GeoShape.prototype.strip = null;\n\n\n/**\n * This method returns the strip which represents the shape of the spatial object.\n * @publish\n * @return {H.geo.Strip} the strip\n * @export\n */\nH.map.GeoShape.prototype.getStrip = function() {\n  'use strict';\n  return this.strip;\n};\n\n\n/**\n * This method sets the geo-information for the spatial object\n * @publish\n * @export\n * @param {?H.geo.Strip} strip The strip which represents the shape of the spatial object.\n * @return {H.map.GeoShape} the Spatial instance itself\n */\nH.map.GeoShape.prototype.setStrip = function(strip) {\n  'use strict';\n  var currentStrip;\n  if (strip !== null && !H.lang.isInstanceOf(strip, H.geo.Strip)) {\n    throw new H.lang.InvalidArgumentError(H.map.GeoShape.prototype.setStrip, 0, strip);\n  }\n  // Sub-classes whose computes the strip on demand (e.g. Circle and Rect)\n  currentStrip = this.strip;\n  this.strip = strip;\n  // This is a \"special treatment\" for nullable strips. We allow only Polyline and Polygon to inherit from\n  // Spatial. Booth classes have to assure, that either a proper strip is provided during construction time or\n  // the strip is null and is computed on demand by a sub-class during getStrip() and getBounds().\n  // The Polygon#setStrip allows it's sub classes to set strip to null (e.g. when a circle's center has been changed)\n  // For this reason we must not trigger an \"stripchange\" event or an invalidate() call if the current strip is null,\n  // otherwise we get a race-condition\n  if (currentStrip !== null) {\n    // TODO \"stripchange\" event deprecated since 3.0.7.0, to remove in 3.0.8.0\n    this.dispatchEvent(new H.util.ChangeEvent('stripchange', strip, currentStrip));\n    this.invalidate(H.map.provider.Invalidations.Flag.SPATIAL);\n  }\n  return this;\n};\n\n\n//#################################################  BOUNDS  ###########################################################\n/**\n * This method returns the bounding rectangle for this object. The rectangle\n * is the smallest rectangle which encloses all points of the spatial object.\n * @export\n * @publish\n * @abstract\n * @method\n * @return {H.geo.Rect}\n */\nH.map.GeoShape.prototype.getBounds = goog.abstractMethod;\n\n\n//##########################################  GEOMETRY & PROJECTION  ###################################################\n/**\n * Projects geo-strips to x,y strips\n * DON'T publish, API-internal use only by SpatiaTile!\n * @param {Array.<Array.<number>>} strips The geo-strips to project\n * @param {boolean} isClosed A flag to indicate whether the strip is closed\n * @param {H.geo.PixelProjection} pxProjection\n * @return {Array.<Array.<H.math.Point>>} the projected strips\n */\nH.map.GeoShape.prototype.projectGeoStrips = function(strips, isClosed, pxProjection) {\n  'use strict';\n  var coords = [],\n      length = strips.length,\n      i,\n      strip;\n  for (i = 0; i < length; i++) {\n    strip = strips[i];\n    if (strip.length) {\n      coords.push(this.projectDenormalized_(strip, isClosed, pxProjection));\n    }\n  }\n  return coords;\n};\n\n\n/**\n * Returns an array of coordinates which are denormalized but they cover the shape. Denormalized means\n * that returned array of projected coordinates should contain points computed out of longitudes which are\n * bigger than 180 or smaller than -180 degrees.\n * @param {Array.<number>} coords Array of lat, lng...\n * @param {boolean} isClosed Flag if the shape is closed\n * @param {H.geo.PixelProjection} pxProjection The pixel projection to use\n * @param {number=} opt_shift Optional value to determine of shifting to left or right world (+-360)\n * @return {Array.<H.math.Point>} Array of 2D points\n * @private\n */\nH.map.GeoShape.prototype.projectDenormalized_ = function(coords, isClosed, pxProjection, opt_shift) {\n  'use strict';\n  var strip = [],\n      length = coords.length,\n      i = 0;\n  this.denormalizeLastLng_ = 0;\n  opt_shift = opt_shift || 0;\n  while (i < length) {\n    strip.push(this.denormalize_(coords[i++], coords[i++], opt_shift, pxProjection));\n  }\n\n  // Adding a closing leg for polygons. This leg is necessary when we need to compute filling etc.\n  if (isClosed) {\n    strip.push(this.denormalize_(coords[0], coords[1], opt_shift, pxProjection));\n  }\n  return strip;\n};\n\n\n/**\n * To keep the last longitude, needed by denormalize_()\n * Must be reset to 0 for each execution of projectDenormalized_ before calling denormalize_\n * @private\n * @type {number}\n */\nH.map.GeoShape.prototype.denormalizeLastLng_;\n\n\n/**\n * To create a Point with denormalized longitudes, necessary for sequential longitudes with a delta > 180 degrees\n * @private\n * @param {number} lat\n * @param {number} lng\n * @param {number} shift\n * @param {H.geo.PixelProjection} pxProjection\n * @return {H.math.Point}\n */\nH.map.GeoShape.prototype.denormalize_ = function(lat, lng, shift, pxProjection) {\n  'use strict';\n  var lastLng = this.denormalizeLastLng_;\n  if (lastLng && H.math.abs(lastLng - lng) > 180) {\n    lng += lastLng < 0 ? -360 : 360;\n  }\n  this.denormalizeLastLng_ = lng;\n  return pxProjection.latLngToPixel(lat, lng + shift);\n};\n",
		"goog.provide('H.map.Polyline');\n\ngoog.require('H.geo.QuadTree');\ngoog.require('H.geo.Strip');\ngoog.require('H.map.ArrowStyle');\ngoog.require('H.map.GeoShape');\n\n\n\n/**\n * This class represents a polyline in geo-space. It is defined by a path\n * containing the vertices of a polyline (lat, lng, alt values) and a pen\n * to use when tracing the path on the map.\n * @publish\n * @export\n * @extends {H.map.GeoShape}\n * @final\n * @constructor\n * @param {H.geo.Strip} strip the strip describing this polygon's vertices\n * @param {H.map.Polyline.Options=} opt_options optional initialization parameters\n */\nH.map.Polyline = function(strip, opt_options) {\n  'use strict';\n  var arrows;\n  H.map.Polyline.superClass_.constructor.call(this, false, strip,\n      /** @type {H.map.Spatial.Options} */ (opt_options));\n  // If arrows option defined, we set the arrows property:\n  if (opt_options && (arrows = opt_options['arrows'])) {\n    this.setArrows(arrows);\n  }\n};\nH.lang.inherits(H.map.Polyline, H.map.GeoShape);\n\n\n/**\n * @override\n * @export\n */\nH.map.Polyline.prototype.getBounds = function() {\n  'use strict';\n  return this.quadTree_.getBounds();\n};\n\n\n/**\n * @override\n * @export\n */\nH.map.Polyline.prototype.setStrip = function(strip) {\n  'use strict';\n  var lastLat,\n      lastLng,\n      quadEntry,\n      quadTree = this.quadTree_ = new H.geo.QuadTree();\n\n  strip.eachLatLngAlt(function(lat, lng, alt, i) {\n    if (i > 0) {\n      quadEntry = quadTree.insertLine(lastLat, lastLng, lat, lng);\n      quadEntry.$insertionIndex$ = i - 1;\n    }\n    lastLat = lat;\n    lastLng = lng;\n  });\n\n  return H.map.Polyline.superClass_.setStrip.call(this, strip);\n};\n\n\n/**\n * To get the arrow style from this object or {@code undefined} if no arrow style is defined.\n * @export\n * @publish\n * @return {H.map.ArrowStyle|undefined}\n */\nH.map.Polyline.prototype.getArrows = function() {\n  'use strict';\n  return this.arrows && this.arrows.getClone();\n};\n\n\n/**\n * To set the arrow style of this object.\n * @export\n * @publish\n * @param {(H.map.ArrowStyle|H.map.ArrowStyle.Options)=} opt_arrows the arrow style to be applied\n * @return {H.map.Polyline} the Polyline instance itself\n */\nH.map.Polyline.prototype.setArrows = function(opt_arrows) {\n  'use strict';\n  var currentArrows = this.getArrows(),\n      arrows = opt_arrows,\n      changed = false;\n\n  //possible cases:\n  // A: arrows == undefined & currentArrows != undefined\n  // B: arrows != undefined & currentArrows == undefined\n  // C: arrows != undefined & currentArrows != undefined\n  // D: arrows == undefined & currentArrows == undefined\n  if (!arrows && currentArrows) {\n    // CASE A: set and change\n    delete this.arrows;\n    changed = true;\n  } else if (arrows) {\n    if (!currentArrows || !currentArrows.equals(arrows)) {\n      //CASE B & C : set and change.\n      this.arrows = new H.map.ArrowStyle(/** @type {H.map.ArrowStyle.Options} */(arrows));\n      changed = true;\n    }\n  }\n  // CASE D: we do not care both are undefined, no change necessary\n\n  if (changed) {\n    this.invalidate(H.map.provider.Invalidations.Flag.VISUAL);\n  }\n  return this;\n};\n\n\n/**\n * This method clips this polyline against a rectangular area and returns the intersecting sub-lines.\n * @param {H.geo.Rect} geoRect\n * @return {Array.<Array.<number>>}\n * @export\n * @publish\n */\nH.map.Polyline.prototype.clip = function(geoRect) {\n  // TODO MAPSJS-448\n  // Should be deprecated and replaced with something like\n  //     GeoShape.instersects(bounds): boolean\n  // which will be much more performant than calling getStripsForGeoRect_\n  'use strict';\n  // H.lang.deprecated(H.map.Polyline.prototype.clip);\n  return this.getStripsForGeoRect_(geoRect);\n};\n\n\n//###########################################  CLIPPING & PROJECTION  ##################################################\n/**\n * @override\n * @export\n */\nH.map.Polyline.prototype.getGeometry = function(tile) {\n  'use strict';\n  var pxClipRect,\n      data;\n\n  data = this.getStripsForGeoRect_(tile.getGeoClipRect());\n  // TODO We should project the WHOLE geometry only ONCE instead of project again and again overlapping parts of it:\n  // TODO We should project only if there are any clipped data!\n  data = this.projectGeoStrips(data, false, tile.getPxProj());\n  // Clip the projected geometry against the pixel rectangle:\n  pxClipRect = tile.getPxClipRect();\n  data = H.math.clipping.clipStrips(data,\n      pxClipRect['left'], pxClipRect['top'],\n      pxClipRect['right'], pxClipRect['bottom']);\n\n  // Satisfy CC - TODO Check what's wrong here!\n  data = /** @type {Array.<Array.<H.math.Point>>} */ (data);\n\n  return data;\n};\n\n\n/**\n * Compares two leg entries returned from a quad tree by their insertion index use for Array#sort()\n * @private\n * @param {H.util.QuadTree.Entry} entryA\n * @param {H.util.QuadTree.Entry} entryB\n * @return {number}\n */\nH.map.Polyline.treeEntryIndexComparator_ = function(entryA, entryB) {\n  'use strict';\n  return entryA.$insertionIndex$ - entryB.$insertionIndex$;\n};\n\n\n/**\n * Computes a collection of strips which intersects with the given geographical rectangle\n * @private\n * @param {H.geo.Rect} geoRect The geographical rectangular area to query\n * @return {Array.<Array.<number>>}\n */\nH.map.Polyline.prototype.getStripsForGeoRect_ = function(geoRect) {\n  'use strict';\n\n  // In general clipping of polyline is easy because we have just to check if any leg is crossing date border\n  // and make sub strip from it. At the end all legs are clipped against the rectangle. There is no magic involved.\n\n  var entries,\n      entry,\n      coords = this.strip.getLatLngAltArray(),\n      length,\n      i,\n      j,\n      index,\n      offset,\n      lastIndex = -2,\n      lat,\n      lastLat,\n      lng,\n      lastLng,\n      strips = [],\n      strip,\n      clippedStrips,\n      clippedStripsTmp,\n      clippedStripTmp,\n      coordArray,\n      isDBC = H.geo.Strip.isDBC;\n\n  // Query all legs which intersect the given rectangle and sort them in strip order:\n  entries = this.quadTree_.intersectBounds(geoRect).\n      sort(H.map.Polyline.treeEntryIndexComparator_);\n\n  // Aggregate the single legs like   [a->b, b->c, e->f, f->g]\n  // into a list of sub-strips like   [[a->b->c], [e->f->g]]\n  length = entries.length;\n  for (i = 0; i < length; i++) {\n    entry = entries[i];\n    index = entry.$insertionIndex$;\n    offset = index * 3;\n    // A hole in the (ordered) index sequence -> new strip\n    if (lastIndex + 1 !== index) {\n      strips.push(strip = [lastLat = coords[offset], lastLng = coords[offset + 1]]);\n    }\n    lastIndex = index;\n\n    offset += 3;\n\n    lat = coords[offset];\n    lng = coords[offset + 1];\n\n    strip.push(lastLat = lat, lastLng = lng);\n  }\n\n  // If a polyline is crossing the dateborder than it is clipped to sub shapes which are only on the \"real\" world\n  // (longitude is between -180 and +180) and has only start- and/or end-points in the \"virtual\" world\n  if (this.strip.getDBCs()) {\n    //preprocessing polyline\n    clippedStripsTmp = [];\n    for (i = 0; i < strips.length; i++) {\n      strip = strips[i];\n      length = strip.length;\n      if (length) {\n        clippedStripTmp = [];\n        for (j = 0; j < length; j += 2) {\n          // Not date border crossing leg:\n          if (j == 0 || j > 0 && (!isDBC(strip[j + 1], strip[j - 1]))) {\n            clippedStripTmp.push(strip[j], strip[j + 1]);\n          // Date border crossing leg:\n          } else {\n            clippedStripTmp.push(strip[j], strip[j + 1]);\n            clippedStripsTmp.push(clippedStripTmp);\n            // Creates new strip:\n            clippedStripTmp = [];\n            // Shifts new strip first leg outside the real world in longitude way:\n            strip[j - 1] += strip[j - 1] < 0 ? +360 : -360;\n            // Adds leg into new strip (previous coordinate and actual one):\n            clippedStripTmp.push(strip[j - 2], strip[j - 1], strip[j], strip[j + 1]);\n          }\n        }\n        // Don't add empty arrays, which should be generated by condition above:\n        clippedStripsTmp.push(clippedStripTmp);\n      }\n    }\n    strips = clippedStripsTmp;\n  }\n  return strips;\n};\n\n\n//###################################################  OPTIONS  ########################################################\n/**\n * Options which are used to initialize a polyline\n * @publish\n * @typedef {{\n *   style: (H.map.SpatialStyle|H.map.SpatialStyle.Options|undefined),\n *   arrows: (H.map.ArrowStyle|H.map.ArrowStyle.Options|undefined),\n *   visibility: (boolean|undefined),\n *   zIndex: (number|undefined),\n *   min: (number|undefined),\n *   max: (number|undefined),\n *   provider: (H.map.provider.ObjectProvider|null|undefined)\n * }}\n *\n * @property {(H.map.SpatialStyle|H.map.SpatialStyle.Options)=} style the\n *           style to be used when tracing the polyline\n * @property {(H.map.ArrowStyle|H.map.ArrowStyle.Options)=} arrows\n *           The arrows style to be used when rendering the polyline.\n * @property {boolean=} visibility An optional boolean value indicating whether this\n *           map object is visible, default is {@code true}\n * @property {number=} zIndex The z-index value of the map object, default is {@code 0}\n * @property {number=} min\n *           The minimum zoom level for which the object is visible, default is {@code -Infinity}\n * @property {number=} max\n *           The maximum zoom level for which the object is visible, default is {@code Infinity}\n * @property {(H.map.provider.Provider|null)=} provider\n *           The provider of this object. This property is only needed if a customized Implementation of\n *           ObjectProvider wants to instantiate an object.\n */\nH.map.Polyline.Options;\n",
		"goog.provide('H.map.Polygon');\n\ngoog.require('H.geo.Rect');\ngoog.require('H.geo.Strip');\ngoog.require('H.map.GeoShape');\ngoog.require('H.math');\n\n\n\n/**\n * This class represents a polygon in geo-space. It is defined by a strip\n * containing the vertices of a geo shape object (lat, lng, alt values) and a pen\n * to use when rendering the polyline.\n * Polygon represents a closed plane defined by the list of verticies, projected\n * on the map display. List of vericies which define the polygon are is a list\n * of geo coordinates encapsulated by the strip object {@link H.geo.Strip}\n * @publish\n * @export\n * @extends {H.map.GeoShape}\n * @constructor\n * @param {H.geo.Strip} strip the strip describing this polygon's vertices\n * @param {H.map.Spatial.Options=} opt_options optional initialization parameters\n *\n */\nH.map.Polygon = function(strip, opt_options) {\n  'use strict';\n  H.map.Polygon.superClass_.constructor.call(this, true, strip,\n      /** @type {H.map.Spatial.Options} */ (opt_options));\n};\nH.lang.inherits(H.map.Polygon, H.map.GeoShape);\n\n\n/**\n * @override\n * @export\n */\nH.map.Polygon.prototype.getBounds = function() {\n  'use strict';\n  var bounds,\n      strip,\n      dbcs,\n      count;\n  // Has this polygon no valid bounds?\n  if (!(bounds = this.bounds)) {\n    // Has this polygon a valid strip?\n    if (strip = this.getStrip()) {\n      // If the strip has bounds we recalculate the polygon bounds out of the strip bounds (polygon specific algorithm):\n      if (bounds = strip.getBounds()) {\n        // TODO We should move the bounds computing code into Strip.js like Strip.getBounds(opt_isClosed)\n        // Does this polygon cross the data-border?\n        if ((dbcs = strip.getDBCs(true)) && (count = strip.getPointCount())) {\n          // Merge the computed box with the box of the closing leg:\n          bounds = bounds.mergeRect(H.geo.Rect.coverPoints(\n              [strip.extractPoint(0), strip.extractPoint(count - 1)], true), true);\n        }\n        // Add south or north pole if the polygon goes around the world and the number of data border crossings is odd\n        // (it means is open and looks like a polyline). By default we add south pole:\n        if (bounds.getWidth() === 360 && dbcs % 2 === 1) {\n          bounds = bounds.mergeLatLng(this.isCoveringNorthPole ? 90 : -90, 0);\n        }\n      }\n    }\n    // Store the calculated bounds:\n    this.bounds = bounds || null;\n  }\n  return bounds;\n};\n\n\n//###########################################  CLIPPING & PROJECTION  ##################################################\n/**\n * @override\n * @export\n */\nH.map.Polygon.prototype.getGeometry = function(tile) {\n  'use strict';\n  var data,\n      pxProj = tile.getPxProj(),\n      bounds,\n      dbcs,\n      northwards,\n      pxClipRect,\n      left,\n      top,\n      right,\n      bottom,\n      isLeftTopInside,\n      clippedData,\n      clippingPolygon,\n      i,\n      clipResult,\n      strip;\n\n  // TODO Check, why do we had the arguments before (does it come from 2.5 ?)\n  data = this.preparedStripForDateBorder_(/*tile.getGeoClipRect(), tile.getPxProj()*/);\n\n  // Project the geo-based strips:\n  data = this.projectGeoStrips(data, true, pxProj);\n\n  bounds = this.getBounds();\n  dbcs = this.getStrip().getDBCs(true),\n  northwards = this.getNorthPoleCovering();\n\n  // Check if it is an \"open polygon\"\n  // (A polygon which covers the north or south pole by having an \"open\" strip along the whole longitude axis).\n  if (bounds.getWidth() === 360 && (dbcs % 2) == 1) {\n    data = this.closeOpenPolygon_(data, northwards, pxProj);\n  }\n\n  pxClipRect = tile.getPxClipRect();\n  left = pxClipRect['left'];\n  top = pxClipRect['top'];\n  right = pxClipRect['right'];\n  bottom = pxClipRect['bottom'];\n\n\n  // Check if the top-left corner of the clip-rectangle is inside the polygon:\n  isLeftTopInside = this.coversCoords_(left, top, data[0], northwards);\n  // If we have a second shape then we have to check again for this one\n  if (data[1]) {\n    // It's only true if the \"isLeftTopInside\" value for the first and second shape are different:\n    isLeftTopInside ^= this.coversCoords_(left, top, data[1], northwards);\n  }\n\n  // The following is a bit of a trick to spare unnecesary computing effort if no legs intersecting the rectangle:\n  // TODO: Pass a \"testOnly\" argument to clipStrips() to stop clipping after a the first intersecting leg was found\n  // TODO: Why not using a quadtree to determine if there are any intersecting legs?\n  if (!H.math.clipping.clipStrips(data, left, top, right, bottom).length) {\n    data = isLeftTopInside ?\n        this.FULLY_COVERED :   // The polygon covers the whole rectangle\n        this.NOT_COVERED;     // The polygon doesn't cover the rectangle at all\n  } else {\n    // TODO We have to do the following check BEFORE we do some clipping (see above)!\n    // Only if the rectangle DOESN'T contain the polygon completely there is a need to clip the polygon:\n    if (!tile.getGeoClipRect().containsRect(bounds)) {\n      clippedData = [];\n      clippingPolygon = [\n        new H.math.Point(left, top),\n        new H.math.Point(right, top),\n        new H.math.Point(right, bottom),\n        new H.math.Point(left, bottom)\n      ];\n      i = data.length;\n      while (i--) {\n        clipResult = H.math.clipping.clipPolygon(clippingPolygon, data[i]);\n        if (clipResult) {\n          strip = this.getStripFromResult_(clipResult);\n          clippedData.push(strip);\n          while (clipResult.nextPoly) {\n            clipResult = clipResult.nextPoly;\n            strip = this.getStripFromResult_(clipResult);\n            clippedData.push(strip);\n          }\n        }\n      }\n      data = clippedData;\n    }\n  }\n  return data;\n};\n\n\n/**\n * This method closes an \"open polygon\" by multiplying the strip across the x-axis and adding the closing legs north- or\n * southwards (depending on the \"northwards\" argument).\n * @private\n * @param {Array.<Array.<H.math.Point>>} data The strip list\n * @param {boolean} northwards A flag to indicate whether to close the polygon north- or southwards\n * @param {H.geo.PixelProjection} pxProj The pixel projection to use\n * @return {Array.<Array.<H.math.Point>>} the modified strip list\n */\nH.map.Polygon.prototype.closeOpenPolygon_ = function(data, northwards, pxProj) {\n  'use strict';\n  var i,\n      length,\n      newArray,\n      point,\n      Point = H.math.Point,\n      // TODO Why do we add 1 to the PX_CLIP_MARGIN? It's already round(MAX_LINE_WIDTH / 2) + 1\n      PX_CLIP_MARGIN = this.PX_CLIP_MARGIN + 1,\n      p1,\n      p2;\n\n  // This is the weirdest part of the clipping algorithm. After multiplying the\n  // shape we add two points north of the open polygon to close it over the pole\n  // (if we ray cast from south). If we put these closing points on -51 sometimes\n  // the clipping algorithm clips away everything and the shape is not painted\n  // on some tiles (trust me on SOMETIMES, it's different tiles for different\n  // rendering cycles...)\n  // To avoid the clipping algorithm to behave this way we put the northern\n  // closing leg one more pixel up. Then the tile is fully covered and the\n  // clipping algorithm is never triggered. This also saves memory ;)\n\n  // Upcoming code needs open polygon in direction from left to right.\n  // Reversing the order of points if they are in wrong way:\n  if (data[0][1].x > data[0][data[0].length - 1].x) {\n    data[0] = data[0].reverse();\n  }\n\n  // Strip multiplication:\n  // This is the weakest part of clipping, not sure if it works 100% times.\n  // We need to multiply the shape because one shape fit the window and we need at least two other\n  // (left and right) to fill window+padding.But because we don't know nothing about shape direction\n  // so to be safe we multiply it twice to both direction (then it will be clipped).\n  // TODO: JH - why do we multiply 5 times? Shouldn't 3 be enough???\n  newArray = [];\n  length = data[0].length - 1;\n  for (i = 0; i < length; i++) {\n    point = data[0][i];\n    newArray[i] = new Point(point['x'] - 2 * pxProj['w'], point['y']);\n    newArray[i + length] = new Point(point['x'] - pxProj['w'], point['y']);\n    newArray[i + 2 * length] = new Point(point['x'], point['y']);\n    newArray[i + 3 * length] = new Point(point['x'] + pxProj['w'], point['y']);\n    newArray[i + 4 * length] = new Point(point['x'] + 2 * pxProj['w'], point['y']);\n  }\n\n  data[0] = newArray;\n\n  // Closes the shape over the pole so it is like closed shape but closing legs wouldn't be never\n  // rendered because they are made in pixel projection:\n  p1 = pxProj.latLngToPixel(northwards ? 90 : -90, 0);\n  // Maximum line width is 100. So we have to be sure that this virtual line will not be visible:\n  p1.y = northwards ? p1.y - (PX_CLIP_MARGIN) : p1.y + (PX_CLIP_MARGIN);\n  p2 = p1.clone();\n  p1.x = data[0][data[0].length - 1].x + 1;\n  p2.x = data[0][0].x - 1;\n  data[0].push(p1, p2);\n\n  return data;\n};\n\n\n/**\n * This method tests if a given point is within a 2D polygon area.\n * @private\n * @param {number} x The x-component of the coordinate to test\n * @param {number} y The y-component of the coordinate to test\n * @param {Array.<H.math.Point>} pixelStrip the strip describing the polygon\n * @param {boolean} rayCastFromSouthPole a boolean value indicating whether to\n *  check by ray casting from south (true) or north (false)\n * @return {boolean} true if the point is within the polygon, false otherwise\n */\nH.map.Polygon.prototype.coversCoords_ = function(x, y, pixelStrip, rayCastFromSouthPole) {\n  'use strict';\n  var length = pixelStrip.length,\n      i = 1,\n      count = 0,\n      coord,\n      point1 = pixelStrip[0],\n      point2,\n      tmp;\n\n  for (; i < length; i++) {\n    point2 = pixelStrip[i];\n    // Now polygons have their closing legs, but in future it is not needed,\n    // than this line will better works than the line above\n    // for (; i <= length; i++) {\n    // point2 = i <length ? pixelStrip[i] : pixelStrip[0];\n\n\n    tmp = point1.y + (point2.y - point1.y) * ((x - point1.x) / (point2.x - point1.x));\n    // test x is between points and than bellow/up the line made\n    // from these points last check with tmp is in condition because if we\n    // raycast from north pole (as default) we count all lines above given\n    // point, when we are raycasting from south pole we count lines bellow\n    if (H.math.min(point1.x, point2.x) <= x && H.math.max(point1.x, point2.x) >= x &&\n        (rayCastFromSouthPole ? tmp > y : tmp < y)) {\n      count++;\n    }\n    point1 = point2;\n  }\n  return count % 2 > 0;\n};\n\n\n/**\n * This method converts a clipping result back to an x,y array\n * @private\n * @param {Object} result the clipping result\n * @return {Array.<number>} the x,y array\n */\nH.map.Polygon.prototype.getStripFromResult_ = function(result) {\n  'use strict';\n  var strip = [],\n      point,\n      aux = result,\n      x,\n      y,\n      round = H.math.round,\n      sqrt = H.math.sqrt,\n      pow = H.math.pow;\n  do {\n    x = round((aux.origx ? aux.origx : aux.x) * 100) / 100;\n    y = round((aux.origy ? aux.origy : aux.y) * 100) / 100;\n\n    if (!point || sqrt(pow(point.x - x, 2) + pow(point.y - y, 2)) > 1e-2) {\n      point = new H.math.Point(x, y);\n      strip.push(point);\n    }\n\n    aux = aux.next;\n  } while (aux && aux !== result);\n\n  return strip;\n};\n\n\n//######################################################################################################################\n/**\n * The cached bounds of the polygon\n * @protected\n * @type {?H.geo.Rect}\n */\nH.map.Polygon.prototype.bounds = null;\n\n\n/**\n * @override\n * @export\n */\nH.map.Polygon.prototype.setStrip = function(strip) {\n  'use strict';\n\n  // Only for sub classes (e.g. Circle and Rect) we allow to set null as \"strip\" parameter\n  // and let them calculate the strip on demand later on in getStrip()\n  if (!H.lang.isInstanceOf(strip, H.geo.Strip) &&\n      (H.lang.isConstructedBy(this, H.map.Polygon) || strip !== null)) {\n    throw new H.lang.InvalidArgumentError(H.map.Polygon.prototype.setStrip, 0, strip);\n  }\n  this.bounds = null;\n  return H.map.Polygon.superClass_.setStrip.call(this, strip);\n};\n\n\n/**\n * See {@link H.map.Polygon.prototype.setNorthPoleCovering}\n * IMPORTANT:\n * If a sub-classes doesn't calculate the strip during construction time (still null), they must adjust this property\n * during the lazy strip calculation when getStrip() is called.\n * @protected\n * @type {boolean}\n */\nH.map.Polygon.prototype.isCoveringNorthPole = true;\n\n\n/**\n * To set the indicator whether this polygon covers the north pole.\n * It's needed for Polygons whose strip is defined as lines arround the world on longitude axis\n * (for example a circle whose center is one of the poles).\n * In this case a additional information is needed to know if the southern or northern part of the world should be\n * covered by the poygon.\n * @publish\n * @export\n * @param {boolean} flag A value of {@code true} means it covers the north pole, {@code false} means south pole\n * @return {H.map.Polygon} the Polygon instance itself\n */\nH.map.Polygon.prototype.setNorthPoleCovering = function(flag) {\n  'use strict';\n  if (this.isCoveringNorthPole !== flag) {\n    this.isCoveringNorthPole = flag;\n    this.bounds = null;\n    this.invalidate(H.map.provider.Invalidations.Flag.SPATIAL);\n  }\n  return this;\n};\n\n\n/**\n * See {@link H.map.Polygon.prototype.setNorthPoleCovering}\n * @publish\n * @export\n * @return {boolean}\n */\nH.map.Polygon.prototype.getNorthPoleCovering = function() {\n  'use strict';\n  return this.isCoveringNorthPole;\n};\n\n\n/**\n * This method clips this polygon against a rectangular area. This method will\n * take polygons crossing the date border into account duplicate the shape in\n * the returned list of intersecting strips.\n * @private\n * @return {Array.<Array.<number>>} a list of arrays with alternating lat, lng values.\n */\n// TODO seems it was a \"left over\", booth arguments not effectively used at all\n// @param {H.geo.Rect} geoRect the rectangular area against which to clip\n// @param {H.geo.PixelProjection} projection a projection to use for bounding box padding\n///*function(geoRect, projection)*/\nH.map.Polygon.prototype.preparedStripForDateBorder_ = function() {\n  'use strict';\n\n  // See \"Efficient Clipping of Arbitrary Polygons\" of Günther Greiner and Kai Hormann.\n  var strips,\n      coords,\n      //geoCenter = geoRect.getCenter(),\n      isLeftTopInside = false, // will be computed bellow\n      length = 0,\n      i,\n      j,\n      shapeBounds,\n      shapeBoundsWidth,\n      shapeBoundsExt,\n      shapeCenterLng,\n      coord1,\n      coord2;\n\n  // There are terms \"real\" and \"virtual\" words used quite often in comments. That is because our \"real\"\n  // world is covered only by coordinates with longitudes in range [-180 ... 180]. But when the polygon is crossing\n  // the date border we have to draw that. It means that for algorithms the crossing leg is going from \"real\" world to\n  // \"virtual\", e.g. leg [0, 170],[0,-170] is for algorithm [0, 170],[0,190] or [0, -190],[0,-170]. This\n  // unfolding means that projection into pixels project these coordinates on right side of tile.\n  //\n  // The clipping of polygons involves some preperation magic.\n  // In general we cannot split polygons into parts which are crossing date border like for polylines.\n  // So there are two steps needed:\n  //  - If the polygon touches date border (like: {lat: 53, lng: 180}) we have to add also an additional point\n  //    (like {lat: 53, lng: -180}) to render it also on the \"other side of word\" because of the line width\n  //  - If the polygon crosses the date border we have to doublicate the whole polygon to get once in the \"real world\",\n  //    and a second one in the \"virtual word\". That ensures that tiles on both sides of date border are covered.\n  //\n  // Clipping polygons is expensive because we must work with all coordinates in every tile which is covered\n  // and because we must do computation twice for date border crossing polygons.\n\n  strips = [[]];\n  // Gets filtered array of lat,lng for bounding box computation:\n  // The sanitize function creates a copy of the array so that we do not modify the\n  // original coords of the polygon\n  coords = this.sanitizePolygonPoints_(this.getStrip().getLatLngAltArray());\n\n  // We must compute own bounding box from filtered coordinates, not use the one from shape\n  // because originally date border crossing shape shouldn't cross date border after coordinate\n  // filtering process\n  // TODO: CHECK CODE VS. COMMENTS\n  shapeBounds = this.getBounds();\n  shapeBoundsWidth = shapeBounds.getWidth();\n\n  // There is first trick for shapes which only touch the date-border.\n  // Here we need the proper rotation of virtual shape so we change 180 to -180 and otherwise\n  // this is corresponding with adding virtual points to coordsArray\n  if (shapeBoundsWidth < 360 && shapeBounds.getLeft() == -180) {\n    shapeBounds = new H.geo.Rect(shapeBounds.getTop(), 180, shapeBounds.getBottom(), shapeBounds.getRight());\n  }\n  if (shapeBoundsWidth < 360 && shapeBounds.getRight() == 180) {\n    shapeBounds = new H.geo.Rect(shapeBounds.getTop(), shapeBounds.getLeft(), shapeBounds.getBottom(), -180);\n  }\n\n  // Second trick for shapes close to date border which goes over it just because of line thickness.\n  // Extending BBox with thickness of maximum line width:\n  // Before let's assign the original shapeBounds to have a valid value later on\n\n  //TODO: Maybe we won't need this, since we are already passing in a rectangle which\n  // is padded by maxLineWidth / 2 + 1\n  /*shapeBoundsExt = shapeBounds;\n\n  if (shapeBoundsWidth < 360) {\n    // As mentioned above, this magic is not needed on zoom level 0 where all shapes are on one tile:\n    shapeCenterLng = shapeBounds.getCenter()['lng'];\n    coord1 = projection.geoToPixel(shapeBounds.getTopLeft());\n    coord1.x -= maxLineWidth;\n    coord1.y -= maxLineWidth;\n    coord1 = projection.pixelToGeo(coord1);\n\n    coord2 = projection.geoToPixel(shapeBBox.getBottomRight);\n    coord2.x += maxLineWidth;\n    coord1.y += maxLineWidth;\n    coord2 = projection.pixelToGeo(coord2);\n\n    shapeBoundsExt = H.geo.Rect.coverLatLngAlts([\n      coord1['lat'], coord1['lng'], undefined,\n      coord1['lat'], shapeCenterLng, undefined,\n      coord1['lat'],  coord2['lng'], undefined,\n      coord2['lat'],  coord2['lng'], undefined,\n      coord2['lat'],  shapeCenterLng, undefined,\n      coord2['lat'],  coord1['lng'], undefined\n    ]);\n  }*/\n\n  if (shapeBounds.isCDB()) {\n    coords = this.addDateBorderPoint_(coords);\n  }\n\n  // Reorganizes (rotates) points to start from most left one\n  strips[0] = this.rotateStripCoords_([].concat(coords), shapeBounds.getLeft());\n\n  // Tests if shape crosses date border, if so than we need to create virtual shape on other side (virtual)\n  // of world and do all computations again. It is computed from filtered coordinates not from original shape\n  // because original one should cross date border and filtered not.\n  //TODO: because it is repeating code above, it should be redesign as sub function.\n  if (shapeBounds.getWidth() < 360 && shapeBounds.containsPoint(new H.geo.Point(shapeBounds.getTop(), 180))) {\n    //first condition repair 360° width rectangle on zoom 2 and more\n\n    //Rotates strip to start on other side:\n    coords = this.rotateStripCoords_([].concat(coords), shapeBounds.getRight());\n\n    // joins the virtual and the real world polygon\n    strips.push(coords);\n  }\n\n  return strips;\n};\n\n\n/**\n * This method clips this polygon against a rectangular area. This method will\n * take polygons crossing the date border into account duplicate the shape in\n * the returned list of intersecting strips.\n * @deprecated since 3.0.5.1\n * @publish\n * @export\n * @param {H.geo.Rect} geoRect the rectangular area against which to clip\n * @param {H.geo.PixelProjection} projection a projection to use for bounding box padding\n * @return {Array.<Array.<number>>} a list of arrays with alternating lat, lng values.\n */\nH.map.Polygon.prototype.clip = function(geoRect, projection) {\n  // The \"clip\" function doesn't clip, we keep it for backward comaptibility but it's now marked as @deprecated\n  H.lang.deprecated(H.map.Polygon.prototype.clip);\n  return this.preparedStripForDateBorder_(/*geoRect, projection*/);\n};\n\n\n/**\n * This method sanitizes a polygon strip by adding additional points if the\n * shape touches the date border. It returns a new array with lat, lng values.\n * @private\n * @param {Array.<number>} latLngAltArray the lat,lng,alt array from the poylgon's strip.\n * @return {Array.<number>} the santized lat,lng values from the strip.\n */\nH.map.Polygon.prototype.sanitizePolygonPoints_ = function(latLngAltArray) {\n  'use strict';\n  var coordArray = [],\n      length = latLngAltArray.length,\n      c,\n      lat,\n      lng,\n      virtualPointAdded = false;\n\n  for (c = 0; c < length; c += 3) {\n    lat = latLngAltArray[c];\n    lng = latLngAltArray[c + 1];\n    //no alt, since we do not care\n\n    // If we have shape which has vertical line laying on date border\n    // (two points have the same longitude +-180) we must add some virtual\n    // points to be sure that the shape \"cross\" the DB.\n    // It is due to rotation of shape. But we cannot change the direction so\n    // we add \"normal\", \"virtual\", and then is the normal one. All these three\n    // points are on same place.\n    // This fixes shape made from these coordinates:\n    //       (83, 165),(-83, 165),(-83, 180),(83, 180)\n    if (!virtualPointAdded && H.math.abs(lng) == 180) {\n      coordArray.push(lat);\n      coordArray.push(lng);\n      coordArray.push(lat);\n      coordArray.push(-lng);\n      virtualPointAdded = true;\n    }\n\n    coordArray.push(lat);\n    coordArray.push(lng);\n  }\n  return coordArray;\n};\n\n\n/**\n * Algorithm adds two points laying on date border if polygon strip crosses it.\n * This operation is needed to rotate strip correctly (see also\n * {@link H.map.Polygon#_rotateStripCoords}) if that polygon is \"open\"\n * (covering a pole).\n * This method is destructive, meaning that it modifies the data passed in\n * rather than copying the array.\n * @private\n * @param {Array.<number>} coordArray an array of alternating lat,lng values\n * @return {Array.<number>} the modified array\n */\nH.map.Polygon.prototype.addDateBorderPoint_ = function(coordArray) {\n  'use strict';\n  // In general this code finds a leg crossing date border and splits this leg\n  // exactly on the date border. It adds two points with longitude +-180.\n  var length = coordArray.length,\n      i,\n      tmp1,\n      tmp2,\n      lat1, lat2,\n      lng1, lng2,\n      newLat,\n      newLng,\n      delta,\n      splitIndex = -1,\n      isDBC = H.geo.Strip.isDBC,\n      abs = H.math.abs;\n\n  // go through the array finding the first DBC leg\n  for (i = 0; i < length - 2; i += 2) {\n    if (isDBC(coordArray[i + 1], coordArray[i + 3])) {\n      splitIndex = i + 2;\n      break;\n    }\n  }\n\n  // do not forget to check the closing leg (but only if we haven't found\n  // a DBC leg before)\n  if (splitIndex === -1) {\n    if (isDBC(coordArray[length - 1], coordArray[1])) {\n      splitIndex = length;\n    }\n  }\n\n  //if we did find a splitIndex\n  if (splitIndex !== -1) {\n    lat1 = coordArray[splitIndex - 2];\n    lng1 = coordArray[splitIndex - 1];\n    // because it may be that our split index is length the next array index\n    // can be at the start of the array (using modulo here)\n    lat2 = coordArray[(splitIndex) % length];\n    lng2 = coordArray[(splitIndex + 1) % length];\n\n    if (abs(lat1) !== 180 && abs(lat2) !== 180) {\n      // we now calculate the new lat,lng to insert\n      delta = abs(lat2 - lat1);\n      tmp1 = abs(lng2 - lng1);\n      tmp1 += tmp1 > 180 ? -360 : 0;\n      tmp2 = abs(180 - lng2);\n      tmp2 += tmp2 > 180 ? -360 : 0;\n      delta = delta / (abs(tmp1) / abs(tmp2));\n      newLat = lat2 + (lat2 > lat1 ? -delta : delta);\n      newLng = lng1 > 0 ? 180 : -180;\n\n      coordArray.splice(splitIndex, 0, newLat, newLng, newLat, -newLng);\n    }\n  }\n\n  return coordArray;\n};\n\n\n/**\n * Rotate the array of coordinates to start with point which has longitude most\n * similar to given longitude. In general passed coordArray is spliced and\n * concatenated to start with that coordinate.\n * @private\n * @param {Array.<number>} coordArray Array of coords lat, lng, lat,...\n * @param {number} longitude\n * @return {Array.<number>} Array of coords lat, lng, lat,...\n */\nH.map.Polygon.prototype.rotateStripCoords_ = function(coordArray, longitude) {\n  'use strict';\n  var coordArrayTmp = [],\n      c,\n      delta = Number.POSITIVE_INFINITY,\n      index = -1,\n      tmpLngDelta,\n      length = coordArray.length,\n      abs = H.math.abs;\n\n  // strict comparation\n  /*for (c = 0; c < coordArray.length; c+=2) {\n    if (coordArray[c+1] == longitude) {\n      coordArrayTmp = coordArray.splice(c, coordArray.length - c);\n      return coordArrayTmp.concat(coordArray);\n    }\n  }*/\n\n  // fuzzy comparison, because not all the time longitude parameter exactly\n  // match any longitudes in array\n  for (c = 0; c < length; c += 2) {\n    tmpLngDelta = abs(coordArray[c + 1] - longitude);\n    tmpLngDelta += tmpLngDelta > 180 ? 360 - tmpLngDelta : tmpLngDelta;\n    if (tmpLngDelta < delta) {\n      delta = tmpLngDelta;\n      index = c;\n    }\n  }\n\n  if (c > 0) {\n    coordArrayTmp = coordArray.splice(index, coordArray.length - index);\n    return coordArrayTmp.concat(coordArray);\n  }\n\n  return coordArray;\n};\n",
		"goog.provide('H.math.clipping');\n\ngoog.require('H.math.Point');\n\n\n/**\n * This namespace contains utility functions for clipping geometry.\n */\nH.math.clipping = {};\n\n\n/**\n * This function clips all given strips to provided rectangle. Rectangle\n * is being specified by top, left, right, bottom values.\n * @param {Array.<Array.<H.math.Point>>} strips\n * @param {number} left The left boundary\n * @param {number} top The top boundary\n * @param {number} right The right boundary\n * @param {number} bottom The bottom boundary\n * @return {Array.<Array.<H.math.Point>>} in the format [Point[], Point[], ...]\n */\nH.math.clipping.clipStrips = function(strips, left, top, right, bottom) {\n  'use strict';\n  var point,\n      clippedStrips,\n      clippedStrip,\n      j = strips.length,\n      i,\n      point1,\n      point2,\n      length,\n      lastPoint,\n      strip,\n      line;\n\n  if (!j) {\n    clippedStrips = strips;\n  } else {\n    // determines if the first (non clipped) point is already contained by clip rectangle\n    point = strips[0][0];\n    clippedStrips = [];\n    // clipping all legs against clip rectangle\n    while (j--) {\n      strip = strips[j];\n      length = strip.length;\n      lastPoint = 0;\n      for (i = 1; i < length; i++)\n        if (line = H.math.clipping.clipLine_(strip[i - 1], strip[i], top, left, right, bottom)) {\n          point1 = line[0];\n          point2 = line[1];\n          if (lastPoint && lastPoint.equals(point1)) {\n            clippedStrip.push(point2);\n          } else {\n            clippedStrips.push(clippedStrip = line);\n          }\n          lastPoint = point2;\n        }\n    }\n    length = clippedStrips.length;\n\n    // If the last and the first clipped strip connect to each other, they have to be concatenated:\n    if (length > 1 &&\n        clippedStrips[0][0].equals(clippedStrips[length - 1][clippedStrips[length - 1].length - 1])) {\n      clippedStrips[0].splice.apply(\n          clippedStrips[0], [0, 1].concat(clippedStrips.splice(length - 1, 1)[0]));\n    }\n  }\n  return clippedStrips;\n};\n\n\n/**\n * Clips a line given by two points against a clip rectangle\n * @param {H.math.Point} point1 First point of the line.\n * @param {H.math.Point} point2 Second point of the line.\n * @param {number} top Top component of the clip rectangle.\n * @param {number} left Left component of the clip rectangle.\n * @param {number} right Right component of the clip rectangle.\n * @param {number} bottom Bottom component of the clip rectangle.\n * @return {Array.<H.math.Point>|undefined} The resulting line as a list of 2 points or undefined\n *      if the line has been clipped away completely.\n * @private\n */\nH.math.clipping.clipLine_ = function(point1, point2, top, left, right, bottom) {\n  'use strict';\n  var x0 = point1['x'],\n      y0 = -point1['y'],\n      x1 = point2['x'],\n      y1 = -point2['y'],\n      reflect,\n      xTmp,\n      yTmp,\n      swapped;\n\n  top = -top;\n  bottom = -bottom;\n\n  if (x0 > x1) {\n    if (x1 > right || x0 < left) {\n      return;\n    }\n    xTmp = x0;\n    yTmp = y0;\n    x0 = x1;\n    y0 = y1;\n    x1 = xTmp;\n    y1 = yTmp;\n    swapped = 1;\n  } else if (x0 > right || x1 < left) {\n    return;\n  }\n\n  if (y0 > y1) {\n    if (y1 > top || y0 < bottom) {\n      return;\n    }\n    reflect = 1;\n    y0 = -y0;\n    y1 = -y1;\n    yTmp = bottom;\n    bottom = -top; top = -yTmp;\n  } else {\n    if (y0 > top || y1 < bottom) {\n      return;\n    }\n  }\n\n  if (x0 < left) {\n    if ((y0 += (left - x0) * (y1 - y0) / (x1 - x0)) > top) {\n      return;\n    }\n    x0 = left;\n  }\n\n  if (y0 < bottom) {\n    if ((x0 += (bottom - y0) * (x1 - x0) / (y1 - y0)) > right) {\n      return;\n    }\n    y0 = bottom;\n  }\n\n  if (x1 > right) {\n    y1 = y0 + (right - x0) * (y1 - y0) / (x1 - x0);\n    x1 = right;\n  }\n\n  if (y1 > top) {\n    x1 = x0 + (top - y0) * (x1 - x0) / (y1 - y0);\n    y1 = top;\n  }\n\n  if (reflect) {\n    y0 = -y0; y1 = -y1;\n  }\n\n  return swapped ?\n      [new H.math.Point(x1, -y1), new H.math.Point(x0, -y0)] :\n      [new H.math.Point(x0, -y0), new H.math.Point(x1, -y1)];\n};\n\n\n/**\n * This function clips two polygons in the given clipping mode\n *\n * @param {Array.<H.math.Point>} clippingPolygon A list of points that\n *  defines the clipping polygon.\n * @param {Array.<H.math.Point>} polygonToClip A list of points that\n *  defines the polygon to clip.\n * @param {number=} opt_mode Clipping mode, default is intersection.\n * @return {Object|undefined} Start point of the clipped polygon, each point\n *  has references to the previous and following point. The point can also have\n *  a \"nextPoly\" reference to the first point of the next sub-polygon.\n *\n *  If there is no intersection between the given polygons it returns undefined.\n */\nH.math.clipping.clipPolygon = function(clippingPolygon, polygonToClip, opt_mode) {\n  'use strict';\n  // Prepare the polygons every time, otherwise we get bad references in resulting list of linked points\n  var prepareList = H.math.clipping.prepareList_,\n      getClippingMode = H.math.clipping.getClippingMode_,\n      firstNode = H.math.clipping.firstNode_,\n      lastNode = H.math.clipping.lastNode_,\n      nextNode = H.math.clipping.nextNode_,\n      insert = H.math.clipping.insert_,\n      circle = H.math.clipping.circle_,\n      create = H.math.clipping.create_,\n      intersect = H.math.clipping.intersect_,\n      test = H.math.clipping.test_,\n      c = prepareList(clippingPolygon), // \"c\" = c = clipping polygon\n      s = prepareList(polygonToClip), // \"s\" = shape\n      auxs, auxc, is, ic, // node\n      xi, yi, e, //int\n      alpha_s, alpha_c, //float\n      crt, newp, old, //node\n      forward, //int\n      params = {},\n      modes = getClippingMode(opt_mode),\n      pS = modes.pS,\n      pC = modes.pC,\n      next_s,\n      next_c,\n      root,\n      intersectResult;\n\n  if (!s || !c) {\n    return;\n  }\n\n  auxs = lastNode(s);\n  create(s.x, s.y, null, auxs, null, null, 0, 0, 0, 0);\n  auxc = lastNode(c);\n  create(c.x, c.y, null, auxc, null, null, 0, 0, 0, 0);\n\n  for (auxs = s; auxs.next; auxs = auxs.next) {\n    if (!auxs.intersect) {\n      for (auxc = c; auxc.next; auxc = auxc.next) {\n        if (!auxc.intersect) {\n          next_s = nextNode(auxs.next);\n          next_c = nextNode(auxc.next);\n          intersectResult = intersect(auxs, next_s, auxc, next_c, params);\n          if (intersectResult) {\n            alpha_s = params.alpha_p;\n            alpha_c = params.alpha_q;\n            xi = params.xi;\n            yi = params.yi;\n\n            is = create(xi, yi, null, null, null, null, 1, 0, 0, alpha_s);\n            ic = create(xi, yi, null, null, null, null, 1, 0, 0, alpha_c);\n            is.neighbor = ic;\n            ic.neighbor = is;\n            insert(is, auxs, next_s);\n            insert(ic, auxc, next_c);\n          }\n        }\n      }\n    }\n  }\n  e = test(s, c);\n  if (pS) e = 1 - e;\n  for (auxs = s; auxs.next; auxs = auxs.next) {\n    if (auxs.intersect) {\n      auxs.entry = e;\n      e = 1 - e;\n    }\n  }\n\n  e = test(c, s);\n  if (pC) e = 1 - e;\n  for (auxc = c; auxc.next; auxc = auxc.next) {\n    if (auxc.intersect) {\n      auxc.entry = e;\n      e = 1 - e;\n    }\n  }\n\n  circle(s);\n  circle(c);\n  while ((crt = firstNode(s)) != s) {\n    old = null;\n    for (; !crt.visited; crt = crt.neighbor) {\n      for (forward = crt.entry;;) {\n        newp = create(crt.x, crt.y, old, null, null, null, 0, 0, 0, 0);\n        old = newp;\n        crt.visited = 1;\n        crt = forward ? crt.next : crt.prev;\n\n        if (!crt) {\n          break;\n        }\n        if (crt.intersect) {\n          crt.visited = 1;\n          break;\n        }\n      }\n      if (!crt) {\n        break;\n      }\n    }\n\n    old.nextPoly = root;\n    root = old;\n  }\n  return root;\n};\n\n\n/**\n * Function returns  internal representation for named mode.\n * @private\n * @param {number=} opt_mode Named mode\n *\n * - INTERSECTION=0,\n * - UNION=1,\n * - COMPONENT_SHAPE=2,\n * - COMPONENT_WINDOW=3\n * @return {Object} with two parameters pS and pC regarding mode number\n */\nH.math.clipping.getClippingMode_ = function(opt_mode) {\n  'use strict';\n  var pS = 1,\n      pC = 1,\n      mode = opt_mode || 0;\n  mode = ~~(1 * mode); //int\n  switch (mode) {\n    case 1:\n      pS = 0;\n      pC = 0;\n      break;\n    case 2:\n      pS = 0;\n      pC = 1;\n      break;\n    case 3:\n      pS = 1;\n      pC = 0;\n      break;\n  }\n\n  return {pS: pS, pC: pC};\n};\n\n\n/**\n * Create new point with all attributes needed for cliping algo.\n * @private\n * @param {number} x X-coordinate\n * @param {number} y Y-coordinate\n * @param {Object} next Next point (descendant) in the shape\n * @param {Object} prev Previous point (predecessor) int the shape\n * @param {Object} nextPoly Reference to starting point of next polygon, used\n *  when we returning result of clipping\n * @param {Object} neighbor Reference to neighbor same point in second shape\n *  (when shapes intersect we add to them points with same coords and they are\n *  linked with this attribute to each other)\n * @param {number} intersect Marks node if shapes intersect in this point.\n * @param {number} entry Marks node if the node is starting point of resulting\n *  shape\n * @param {number} visited Marks node if node was visited by clipping algo\n * @param {number} alpha Float number which signals percentage from next leg\n *  where will be next intersecting point\n * @return {Object} returns a clipping node\n */\nH.math.clipping.create_ = function(x, y, next, prev, nextPoly, neighbor, intersect, entry, visited, alpha) {\n  'use strict';\n  var newNode = {};\n  newNode.x = x;\n  newNode.y = y;\n  newNode.next = next;\n  newNode.prev = prev;\n  if (prev) {\n    newNode.prev.next = newNode;\n  }\n  if (next) {\n    newNode.next.prev = newNode;\n  }\n  newNode.nextPoly = nextPoly;\n  newNode.neighbor = neighbor;\n  newNode.intersect = intersect;\n  newNode.entry = entry;\n  newNode.visited = visited;\n  newNode.alpha = alpha;\n  return newNode;\n};\n\n\n/**\n * Return next node in shape.\n * @private\n * @param {Object} p Node from which we traverse the shape.\n * @return {Object} Next node\n */\nH.math.clipping.nextNode_ = function(p) {\n  'use strict';\n  var aux = p;\n  while (aux && aux.intersect) {\n    aux = aux.next;\n  }\n  return aux;\n};\n\n\n/**\n * Return last node in shape.\n * @private\n * @param {Object} p Node of the shape\n * @return {Object} Last node\n */\nH.math.clipping.lastNode_ = function(p) {\n  'use strict';\n  var aux = p;\n  if (aux) {\n    while (aux.next) {\n      aux = aux.next;\n    }\n  }\n  return aux;\n};\n\n\n/**\n * Return first node in shape.\n * @private\n * @param {Object} p Node of the shape\n * @return {Object} First node\n */\nH.math.clipping.firstNode_ = function(p) {\n  'use strict';\n  var aux = p;\n\n  if (aux) {\n    do {\n      aux = aux.next;\n    } while (aux != p && (!aux.intersect || aux.intersect && aux.visited));\n  }\n  return aux;\n};\n\n\n/**\n * For the given first node of shape find out last one and interconnect them. We get circular double linked list.\n * @private\n * @param {Object} p First node of shape\n */\nH.math.clipping.circle_ = function(p) {\n  'use strict';\n  var aux = H.math.clipping.lastNode_(p);\n  aux.prev.next = p;\n  p.prev = aux.prev;\n};\n\n\n/**\n * Compute distance between two pixel based coordinates.\n * @param {number} x1 X component of first coordinate\n * @param {number} y1 Y component of first coordinate\n * @param {number} x2 X component of second coordinate\n * @param {number} y2 Y component of second coordinate\n * @return {number} Computed distance\n * @private\n */\nH.math.clipping.dist_ = function(x1, y1, x2, y2) {\n  'use strict';\n  return H.math.sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2));\n};\n\n\n/**\n * Compute intersection point of two legs. the result is stored in the given params object.\n * which are percentage of original legs length (computed from first point).\n * @param {Object} p1 Beginning point of leg in first shape\n * @param {Object} p2 Ending point of leg in first shape\n * @param {Object} q1 Beginning point of leg in second shape\n * @param {Object} q2 Ending point of leg in second shape\n * @param {Object} params Parameters object which will be filled if legs are intersecting\n * @param {number} tp\n * @private\n */\nH.math.clipping.computeIntersect_ = function(p1, p2, q1, q2, params, tp) {\n  'use strict';\n  var x = p1.x + tp * (p2.x - p1.x),\n      y = p1.y + tp * (p2.y - p1.y);\n  params.alpha_p = H.math.clipping.dist_(p1.x, p1.y, x, y) / H.math.clipping.dist_(p1.x, p1.y, p2.x, p2.y);\n  params.alpha_q = H.math.clipping.dist_(q1.x, q1.y, x, y) / H.math.clipping.dist_(q1.x, q1.y, q2.x, q2.y);\n  params.xi = /*~~*/(1 * x),\n  params.yi = /*~~*/(1 * y);\n};\n\n\n/**\n * Creates a random deviation in range +/- 0.00005\n * @private\n * @return {number}\n */\nH.math.clipping.randomDeviation_ = function() {\n  'use strict';\n  return (H.math.random() - 0.5) / 10000;\n};\n\n\n/**\n * Compute if two legs of two shapes are intersecting and if so it fill up params object with coordinate\n * and alpha values which are percentage of original legs length (computed from first point).\n * @param {Object} p1 Beginning point of leg in first shape\n * @param {Object} p2 Ending point of leg in first shape\n * @param {Object} q1 Beginning point of leg in second shape\n * @param {Object} q2 Ending point of leg in second shape\n * @param {Object} params Parameters object which will be filled if legs are intersecting\n * @return {number} 1 if legs are intersecting, 0 otherwise\n * @private\n */\nH.math.clipping.intersect_ = function(p1, p2, q1, q2, params) {\n  'use strict';\n  var tp,\n      tq,\n      angleDelta = ((p2.x - p1.x) * (q2.y - q1.y) - (p2.y - p1.y) * (q2.x - q1.x)),\n      alpha_q;\n\n  if (!angleDelta) {\n    // Preserve parallel lines, we perturb one point\n    p1.origx = p1.x;\n    p1.origy = p1.y;\n    p1.x += H.math.clipping.randomDeviation_();\n    p1.y += H.math.clipping.randomDeviation_();\n    angleDelta = ((p2.x - p1.x) * (q2.y - q1.y) - (p2.y - p1.y) * (q2.x - q1.x));\n    // Still parallel lines?\n    if (!angleDelta) {\n      return 0;\n    }\n  }\n\n  tp = ((q1.x - p1.x) * (q2.y - q1.y) - (q1.y - p1.y) * (q2.x - q1.x)) / angleDelta;\n  tq = ((p2.y - p1.y) * (q1.x - p1.x) - (p2.x - p1.x) * (q1.y - p1.y)) / angleDelta;\n\n  if (tp < 0 || tp > 1 || tq < 0 || tq > 1) {\n    return 0;\n  }\n\n  H.math.clipping.computeIntersect_(p1, p2, q1, q2, params, tp);\n\n  // Preserve point on second shape line by its perturbing\n  if (params.alpha_p === 0 && (alpha_q = params.alpha_q) >= 0 && alpha_q <= 1) {\n    if (!p1.origx) {\n      p1.origx = p1.x;\n      p1.origy = p1.y;\n    }\n    p1.x += H.math.clipping.randomDeviation_();\n    p1.y += H.math.clipping.randomDeviation_();\n    H.math.clipping.computeIntersect_(p1, p2, q1, q2, params, tp);\n  }\n\n  return 1;\n};\n\n\n/**\n * Compute how many times shape goes around the second one???\n * @private\n * @param {Object} point First point of first shape\n * @param {Object} p First point of second shape\n * @return {number}\n */\nH.math.clipping.test_ = function(point, p) {\n  'use strict';\n  var aux,  // node\n      left, // node\n      type = 0,\n      intersectionResult,\n      create = H.math.clipping.create_,\n      intersect = H.math.clipping.intersect_;\n\n  left = create(0, point.y, null, null, null, null, 0, 0, 0, 0); // TODO: what does this do? why left?\n  left = create(-2147483648, point.y, null, null, null, null, 0, 0, 0, 0);\n  for (aux = p; aux.next; aux = aux.next) {\n    intersectionResult = intersect(left, point, aux, aux.next, {});\n    if (intersectionResult) {\n      type++;\n    }\n  }\n  return type % 2;\n};\n\n\n/**\n * Insert point between two given points.\n * @private\n * @param {Object} ins Point which we want to insert\n * @param {Object} first First point in between we would like to insert new one.\n * @param {Object} last Second point in between we would like to insert new one.\n */\nH.math.clipping.insert_ = function(ins, first, last) {\n  'use strict';\n  var aux = first; // node\n\n  while (aux !== last && aux.alpha < ins.alpha) {\n    aux = aux.next;\n  }\n  ins.next = aux;\n  ins.prev = aux.prev;\n  ins.next.prev = ins;\n\n  // In case if we want \"ins\" to be inserted at the beginning of the linked list\n  // \"prev\" reference is null, whereas when we insert at the middle of the list\n  // it exists\n  if (ins.prev) {\n    ins.prev.next = ins;\n  }\n};\n\n\n/**\n * Prepare point list for clipping algo. It accepts array of Points and return first node of double linked list.\n * @param {Array.<H.math.Point>} a_s Array of Points of the shape\n * @return {Object} First node of double linked list of nodes\n * @private\n */\nH.math.clipping.prepareList_ = function(a_s) {\n  'use strict';\n  var point,\n      start = null,\n      i = 0,\n      len = a_s.length,\n      create = H.math.clipping.create_;\n\n  for (; i < len; i++) {\n    point = create(a_s[i].x, a_s[i].y, start, null, null, null, 0, 0, 0, 0);\n    point.next = start;\n    if (start) {\n      start.prev = point;\n    }\n    start = point;\n  }\n  return start;\n};\n",
		"goog.provide('H.map.Rect');\n\ngoog.require('H.geo.Rect');\ngoog.require('H.geo.Strip');\ngoog.require('H.map.Polygon');\n\n\n\n/**\n * A Polygon with a rectangular shape.\n * @publish\n * @export\n * @extends {H.map.Polygon}\n * @final\n * @constructor\n * @param {H.geo.Rect} bounds The geographical bounding box for this rectangle\n * @param {H.map.Spatial.Options=} opt_options\n */\nH.map.Rect = function(bounds, opt_options) {\n  'use strict';\n  // Initialize the rectangle as an Polygon with a null strip:\n  H.map.Rect.superClass_.constructor.call(this, null, opt_options);\n\n  this.setBounds(bounds);\n};\nH.lang.inherits(H.map.Rect, H.map.Polygon);\n\n\n/**\n * To set the bounds of this rectangle.\n * @publish\n * @export\n * @param {H.geo.Rect} bounds\n */\nH.map.Rect.prototype.setBounds = function(bounds) {\n  'use strict';\n  if (!H.lang.isInstanceOf(bounds, H.geo.Rect)) {\n    throw new H.lang.InvalidArgumentError(this.setBounds, 0, bounds);\n  }\n  if (!bounds.equals(this.bounds)) {\n    // We have to store the bounds also in the private bounds_ property because Polygon#setStrip resets the bounds\n    this.bounds_ = bounds;\n    H.map.Rect.superClass_.setStrip.call(this, null);\n    this.bounds = bounds;\n    // [MAPSJS-405 FIX] As long as the strip is not computed we have to trigger an invalidation so that the provider\n    // is informed about a the new bounds of this rectangle\n    //\n    if (!this.strip) {\n      this.invalidate(H.map.provider.Invalidations.Flag.SPATIAL);\n    }\n  }\n};\n\n\n/**\n * @override\n * @export\n */\nH.map.Rect.prototype.getBounds = function() {\n  'use strict';\n  return this.bounds_;\n};\n\n\n/**\n * @override\n * @export\n */\nH.map.Rect.prototype.setNorthPoleCovering = function() {\n  'use strict';\n  // We ignore the call. This flag is set in getStrip_\n  return this;\n};\n\n\n/**\n * @override\n * @export\n */\nH.map.Rect.prototype.setStrip = function() {\n  'use strict';\n  // We ignore the call. The rect's strip will be defined set in getStrip_ only\n  return this;\n};\n\n\n/**\n * @override\n * @export\n */\nH.map.Rect.prototype.getStrip = function() {\n  'use strict';\n  return this.strip || H.map.Rect.superClass_.setStrip.call(this, this.getStrip_()).strip;\n};\n\n\n/**\n * To get the computed strip of the rectangle\n * @private\n * @return {H.geo.Strip}\n */\nH.map.Rect.prototype.getStrip_ = function() {\n  'use strict';\n  var bounds = this.bounds_,\n      top,\n      left,\n      bottom,\n      right,\n      alt = H.lang.UNDEF,\n      latLngAlts = [\n        top = bounds.getTop(), left = bounds.getLeft(), alt,\n        top, right = bounds.getRight(), alt,\n        bottom = bounds.getBottom(), right, alt,\n        bottom, left, alt\n      ],\n      centerLng;\n  // If the width of a rectangle is >= 180° we have to insert extra (lat, lng, alt)-entries\n  // because a polygon leg is following the \"nearest by\" rule:\n  if (bounds.getWidth() >= 180) {\n    latLngAlts.splice(9, 0, bottom, centerLng = bounds.getCenter()['lng'], alt);\n    latLngAlts.splice(3, 0, top, centerLng, alt);\n  }\n  return new H.geo.Strip(latLngAlts);\n};\n\n",
		"goog.provide('H.util.BuildInfo');\n\n\n\n/**\n * This class encapsulates build information of modules. It holds the name of the module, it build version and\n * the revision from which it was built.\n *\n * @constructor\n * @param {string} name the name of the module\n * @param {string} version the version of the module\n * @param {string} revision the revision from which the module was built\n * @export\n */\nH.util.BuildInfo = function(name, version, revision) {\n  'use strict';\n  if (!name || !version || !revision) {\n    throw new H.lang.InvalidArgumentError(\n        H.util.BuildInfo,\n        null,\n        'Must specify name, version and revision parameter');\n  }\n\n  /**\n   * @type {string}\n   */\n  this['name'] = name;\n  /**\n   * @type {string}\n   */\n  this['version'] = version;\n  /**\n   * @type {string}\n   */\n  this['revision'] = revision;\n};\n\n\n/**\n * @override\n */\nH.util.BuildInfo.prototype.toString = function() {\n  'use strict';\n  return this['name'] + ';' + this['version'] + ';' + this['revision'];\n};\n\n\n/**\n * Holds build infos, which have been requested\n * @private\n * @dict\n */\nH.util.BuildInfo.infos_ = {};\n\n\n/**\n * Lazily creates or returns a previously created build info\n * @param {string} name the name of the module\n * @param {string} version the version of the module\n * @param {string} revision the revision from which the module was built\n * @return {H.util.BuildInfo}\n * @export\n */\nH.util.BuildInfo.get = function(name, version, revision) {\n  'use strict';\n  if (!name) {\n    throw new H.lang.InvalidArgumentError(\n        H.util.BuildInfo.get,\n        1,\n        'Must specify a name parameter');\n  }\n  return H.util.BuildInfo.infos_[name] ||\n         (H.util.BuildInfo.infos_[name] = new H.util.BuildInfo(name, version, revision));\n};\n",
		"goog.provide('H.util.ICapturable');\n\n\n\n/**\n * An interface for capturable elements\n * @interface\n * @export\n */\nH.util.ICapturable = function() {};\n\n\n/**\n * This method is used to capture the element view\n * @export\n * @param {HTMLCanvasElement} canvas HTML Canvas element to draw the view of the capturable element\n * @param {number} pixelRatio The pixelRatio to use for over-sampling in cases of high-resolution displays,\n *                                default is {@code 1}\n * @param {function(HTMLCanvasElement=)} callback Callback function to call once result of\n *                                                the capturing is ready\n * @param {function(string)=} opt_errback Callback function to call if error occurerd during capturing\n */\nH.util.ICapturable.prototype.capture = function(canvas, pixelRatio, callback, opt_errback) {};\n",
		"goog.provide('H.util.Disposable');\n\ngoog.require('goog.Disposable');\ngoog.require('H.lang');\n\n\n\n/**\n * Object which can be safely disposed.\n * @publish\n * @export\n * @constructor\n * @extends {goog.Disposable}\n */\nH.util.Disposable = goog.Disposable;\n\n\n/**\n * Method adds a callback which will be triggered when\n * the object is disposed\n * @param {!Function} callback\n * @param {Object=} opt_scope\n * @method\n * @export\n * @publish\n */\nH.util.Disposable.prototype.addOnDisposeCallback = goog.Disposable.prototype.addOnDisposeCallback;\n\n\n/**\n * Method disposes target object\n * @param {Object} disposableObject\n * @method\n * @export\n */\nH.util.dispose = goog.dispose;\n",
		"goog.provide('H.map.Imprint');\n\ngoog.require('H.map.ICopyright');\ngoog.require('H.util.Disposable');\ngoog.require('H.util.ICapturable');\n\n\n\n/**\n * This class encapsulates the brand, copyright and terms of use elements on the map.\n * @publish\n * @export\n * @extends {H.util.Disposable}\n * @implements {H.util.ICapturable}\n * @final\n * @constructor\n * @param {H.Map} map The map where the imprint is attached to\n * @param {H.map.Imprint.Options=} opt_options The options to style the imprint\n *\n */\nH.map.Imprint = function(map, opt_options) {\n  'use strict';\n\n  var DIV = 'DIV',\n      el = map.getElement(),\n      doc = el.ownerDocument,\n      span = 'SPAN';\n\n  //console.log(H.map.Imprint.superClass_);\n  H.map.Imprint.superClass_.constructor.call(this);\n\n  /**\n   * @private\n   * @type {H.Map}\n   */\n  this.map_ = map;\n\n  // Imprint element:\n\n  /**\n   * @type {Element}\n   * @private\n   */\n  this.element_ = el = /** @type {Element} */ (el.appendChild(H.map.Imprint.createEl_(doc, DIV,\n      'position:absolute;bottom:4em;left:0.5em;z-index:1;height:0px')));\n\n  /**\n   * @private\n   * @type {Element}\n   */\n  this.brandElement_ = H.map.Imprint.createEl_(doc, DIV, 'position:absolute;top:0px;pointer-events:none;',\n      H.map.Imprint.BRAND_SVG_);\n\n  /**\n   * The style of the brand's SVG path\n   * @private\n   * @type {CSSStyleDeclaration}\n   */\n  this.brandPathStyle_ =\n      el.appendChild(this.brandElement_)\n      .firstChild.firstChild.style;\n\n  // The info element:\n  el = el.appendChild(H.map.Imprint.createEl_(doc, DIV, '-webkit-touch-callout: none;-webkit-user-select:none;' +\n      '-khtml-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select:none;' +\n      'whiteSpace:nowrap;position:relative;top:2.2em;'));\n\n  /**\n   * @private\n   * @type {Element}\n   */\n  this.copyrightElement_ = /** @type {Element} */ (el.appendChild(H.map.Imprint.createEl_(doc, span)));\n  this.copyrightElement_.setAttribute('unselectable', 'on'); //for IE 10 were poitner-events do not work\n  /**\n   * Terms of use element\n   * @private\n   * @type {Element}\n   */\n  this.termsOfUseElement_ = /** @type {Element} */ (el.appendChild(H.map.Imprint.createEl_(doc, 'A',\n      'color:inherit', 'Terms of use')));\n  this.termsOfUseElement_.target = '_blank';\n\n  // add separator\n  el = el.appendChild(H.map.Imprint.createEl_(doc, span, 'color:inherit', ' | '));\n\n  /**\n   * Container that hold report image link and separator\n   * @private\n   * @type {Element}\n   */\n  this.reportImageContainer_ = /** @type {Element} */ (el);\n\n  /**\n   * Report Image link for street level\n   * @private\n   * @type {Element}\n   */\n  this.reportImageElement_ = /** @type {Element} */ (el.appendChild(function() {\n    var el = H.map.Imprint.createEl_(doc, 'A', 'color:inherit', 'Report image');\n    el.target = '_blank';\n    return el;\n  }()));\n\n\n  /**\n   * @private\n   * @type {Array.<string>}\n   */\n  this.lastOptionValues_ = H.map.Imprint.defaultOptionValues_.slice();\n\n  this.setOptions(opt_options);\n\n  this.updateCopyright_ = H.lang.bind(this.updateCopyright_, this);\n  this.onLayerChange_ = H.lang.bind(this.onLayerChange_, this);\n  this.map_.addEventListener(this.map_.EventType.MAPVIEWCHANGEEND, this.updateCopyright_);\n  //this.map_.addEventListener(this.map_.EventType.BASELAYERCHANGE, this.onBaseLayerChange_);\n  this.map_.getLayers().addEventListener('add', this.onLayerChange_);\n  this.map_.getLayers().addEventListener('remove', this.onLayerChange_);\n  this.map_.getLayers().addEventListener('set', this.onLayerChange_);\n  this.onLayerChange_();\n};\nH.lang.inherits(H.map.Imprint, H.util.Disposable);\n\n\n/**\n * @private\n * @type {Array.<string>}\n */\nH.map.Imprint.optionNames_ = H.lang.tokenize('font href invert reportHref');\n\n\n/**\n * Default base url for terms of use and report image\n * @private\n * @type {string}\n */\nH.map.Imprint.defaultURL_ = 'http://here.com/';\n\n\n/**\n * @private\n * @type {Array.<string>}\n */\nH.map.Imprint.defaultOptionValues_ =\n    H.lang.tokenize('11px Arial,sans-serif;' +\n        H.map.Imprint.defaultURL_ + 'terms;;' +\n        H.map.Imprint.defaultURL_, ';');\n\n\n/**\n * To set the imprint options.\n * If no opt_options argument is defined then all values are reset to their defaults.\n * @publish\n * @export\n * @param {H.map.Imprint.Options=} opt_options The options to style the imprint\n */\nH.map.Imprint.prototype.setOptions = function(opt_options) {\n  'use strict';\n  var i = H.map.Imprint.optionNames_.length,\n      key,\n      value,\n      lastOptionValues;\n  if (!opt_options) {\n    // Rest all last option values to their defaults:\n    this.lastOptionValues_ = H.map.Imprint.defaultOptionValues_.slice();\n  }\n  lastOptionValues = this.lastOptionValues_;\n  while (i--) {\n    key = H.map.Imprint.optionNames_[i];\n    value = opt_options && key in opt_options ?\n        // Update the last option value.\n        lastOptionValues[i] = opt_options[key] :\n        lastOptionValues[i];\n    if (i === 2 /*invert*/) {\n      this.brandPathStyle_.fill = value ? '#FFF' : '#1B468D';\n      this.element_.style.color = value ? '#FFF' : '#333';\n    } else if (i === 1 /*href*/) {\n      this.termsOfUseElement_[key] = value;\n    } else {\n      this.element_.style[key] = value;\n    }\n  }\n};\n\n\n/**\n * Helper to create an element\n *\n * @private\n * @param {Document} doc The owner document of the element\n * @param {string} name The node name of the element\n * @param {*=} opt_cssText The textContent to set for the \"cssText\" attribute\n * @param {*=} opt_innerHTML The markup to set for the \"innerHTML\" property\n * @return {Element}\n */\nH.map.Imprint.createEl_ = function(doc, name, opt_cssText, opt_innerHTML) {\n  'use strict';\n  // TODO: Should be moved to a generic dom library\n  var el = /** @type {Element} */ (doc.createElement(name));\n  if (opt_cssText) {\n    el.style.cssText = /** @type {string} */ (opt_cssText);\n  }\n  if (opt_innerHTML) {\n    el.innerHTML = opt_innerHTML;\n  }\n  return el;\n};\n\n\n/**\n * Methos returns imprint root element\n * @export\n * @return {Element}\n */\nH.map.Imprint.prototype.getElement = function() {\n  'use strict';\n  return this.element_;\n};\n\n\n/**\n * Methos returns imprint brand element\n * Do not publish! Internal API use only!\n * @return {Element}\n */\nH.map.Imprint.prototype.getBrandImage = function() {\n  'use strict';\n  return this.brandElement_.childNodes[0];\n};\n\n\n/**\n * To update the copyrights\n * @private\n */\nH.map.Imprint.prototype.updateCopyright_ = function() {\n  'use strict';\n  var reportHref = H.map.Imprint.defaultOptionValues_[3],\n      map = this.map_,\n      reportImageElement = this.reportImageElement_,\n      reportImageContainer = this.reportImageContainer_,\n      cameraData,\n      position;\n\n  if (map.getEngine().type === H.Map.EngineType.P2D) {\n    reportImageContainer.style.display = 'none';\n  } else {\n    cameraData = map.getViewModel().getCameraData();\n    position = cameraData.position;\n    reportImageContainer.style.display = 'inline';\n    reportImageElement.href = reportHref + [position['lat'], position['lng'],\n      22, cameraData['yaw'], 90 + cameraData['pitch']].join(',') + ',panorama.day,report';\n  }\n\n  this.copyrightElement_.innerHTML = '&copy; ' + this.getCopyrights() + ' | ';\n};\n\n\n/**\n * A callback to be invoked when the base layer changes\n * @private\n */\nH.map.Imprint.prototype.onLayerChange_ = function() {\n  this.updateCopyright_();\n  // In case copyrights are still loading, we will check back in 5 seconds\n  setTimeout(this.updateCopyright_, 5000);\n};\n\n\n/**\n * API Internal use only, do not publish!\n * @type {string}\n * @private\n */\nH.map.Imprint.BRAND_SVG_ =\n    '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"3em\" height=\"2.2em\" viewBox=\"0 0 540 430\">' +\n    '<path d=\"M 0,303 127,430 h 77 l -53,-53 c -19,-18 -24,-31 -13,-43 8,-9 18,-8 30,3 l 64,65 39,-39 -69,-70 ' +\n    'c -28,-28 -55,-34 -81,-7 -16,15 -18,30 -17,44 L 38,265 0,303 z m 322,-97 c -41,-41 -79,-43 -113,-9 -34,34 ' +\n    '-28,77 5,110 41,41 86,34 120,0 17,-16 26,-31 30,-41 l -34,-19 c -5,9 -12,20 -21,28 -19,19 -36,19 -48,9 l ' +\n    '70,-69 -9,-8 z m -85,57 c -11,-12 -11,-26 0,-37 11,-11 24,-11 38,0 l -38,37 z m 138,-3 39,-39 -42,-42 C ' +\n    '337,145 347,127 355,119 361,113 367,109 371,108 L 339,71 c -2,1 -7,5 -12,9 -13,14 -17,35 -13,49 L 297,114 ' +\n    '263,148 374,260 z M 494,34 C 453,-8 415,-10 381,25 c -33,33 -25,79 6,109 41,41 85,35 119,1 20,-20 30,-39 ' +\n    '32,-48 L 505,68 c -4,9 -13,24 -24,34 -18,19 -36,19 -48,9 L 503,42 494,34 z m -85,57 c -11,-12 -11,-26 0,-37 ' +\n    '11,-11 24,-11 37,0 l -37,37 z\" /></svg>';\n\n\n/**\n * Stores the current year for automatic update of copyright info.\n * @type {number}\n * @private\n */\nH.map.Imprint.CURRENT_YEAR_ = H.math.max(2014, (new Date().getFullYear()));\n\n\n/**\n * Stores the default copyright for the map (HERE).\n * @type {H.map.ICopyright}\n * @private\n */\nH.map.Imprint.DEFAULT_COPYRIGHT_ = /** @type {H.map.ICopyright} */ ({\n  label: '1987&ndash;' + H.map.Imprint.CURRENT_YEAR_ + ' HERE',\n  alt: 'copyright 1987&ndash;' + H.map.Imprint.CURRENT_YEAR_ + ' HERE All Rights Reserved'\n});\n\n\n/**\n * This method retrieves the copyright string for the current view of the map.\n *\n * @return {string} The copyright string for the current map view\n * @publish\n * @export\n */\nH.map.Imprint.prototype.getCopyrights = function() {\n  'use strict';\n  var map = this.map_,\n      level = map.getZoom(),\n      bounds = map.getViewBounds(),\n      layers = map.getLayers(),\n      length = layers.getLength(),\n      lookup = {},\n      i = 0,\n      j,\n      copyrights,\n      label,\n      labels = [H.map.Imprint.DEFAULT_COPYRIGHT_.label];\n  if (bounds) {\n    for (; i < length; i++) {\n      if (copyrights = layers.get(i)['getCopyrights'](bounds, level)) {\n        for (j = 0; j < copyrights.length; j++) {\n          if (!lookup[label = copyrights[j].label]) {\n            labels.push(label);\n            lookup[label] = 1;\n          }\n        }\n      }\n    }\n  }\n  return labels.join(', ');\n};\n\n\n/**\n * To get the CSS style declaration of the imprint DOM element\n * @publish\n *\n * @export\n * @return {CSSStyleDeclaration}\n */\nH.map.Imprint.prototype.getStyle = function() {\n  return this.element_.style;\n};\n\n\n/**\n * @override\n */\nH.map.Imprint.prototype.disposeInternal = function() {\n  //cleaning up after ourselves\n  this.map_.removeEventListener(this.map_.EventType.MAPVIEWCHANGEEND, this.updateCopyright_);\n  //this.map_.removeEventListener(this.map_.EventType.BASELAYERCHANGE, this.updateCopyright_);\n  this.map_.getLayers().removeEventListener('add', this.onLayerChange_);\n  this.map_.getLayers().removeEventListener('remove', this.onLayerChange_);\n  this.map_.getLayers().removeEventListener('set', this.onLayerChange_);\n\n  if (this.element_.parentNode) {\n    this.element_.parentNode.removeChild(this.element_);\n  }\n};\n\n\n/**\n * Imprint margin in pixels relative to the bottom corner of the drawing canvas when capturing.\n * Note that it does not take into account pixel ratio!\n * @private\n * @type {Object}\n */\nH.map.Imprint.imprintMargin_ = {\n  left: 5,\n  bottom: 5\n};\n\n\n/**\n * @override\n * @export\n */\nH.map.Imprint.prototype.capture = function(canvas, pixelRatio, callback, opt_errback) {\n  var ctx = canvas.getContext('2d'),\n      style = window.getComputedStyle(this.copyrightElement_),\n      fontSize = H.lang.parseFloat(style.getPropertyValue('font-size')),\n      text,\n      brandImage = this.getBrandImage(),\n      brandImageDataUrl,\n      brandImageClone,\n      tmpNode,\n      brandImageHeight = this.brandElement_.offsetHeight,\n      doc = this.element_.ownerDocument,\n      // Compute imprint margins\n      marginLeft = H.map.Imprint.imprintMargin_.left,\n      marginBottom = H.map.Imprint.imprintMargin_.bottom,\n      copyrightHeight = this.copyrightElement_.offsetHeight,\n      canvasHeight = +canvas.height,\n      // Get real size of the brand image in pixels. The method check is to bypass unit test failor for phantomjs\n      brandImageSize = brandImage.getBoundingClientRect ? brandImage.getBoundingClientRect() : {},\n      // Adjust according to pixel ratio\n      scaledWidth = brandImageSize.width * pixelRatio,\n      scaledHeight = brandImageSize.height * pixelRatio,\n      // 3 is for having slight margin between copyright text and brand image\n      imrpintOffsetTop = canvasHeight - (brandImageHeight + copyrightHeight + 3) * pixelRatio;\n\n  // Add copyright icon in front and replace \"long\" dashes with their char code\n  text = String.fromCharCode(169) + ' ' +\n      this.getCopyrights().replace(/&ndash;/g, String.fromCharCode(8211));\n\n  // Copy basic styling attributes from copyright DOM element into canvas\n  ctx.font = (fontSize * pixelRatio) + 'px ' + style.getPropertyValue('font-family');\n  ctx.fillStyle = style.getPropertyValue('color');\n  ctx.fillText(text, marginLeft * pixelRatio, canvasHeight - marginBottom * pixelRatio);\n\n  // Draw brand image into the canvas\n  // First we clone brand image node and apply styling to it. As a result SVG element will\n  // get all its actual styling as an inline style\n  brandImageClone = H.util.cloneNode(brandImage, document, false);\n\n  // Set size of the brand image taking into account pixel ratio\n  brandImageClone.setAttribute('width', scaledWidth);\n  brandImageClone.setAttribute('height', scaledHeight);\n\n  // Bug fix for FF when outerHTML of an SVG node is not available\n  tmpNode = doc.createElement('div');\n  tmpNode.appendChild(brandImageClone);\n\n  // Convert SVG markup into data URL\n  brandImageDataUrl = H.util.svgToDataUrl(tmpNode.innerHTML);\n\n  // Load an image with computed data URL\n  H.net.images.load(brandImageDataUrl, function(img) {\n    // Once image is loaded, draw it to canvas\n    ctx.drawImage(img, marginLeft * pixelRatio, imrpintOffsetTop);\n\n    // Pass result to the callback\n    callback(canvas);\n  }, opt_errback);\n};\n\n\n/**\n * Options to style an imprint\n * @publish\n * @typedef {{\n *   invert: (boolean|undefined),\n *   font: (string|undefined),\n *   href: (string|undefined)\n * }}\n * @property {boolean=} invert\n *           Indicates whether the logo is inverted.\n *           If omitted the current value remains, default is {@code false}.\n * @property {string=} font\n *           The font of the text.\n *           If omitted the current value remains, default is {@code \"11px Arial,sans-serif\"}.\n * @property {string=} href\n *           The URL of the \"Terms of use\" link.\n *           If omitted the current value remains, default is \"http://here.com/terms\".\n */\nH.map.Imprint.Options;\n",
		"goog.provide('H.Map');\n\ngoog.require('H.lang');\ngoog.require('H.lang.InvalidArgumentError');\ngoog.require('H.map.ChangeEvent');\ngoog.require('H.map.DataModel');\ngoog.require('H.map.Group');\ngoog.require('H.map.Imprint');\ngoog.require('H.map.Object');\ngoog.require('H.map.ViewModel');\ngoog.require('H.map.ViewPort');\ngoog.require('H.map.layer.Layer');\ngoog.require('H.map.layer.ObjectLayer');\ngoog.require('H.map.provider.LocalObjectProvider');\ngoog.require('H.map.render.p2d.RenderEngine');\ngoog.require('H.util.ChangeEvent');\ngoog.require('H.util.EventTarget');\n\n\n\n/**\n * Map class defines map instance in the application. By creating this\n * object you will initialize a visible map object which is attached\n * to the provided dom element. Map class is an entry point to all\n * operations related to layers, map objects and geo-screen transformations.\n * By specifying options you can initialize map with predefined view.\n *\n * @example\n * var platform = new H.service.Platform({\n *   app_id: \"{your app id}\",\n *   app_code: \"{your app code}\"\n * });\n * var maptypes = platform.createDefaultLayers();\n *\n * var map = new H.Map(document.getElementById('mapdiv'), maptypes.normal.map, {\n *   center: new H.geo.Point(0, 51),\n *   zoom: 8\n * });\n *\n * @publish\n * @export\n * @extends {H.util.EventTarget}\n * @final\n * @constructor\n * @param {Element} element html element into which the map will be rendered\n * @param {H.map.layer.Layer} baseLayer The layer to be used as the base (bottom most) layer.\n * @param {H.Map.Options=} opt_options additional map options\n */\nH.Map = function(element, baseLayer, opt_options) {\n  'use strict';\n  var center,\n      zoom,\n      bounds,\n      viewModel,\n      dataModel,\n      key,\n      val;\n\n  H.Map.superClass_.constructor.call(this);\n\n  this.engineExitCallback_ = H.lang.bind(H.Map.prototype.engineExitCallback_, this);\n\n  this.options_ = H.Map.adjustOptions_(opt_options, H.Map);\n\n  this.viewModel_ = viewModel = new H.map.ViewModel();\n\n  /**\n   * flag to signal that mapviewchange has started\n   * @private\n   */\n  this.mapviewchangeStarted_ = false;\n\n  /**\n   * Handle to mapviewchangeEnd timeout\n   * @private\n   */\n  this.mapviewchangeEndHandle_;\n\n  viewModel.addEventListener(viewModel.EventType.SYNC, this.onSync_, false, this);\n\n  //initialize map root element and attach it to parent\n  this.createMapElement_(element);\n\n  this.viewPort_ = new H.map.ViewPort(this.element_, /** @type {H.map.ViewPort.Options} */ (this.options_));\n  this.viewPort_.addEventListener(this.viewPort_.EventType.SYNC, this.onSync_, false, this);\n\n  dataModel = this.dataModel_ = new H.map.DataModel(this.options_['layers']);\n\n  dataModel.addEventListener(dataModel.EventType.SET, this.onDataModelChange_, false, this);\n  dataModel.addEventListener(dataModel.EventType.ADD, this.onDataModelChange_, false, this);\n  dataModel.addEventListener(dataModel.EventType.REMOVE, this.onDataModelChange_, false, this);\n\n  // Setup the local object provider\n  this.localObjectProvider_ = new H.map.provider.LocalObjectProvider();\n  // Setup and add object layer\n  this.objectLayer_ = new H.map.layer.ObjectLayer(\n      this.localObjectProvider_, /** @type {H.map.layer.ObjectLayer.Options} */ (this.options_));\n  this.addLayer(this.objectLayer_);\n\n  this.baseLayer_ = null;\n  this.dataModel_.add(baseLayer, 0);\n\n  this.engine_ = this.createEngine_(this.options_['engineType'] ||\n      H.Map.EngineType['P2D'], this.options_);\n\n  center = this.options_['center'] || new H.geo.Point(0, 0);\n  zoom = +this.options_['zoom'] || 0;\n  bounds = this.options_['bounds'];\n\n  this.onFirstRender_ = H.lang.bind(this.onFirstRender_, this);\n\n  this.dispatchMapviewchangeEnd_ = H.lang.bind(\n      this.dispatchMapviewchangeEnd_, this);\n\n  if (H.lang.isInstanceOf(bounds, H.geo.Rect)) {\n    this.setViewBounds(bounds);\n  } else {\n    this.setCenter(center);\n    this.setZoom(zoom);\n  }\n\n  key = 'imprint';\n  val = this.options_[key];\n  // Check against null|undefined|Object:\n  if (val !== H.lang.UNDEF && typeof val !== 'object') {\n    throw new H.lang.InvalidArgumentError(H.Map, 1, key);\n  }\n  /**\n   * @type {?H.map.Imprint}\n   * @private\n   */\n  this.imprint_ = val === null ? val : new H.map.Imprint(this, val);\n\n  val = this.options_['autoColor'];\n  /**\n   * @type {boolean}\n   * @private\n   */\n  this.autoColor_ = val === H.lang.UNDEF || !!val;\n\n  this.adjustColors_();\n\n};\nH.lang.inherits(H.Map, H.util.EventTarget);\n\n\n/**\n * @private\n * @param {Object|undefined} options\n * @param {Function} symbol The symbol to use for the exception\n * @return {H.Map.Options}\n */\nH.Map.adjustOptions_ = function(options, symbol) {\n  'use strict';\n  var key,\n      val;\n  key = 'pixelRatio';\n  if (options) {\n    val = options[key];\n    if (val === H.lang.UNDEF) {\n      options[key] = 1;\n    } else if (!(val > 0)) {\n      throw new H.lang.InvalidArgumentError(symbol, 0, 'pixelRatio' + ': ' + val);\n    }\n  } else {\n    options = {};\n    options[key] = 1;\n  }\n  if (!options['renderBaseBackground']) {\n    options['renderBaseBackground'] = {'lower': 3, 'higher': 2};\n  }\n  return /** @type {H.Map.Options} */ (options);\n};\n\n\n/**\n * View model instance\n * @type {H.map.ViewModel}\n * @private\n */\nH.Map.prototype.viewModel_;\n\n\n/**\n * Viewport instance\n * @type {H.map.ViewPort}\n * @private\n */\nH.Map.prototype.viewPort_;\n\n\n/**\n * Engine instance\n * @type {H.map.render.RenderEngine}\n * @private\n */\nH.Map.prototype.engine_;\n\n\n/**\n * Data model instance\n * @type {H.map.DataModel}\n * @private\n */\nH.Map.prototype.dataModel_;\n\n\n/**\n * Threshold (ms) after which mapviewchangeend is fired.\n * @type {number}\n * @private\n */\nH.Map.prototype.MAPVIEWCHANGEEND_THRESHOLD_ = 333; // was 100, see MAPSJS-248\n\n\n/**\n * Root map html element\n * @type {Element}\n * @private\n */\nH.Map.prototype.element_;\n\n\n/**\n * Function disposes the map object\n * @protected\n */\nH.Map.prototype.disposeInternal = function() {\n  'use strict';\n  //1) Imprint\n  this.autoColor_ = false;\n  this.imprint_ && this.imprint_.dispose();\n\n  //2) Data model\n  this.objectLayer_.dispose();\n  this.localObjectProvider_.dispose();\n  this.dataModel_.dispose();\n\n  //3) View model\n  //event listeners should be cleared by dispose anyways, no?\n  //this.viewModel_.removeEventListener(viewModel.EventType.SYNC, this.onSync_, false, this);\n  this.viewModel_.dispose();\n\n  //4) Viewport\n  this.viewPort_.dispose();\n\n  //5) Engine\n  this.engine_.dispose();\n\n  //6) DOM elements\n  this.element_.parentNode.removeChild(this.element_);\n  this.element_ = null;\n\n  H.util.EventTarget.prototype.disposeInternal.call(this);\n};\n\n\n/**\n * This method returns the map root html element\n * @return {Element}\n * @export\n * @publish\n */\nH.Map.prototype.getElement = function() {\n  'use strict';\n  return this.element_;\n};\n\n\n/**\n * This method initializes map root element\n * @param {Element} containerElement element provided from the application\n * @private\n */\nH.Map.prototype.createMapElement_ = function(containerElement) {\n  'use strict';\n  if (!H.lang.isInstanceOf(containerElement, Element)) {\n    throw new H.lang.InvalidArgumentError(H.Map, 0, containerElement);\n  }\n  var el = this.element_ = /** @type {Element} */(containerElement.ownerDocument.createElement('div')),\n      style = el.style,\n      WEBKIT_TAP_HIGHLIGHT_COLOR = 'webkitTapHighlightColor',\n      TRANSPARENT = 'transparent';\n  style.position = 'relative';\n  style.height = el.style.width = '100%';\n  style.overflow = 'hidden';\n  // Fix for MAPSJS-193:\n  style[WEBKIT_TAP_HIGHLIGHT_COLOR] = TRANSPARENT;\n  if (style[WEBKIT_TAP_HIGHLIGHT_COLOR] !== TRANSPARENT) {\n    style[WEBKIT_TAP_HIGHLIGHT_COLOR] = 'rgba(0,0,0,0)';\n  }\n\n  containerElement.appendChild(el);\n};\n\n\n/**\n * To adjust the color of the imprint and UI\n * @private\n */\nH.Map.prototype.adjustColors_ = function() {\n  if (this.imprint_ && this.autoColor_) {\n    // TODO Adjust also the color scheme of the UI\n    this.imprint_.setOptions({'invert': this.baseLayer_.dark});\n  }\n};\n\n\n/**\n * A listener for \"add\", \"remove\" or \"set\" events on this map's data model\n * @private\n * @param {H.util.OList.Event} event\n */\nH.Map.prototype.onDataModelChange_ = function(event) {\n  'use strict';\n  var addedLayer = event['added'],\n      removedLayer = event['removed'];\n\n  if (addedLayer && H.lang.isFunction(addedLayer.getProvider)) {\n    addedLayer.getProvider().setParentEventTarget(this);\n  }\n\n  if (removedLayer && H.lang.isFunction(removedLayer.getProvider)) {\n    removedLayer.getProvider().setParentEventTarget(null);\n  }\n\n  if (event['idx'] === 0) {\n    this.dispatchEvent(new H.util.ChangeEvent(\n        this.EventType.BASELAYERCHANGE,\n        // event#newValue, the new baseLayer (also stored in baseLayer_ property!):\n        this.baseLayer_ =\n            event.type !== this.dataModel_.EventType.REMOVE ?\n            // We take the \"added\" layer in case of ADD or SET action\n            addedLayer :\n            // Otherwise we take the layer at idx 0 or null if the list contains no longer any layer\n            this.dataModel_.getLength() > 0 ? // oth\n                this.dataModel_.get(0) :\n                H.lang.NULL,\n        // event#newValue, the old baseLayer:\n        event.type !== this.dataModel_.EventType.ADD ?\n            // We take the \"removed\" layer in case of REMOVE or SET action\n            removedLayer :\n            // Otherwise we take the layer at idx 1 or null if the list contains only the new layer\n            this.dataModel_.getLength() > 1 ?\n                this.dataModel_.get(1) :\n                H.lang.NULL\n        ));\n    this.adjustColors_();\n  }\n};\n\n\n/**\n * A listener for \"sync\" event from view model to manage mapviewchange events.\n * @private\n * @param {H.map.ChangeEvent} event\n */\nH.Map.prototype.onSync_ = function(event) {\n  'use strict';\n  // Fire only if something has changed\n  if (event['modifiers']) {\n    if (!this.mapviewchangeStarted_) {\n      this.dispatchMapviewchange_('start');\n      this.mapviewchangeStarted_ = true;\n    }\n    this.dispatchMapviewchange_('', event);\n  }\n\n  if (this.mapviewchangeStarted_) {\n    if (this.mapviewchangeEndHandle_) {\n      H.global.clearTimeout(this.mapviewchangeEndHandle_);\n    }\n    this.mapviewchangeEndHandle_ =\n        H.global.setTimeout(this.dispatchMapviewchangeEnd_, this.MAPVIEWCHANGEEND_THRESHOLD_);\n  }\n\n};\n\n\n/**\n * @param {string} type\n * @param {H.map.ChangeEvent=} opt_event\n * @private\n */\nH.Map.prototype.dispatchMapviewchange_ = function(type, opt_event) {\n  'use strict';\n  this.dispatchEvent(\n      opt_event ?\n      new H.map.ChangeEvent(this.EventType.MAPVIEWCHANGE,\n          opt_event['newValue'], opt_event['oldValue'], opt_event['modifiers']) :\n      this.EventType.MAPVIEWCHANGE + type);\n};\n\n\n/**\n * Private method that dispatches mapviewchangeend event.\n * @private\n */\nH.Map.prototype.dispatchMapviewchangeEnd_ = function() {\n  'use strict';\n  this.dispatchMapviewchange_('end');\n  this.mapviewchangeStarted_ = false;\n};\n\n\n/**\n * This method sets the new center on a map.\n * @publish\n *\n * @param {H.geo.IPoint} center requested center to be set\n * @param {boolean=} opt_animate parameter indicates if animated transition\n * should be applied, default is {@code false}\n * @return {H.Map} the instance itself\n * @export\n */\nH.Map.prototype.setCenter = function(center, opt_animate) {\n  'use strict';\n  this.viewModel_.setCameraData({\n    'animate': !!opt_animate,\n    'position': center\n  });\n  return this;\n};\n\n\n/**\n * This method returns currently rendered center of the map.\n * @return {H.geo.Point}\n * @publish\n * @export\n */\nH.Map.prototype.getCenter = function() {\n  'use strict';\n  var camera = this.viewModel_.getCameraData() || {};\n  return camera['position'];\n};\n\n\n/**\n * This method sets the zoom level on the map. Every zoom level\n * represents different scale i.e map at zoom level 2 is twice as large\n * as the map at zoom level 1.\n * @publish\n *\n * @param {number} zoom requested zoom level\n * @param {boolean=} opt_animate parameter indicates if animated transition\n * should be applied, default is {@code false}\n * @return {H.Map} the instance itself\n * @export\n */\nH.Map.prototype.setZoom = function(zoom, opt_animate) {\n  'use strict';\n  this.viewModel_.setZoom(zoom, !!opt_animate);\n  return this;\n};\n\n\n/**\n * This method returns currently rendered zoom level.\n * @publish\n * @return {number}\n * @export\n */\nH.Map.prototype.getZoom = function() {\n  'use strict';\n  return this.viewModel_.getZoom();\n};\n\n\n/**\n * This method changes the map zoom while keeping target\n * screen coordinates specified as x,y at the same place\n * where they were before.\n * @param {number} zoom new zoom level\n * @param {number} x map viewport x-axis pixel coordinate\n * @param {number} y map viewport y-axis pixel coordinate\n * @export\n * @publish\n */\nH.Map.prototype.zoomAt = function(zoom, x, y) {\n  'use strict';\n  this.engine_.zoomAt(zoom, x, y);\n};\n\n\n/**\n * This method sets the bounding rect to be displayed by the map. Maps\n * display the bounding rect in a way that it fits entirely in the current\n * viewport.\n * @publish\n *\n * @param {H.geo.Rect} boundingRect view bound which should be shown on map\n * @param {boolean=} opt_animate parameter indicates if animated transition\n * should be applied, default is {@code false}\n * @return {H.Map} the instance itself\n * @export\n */\nH.Map.prototype.setViewBounds = function(boundingRect, opt_animate) {\n  'use strict';\n  if (!H.lang.isInstanceOf(boundingRect, H.geo.Rect)) {\n    throw new H.lang.InvalidArgumentError(this.setViewBounds, 0, boundingRect);\n  }\n\n  var cameraModel = this.engine_.getCamForBounds(boundingRect, false);\n  cameraModel['zoom'] = H.math.floor(cameraModel['zoom']);\n  cameraModel['animate'] = opt_animate;\n  this.viewModel_.setCameraData(cameraModel);\n  return this;\n};\n\n\n/**\n * This method returns bounding rect for the current map view. Returned bounding rect\n * defines entire currently viewable area on the screen.\n *\n * @return {H.geo.Rect}\n * @publish\n * @export\n */\nH.Map.prototype.getViewBounds = function() {\n  'use strict';\n  return this.engine_.getBBox(H.map.render.RenderEngine.ViewPortBoundsType.PADDED, 0);\n};\n\n\n/**\n * Calculates the best CameraModel to show the provided bounding rectangle\n * @publish\n * @throws {Error} This method throws an error if the argument is not a H.geo.Rect\n * @param {H.geo.Rect} rect The geographical bounding rectangle to use\n * @return {H.map.ViewModel.CameraData} The result, represented by the properties zoom\n *      (number) and position (geo.Point)\n * @export\n */\nH.Map.prototype.getCameraDataForBounds = function(rect) {\n  'use strict';\n  if (!H.lang.isInstanceOf(rect, H.geo.Rect)) {\n    throw new H.lang.InvalidArgumentError(this.getCameraDataForBounds, 0, rect);\n  }\n  // TODO As soon as we have a CameraModel which contains zoom, we have to adjust the @return type to CameraModel\n  return this.engine_.getCamForBounds(rect, true);\n};\n\n\n/**\n * This method returns current map viewport. Viewport can be used\n * to modify padding and margin which will reflect the position\n * of the viewport center and the amount of extra data loaded (for margin)\n * @return {H.map.ViewPort}\n * @publish\n * @export\n */\nH.Map.prototype.getViewPort = function() {\n  'use strict';\n  return this.viewPort_;\n};\n\n\n/**\n * This method returns current view model. View model can be used to modify\n * the current view or camera. {@link H.map.ViewModel}\n * @return {H.map.ViewModel}\n * @publish\n * @export\n */\nH.Map.prototype.getViewModel = function() {\n  'use strict';\n  return this.viewModel_;\n};\n\n\n/**\n * This method returns the map&#39;s current layer collection.\n * @publish\n * @export\n *\n * @return {H.map.DataModel}\n */\nH.Map.prototype.getLayers = function() {\n  'use strict';\n  return this.dataModel_;\n};\n\n\n/**\n * This method returns the imprint object for this map.\n * @export\n *\n * @return {H.map.Imprint}\n * @publish\n */\nH.Map.prototype.getImprint = function() {\n  return this.imprint_;\n};\n\n\n/**\n * This method captures desired region of the current map and the objects on it. Result\n * is returned as a HTML5 Canvas element. Origin of coordinate system for capturing is in the\n * top left corner of the viewport.\n *\n * In order to see the \"capturable\" UI controls in the final result, pass a reference of\n * {@link H.ui.UI} object. For now the only control which is \"capturable\" is the\n * {@link H.ui.ScaleBar}.\n *\n * Consider initializing map with desired pixel ratio for high resolution devices\n * (see {@link H.Map.Options}) as it has effect on the quality of the captured result.\n * @publish\n * @export\n *\n * @example\n * var map = new H.Map(mapContainer, defaultLayers.normal.map, {\n *   center: {lat: -40, lng: 178},\n *   zoom: 2\n * });\n * var ui = H.ui.UI.createDefault(map, defaultLayers);\n * map.capture(function(canvas) {\n *   // Here we've got the canvas with desired area of the map,\n *   // (from top left (0,0) corner to the bottom right (100,100) corner)\n * }, [ui], 0, 0, 100, 100);\n *\n * @throws {Error} This method throws an error if the callback parameter is not specified or\n *                 is not a function\n * @param {function(HTMLCanvasElement=)} callback Callback function to call once result of\n *                                                the capturing is ready\n * @param {Array.<H.util.ICapturable>=} opt_capturables Collection of \"capturable\" element(s) to\n *                                                           draw into the resulting canvas\n * @param {number=} opt_x1 The X coordinate of the left edge of the capturing rectangle defaults to 0\n * @param {number=} opt_y1 The Y coordinate of the top edge of the capturing rectangle defaults to 0\n * @param {number=} opt_x2 The X coordinate of the right edge of the capturing rectangle defaults to viewport width\n * @param {number=} opt_y2 The Y coordinate of the bottom edge of the capturing rectangle defaults to viewport height\n */\nH.Map.prototype.capture = function(callback, opt_capturables, opt_x1, opt_y1, opt_x2, opt_y2) {\n  'use strict';\n  var engine = this.getEngine(),\n      capabilities = engine.getCapabilities(),\n      canvas,\n      ctx,\n      imprint = this.getImprint(),\n      pixelRatio = this.options_['pixelRatio'],\n      queue,\n      capturables = opt_capturables || [],\n      viewport = this.getViewPort(),\n      finished = false,\n      x1,\n      y1,\n      x2,\n      y2;\n\n  // Make sure we were passed a valid callback function\n  if (!H.lang.isFunction(callback)) {\n    throw new H.lang.InvalidArgumentError(this.capture, 0, callback);\n  }\n\n  // Apply default values\n  opt_x1 = opt_x1 || 0,\n  opt_y1 = opt_y1 || 0,\n  opt_x2 = opt_x2 || viewport.width,\n  opt_y2 = opt_y2 || viewport.height,\n  // Make capturing area not bigger than the viewport size,\n  // swap coordinates  to have correct top-left and bottom-right points\n  x1 = H.math.max(0, H.math.min(opt_x1, opt_x2));\n  y1 = H.math.max(0, H.math.min(opt_y1, opt_y2));\n  x2 = H.math.min(viewport.width, H.math.max(opt_x1, opt_x2));\n  y2 = H.math.min(viewport.height, H.math.max(opt_y1, opt_y2));\n\n  // Continue only if capturing capability is supported by the engine\n  if (!capabilities['capture']) {\n    callback(null);\n  } else {\n    // Capture map content with given coordinates\n    canvas = engine.capture(x1, y1, x2, y2);\n    ctx = canvas.getContext('2d');\n\n    // Set canvas size according to pixel ratio\n    canvas.style['width'] = canvas.width / pixelRatio + 'px';\n    canvas.style['height'] = canvas.height / pixelRatio + 'px';\n\n    // Initlize sequential queue for capturing all \"capturables\".\n    // We use the SequentialQueue to know when all the async captures finished,\n    // so we can call callback\n    queue = new H.util.SequentialQueue(10, processTask);\n\n    // For each \"capturable\" create an entry in the queue\n    capturables.filter(function(capturable) {\n      // Skip non-capturable\n      return H.lang.isFunction(capturable['capture']);\n    }).forEach(function(capturable) {\n      queue.push(capturable, H.util.doNothing);\n    });\n    // Push imprint into queue. And call final callback after the last task.\n    queue.push(imprint, callbackOnce.bind(this, canvas));\n    queue.processSync();\n  }\n\n  // Calls capture method for each capturable in the queue\n  function processTask(task, capturable) {\n    if (finished) {\n      task.cancel();\n    } else {\n      // Save styling settings so that changes during \"capture\" won't persist on canvas context\n      ctx.save();\n      capturable['capture'](canvas, pixelRatio, function() {\n        // Restore styling settings\n        ctx.restore();\n        task.done();\n      }, function(err) {\n        task.done(null, err);\n        // We can't stop execution of SequentialQueue?\n        // So we skip all remaining tasks on error\n        callbackOnce(null);\n      });\n    }\n  }\n  function callbackOnce(result) {\n    if (!finished) {\n      finished = true;\n      callback(result);\n    }\n  }\n};\n\n\n//#################################################  ENGINE  ###########################################################\n/**\n * TODO: Exposed for QA purposes only.\n * @export\n * @return {H.map.render.RenderEngine}\n */\nH.Map.prototype.getEngine = function() {\n  'use strict';\n  // TODO:\n  // TF: We should always return the actual engine but not the new one!\n  //     Instead we need a \"enginechangestart\" event which informs about the old and new engine type\n  return this.newEngine_ || this.engine_;\n};\n\n\n/**\n * This method sets the rendering engine type for the map. Rendering engine\n * is responsible for displaying i.e tiles and data on the map.\n * @export\n * @publish\n * @param {H.Map.EngineType} type\n * @return {H.Map} the map itself\n */\nH.Map.prototype.setEngineType = function(type) {\n  'use strict';\n  var oldType;\n  if (this.engine_.type !== type && !this.inTransition_) {\n    this.inTransition_ = true;\n    oldType = this.engine_.type;\n    this.newEngine_ = this.createEngine_(type);\n    this.newEngine_.addEventListener('render', this.onFirstRender_);\n  }\n  return this;\n};\n\n\n/**\n * Listener for the first \"render\" event on the new engine to handle a engine switch triggered by setEngineType()\n * @private\n * @param {H.util.Event} event\n */\nH.Map.prototype.onFirstRender_ = function(event) {\n  'use strict';\n  if (event.target === this.newEngine_) {\n    // We are making the following assumptions here:\n    // - On first render of the new engine it is considered to be 'ready' to take commands\n    // - Enter of new engine and exit of old engine run concurrently\n    // 'enginechange' is fired when the new engine exits to simplify the process.\n    this.newEngine_.removeEventListener('render', this.onFirstRender_);\n    this.newEngine_.enter();\n    this.engine_.exit(this.engineExitCallback_);\n  }\n};\n\n\n/**\n * Callback to use for engine switch when the old engine exits (bound in constructor)\n * @private\n */\nH.Map.prototype.engineExitCallback_ = function() {\n  'use strict';\n  var oldType = this.engine_.type;\n  this.engine_.dispose();\n  this.engine_ = this.newEngine_;\n  this.newEngine_ = H.lang.UNDEF;\n  this.inTransition_ = false;\n  this.dispatchEvent(new H.util.ChangeEvent(this.EventType.ENGINECHANGE,\n      this.engine_.type, oldType));\n};\n\n\n/**\n * Helper methotod to create a RenderEngine\n * @private\n * @param {H.Map.EngineType} type\n * @param {Object=} opt_options\n * @return {H.map.render.RenderEngine}\n */\nH.Map.prototype.createEngine_ = function(type, opt_options) {\n  'use strict';\n  var options = /** @type {H.map.render.p2d.RenderEngine.Options} */ (\n      opt_options ? (H.Map.adjustOptions_(opt_options, this.createEngine_)) : this.options_);\n\n  if (type === H.Map.EngineType['PANORAMA']) {\n    // TODO: register engine instead of direct call to class\n    if (this.imprint_ && this.autoColor_) {\n      this.imprint_.setOptions({'invert': true});\n    }\n    return new H.global['H']['map']['render']['panorama']['RenderEngine'](this.viewPort_,\n        this.viewModel_, this.dataModel_, options);\n  }\n  if (type === H.Map.EngineType['P2D']) {\n    this.adjustColors_();\n    return new H.map.render.p2d.RenderEngine(this.viewPort_, this.viewModel_, this.dataModel_, options);\n  }\n  throw new H.lang.InvalidArgumentError(this.setEngineType, 0, type);\n};\n\n\n//######################################################################################################################\n/**\n * This method adds a layer to the map.\n * @param {H.map.layer.Layer} layer The map layer to be added\n * @param {number=} opt_idx index at which the new layer should be inserted\n * @return {H.Map} current map instance\n * @publish\n * @export\n */\nH.Map.prototype.addLayer = function(layer, opt_idx) {\n  'use strict';\n  var layerIndex = this.dataModel_.indexOf(layer);\n  //prevent from adding duplicates\n  if (layerIndex === -1) {\n    this.dataModel_.add(layer, H.lang.isNaN(opt_idx) ?\n        this.dataModel_.getLength() - 1 : opt_idx);\n  }\n\n  return this;\n};\n\n\n/**\n * This method removes layer from the map.\n * @param {H.map.layer.Layer} layer The map layer to be removed\n * @return {H.Map} current map instance\n * @publish\n * @export\n */\nH.Map.prototype.removeLayer = function(layer) {\n  'use strict';\n  var layerIndex = this.dataModel_.indexOf(layer);\n  if (layer !== this.baseLayer_ && layer !== this.objectLayer_ && layerIndex !== -1) {\n    this.dataModel_.removeAt(layerIndex);\n  }\n\n  return this;\n};\n\n\n/**\n * This method will set provided layer as base map. The layer will be inserted\n * as the bottom most layer in the map.\n *\n * @param {H.map.layer.Layer} layer The layer to use as base map\n * @return {H.Map} the instance itself\n * @publish\n * @export\n */\nH.Map.prototype.setBaseLayer = function(layer) {\n  'use strict';\n  if (this.baseLayer_ !== layer) {\n    this.dataModel_.set(0, layer);\n    this.baseLayer_ = layer;\n  }\n\n  return this;\n};\n\n\n/**\n * To get the current base map layer.\n * @return {?H.map.layer.Layer}\n * @publish\n * @export\n */\nH.Map.prototype.getBaseLayer = function() {\n  'use strict';\n  return this.baseLayer_;\n};\n\n\n/**\n * Returns the screen coordniates according to the given geographical coordinates.\n * This method returns a screen pixel coordinates for the provided geo point.\n * @param {H.geo.IPoint} geoPoint point on the map\n * @return {H.math.Point}\n * @publish\n * @export\n */\nH.Map.prototype.geoToScreen = function(geoPoint) {\n  'use strict';\n  if (!H.geo.Point.validate(geoPoint)) {\n    throw new H.lang.InvalidArgumentError(this.geoToScreen, 0, geoPoint);\n  }\n  return /** @type {H.math.Point} */ (this.engine_.geoToScreen(geoPoint));\n};\n\n\n/**\n * Returns the geographical coordinates according to the given screen coordinates.\n * @param {number} x map viewport x-axis pixel coordinate\n * @param {number} y map viewport y-axis pixel coordinate\n * @return {H.geo.Point}\n * @publish\n * @export\n */\nH.Map.prototype.screenToGeo = function(x, y) {\n  'use strict';\n  var argNr;\n  if (argNr = +H.lang.isNaN(x) || H.lang.isNaN(y) * 2) {\n    throw new H.lang.InvalidArgumentError(this.screenToGeo, argNr - 1, arguments[argNr - 1]);\n  }\n  return /** @type {H.geo.Point} */ (this.engine_.screenToGeo(x, y));\n};\n\n\n/**\n * Returns the camera data according to the given screen coordinates.\n * Method converts screen pixel coordinates to correct camera data object\n * @param {number} x map viewport x-axis pixel coordinate\n * @param {number} y map viewport y-axis pixel coordinate\n * @return {H.map.ViewModel.CameraData}\n * @export\n * @publish\n */\nH.Map.prototype.screenToCameraData = function(x, y) {\n  'use strict';\n  return this.engine_.screenToCameraData(x, y);\n};\n\n\n/**\n * This method adds an map object to the map. Map object can be a marker or a spatial object like polygon or polyline.\n *\n * @export\n * @publish\n *\n * @throws {Error} This method throws an error if the mapObject parameter is not a map object.\n * @param {!H.map.Object} mapObject The map object to add\n * @return {!H.map.Object} the added map object\n */\nH.Map.prototype.addObject = function(mapObject) {\n  'use strict';\n  if (!H.lang.isInstanceOf(mapObject, H.map.Object)) {\n    throw new H.lang.InvalidArgumentError(this.addObject, 0, mapObject);\n  }\n  this.localObjectProvider_.getRootGroup().addObject(mapObject);\n  return mapObject;\n};\n\n\n/**\n * This method removes previously added map object from the map.\n *\n * @export\n * @publish\n *\n * @throws {Error} This method throws an error if the mapObject parameter is not a map object.\n * @param {!H.map.Object} mapObject The map object to remove\n * @return {!H.map.Object} the removed map object\n */\nH.Map.prototype.removeObject = function(mapObject) {\n  'use strict';\n  if (!H.lang.isInstanceOf(mapObject, H.map.Object)) {\n    throw new H.lang.InvalidArgumentError(this.removeObject, 0, mapObject);\n  }\n  this.localObjectProvider_.getRootGroup().removeObject(mapObject);\n  return mapObject;\n};\n\n\n/**\n * This method retrieves the list of all objects which have been added to the map.\n *\n * Note: The returned list should be used for read access only. Modifying the list\n * directly can destroy the integrity of this map's object model. Please use the\n * map's {@code addObject/addObjects} and {@code removeObject/removeObjects} methods.\n *\n * @export\n * @publish\n *\n * @return {Array.<H.map.Object>} the list of all use objects which are currently on the map.\n */\nH.Map.prototype.getObjects = function() {\n  'use strict';\n  // TODO We should document that this is an expensive way and point to tree navigation methods in Group\n  return this.localObjectProvider_.getRootGroup().getObjects(true);\n};\n\n\n/**\n * This method adds an array of objects or an object group to the map.\n *\n * Note: Objects which were added to the map previously will not be added again.\n *\n * @publish\n * @export\n *\n * @throws {Error} This method throws an error if the mapObjects parameter is neither an object group, nor an array\n * @param {Array.<!H.map.Object>} mapObjects\n * @return {H.Map} the map instance\n */\nH.Map.prototype.addObjects = function(mapObjects) {\n  'use strict';\n  var len,\n      i;\n  if (!H.lang.isArrayLike(mapObjects)) {\n    throw new H.lang.InvalidArgumentError(this.addObjects, 0, mapObjects);\n  }\n\n  len = mapObjects.length;\n  for (i = 0; i < len; i++) {\n    this.addObject(mapObjects[i]);\n  }\n  return this;\n};\n\n\n/**\n * This method removes an array of object or an object group from the map.\n *\n * @publish\n * @export\n * @param {Array.<H.map.Object>|H.map.Group} mapObjects\n * @return {H.Map} the map instance\n *\n * @throws {Error} This method throws an error if the mapObjects parameter is\n * neither an object group, nor an array\n */\nH.Map.prototype.removeObjects = function(mapObjects) {\n  'use strict';\n  if (!H.lang.isInstanceOf(mapObjects, H.map.Group) && !H.lang.isArrayLike(mapObjects)) {\n    throw new H.lang.InvalidArgumentError(this.removeObjects, 0, mapObjects);\n  }\n\n  mapObjects.forEach(this.removeObject, this);\n  return this;\n};\n\n\n//################################################  OBJECT AT  #########################################################\n/**\n * Returns the top most z-ordered map object found under the specific screen coordinates.\n * Coordinates are viewport pixel coordinates starting from top left corner as (0, 0) point.\n * @publish\n * @export\n * @param {number} x map viewport x-axis pixel coordinate\n * @param {number} y map viewport y-axis pixel coordinate\n * @return {?H.map.Object} the entcountered top most map object or {@code null} if no object found\n */\nH.Map.prototype.getObjectAt = function(x, y) {\n  'use strict';\n  var argNr,\n      objects;\n  if (argNr = +H.lang.isNaN(x) || H.lang.isNaN(y) * 2) {\n    throw new H.lang.InvalidArgumentError(this.getObjectAt, argNr - 1, arguments[argNr - 1]);\n  }\n  objects = this.engine_.getObjectsAt(x, y, true);\n  return objects[0] || H.lang.NULL;\n};\n\n\n/**\n * Returns a list of map objects in descending z-order found under the specific screen coordinates.\n * Coordinates are viewport pixel coordinates starting from top left corner as (0, 0) point.\n * @publish\n * @export\n * @param {number} x map viewport x-axis pixel coordinate\n * @param {number} y map viewport y-axis pixel coordinate\n * @return {Array.<!H.map.Object>}\n */\nH.Map.prototype.getObjectsAt = function(x, y) {\n  var argNr;\n  if (argNr = +H.lang.isNaN(x) || H.lang.isNaN(y) * 2) {\n    throw new H.lang.InvalidArgumentError(this.getObjectAt, argNr - 1, arguments[argNr - 1]);\n  }\n  return this.engine_.getObjectsAt(x, y, false);\n};\n\n\n//######################################################################################################################\n/**\n * Types of engines\n * @enum {number}\n * @export\n * @publish\n */\nH.Map.EngineType = {\n  'P2D': 0,\n  'PANORAMA': 1\n};\n\n\n/**\n * This type defines options which can be used to initialize the map.\n * @publish\n *\n * @property {H.geo.IPoint=} center\n *           The initial center of the map, default is {@code {lat:0, lng: 0}}\n * @property {number=} zoom\n *           The initial zoom level of the map, default is {@code 0} respectivly the minimal zoom level of the base map\n * @property {H.geo.Rect=} bounds\n *           The view bounds to be displayed on the map. If provided, it takes precedence over center and zoom.\n *           and zoom if provided)\n * @property {Array.<H.map.layer.Layer>=} layers\n *           A list of layers to render on top of the base map\n * @property {H.Map.EngineType=} engineType\n *           The initial engine type to use, default is {@code P2D}\n * @property {number} pixelRatio\n *           The pixelRatio to use for over-sampling in cases of high-resolution displays, default is {@code 1}\n * @property {?H.map.Imprint.Options=} imprint\n *           The imprint options or {@code null} to suppress the imprint\n * @property {H.Map.BackgroundRange=} renderBaseBackground\n *           Object describes how many cached zoom levels should be used as a base map background while base map tiles\n *           are loading. Example: {@code {lower: 3, higher: 2}}\n * @property {boolean=} autoColor\n *           Indicates wheter the UI's colors should automaticaly adjusted to the base layer, default is {@code true}.\n *           Up to now only the copyright style will be adjusted.\n *           See {@link H.map.layer.Layer.Options#dark}\n * @property {number=} margin\n *           The size in pixel of the supplemental area to render for each side of the map\n * @property {H.map.ViewPort.Padding=} padding\n *           The padding in pixels for each side of the map\n * @property {boolean=} fixedCenter\n *           Indicates whether the center of the map should remain unchanged if the viewport's\n *           size or or padding has been changed, default is {@code true}\n *\n * @typedef {{\n *   center: (H.geo.IPoint|undefined),\n *   zoom: (number|undefined),\n *   bounds: (H.geo.Rect|undefined),\n *   layers: (Array.<H.map.layer.Layer>|undefined),\n *   engineType: (H.Map.EngineType|undefined),\n *   pixelRatio: (number|undefined),\n *   imprint: (?H.map.Imprint.Options|undefined),\n *   renderBaseBackground: (H.Map.BackgroundRange|undefined),\n *   autoColor: (boolean|undefined),\n *   margin: (number|undefined),\n *   padding: (H.map.ViewPort.Padding|undefined),\n *   fixedCenter: (boolean|undefined)\n * }}\n */\nH.Map.Options;\n\n\n/**\n * It defines the number of lower and higher zoom levels, where cached content of the base map is rendered while\n * content of the current zoom level is still loading.\n * Example: if range was set to {@code {lower: 3, higher: 2}} and current level is 10 then rendering engine will\n * try to display cached tiles from lower zoom levels 7, 8, 9 and higher levels 11 and 12.\n * @publish\n * @property {number} lower\n *           The number of lower zoom levels to take into account, default is {@code 0}\n * @property {number} higher\n *           The number of higher zoom levels to take into account, default is {@code 0}\n * @typedef {{\n *   lower: (number),\n *   higher: (number)\n * }}\n */\nH.Map.BackgroundRange; // TODO Use a generic class H.math.Range with min and max (not implemented yet)\n\n\n//#################################################  EVENTS  ###########################################################\n/**\n * Events fired by Map\n * @enum {string}\n */\nH.Map.prototype.EventType = {\n  MAPVIEWCHANGESTART: 'mapviewchangestart',\n  MAPVIEWCHANGE: 'mapviewchange',\n  MAPVIEWCHANGEEND: 'mapviewchangeend',\n  BASELAYERCHANGE: 'baselayerchange',\n  ENGINECHANGE: 'enginechange'\n};\n\n\n/**\n * Fired when changes of this map's view are starting\n * @publish\n * @event H.Map#mapviewchangestart\n * @type {H.util.Event}\n */\n\n\n/**\n * Fired when changes of this map's view are ongoing\n * @publish\n * @event H.Map#mapviewchange\n * @type {H.map.ChangeEvent}\n */\n\n\n/**\n * Fired when changes of this map's view are ending\n * @publish\n * @event H.Map#mapviewchangeend\n * @type {H.util.Event}\n */\n\n\n/**\n * Fired when this map's base layer changes\n * @publish\n * @event H.Map#baselayerchange\n * @type {H.util.ChangeEvent}\n */\n\n\n/**\n * Fired when this map's engine changes i.e when entering\n * panorama. Event holds references to old and new engine type.\n * @publish\n * @event H.Map#enginechange\n * @type {H.util.ChangeEvent}\n */\n",
		"goog.provide('H.util.OList');\ngoog.provide('H.util.OListEvent');\n\ngoog.require('H.lang');\ngoog.require('H.lang.OutOfRangeError');\ngoog.require('H.math');\ngoog.require('H.util.Event');\ngoog.require('H.util.EventTarget');\n\n\n\n/**\n * This class represents an list of ordered entries which dispatches events\n * when the list is modified.\n * @publish\n * @export\n * @extends {H.util.EventTarget}\n * @constructor\n */\nH.util.OList = function() {\n  'use strict';\n  /**\n   * The internal list of all entries\n   * @type {Array.<*>}\n   * @private\n   */\n  this.entries_ = [];\n  H.util.OList.superClass_.constructor.call(this);\n};\nH.lang.inherits(H.util.OList, H.util.EventTarget);\n\n\n/**\n * Helper method to adjust a given index\n * @private\n * @throws OutOfRangeError if the given index is out of bounds\n * @param {number|undefined} idx The index to adjust\n * @param {boolean} setToLength To signal that the index value should be the list length\n * @return {number} the adjusted index\n */\nH.util.OList.prototype.adjustIndex_ = function(idx, setToLength) {\n  'use strict';\n  var length = this.entries_.length,\n      adjIdx;\n  if (setToLength) {\n    adjIdx = length;\n  } else {\n    // if index is < 0 treat it as relative from the end of the list and assure it will be not negative:\n    if (H.lang.isNaN(\n        adjIdx = (adjIdx = +idx) < 0 ? H.math.max(0, length + adjIdx) :\n            // if index is >= 0 assure that it is not greater than the length of the entries:\n            H.math.min(length, adjIdx))) {\n      throw new H.lang.OutOfRangeError(H.util.OList, idx, [0, length - 1]);\n    }\n  }\n  return adjIdx;\n};\n\n\n/**\n * Internal method to insert an entry at a given index.\n * @private\n * @param {?} entry The entry to add\n * @param {number} idx The index where the entry should be inserted.\n *    The caller must validate that the idx is &gt;=0 and &lt;=length beforehand!\n * @param {boolean=} opt_suppressEvent To signal that NO event should be dispatched\n * @fires H.util.OList#add\n */\nH.util.OList.prototype.add_ = function(entry, idx, opt_suppressEvent) {\n  'use strict';\n  this.entries_.splice(idx, 0, entry);\n  this.dispatchEvent(new H.util.OList.Event(this, this.EventType.ADD, idx, entry, null, null));\n};\n\n\n/**\n * This method inserts an entry to the list. Optionally it can\n * place new entry at provided index.\n * @export\n *\n * @param {?} entry The entry to insert\n * @param {number=} opt_idx The index where the new entry should be inserted;\n *    if omitted or greater then the current size of the list,\n *    the entry is added at the end of the list;\n *    a negative index is treated as being relative from the end of the list\n * @fires H.util.OList#add\n * @publish\n */\nH.util.OList.prototype.add = function(entry, opt_idx) {\n  'use strict';\n  this.add_(entry, this.adjustIndex_(opt_idx, H.lang.isNaN(opt_idx)));\n};\n\n\n/**\n * This method removes an entry from the list at the given index\n * The caller must validate that the idx to be &gt;=0 and &lt;length beforehand!\n * index of the entry to remove.\n * @private\n * @fires H.util.OList#remove\n * @param {number} idx The index of the entry which should be removed\n * @param {boolean=} opt_suppressEvent To signal that NO event should be dispatched\n * @return {?} the removed entry\n */\nH.util.OList.prototype.remove_ = function(idx, opt_suppressEvent) {\n  'use strict';\n  var entry = this.entries_.splice(idx, 1)[0];\n  this.dispatchEvent(new H.util.OList.Event(this, this.EventType.REMOVE, idx, null, entry, null));\n  return entry;\n};\n\n\n/**\n * This method removes an entry by a given index from the list.\n * @export\n *\n * @param {number} idx The index of the entry which should be removed;\n *    a negative index is treated as being relative from the end of the list\n * @throws IllegalArgument if the given index is out of bounds\n * @return {?} The removed entry\n * @publish\n */\nH.util.OList.prototype.removeAt = function(idx) {\n  'use strict';\n  this.get(idx);\n  return this.remove_(idx);\n};\n\n\n/**\n * This method removes the the first entry which is identical with the given entry.\n * @export\n *\n * @param {?} entry The entry to remove\n * @fires H.util.OList#remove\n * @return {boolean} signals if the entry could be found in the list and is removed\n * @publish\n */\nH.util.OList.prototype.remove = function(entry) {\n  'use strict';\n  var idx = this.indexOf(entry);\n  return idx >= 0 ? (this.remove_(idx), true) : false;\n};\n\n\n/**\n * This method replaces an entry at the given index with the given entry.\n * @export\n *\n * @param {number} idx The index of the entry which should be replaced;\n *    a negative index is treated as being relative from the end of the list\n * @param {?} entry The entry which replaces the existing one\n * @fires H.util.OList#set\n * @throws IllegalArgument if the given index is out of bounds\n * @return {?} The replaced entry\n * @publish\n */\nH.util.OList.prototype.set = function(idx, entry) {\n  'use strict';\n  var replacedElement = this.get(idx);\n  idx = this.adjustIndex_(idx, false);\n  replacedElement = this.entries_[idx];\n  this.entries_[idx] = entry;\n  this.dispatchEvent(new H.util.OList.Event(this, this.EventType.SET, idx,\n      entry, replacedElement, null));\n  return replacedElement;\n};\n\n\n/**\n * This method retrieves the index of the first object in this list that is identical with the\n * object supplied by the caller.\n * @export\n *\n * @param {?} entry The entry for which to return the index.\n * @return {number} The index of the first matching entry in this list\n *    or -1 if the entry provided by the caller is not found in the list\n * @publish\n */\nH.util.OList.prototype.indexOf = function(entry) {\n  'use strict';\n  return this.entries_.indexOf(entry);\n};\n\n\n/**\n * To get the entry at the specified index.\n * @export\n * @publish\n *\n * @throws OutOfRangeError if the given index is out of bounds\n * @param {number} idx The index of the entry to get\n *    a negative index is treated as being relative from the end of the list\n * @return {?} The element at the given index\n */\nH.util.OList.prototype.get = function(idx) {\n  'use strict';\n  idx = this.adjustIndex_(idx, false);\n  if ((idx = this.adjustIndex_(idx, false)) >= this.entries_.length) {\n    throw new H.lang.OutOfRangeError(this.get, idx, [0, this.entries_.length - 1]);\n  }\n  return this.entries_[idx];\n};\n\n\n/**\n * This method returns the length of the list.\n * @export\n *\n * @return {number}\n * @publish\n */\nH.util.OList.prototype.getLength = function() {\n  'use strict';\n  return this.entries_.length;\n};\n\n\n/**\n * This method returns all list's entries as an array.\n * @export\n * @return {Array.<*>} The list as an array\n * @publish\n */\nH.util.OList.prototype.asArray = function() {\n  'use strict';\n  return [].concat(this.entries_);\n};\n\n\n/**\n * This method removes all entries from the list.\n * @export\n * @publish\n */\nH.util.OList.prototype.flush = function() {\n  'use strict';\n  var i = this.getLength();\n  while (i--) {\n    this.remove_(i);\n  }\n};\n\n\n/**\n * Specific implementation for H.util.Disposable#disposeInternal, it will remove all entries of the list\n * @override\n * @protected\n */\nH.util.OList.prototype.disposeInternal = function() {\n  'use strict';\n  this.flush();\n  H.util.OList.superClass_.disposeInternal.call(this);\n};\n\n\n//#################################################  EVENTS  ###########################################################\n/**\n * Events fired by OList.\n * @enum {string}\n */\nH.util.OList.prototype.EventType = {\n  ADD: 'add',\n  REMOVE: 'remove',\n  SET: 'set',\n  MOVE: 'move'\n};\n\n\n/**\n * Fired when an entry was added to the list.\n * @publish\n * @event H.util.OList#add\n * @type {H.util.OList.Event}\n */\n\n\n/**\n * Fired when an entry was removed from the list.\n * @publish\n * @event H.util.OList#remove\n * @type {H.util.OList.Event}\n */\n\n\n/**\n * Fired when an entry was set in the list.\n * @publish\n * @event H.util.OList#set\n * @type {H.util.OList.Event}\n */\n\n\n/**\n * Fired when an entry was moved within the list.\n * @publish\n * @event H.util.OList#move\n * @type {H.util.OList.Event}\n */\n\n\n\n//##############################################  OList.Event  #########################################################\n/**\n * The event class for events that are dispatched by OList\n * @publish\n * @constructor\n * @extends {H.util.Event}\n * @param {H.util.OList} list The OList instance which is emitting the event\n * @param {H.util.OList.prototype.EventType} type The type of the event\n * @param {number} idx The affected index within this list\n * @param {?*} added The value of the entry which was added or set\n * @param {?*} removed The value of the entry which was removed or replaced\n * @param {?*} moved The value of the entry which was moved\n */\nH.util.OList.Event = function(list, type, idx, added, removed, moved) {\n  'use strict';\n\n  // Invoke the H.util.Event constructor first:\n  H.util.OList.Event.superClass_.constructor.call(this, type, list);\n\n  /**\n   * The list index where the entry was added, removed, set or moved to.\n   * @type {number}\n   */\n  this['idx'] = idx;\n\n  /**\n   * If the event type is [add]{@link H.util.OList#add} or [set]{@link H.util.OList#set}\n   * this property references the entry which was added to the list\n   * @type {?*}\n   */\n  this['added'] = added;\n\n  /**\n   * If the event type is [remove]{@link H.util.OList#remove} or\n   * [set]{@link H.util.OList#set} this property references the entry which was removed from the list\n   * @type {?*}\n   */\n  this['removed'] = removed;\n\n  /**\n   * If the event type is ['move']{@link H.util.OList#move} this property\n   * references the entry which was moved.\n   * @type {?*}\n   */\n  this['moved'] = moved;\n};\nH.lang.inherits(H.util.OList.Event, H.util.Event);\n",
		"goog.provide('H.map.ChangeEvent');\n\ngoog.require('H.util.ChangeEvent');\n\n\n\n//#############################################  Map.ChangeEvent  ######################################################\n/**\n * An Event to signalize map related changes.\n * @extends {H.util.ChangeEvent}\n * @constructor\n * @param {string} type The type of the event\n * @param {Object} newValue The view values that were set after the change\n * @param {Object} oldValue The view values that were set before the change\n * @param {H.math.BitMask} modifiers Indicates which values were changed.\n *        See properties FOV, PITCH, POSITION, ROLL, SIZE, YAW and ZOOM for the meaning of the bits.\n * @export\n * @publish\n */\nH.map.ChangeEvent = function(type, newValue, oldValue, modifiers) {\n  'use strict';\n  H.map.ChangeEvent.superClass_.constructor.call(this, type, newValue, oldValue);\n\n  /**\n   * Indicates which view values were changed.\n   * See properties FOV, PITCH, POSITION, ROLL, SIZE, YAW and ZOOM for the meaning of the bits.\n   * @type {H.map.Bitmask}\n   */\n  this['modifiers'] = modifiers;\n};\nH.lang.inherits(H.map.ChangeEvent, H.util.ChangeEvent);\n\n\n/**\n * The modifier to signalize a change of the \"fov\" property\n * @publish\n * @const\n * @type {number}\n */\nH.map.ChangeEvent.prototype['FOV'] = 1; //H.map.ViewModel.CamToSyncFlags_['fov'];\n\n\n/**\n * The modifier to signalize a change of the \"pitch\" property\n * @publish\n * @const\n * @type {number}\n */\nH.map.ChangeEvent.prototype['PITCH'] = 2; //H.map.ViewModel.CamToSyncFlags_['pitch'];\n\n\n/**\n * The modifier to signalize a change of the \"position\" property\n * @publish\n * @const\n * @type {number}\n */\nH.map.ChangeEvent.prototype['POSITION'] = 4; //H.map.ViewModel.CamToSyncFlags_['position'];\n\n\n/**\n * The modifier to signalize a change of the \"roll\" property\n * @publish\n * @const\n * @type {number}\n */\nH.map.ChangeEvent.prototype['ROLL'] = 8; //H.map.ViewModel.CamToSyncFlags_['roll'];\n\n\n/**\n * The modifier to signalize a change of the \"roll\" property\n * @publish\n * @const\n * @type {number}\n */\nH.map.ChangeEvent.prototype['SIZE'] = 16; //H.map.ViewModel.CamToSyncFlags_['roll'];\n\n\n/**\n * The modifier to signalize a change of the \"yaw\" property\n * @publish\n * @const\n * @type {number}\n */\nH.map.ChangeEvent.prototype['YAW'] = 32; //H.map.ViewModel.CamToSyncFlags_['yaw'];\n\n\n/**\n * The modifier to signalize a change of the \"zoom\" property\n * @publish\n * @const\n * @type {number}\n */\nH.map.ChangeEvent.prototype['ZOOM'] = 64; //H.map.ViewModel.CamToSyncFlags_['zoom'];\n",
		"goog.provide('H.util.events');\ngoog.require('goog.events');\n\n\n/**\n * Namespace contains events related functions\n * @namespace H.util.events\n * @export\n */\n\n\n/**\n * Alias for listenOnce static function\n * @export\n * @method\n * @param {goog.events.ListenableType} src The node to listen to\n *     events on.\n * @param {string|Array.<string>} type Event type or array of event types.\n * @param {Function|Object} listener Callback method.\n * @param {boolean=} opt_capt Fire in capture phase?.\n * @param {Object=} opt_handler Element in whose scope to call the listener.\n * @return {goog.events.Key} Unique key for the listener.\n */\n//@borrows goog.events.listenOnce as H.util.events.listenOnce\nH.util.events.listenOnce = goog.events.listenOnce;\n\n\n\n/**\n * Alias for dispatchEvent static function\n * @export\n * @method\n */\n//@borrows goog.events.dispatchEvent as H.util.events.dispatchEvent\nH.util.events.dispatchEvent = goog.events.dispatchEvent;\n\n\n/**\n * Alias to fire listeners on target\n * @export\n * @method\n */\nH.util.events.fireListeners = goog.events.fireListeners;\n\n\n/**\n * Alias for listen static function\n * @export\n * @method\n */\n//@borrows goog.events.listen as H.util.events.listen\nH.util.events.listen = goog.events.listen;\n\n\n/**\n * Alias for unlisten static function\n * @export\n * @method\n */\n//@borrows goog.events.listen as H.util.events.unlisten\nH.util.events.unlisten = goog.events.unlisten;\n\n\n//######################################################################################################################\n//############################################### eventPhase Patch #####################################################\n//######################################################################################################################\n\n\n/**\n * A reference to the original H.util.events.fireListener function (taken from goog.events)\n * @private\n * @param {goog.events.Listener} listener The listener object to call.\n * @param {Object} eventObject The event object to pass to the listener.\n * @return {boolean} Result of listener.\n * @method\n */\nH.util.events.fireListenerOriginal_ = goog.events.fireListener;\n\n\n/**\n * @ignore\n * @suppress {duplicate}\n *\n * @param {goog.events.Listener} listener\n * @param {Object} eventObject\n * @return {boolean}\n */\ngoog.events.fireListener = function(listener, eventObject) {\n  // A modified versíon of goog.events.fireListener to update the eventPhase property of the event before a listener is\n  // invoked. It delegates the call to the original H.util.events.fireListener function.\n  // A second patch: If it is in bubbling phase and the event type is either \"pointerenter\" or \"pointerleave\" we don't\n  // call the listener.\n  'use strict';\n  var eventPhase,\n      isBubbling,\n      eventType,\n      returnValue = true;\n\n  // Detect the event phase:\n  eventPhase = eventObject[\n      eventObject.currentTarget === eventObject.target ? 'AT_TARGET' :\n      listener.capture ? 'CAPTURING_PHASE' :\n      (isBubbling = true, 'BUBBLING_PHASE')];\n\n  // PATCH 1: Skip the listener if it is BUBBLING_PHASE and the type is either \"pointerenter\" or \"pointerleave\"\n  if (!isBubbling || (eventType = eventObject.type) !== 'pointerenter' && eventType !== 'pointerleave') {\n    // PATCH 2a: Set the event's eventPhase property:\n    eventObject['eventPhase'] = eventPhase;\n    returnValue = H.util.events.fireListenerOriginal_(listener, eventObject);\n    // PATCH 2b: Reset the event's eventPhase property at the end of the bubbling phase:\n\n    if (isBubbling && listener.src.getParentEventTarget && listener.src.getParentEventTarget() === null) {\n      delete eventObject['eventPhase'];\n    }\n  }\n\n  return returnValue;\n};\n",
		"goog.provide('H.map.ViewModel');\n\ngoog.require('H.geo.Point');\ngoog.require('H.lang');\ngoog.require('H.lang.InvalidArgumentError');\ngoog.require('H.map.ChangeEvent');\ngoog.require('H.map.IControl');\ngoog.require('H.util.ChangeEvent');\ngoog.require('H.util.EventTarget');\ngoog.require('H.util.events');\n\n\n\n/**\n * This class represents a view of the map. It consists of a virtual camera\n * and a look-at point both of which have a position in geo-space and orientation\n * angles. The view model allows to change the values of these objects in order\n * to move or rotate the map or zoom in and out.\n *\n * The view model can be manipulated by using two objects: a virtual camera or\n * the a look-at point. A virtual camera has a position and orientation (pitch,\n * yaw and roll) in geo-space. A look-at point allows to change the postion and\n * orientation of the virtual camera with respect to the point that is being\n * looked at. The look-at point has a position in geo-space and orientation\n * (heading, tilt and incline) and a distance (the distance of the camera with\n * respect to the look-at point). Setting look-at point values influences the\n * camera's position and orientation and vice-versa.\n *\n * Modifying the view of a map is asynchronous as the view model will notify the\n * renderer of a change of its state and trigger the renderer.\n *\n * A map renderer can choose to ignore or even correct certain values depending\n * on its capabilities. For example a 2D map renderer will ignore tilt values\n * and correct tilt values to be 0 on the view model in order to keep the\n * integrity of the view model.\n *\n * In order to be notified of changes to the model that originate from the\n * renderer the view model dispatches an event \"sync\" whenever the\n * renderer synchronizes the requested changes to the view with it's own\n * internal state.\n *\n * @publish\n * @export\n * @extends {H.util.EventTarget}\n * @implements {H.map.IControl}\n * @final\n * @constructor\n */\nH.map.ViewModel = function() {\n  'use strict';\n\n  H.map.ViewModel.superClass_.constructor.call(this);\n\n  this.requested_ = {};\n\n  this.renderedCameraData_ = {\n    'position': new H.geo.Point(0, 0),\n    'pitch': 0,\n    'yaw': 0,\n    'roll': 0,\n    'fov': 70\n  };\n\n  this.renderedZoom_ = 0;\n\n};\nH.lang.inherits(H.map.ViewModel, H.util.EventTarget);\n\n\n//#################################################  EVENTS  ###########################################################\n/**\n * Events fired by ViewModel\n * @enum {string}\n */\nH.map.ViewModel.prototype.EventType = {\n  UPDATE: 'update',\n  SYNC: 'sync'\n};\n\n\n/**\n * Fired when this view-model's data changes\n * @publish\n * @event H.map.ViewModel#update\n * @type {H.util.ChangeEvent}\n */\n\n/**\n * Fired when the rendered map is synchronized with this view-model's data\n * @publish\n * @event H.map.ViewModel#sync\n * @type {H.map.ChangeEvent}\n */\n\n\n//######################################################################################################################\n/**\n * This method copies camera data to target object\n * @private\n *\n * @param {Object} target the target object to which to transfer the data values\n * @param {H.map.ViewModel.CameraData} source the values to be transferred to the target\n * @return {H.map.ViewModel.CameraData} object representing current camera (state) values\n */\nH.map.ViewModel.prototype.transferCameraData_ = function(target, source) {\n  'use strict';\n  return /** @type {H.map.ViewModel.CameraData} */ (this.transferData_(target, source, this.CAMERA_KEYS_));\n};\n\n\n/**\n * A list of camera property keys\n * @private\n * @const\n * @type {Array.<string>}\n */\nH.map.ViewModel.prototype.CAMERA_KEYS_ = H.lang.tokenize('position pitch yaw roll fov zoom');\n\n\n/**\n * Mapping of camara property names to bit values according the bit values from H.map.ChangeEvent constants\n * which have the same names but upper case\n * @private\n * @type {Object.<string,number>}\n */\nH.map.ViewModel.CamToSyncFlags_ = H.lang.tokenize('fov pitch position roll yaw zoom').\n    reduce(function(table, key) {\n      // e.g. 'fov': H.map.ChangeEvent.prototype['FOV']\n      table[key] = H.map.ChangeEvent.prototype[key.toUpperCase()];\n      return table;\n    }, {});\n\n\n/**\n * This method copies camera data from a source to a target object\n * @private\n *\n * @param {Object} target The target object to which to transfer the data values\n * @param {Object} source The values to be transferred to the target\n * @param {Array.<string>} keys The keys of the properties to transfer\n * @return {Object} the target object\n */\nH.map.ViewModel.prototype.transferData_ = function(target, source, keys) {\n  'use strict';\n  var i = keys.length,\n      key,\n      targetVal,\n      value;\n\n  // reset flags and memorized values from previous synchronization\n  /**\n   * @private\n   */\n  this.syncFlags_ = 0;\n\n  /**\n   * @private\n   * @type {H.map.ViewModel.CameraData}\n   */\n  this.oldCamData_ = /** @type {H.map.ViewModel.CameraData} */ ({});\n\n  /**\n   * @private\n   * @type {H.map.ViewModel.CameraData}\n   */\n  this.newCamData_ = /** @type {H.map.ViewModel.CameraData} */ ({});\n\n  while (i--) {\n    key = keys[i];\n    value = source[key];\n    targetVal = target[key];\n    if (H.lang.isDefAndNotNull(value)) {\n      this.oldCamData_[key] = targetVal;\n      this.newCamData_[key] = value;\n      target[key] = value;\n      // handle case where value is IPoint\n      if ((H.geo.isIPoint(value) && H.geo.isIPoint(targetVal) &&\n          (value['lat'] !== targetVal['lat'] ||\n          value['lng'] !== targetVal['lng'])) ||\n          // let primitive values through\n          (!H.geo.isIPoint(value) && value !== targetVal)) {\n        this.syncFlags_ |= H.map.ViewModel.CamToSyncFlags_[key];\n\n      }\n    } else {\n      delete target[key];\n    }\n  }\n  return target;\n};\n\n\n/**\n * This method returns the camera data, which is currently rendered.\n * @return {H.map.ViewModel.CameraData} the current rendered camera data\n * @publish\n * @export\n */\nH.map.ViewModel.prototype.getCameraData = function() {\n  'use strict';\n  return this.transferCameraData_({}, this.renderedCameraData_);\n};\n\n\n/**\n * This method sets new camera data to be processed by the renderer.\n * @param {H.map.ViewModel.CameraData} data the values to be modified\n * @fires H.map.ViewModel#update\n * @return {H.map.ViewModel} this view model object\n * @publish\n * @export\n */\nH.map.ViewModel.prototype.setCameraData = function(data) {\n  'use strict';\n\n  var position,\n      animate = data['animate'];\n\n  if (!data) {\n    throw new H.lang.InvalidArgumentError(this.setCameraData, 0, data);\n  }\n\n  position = data['position'];\n\n  if (position && !H.geo.isIPoint(position)) {\n    throw new H.lang.InvalidArgumentError(this.setCameraData,\n        0, 'position');\n  }\n\n  // new zoom takes precedence over requested in previous call\n  // and rendered zoom is used as a fallback if no zoom was requested\n  this.requested_['zoom'] = !H.lang.isNaN(data['zoom']) ? data['zoom'] :\n      (!H.lang.isNaN(this.requested_['zoom']) ? this.requested_['zoom'] :\n          this.renderedZoom_);\n\n  this.requested_ = {\n    'animate': animate,\n    'zoom': this.requested_['zoom'],\n    'camera': this.transferCameraData_({}, data)\n  };\n\n  this.dispatchEvent(new H.map.ViewModel.UpdateEvent(this.requested_));\n\n  return this;\n};\n\n\n/**\n * A callback used by an engine to update current view values according to real rendered values.\n * @param {H.map.ViewModel.CameraData} renderedCameraData the updated\n *   cameraData from the renderer\n * @fires H.map.ViewModel#sync\n */\nH.map.ViewModel.prototype.synchronize = function(renderedCameraData) {\n  'use strict';\n  var zoom = renderedCameraData['zoom'];\n  this.transferCameraData_(this.renderedCameraData_, renderedCameraData);\n\n  if (zoom !== this.renderedZoom_) {\n    // zoom is a special case\n    this.syncFlags_ |= H.map.ViewModel.CamToSyncFlags_['zoom'];\n  }\n  this.oldCamData_['zoom'] = this.renderedZoom_;\n  this.newCamData_['zoom'] = zoom;\n  this.renderedZoom_ = H.lang.isDefAndNotNull(zoom) ?\n      zoom : this.renderedZoom_;\n\n  this.renderedCameraData_['zoom'] = this.renderedZoom_;\n\n  this.requested_ = {};\n  this.dispatchEvent(new H.map.ChangeEvent(this.EventType.SYNC,\n      this.newCamData_, this.oldCamData_, this.syncFlags_));\n};\n\n\n/**\n * This method sets a new zoom level to be processed by the renderer\n * @param {number} zoom the new zoom level\n * @param {boolean} animate\n * @fires H.map.ViewModel#update\n * @publish\n * @export\n */\nH.map.ViewModel.prototype.setZoom = function(zoom, animate) {\n  'use strict';\n\n  if (H.lang.isNaN(zoom = +zoom)) {\n    throw new H.lang.InvalidArgumentError(this.setZoom, 0, zoom);\n  }\n  this.requested_ = {\n    'animate': animate,\n    'zoom': zoom,\n    'camera': this.requested_['camera'] || this.renderedCameraData_\n  };\n  this.dispatchEvent(new H.map.ViewModel.UpdateEvent(this.requested_));\n};\n\n\n/**\n * This method returns the zoom level that is currently rendered.\n * @return {number} current zoom level (scale)\n * @publish\n * @export\n */\nH.map.ViewModel.prototype.getZoom = function() {\n  'use strict';\n  return this.renderedZoom_;\n};\n\n\n/**\n * This method returns the currently requested data.\n * @return {H.map.ViewModel.CameraData} last requested cam/view data\n * @publish\n * @export\n */\nH.map.ViewModel.prototype.getRequestedCameraData = function() {\n  'use strict';\n  var requestedCameraData = this.requested_['camera'];\n  requestedCameraData['zoom'] = H.lang.isNumber(this.requested_['zoom']) ?\n      this.requested_['zoom'] : requestedCameraData['zoom'];\n  return requestedCameraData;\n};\n\n\n/**\n * A method to signal the begin of a control operation.\n * @param {H.util.kinetics.IKinetics=} opt_kinetics kinetics settings\n * @param {number=} opt_atX x screen coordinate at which control has started\n * @param {number=} opt_atY y screen coordinate at which control has started\n * @abstract\n * @method\n * @export\n * @publish\n */\nH.map.ViewModel.prototype.startControl = goog.abstractMethod;\n// function(mode, opt_kinetics, opt_atX, opt_atY) {}\n\n\n/**\n * A method to set the values for a continuously modification of the ViewModel on different axes.\n * If the current render engine doesn't support certain modifications then they are ignored.\n * @abstract\n * @method\n * @publish\n * @export\n * @param {number} moveX The movement on x-axis as levels per millisecond\n *        where a level correlates to the distance between camera and look-at point.\n * @param {number} moveY The movement on y-axis as levels per millisecond\n *        where a level correlates to the distance between camera and look-at point\n * @param {number} moveZ The movement on z-axis as levels per millisecond.\n * @param {number} angleX The rotation of on screen's x axis as degrees per millisecond.\n * @param {number} angleY The rotation of on screen's y axis as degrees per millisecond.\n * @param {number} angleZ The rotation of on screen's z axis as degrees per millisecond.\n * @param {number=} opt_zoom The modification of the zoom level as levels per millisecond\n */\nH.map.ViewModel.prototype.control = goog.abstractMethod;\n//H.map.ViewModel.prototype.control = function(moveX, moveY, moveZ, angleX, angleY, angleZ, opt_zoom) { };\n\n\n/**\n * A method to signal the end of a control operation.\n * @param {boolean=} opt_preventKinetics A flag to indicate whether a kinetic effect is performed\n * @param {function(H.map.ViewModel.CameraData)=} opt_adjustView An callback to adjust the final ViewModel by\n *        modifying the passed camera data.\n * @abstract\n * @method\n * @export\n * @publish\n */\nH.map.ViewModel.prototype.endControl = goog.abstractMethod; // function(opt_preventKinetics) { };\n\n\n/**\n * Defines camera's properties.\n * @typedef {{\n *   zoom: (number|undefined),\n *   position: (H.geo.IPoint),\n *   pitch: (number|undefined),\n *   yaw: (number|undefined),\n *   roll: (number|undefined)\n * }}\n * @property {number=} zoom zoom level to be used by rendering engine\n * @property {H.geo.IPoint} position the position of the virtual camera in geo-space\n * @property {number=} pitch the rotation of the virtual camera along its local x-axis\n * @property {number=} yaw the rotation of the virtual camera along its local y-axis\n * @property {number=} roll the rotation of the virtual camera along its local z-axis\n * @property {number=} fov\n * @publish\n */\nH.map.ViewModel.CameraData;\n\n\n/**\n * Defines currently requested view data, which will be rendered by the map.\n * @publish\n *\n * @typedef {{\n *   camera: (H.map.ViewModel.CameraData|undefined),\n *   zoom: (number|undefined),\n *   animate: (boolean|undefined)\n * }} H.map.ViewModel.RequestedData\n *\n * @property {H.map.ViewModel.CameraData=} camera The requested camera properties\n * @property {number=} zoom The requested zoom level\n * @property {boolean=} animate indicates if the requested transition should be animated\n */\nH.map.ViewModel.RequestedData;\n\n\n\n//#########################################  ViewModel.UpdateEvent  ####################################################\n/**\n * Update event is fired whenever view model data is changed. It contains property which hold currently requested data\n * @constructor\n * @param {H.map.ViewModel.RequestedData} requested\n * @extends {H.util.Event}\n * @publish\n */\nH.map.ViewModel.UpdateEvent = function(requested) {\n  'use strict';\n  H.map.ViewModel.UpdateEvent.superClass_.constructor.call(this, H.map.ViewModel.prototype.EventType.UPDATE);\n\n  /**\n   * The requested view data\n   * @type {H.map.ViewModel.RequestedData}\n   */\n  this['requested'] = requested;\n};\nH.lang.inherits(H.map.ViewModel.UpdateEvent, H.util.Event);\n",
		"goog.provide('H.math.Point');\n\ngoog.require('H.math.IPoint');\n\n\n\n/**\n * Class represents a 2-dimensional point, defined by x and y coordinates.\n * @publish\n * @export\n * @implements {H.math.IPoint}\n * @final\n * @constructor\n * @param {number} x coordinate on x-axis\n * @param {number} y coordinate on y-axis\n */\nH.math.Point = function(x, y) {\n  'use strict';\n\n  this['x'] = +x;\n  this['y'] = +y;\n};\n\n\n/** @override */\nH.math.Point.prototype.x;\n\n\n/** @override */\nH.math.Point.prototype.y;\n\n\n/**\n * Sets the x and y coordinate of this point\n * @export\n * @publish\n *\n * @param {number} x coordinate on x-axis\n * @param {number} y coordinate on y-axis\n * @method\n */\nH.math.Point.prototype.set = H.math.Point; // we can re-use the constructor function to set the values\n\n\n/**\n * This method creates a copy of the current point.\n * @export\n * @publish\n * @param {H.math.Point=} opt_out An optional point to store the copied values\n * @return {H.math.Point} The clone of the point\n */\nH.math.Point.prototype.clone = function(opt_out) {\n  'use strict';\n  var clone = opt_out;\n  if (clone) {\n    clone['x'] = this['x'];\n    clone['y'] = this['y'];\n  } else {\n    clone = new H.math.Point(this['x'], this['y']);\n  }\n  return clone;\n};\n\n\n/**\n * This method adds given point coordinates to the current one.\n * @export\n * @publish\n *\n * @param {H.math.IPoint} other The point to add\n * @return {H.math.Point} the point itself after adding\n */\nH.math.Point.prototype.add = function(other) {\n  'use strict';\n  this['x'] += other['x'];\n  this['y'] += other['y'];\n  return this;\n};\n\n\n/**\n * This method substract given point coordinates from the current point.\n * @export\n * @publish\n *\n * @param {H.math.IPoint} other The point to subtract\n * @return {H.math.Point} the point itself after substracting\n */\nH.math.Point.prototype.sub = function(other) {\n  'use strict';\n  this['x'] -= other['x'];\n  this['y'] -= other['y'];\n  return this;\n};\n\n\n/**\n * This method scales the current point coordinates by the given factor(s).\n * @export\n * @publish\n *\n * @param {number} factor multiplication factor\n * @param {number=} opt_factorY If omitted, the factor argument is used\n * @return {H.math.Point} the point itself after scaling\n */\nH.math.Point.prototype.scale = function(factor, opt_factorY) {\n  'use strict';\n  this['x'] *= factor;\n  this['y'] *= opt_factorY === undefined ? factor : opt_factorY;\n  return this;\n};\n\n\n/**\n * This method rounds the x and y coordinates of the point.\n * @export\n * @publish\n *\n * @return {H.math.Point} the point itself after rounding\n */\nH.math.Point.prototype.round = function() {\n  'use strict';\n  this['x'] = H.math.round(this['x']);\n  this['y'] = H.math.round(this['y']);\n  return this;\n};\n\n\n/**\n * Rounds the x and y coordinates to the next smaller integer values.\n * @export\n * @publish\n *\n * @return {H.math.Point} the point itself after flooring\n */\nH.math.Point.prototype.floor = function() {\n  'use strict';\n  this['x'] = H.math.floor(this['x']);\n  this['y'] = H.math.floor(this['y']);\n  return this;\n};\n\n\n/**\n * Rounds the x and y coordinates to the next greater integer values.\n * @export\n * @publish\n *\n * @return {H.math.Point} the point itself after ceiling\n */\nH.math.Point.prototype.ceil = function() {\n  'use strict';\n  this['x'] = H.math.ceil(this['x']);\n  this['y'] = H.math.ceil(this['y']);\n  return this;\n};\n\n\n/**\n * This method compares current point coordinates with the supplied\n * point coordinates.\n * @export\n * @publish\n *\n * @param {H.math.IPoint} other The point to compare to.\n * @return {boolean} True if the points are equal\n */\nH.math.Point.prototype.equals = function(other) {\n  return !!(other && this['x'] === other['x'] && this['y'] === other['y']);\n};\n\n\n/**\n * This method calculates the distance to a point supplied by the caller.\n * @export\n * @publish\n *\n * @param {H.math.IPoint} other\n * @return {number}\n */\nH.math.Point.prototype.distance = function(other) {\n  'use strict';\n  return H.math.sqrt(\n      H.math.pow(this['x'] - other['x'], 2) +\n      H.math.pow(this['y'] - other['y'], 2));\n};\n",
		"goog.provide('H.geo.IProjection');\n\n\n\n/**\n * Interface which describes map projection. Functions transform geo coordinates to\n * EPSG3857 coordinate reference system, which is x,y values in range 0..1\n * @interface\n * @publish\n */\nH.geo.IProjection = function() {};\n\n\n/**\n * This method transforms geographical lat/lng coordinates to a projected point in range {@code 0...1}\n * @param {number} lat latitude\n * @param {number} lng longitude\n * @param {H.math.Point=} opt_out an optional point to store the result\n * @return {H.math.Point}\n * @publish\n * @export\n */\nH.geo.IProjection.prototype.latLngToPoint = function(lat, lng, opt_out) {};\n\n\n/**\n * This method transforms projected x/y coordinates in range {@code 0...1} to a geographical point\n * @param {number} x\n * @param {number} y\n * @param {H.geo.Point=} opt_out an optional point to store the result\n * @return {H.geo.Point}\n * @publish\n * @export\n */\nH.geo.IProjection.prototype.xyToGeo = function(x, y, opt_out) {};\n\n\n/**\n * This method transforms a projected point in range {@code 0...1} to a geographical point\n * @param {H.math.IPoint} point\n * @param {H.geo.Point=} opt_out an optional point to store the result\n * @return {H.geo.Point}\n * @publish\n * @export\n */\nH.geo.IProjection.prototype.pointToGeo = function(point, opt_out) {};\n\n\n/**\n * This method transforms a geographical point to a projected point in range {@code 0...1}\n * @param {H.geo.IPoint} geoPoint\n * @param {H.math.Point=} opt_out an optional point to store the result\n * @return {H.math.Point}\n * @publish\n * @export\n */\nH.geo.IProjection.prototype.geoToPoint = function(geoPoint, opt_out) {};\n",
		"goog.provide('H.geo.mercator');\n\ngoog.require('H.geo.IProjection');\ngoog.require('H.geo.Point');\ngoog.require('H.math.Point');\n\n\n/**\n * Spherical mercator projection. This projection treats earth as a sphere and\n * maps geo coordinates to a cooresponding 2 dimensional space.\n * Map uses this projection by default.\n * @namespace H.geo.mercator\n * @implements {H.geo.IProjection}\n * @export\n * @publish\n */\nH.geo.mercator = {};\n\n//####################################################################################################################\n//                                             geo to mercator\n//####################################################################################################################\n\n\n/**\n * This function transforms geographical latitude coordinate to a projected y coordinate in range {@code 0...1}\n * @private\n * @param {number} lat\n * @return {number}\n */\nH.geo.mercator.latToY_ = function(lat) {\n  'use strict';\n  return H.math.min(1,\n      H.math.max(0, 0.5 - (H.math.log(\n          H.math.tan(H.math.PI_OVER_4 + H.math.PI_OVER_2 * lat / 180)) / H.math.PI) / 2)\n  );\n};\n\n\n/**\n * This function transforms geographical longitude coordinate to a projected x coordinate in range {@code 0...1}\n * @private\n * @param {number} lng\n * @return {number}\n */\nH.geo.mercator.lngToX_ = function(lng) {\n  'use strict';\n  return lng / 360 + 0.5;\n};\n\n\n/**\n * @override\n * @export\n */\nH.geo.mercator.latLngToPoint = function(lat, lng, opt_out) {\n  'use strict';\n  if (opt_out) {\n    opt_out['x'] = H.geo.mercator.lngToX_(lng);\n    opt_out['y'] = H.geo.mercator.latToY_(lat);\n  } else {\n    opt_out = new H.math.Point(H.geo.mercator.lngToX_(lng), H.geo.mercator.latToY_(lat));\n  }\n  return opt_out;\n};\n\n\n/**\n * @override\n * @export\n */\nH.geo.mercator.geoToPoint = function(geoPoint, opt_out) {\n  'use strict';\n  return H.geo.mercator.latLngToPoint(geoPoint['lat'], geoPoint['lng'], opt_out);\n};\n\n\n//####################################################################################################################\n//                                             mercator to geo\n//####################################################################################################################\n\n\n/**\n * This function transforms a projected y coordinate in range {@code 0...1} to geographical latitude coordinate\n * @private\n * @param {number} y\n * @return {number}\n */\nH.geo.mercator.yToLat_ = function(y) {\n  'use strict';\n  return y <= 0 ?\n      90 :\n      y >= 1 ?\n          -90 :\n          H.math._180_OVER_PI *\n          (2 * H.math.atan(H.math.exp(H.math.PI * (1 - 2 * y))) -\n          H.math.PI_OVER_2);\n};\n\n\n/**\n * This function transforms a projected x coordinate in range {@code 0...1} to geographical longitude coordinate\n * @private\n * @param {number} x\n * @return {number}\n */\nH.geo.mercator.xToLng_ = function(x) {\n  'use strict';\n  return (x === 1 ? 1 : H.math.modulo(x, 1)) * 360 - 180;\n};\n\n\n/**\n * @override\n * @export\n */\nH.geo.mercator.xyToGeo = function(x, y, opt_out) {\n  'use strict';\n  if (opt_out) {\n    opt_out['lat'] = H.geo.mercator.yToLat_(y);\n    opt_out['lng'] = H.geo.mercator.xToLng_(x);\n  } else {\n    opt_out = new H.geo.Point(H.geo.mercator.yToLat_(y), H.geo.mercator.xToLng_(x));\n  }\n  return opt_out;\n};\n\n\n/**\n * @override\n * @export\n */\nH.geo.mercator.pointToGeo = function(point, opt_out) {\n  'use strict';\n  return H.geo.mercator.xyToGeo(point['x'], point['y'], opt_out);\n};\n\n",
		"goog.provide('H.geo.PixelProjection');\n\ngoog.require('H.geo.IProjection');\ngoog.require('H.geo.Point');\ngoog.require('H.geo.mercator');\ngoog.require('H.lang');\ngoog.require('H.lang.InvalidArgumentError');\ngoog.require('H.math');\ngoog.require('H.math.Point');\n\n\n\n/**\n * PixelProjection is used to transform pixel world coordinates at certain scale (zoom level)\n * to geographical coordinates and vice-versa. By default it uses mercator geo projection\n * to transform geo points into the 2d plane map point which are adjusted to current scale.\n *\n * @export\n *\n * @constructor\n * @param {H.geo.IProjection=} opt_projection default is spherical mercator {@link H.geo.mercator}\n * @param {number=} opt_sizeAtLevelZero world size in pixels at zoom level 0, default is {@code 256}\n * @publish\n */\nH.geo.PixelProjection = function(opt_projection, opt_sizeAtLevelZero) {\n  'use strict';\n\n  /**\n   * Geographical projection that backs given PixelProjection.\n   * @publish\n   * @name H.geo.PixelProjection#projection\n   * @type {H.geo.IProjection}\n   */\n  this['projection'] = opt_projection || H.geo.mercator;\n\n  /**\n   *\n   * current zoom scale\n   * @private\n   */\n  this.zoom_ = 0;\n\n  /**\n   * Default exponent. Value shows exponent that is used to fit the world in single tile\n   * for the given tile size, on presumption that 2^0 covers the entire world over equator.\n   * @name H.geo.PixelProjection#exp\n   * @type {number}\n   *\n   */\n  // TODO: should this concept be reconsidered?\n  this['exp'] = H.math.log(opt_sizeAtLevelZero || 256) / H.math.LN2;\n\n  /**\n   * Tile exponent used world width/height calculation\n   * @private\n   */\n  this.tileExponent_ = this['exp'];\n  this.updateSize_();\n\n  /**\n   * X-offset in projection relative to top left corner.\n   * @publish\n   * @name H.geo.PixelProjection#x\n   * @type {number}\n   */\n  this['x'] = 0;\n\n  /**\n   * Y-offset in projection relative to top left corner.\n   * @publish\n   * @name H.geo.PixelProjection#y\n   * @type {number}\n   */\n  this['y'] = 0;\n};\n\n\n/**\n * Maximum world size exponent (30 bits)\n * @type {number}\n * @protected\n * @const\n */\nH.geo.PixelProjection.MAX_WORLD_SIZE = 30;\n\n\n/**\n * This method updates scale exponent for the pixel projection.\n * @export\n *\n * @param {number} zoom\n * @publish\n */\nH.geo.PixelProjection.prototype.rescale = function(zoom) {\n  'use strict';\n\n  if (H.lang.isNaN(zoom)) {\n    throw new H.lang.InvalidArgumentError(this.rescale, 0, zoom);\n  }\n  var pointX = this['x'] / this['w'],\n      pointY = this['y'] / this['h'];\n\n  this.zoom_ = zoom;\n  this.tileExponent_ = this['exp'] + zoom;\n  this.updateSize_();\n  this['x'] = pointX * this['w'];\n  this['y'] = pointY * this['h'];\n};\n\n\n/**\n * This method updates world width and height.\n * @private\n */\nH.geo.PixelProjection.prototype.updateSize_ = function() {\n  'use strict';\n  //correct tileExponent if maximum world size is exceeded\n  if (this.tileExponent_ > H.geo.PixelProjection.MAX_WORLD_SIZE) {\n    this.tileExponent_ = H.geo.PixelProjection.MAX_WORLD_SIZE;\n  }\n\n  /**\n   * Width of the world in pixels\n   * @publish\n   * @name H.geo.PixelProjection#w\n   * @type {number}\n   */\n  this['w'] = H.math.pow(2, this.tileExponent_);\n\n  /**\n   * Height of the world in pixels\n   * @publish\n   * @name H.geo.PixelProjection#h\n   * @type {number}\n   */\n  this['h'] = H.math.pow(2, this.tileExponent_);\n};\n\n\n/**\n * This method returns current zoom scale factor previously set by\n * {@link H.geo.PixelProjection#rescale} function.\n * @export\n *\n * @return {number}\n * @publish\n */\nH.geo.PixelProjection.prototype.getZoomScale = function() {\n  'use strict';\n  return this.zoom_ || 0;\n};\n\n\n/**\n * This method translates geo point to pixel coordinates at given zoom level.\n * @export\n *\n * @param {H.geo.IPoint} geoPoint\n * @param {H.math.IPoint=} opt_out an optional point to store the result\n * @return {H.math.IPoint}\n * @publish\n */\nH.geo.PixelProjection.prototype.geoToPixel = function(geoPoint, opt_out) {\n  'use strict';\n  var px = this['projection'].latLngToPoint(geoPoint['lat'], geoPoint['lng'], opt_out);\n  px['x'] = px['x'] * this['w'] - this['x'];\n  px['y'] = px['y'] * this['h'] - this['y'];\n  return px;\n};\n\n\n/**\n * This method translates a pixel's point to the according geo point.\n * @export\n *\n * @param {H.math.Point} point\n * @param {H.geo.IPoint=} opt_out an optional point to store the result\n * @return {H.geo.IPoint}\n * @publish\n */\nH.geo.PixelProjection.prototype.pixelToGeo = function(point, opt_out) {\n  'use strict';\n\n  return this['projection'].xyToGeo(\n      (point['x'] + this['x']) / this['w'],\n      (point['y'] + this['y']) / this['h'],\n      opt_out);\n};\n\n\n/**\n * This method translates pixel's x and y coordinates to the according geo point.\n * @export\n *\n * @param {number} x\n * @param {number} y\n * @param {H.geo.Point=} opt_out an optional point to store the result\n * @return {H.geo.Point}\n * @publish\n */\nH.geo.PixelProjection.prototype.xyToGeo = function(x, y, opt_out) {\n  'use strict';\n\n  return this['projection'].xyToGeo(\n      (x + this['x']) / this['w'],\n      (y + this['y']) / this['h'],\n      opt_out);\n};\n\n\n/**\n * This method translates geographical coordinates (latitude, longitude)\n * supplied by the caller.\n * This method accepts longitudes outside of the normal longitude range.\n * into a point defined in terms of pixel coordinates.\n * @param {number} latitude The latitude to translate\n * @param {number} longitude The longitude to translate\n * @param {H.math.IPoint=} opt_out an optional point to store the result\n * @return {H.math.Point} A point object containing x and y\n *    coordinates (in pixels)\n * @export\n * @publish\n */\nH.geo.PixelProjection.prototype.latLngToPixel = function(latitude, longitude, opt_out) {\n  'use strict';\n  var px = this['projection'].latLngToPoint(latitude, longitude, opt_out);\n  px['x'] = px['x'] * this['w'] - this['x'];\n  px['y'] = px['y'] * this['h'] - this['y'];\n  return px;\n};\n\n\n/**\n * Method translates provided map point to world pixel coordinates relative\n * to current projection offset.\n * @param {H.math.IPoint} point\n * @return {H.math.Point} pixel coordinate\n * @export\n * @publish\n */\nH.geo.PixelProjection.prototype.pointToPixel = function(point) {\n  'use strict';\n  return new H.math.Point(point['x'] * this['w'] - this['x'],\n      point['y'] * this['h'] - this['y']);\n};\n\n",
		"goog.provide('H.map.layer.Layer');\n\ngoog.require('H.geo.PixelProjection');\ngoog.require('H.lang');\ngoog.require('H.lang.InvalidArgumentError');\ngoog.require('H.map.ICopyright');\ngoog.require('H.util.ChangeEvent'); // TODO \"min/maxcghange\" deprecated since 3.0.7.0, will be removed in 3.0.8.0\ngoog.require('H.util.EventTarget');\n\n\n\n/**\n * The Layer class represents an object that is evaluated by the renderer in the\n * order in which it is added to the layers collection. It provides the basic\n * infrastructure for dispatching update events to the renderer in case new data\n * is available.\n *\n * A layer is defined by a minimum and maximum zoom level for which it can\n * provide data to the renderer and a projection which it uses to transform\n * geo-coordinates into 2D projected world coordinates.\n *\n * @constructor\n * @extends {H.util.EventTarget}\n * @param {H.map.layer.Layer.Options=} opt_options optional configuration object\n * @publish\n * @export\n */\nH.map.layer.Layer = function(opt_options) {\n  'use strict';\n  H.map.layer.Layer.superClass_.constructor.call(this);\n  var options = opt_options || {};\n\n  /**\n   * This property holds the minimum zoom level for which this layer can\n   * provide data.\n   * @type {number}\n   * @name {H.map.layer.Layer#min}\n   * @publish\n   */\n  this['min'] = 0;\n\n  /**\n   * This property holds the maximum zoom level for which this layer can\n   * provide data.\n   * @type {number}\n   * @name {H.map.layer.Layer#max}\n   * @publish\n   */\n  this['max'] = 22;\n\n  /**\n   * Indicates whether the content of this layer is mainly dark, default is {@code false}\n   * Must NOT published, API internally used only!\n   * @property {boolean}\n   */\n  this.dark = !!options['dark'];\n\n  // set the optional min/max values afterwards (since setMin and setMax need\n  // min/max to be set to do comparison checks)\n  if (options.min) {\n    this.setMin(options.min);\n  }\n  if (options.max) {\n    this.setMax(options.max);\n  }\n\n  //pixel projection already validates projection and world size at 0\n  /**\n   * This property holds the layer's projection.\n   * @type {H.geo.PixelProjection}\n   * @name {H.map.layer.Layer#pixelProjection}\n   * @publish\n   */\n  this['pixelProjection'] = new H.geo.PixelProjection(options['projection'], options['minWorldSize']);\n\n};\ngoog.inherits(H.map.layer.Layer, H.util.EventTarget);\n\n\n//#################################################  EVENTS  ###########################################################\n/**\n * Event types fired by Layer.\n * @enum {string}\n */\nH.map.layer.Layer.prototype.EventType = {\n  UPDATE: 'update',\n  MINCHANGE: 'minchange',\n  MAXCHANGE: 'maxchange'\n};\n\n\n/**\n * Fired when this layer's data updates\n * @publish\n * @event H.map.layer.Layer#update\n * @type {H.util.Event}\n */\n\n\n/**\n * Fired when this layer's minimum zoom level changes.\n * @publish\n * @deprecated since 3.0.7.0, will be removed in 3.0.8.0\n * @event H.map.layer.Layer#minchange\n * @type {H.util.ChangeEvent}\n */\n\n\n/**\n * Fired when this layer's maximum zoom level changes.\n * @deprecated since 3.0.7.0, will be removed in 3.0.8.0\n * @event H.map.layer.Layer#maxchange\n * @type {H.util.ChangeEvent}\n * @publish\n */\n\n\n//######################################################################################################################\n/**\n * This method checks if a zoom level can be served by this layer.\n * @param {number} zoomLevel the zoom level to check\n * @return {boolean} true if this layer can provide data for the zoom level,\n *  otherwise false\n * @publish\n * @export\n */\nH.map.layer.Layer.prototype.isValid = function(zoomLevel) { // TODO Odd name Layer#isValid to check a zoom level\n  'use strict';\n  return (this['min'] <= zoomLevel) && (zoomLevel <= this['max']);\n};\n\n\n/**\n * This method sets the minimum zoom level for which this layer will provide\n * tiles.\n * @param {number} min The new minimum zoom level of this layer\n * @return {H.map.layer.Layer} Returns this instance of the layer\n *\n * @throws {H.lang.InvalidArgumentError} Throws an exception if the\n *  {@code min} parameter is not a number or if it is larger that the current\n *  maximum zoom level\n *\n * @export\n * @publish\n */\nH.map.layer.Layer.prototype.setMin = function(min) {\n  var currentMin = this['min'];\n  //is min different from the current value?\n  if (min !== currentMin) {\n    //is min a number?\n    if (!H.lang.isNaN(min)) {\n      //is min smaller than max?\n      if (min <= this['max']) {\n        this['min'] = min;\n        // TODO \"minchange\" event deprecated since 3.0.7.0, will be removed in 3.0.8.0\n        //dispatch property change for engine to update zoom ranges\n        this.dispatchEvent(new H.util.ChangeEvent(\n            this.EventType.MINCHANGE,\n            min,\n            currentMin));\n        //trigger a new render cycle in case the map is currently out\n        //of bounds to adjust view model\n        //this.dispatchUpdate();\n      } else {\n        throw new H.lang.InvalidArgumentError(H.map.layer.Layer.prototype.setMin, 0, 'min > max');\n      }\n    } else {\n      throw new H.lang.InvalidArgumentError(H.map.layer.Layer.prototype.setMin, 0, 'min is NaN');\n    }\n  }\n  return this;\n};\n\n\n/**\n * This method sets the maximum zoom level for which this layer will provide\n * tiles.\n * @param {number} max The new maximum zoom level of this layer\n * @return {H.map.layer.Layer} Returns this instance of the layer\n *\n * @throws {H.lang.InvalidArgumentError} Throws an exception if the\n *  {@code max} parameter is not a number or if it is smaller that the current\n *  minimum zoom level\n *\n * @export\n * @publish\n */\nH.map.layer.Layer.prototype.setMax = function(max) {\n  var currentMax = this['max'];\n  //is max different from the current value?\n  if (max !== currentMax) {\n    //is max a number?\n    if (!H.lang.isNaN(max)) {\n      //is max greater than min?\n      if (max >= this['min']) {\n        this['max'] = max;\n        // TODO \"maxchange\" event deprecated since 3.0.7.0, will be removed in 3.0.8.0\n        this.dispatchEvent(new H.util.ChangeEvent(\n            this.EventType.MAXCHANGE,\n            max,\n            currentMax));\n        //trigger a new render cycle in case the map is currently out\n        //of bounds to adjust view model\n        //this.dispatchUpdate();\n      } else {\n        throw new H.lang.InvalidArgumentError(H.map.layer.Layer.prototype.setMax, 0, 'max < min');\n      }\n    } else {\n      throw new H.lang.InvalidArgumentError(H.map.layer.Layer.prototype.setMax, 0, 'max is NaN');\n    }\n  }\n  return this;\n};\n\n\n/**\n * This method dispatches an update event to all registered listeners.\n * @protected\n * @fires H.map.layer.Layer#update\n */\nH.map.layer.Layer.prototype.dispatchUpdate = function() {\n  'use strict';\n  this.dispatchEvent(this.EventType.UPDATE);\n};\n\n\n/**\n * This method disposes of the layer.\n * @override\n */\nH.map.layer.Layer.prototype.disposeInternal = function() {\n  'use strict';\n  H.map.layer.Layer.superClass_.disposeInternal.call(this);\n};\n\n\n/**\n * This method returns the copyright current data provider.\n *\n  * Note: This function must be overridden by any class inheriting layer.\n  * The default implementation returns {@code null}.\n *\n * @param {H.geo.Rect} bounds the bounding area for which to retrieve the\n *  copyright information\n * @param {number} level the zoom level for which to retrieve the copyright\n *  information\n * @return {?Array.<H.map.ICopyright>} a list of copyright information\n *  objects for the provided area and zoom level\n * @publish\n * @export\n */\nH.map.layer.Layer.prototype.getCopyrights = function(bounds, level) {\n  'use strict';\n  return null;\n};\n\n\n/**\n * Options which can be used when creating new layer object.\n * @publish\n *\n * @property {number=} min\n *           The minimum zoom level for which the layer can provide data, default is {@code 0}\n * @property {number=} max\n *           The maximum zoom level for which the layer can provide data, default is {@code 22}\n * @property {boolean=} dark\n *           Indicates whether the content of this layer is mainly dark, default is {@code false}\n *           See also {@link H.Map.Options#autoColor}\n * @property {H.geo.IProjection=} projection\n *           The projection to be used for this layer, default is {@link H.geo.mercator}\n * @property {number=} minWorldSize\n *           The minimal world size at zoom level 0, default is {@code 256}\n *\n * @typedef {{\n *   min: (number|undefined),\n *   max: (number|undefined),\n *   dark: (boolean|undefined),\n *   projection: (H.geo.IProjection|undefined),\n *   minWorldSize: (number|undefined)\n * }}\n */\nH.map.layer.Layer.Options;\n",
		"goog.provide('H.map.Group');\n\ngoog.require('H.geo.Rect');\ngoog.require('H.lang.InvalidArgumentError');\ngoog.require('H.map.Object');\ngoog.require('H.map.provider.Invalidations');\ngoog.require('H.math');\n\n/*\n * TODO\n * For now we invoke invalidate(flags) on all children which can cause performance issues for big groups.\n *\n * We should optimize it in that way:\n *  - map.Group#invalidate() doesn't call through to its children's invalidate()\n *  - An ObjectProvider gets different Invalidations for:\n *    - any\n *    - spatial\n *    - marker\n *    - domMarker\n *    - group\n *  - map.Object must be changed / enhanced:\n *    - getVisibility() checks if the object's VISUAL invalidation is older than it's provider's VISUAL invalidation for\n *      group. If so getVisibility() must be recomputed otherwise it returns the current isVisible_ value\n *    - zInfo must become private => zInfo_\n *    - getZInfo() checks if the object's ZORDER invalidation is older than it's provider's ZORDER invalidation for\n *      group. If so zInfo must be recomputed otherwise it returns the current zInfo_ value\n *\n */\n\n\n\n//#################################################  CONSTRUCTOR  ######################################################\n/**\n * This class represents a map object which can contain other map objects.\n * It's visibility, zIndex and object-order influences the contained map objects\n * @publish\n * @export\n * @extends {H.map.Object}\n * @final\n * @constructor\n * @throws {H.lang.InvalidArgumentError} if the option's \"objects\" property is specified but not an Array\n *      of {@link H.map.Object} instances\n * @throws {H.lang.IllegalOperationError} if the option's \"provider\" and \"objects\" properties are specified\n *      but one of the objects' provider and the group's provider are different and\n *      neither {@code null} nor an instance of {@link H.map.provider.LocalObjectProvider}\n * @param {H.map.Group.Options=} opt_options an optional object containing initialization values\n */\nH.map.Group = function(opt_options) {\n  'use strict';\n  var key,\n      value,\n      headAndTail = {};\n  H.map.Group.superClass_.constructor.call(this, opt_options);\n\n  headAndTail.previousSibling = headAndTail.nextSibling = headAndTail;\n  this.headAndTail = /** @type {!H.map.Group.Sibling} */ (headAndTail);\n\n  if (opt_options) {\n    key = 'objects';\n    if (key in opt_options) {\n      this.addObjects(opt_options[key]);\n    }\n  }\n};\nH.lang.inherits(H.map.Group, H.map.Object);\n\n\n//###################################################  TYPE  ###########################################################\n/**\n * @override\n */\nH.map.Group.prototype.type = H.map.Object.Type['GROUP'];\n\n\n//###################################################  PROVIDER  #######################################################\n/**\n * @override\n * @export\n */\nH.map.Group.prototype.setProvider = function(provider, opt_caller) {\n  'use strict';\n  var isProviderChange;\n  if (isProviderChange = H.map.Group.superClass_.setProvider.call(this, provider, opt_caller)) {\n    // If the providers are diffeent we have to align the provider for all descendants (recursive):\n    this.forEach(H.map.Group.forEach_setProvider_, true);\n  }\n  return isProviderChange;\n};\n\n\n/**\n * A forEach callback to recursivly align the descendents' providers with this group's provider.\n * @private\n * @param {!H.map.Object} object\n * @param {number} idx\n * @param {!H.map.Group} group\n */\nH.map.Group.forEach_setProvider_ = function(object, idx, group) {\n  'use strict';\n  // Group#setProvider() has already checked the providers, so we call Object#setProvider without check:\n  object.setProvider(group.provider);\n};\n\n\n//###############################################  TREE RELATIONS  #####################################################\n/**\n * @override\n * @export\n */\nH.map.Group.prototype.contains = function(object) {\n  'use strict';\n  // We don't call the super because it is just a simple \"return this === object\"\n  var contains = this === object;\n  if (!contains && this.headAndTail.nextSibling !== this.headAndTail &&\n      H.lang.isInstanceOf(object, H.map.Object)) {\n    while (!contains && object) {\n      if (object === this) {\n        contains = true;\n      } else {\n        object = object.parentGroup;\n      }\n    }\n  }\n  return contains;\n};\n\n\n//###################################################  Z-INFO  #########################################################\n/**\n * @override\n * @export\n */\nH.map.Group.prototype.resetZInfo = function() {\n  'use strict';\n\n  // We don't call the super because it is just a simple \"this.zInfo = H.lang.UNDEF;\"\n  this.zInfo = H.lang.UNDEF;\n\n  // We have to reset the zInfo of all descendants (recursively):\n  this.forEach(H.map.Group.forEach_resetZInfo_, true);\n};\n\n\n/**\n * A forEach callback to recursivly set the provider for all descendents.\n * @private\n * @this {?H.map.provider.ObjectProvider}\n * @param {!H.map.Object} object\n * @param {number} idx\n * @param {!H.map.Group} group\n */\nH.map.Group.forEach_resetZInfo_ = function(object, idx, group) {\n  'use strict';\n  object.resetZInfo();\n};\n\n\n//################################################  INVALIDATION  ######################################################\n/**\n * The invalidation flags to set for all children, needed in Group#forEach_invalidate_()\n * @private\n * @type {number}\n */\nH.map.Group.prototype.flags_;\n\n\n/**\n * @override\n * @export\n */\nH.map.Group.prototype.invalidate = function(flags) {\n  'use strict';\n  var retVal = H.map.Group.superClass_.invalidate.call(this, flags);\n  if (retVal) {\n    this.flags_ = flags;\n    this.forEach(H.map.Group.forEach_invalidate_, true);\n    delete this.flags_;\n  }\n  return retVal;\n};\n\n\n/**\n * A forEach callback to invalidate recursivly\n * @private\n * @this {?H.map.provider.ObjectProvider}\n * @param {!H.map.Object} object\n * @param {number} idx\n * @param {!H.map.Group} group\n */\nH.map.Group.forEach_invalidate_ = function(object, idx, group) {\n  'use strict';\n  object.invalidate(group.flags_);\n};\n\n\n//#################################################  TRAVERSING  #######################################################\n/**\n * To invokes a provided callback once per object in add order.\n * The function is invoked with the following arguments:<ul>\n *    <li>the currently traversed object</li>\n *    <li>the index of the object</li>\n *    <li>the group itself</li>\n *    </ul>\n * @publish\n *\n * @export\n * @param {function(!H.map.Object, number, !H.map.Group)} callback\n * @param {boolean=} opt_recursive Indicates whether sub groups should be traversed recursively\n * @param {*=} opt_context The context to use as \"this\" within the callback\n */\nH.map.Group.prototype.forEach = function(callback, opt_recursive, opt_context) {\n  var headAndTail = this.headAndTail,\n      sibling = headAndTail.nextSibling,\n      idx = 0,\n      nextSibling;\n  while (sibling !== headAndTail) {\n    // We save the nextSibling reference before we invoke the callback, because it could be deleted afterwards:\n    nextSibling = sibling.nextSibling;\n    callback.call(opt_context, sibling, idx++, this);\n    if (opt_recursive && H.lang.isInstanceOf(sibling, H.map.Group)) {\n      sibling.forEach(callback, opt_recursive, opt_context);\n    }\n    sibling = nextSibling;\n  }\n};\n\n\n//##################################################  OBJECTS  ########################################################\n/**\n * To get a list of all objects of this group.\n * On groups with many chilren this method can cause a higher memory and CPU consumption.\n * Alternatively you case use {@link H.map.Group.prototype.forEach}\n *\n * @param {boolean=} opt_recursive Indicates whether objects in sub-groups are also collected .\n * @return {!Array.<!H.map.Object>}\n * @export\n * @publish\n */\nH.map.Group.prototype.getObjects = function(opt_recursive) {\n  'use strict';\n  var objects = [];\n  this.forEach(H.map.Group.forEach_collectObjects_, opt_recursive, objects);\n  return objects;\n};\n\n\n/**\n * Method returns the bounding rectangle for the group. The rectangle\n * is the smallest rectangle that covers all objects. If group doesn't contains\n * objects method returns {@code null}.\n * @export\n * @publish\n * @return {H.geo.Rect} geo ractangle that covers all objects in the group\n */\nH.map.Group.prototype.getBounds = function() {\n  'use strict';\n  var rect = null;\n  this.forEach(function(object) {\n    var subRect;\n    if (rect) {\n      if (object.getBounds) {\n        subRect = object.getBounds();\n        if (subRect) {\n          rect = rect.mergeRect(subRect);\n        }\n      } else {\n        rect = rect.mergePoint(object.getPosition());\n      }\n    } else {\n      rect = object.getBounds ? object.getBounds() :\n          H.geo.Rect.coverPoints([object.getPosition()]);\n    }\n  });\n  return rect;\n};\n\n\n/**\n * A forEach callback to collect objects.\n * @private\n * @this {!Array}\n * @param {!H.map.Object} object\n * @param {number} idx\n * @param {!H.map.Group} group\n */\nH.map.Group.forEach_collectObjects_ = function(object, idx, group) {\n  'use strict';\n  this.push(object);\n};\n\n\n/**\n * The number of child objects in this group, will be adjusted in addObject() and removeObject()\n * @private\n * @type {number}\n */\nH.map.Group.prototype.childCount_ = 0;\n\n\n/**\n * Returns the number of child objects of this group.\n * @export\n * @return {number}\n */\nH.map.Group.prototype.getChildCount = function() {\n  'use strict';\n  return this.childCount_;\n};\n\n\n//##################################################  LINKED LIST  #####################################################\n/**\n * A sibling which keeps references to its previous and next sibling\n * Must NOT be published, it's used API interally only by Group!\n *\n * @typedef {{\n *   previousSibling: (!(H.map.Object|H.map.Group.Sibling)),\n *   nextSibling: (!(H.map.Object|H.map.Group.Sibling))\n * }}\n * @property {!(H.map.Object|H.map.Group.Sibling)} previousSibling\n * @property {!(H.map.Object|H.map.Group.Sibling)} nextSibling\n */\nH.map.Group.Sibling;\n\n\n/**\n * A pseudo sibling which references the first (nextSibling) and the last (previousSibling) object in this group.\n * If the group is empty, booth properties references the pseudo sibling itself.\n * Must NOT be published, it's used API interally only by Group!\n *\n * @protected\n * @type {!H.map.Group.Sibling}\n */\nH.map.Group.prototype.headAndTail;\n\n\n/**\n * To interlink two siblings\n * The caller has to assure for each of the siblings that it is either a Object contained by this group or the\n * headAndTail of this group or {@code null}.\n * @private\n * @param {!(H.map.Object|H.map.Group.Sibling)} previousSibling\n * @param {!(H.map.Object|H.map.Group.Sibling)} nextSibling\n */\nH.map.Group.prototype.linkSiblings_ = function(previousSibling, nextSibling) {\n  'use strict';\n  previousSibling.nextSibling = nextSibling;\n  nextSibling.previousSibling = previousSibling;\n};\n\n\n//####################################################  ADD OBJECT  ####################################################\n/**\n * The sibling index to use for the next new appended object\n * @private\n * @type {number}\n */\nH.map.Group.prototype.nextSiblingIndex_ = H.math.MIN_IDX;\n\n\n/**\n * To append an object to this group.\n *\n\n * @throws {H.lang.InvalidArgumentError} if the argument is not an instance of {@link H.map.Object}\n * @throws {H.lang.IllegalOperationError} if the object's provider or this group's provider are different and\n *      neither {@code null} nor an instance of {@link H.map.provider.LocalObjectProvider}\n * @param {!H.map.Object} object\n * @return {!H.map.Object} a reference to the appended object\n * @export\n * @publish\n */\nH.map.Group.prototype.addObject = function(object) {\n  'use strict';\n  var headAndTail = this.headAndTail,\n      lastObject = headAndTail.previousSibling,\n      parentGroup,\n      isProviderChange;\n\n  // Check for map.Object:\n  H.lang.isInstanceOf(object, H.map.Object, this.addObject, 0);\n\n  // Check for HierarchyRequestError:\n  if (object.contains(this)) {\n    throw new H.lang.IllegalOperationError(this.addObject, 'The new object contains the parent group');\n  }\n\n  isProviderChange = object.setProvider(this.provider, this.addObject);\n\n  // If the object is not already contained by this group:\n  if ((parentGroup = object.parentGroup) !== this) {\n\n    // If the object is contained by another group we have to remove it from these group first:\n    if (parentGroup) {\n      this.linkSiblings_(\n          /** @type {!(H.map.Object|H.map.Group.Sibling)} */ (object.previousSibling),\n          /** @type {!(H.map.Object|H.map.Group.Sibling)} */ (object.nextSibling));\n    }\n\n    // Adjust the parentGroup if necessary:\n    object.setParentGroup(this);\n\n    // Link the object into this group's linked list:\n    this.linkSiblings_(lastObject, object);\n    this.linkSiblings_(object, headAndTail);\n    this.childCount_++;\n  }\n\n  // Update the sibling index:\n  object.siblingIndex = this.nextSiblingIndex_++;\n\n  // Reset the object's zInfo (recursively, if object is a group):\n  object.resetZInfo();\n\n  // If the provider hasn't been changed (no REMOVE / ADD invalidation triggered) we have to trigger a Z_ORDER\n  if (!isProviderChange) {\n    object.invalidate(H.map.provider.Invalidations.Flag.Z_ORDER);\n  }\n  return object;\n};\n\n\n/**\n * Appends a list of objects to this group\n *\n * @throws {H.lang.InvalidArgumentError} if the argument is not an Array of {@link H.map.Object} instances\n * @throws {H.lang.IllegalOperationError} if one of the object's provider and the group's provider are different\n *      and neither {@code null} nor an instance of {@link H.map.provider.LocalObjectProvider}\n * @param {Array.<!H.map.Object>} objects\n * @export\n * @publish\n */\nH.map.Group.prototype.addObjects = function(objects) {\n  'use strict';\n  var length,\n      i;\n  H.lang.isArray(objects, this.addObjects, 0);\n\n  // CC doesn't like the next line, it says forEach needs a function(*, number, Array) as callback  :-/\n  // objects.forEach(this.addObject, this);\n  // Therefore the \"classical\" for loop to add all objects:\n  length = objects.length;\n  for (i = 0; i < length; i++) {\n    this.addObject(objects[i]);\n  }\n};\n\n\n//###############################################  REMOVE OBJECT  ###################################################\n/**\n * Removes an object from this group.\n * @throws {H.lang.InvalidArgumentError} if the given object is not a object of this group\n * @param {!H.map.Object} object The object to remove\n * @return {!H.map.Object} a reference to the removed object\n * @export\n * @publish\n */\nH.map.Group.prototype.removeObject = function(object) {\n  'use strict';\n  if (!object || object.parentGroup !== this) {\n    throw new H.lang.IllegalOperationError(this.removeObject, 'object not found');\n  }\n\n  // Remove the object from the linked list and clean it up:\n  this.linkSiblings_(\n      /** @type {!(H.map.Object|H.map.Group.Sibling)} */ (object.previousSibling),\n      /** @type {!(H.map.Object|H.map.Group.Sibling)} */ (object.nextSibling));\n  object.setParentGroup(null);\n  delete object.previousSibling;\n  delete object.nextSibling;\n\n  // Only if the object is owned by a LocalObjectProvider we reset the provider to null:\n  if (H.lang.isInstanceOf(object.provider, H.map.provider.LocalObjectProvider)) {\n    object.setProvider(null, this.removeObject);\n  }\n\n  this.childCount_--;\n\n  return object;\n};\n\n\n/**\n * Removes objects from this group.\n *\n * @throws {H.lang.InvalidArgumentError} if the list is not an Array or it contains others than a group's object\n * @param {!Array.<!H.map.Object>} objects The list of objects to remove\n * @export\n * @publish\n */\nH.map.Group.prototype.removeObjects = function(objects) {\n  'use strict';\n  var length,\n      i;\n  H.lang.isArray(objects, this.removeObjects, 0);\n\n  /* CC doesn't like the next line, it says forEach needs a function(*, number, Array) as callback\n  objects.forEach(this.removeObject, this);\n  */\n  length = objects.length;\n  for (i = 0; i < length; i++) this.removeObject(objects[i]);\n};\n\n\n/**\n * Method removes all objects from the group.\n * @publish\n * @export\n */\nH.map.Group.prototype.removeAll = function() {\n  'use strict';\n  var objects = this.getObjects();\n\n  this.removeObjects(objects);\n};\n\n\n/**\n * Options used to initialize a group\n * @publish\n * @property {number=} min\n *           The minimum zoom level for which the object is visible, default is {@code -Infinity}\n * @property {number=} max\n *           The maximum zoom level for which the object is visible, default is {@code Infinity}\n * @property {boolean=} visibility\n *           Indicates whether the map object is visible, default is {@code true}\n * @property {number=} zIndex\n *           The z-index value of the map object, default is {@code 0}\n * @property {(H.map.provider.Provider|null)=} provider\n *           The provider of this object. This property is only needed if a customized Implementation of ObjectProvider\n *           wants to instantiate an object.\n * @property {*} data\n *           Optional arbitrary data to be stored with this map object. This data can be retrieved by calling\n *           {@code getData}.\n * @property {Array.<H.map.Object>=} objects\n *           A list of map objects to add initially to this group.\n *\n * @typedef {{\n *   min: (number|undefined),\n *   max: (number|undefined),\n *   visibility: (boolean|undefined),\n *   zIndex: (number|undefined),\n *   provider: (H.map.provider.ObjectProvider|null|undefined),\n *   data: *,\n *   objects: ((Array.<H.map.Object>|undefined))\n * }}\n */\nH.map.Group.Options;\n",
		"goog.provide('H.math.simplifyDP');\n\ngoog.require('H.math');\n\n\n/**\n * A Douglas-Peucker simplification algorithm for 2D points\n * @param {Array.<H.math.Point>} points The list of points to simplify\n * @param {number} epsilon The tolerance values\n * @param {number=} opt_minIterations The minimum number of iterations for the simplification\n * @param {number=} opt_begin The start index in the points list to start from\n * @param {number=} opt_end The end index in the points list to end at\n * @return {Array.<H.math.Point>} The simplified points\n */\nH.math.simplifyDP = function(points, epsilon, opt_minIterations, opt_begin, opt_end) {\n  'use strict';\n  if (opt_begin === undefined) {\n    opt_begin = 0;\n    opt_end = points.length - 1;\n  }\n\n  var result,\n      distSq,\n      epsSq = epsilon * epsilon,\n      maxDistSq = 0,\n      idx = opt_begin,\n      x1 = points[opt_begin]['x'],\n      y1 = points[opt_begin]['y'],\n      x2 = points[opt_end]['x'],\n      y2 = points[opt_end]['y'],\n      i = opt_begin + 1,\n      p,\n      x,\n      y,\n      // slope breaks when start and end point of the line are\n      // on the same x value. slope becomes Infinity and breaks\n      // the algorithm for finding the maxDist\n      slope = (x1 !== x2) ? (y2 - y1) / (x2 - x1) : null;\n\n  // Find the point with the maximum distance\n  while (i < opt_end) {\n    p = points[i++];\n    x = p['x'];\n    y = p['y'];\n    if (maxDistSq < (distSq = H.math.min(\n        // Distance to the linear equation:\n        slope !== null ?\n            H.math.pow(H.math.abs(y - slope * x - (y1 - slope * x1)), 2) / (H.math.pow(slope, 2) + 1) :\n            H.math.abs(x - x1),\n        // Distance to p1:\n        H.math.pow(x - x1, 2) + H.math.pow(y - y1, 2),\n        // Distance to p2:\n        H.math.pow(x - x2, 2) + H.math.pow(y - y2, 2)\n        ))) {\n      maxDistSq = distSq;\n      idx = i - 1;\n    }\n  }\n  // If max distance is greater than epsilon or forced levels, recursively simplify:\n  if (maxDistSq >= epsSq || opt_minIterations > 0) {\n    result = H.math.simplifyDP(points, epsilon, opt_minIterations = (opt_minIterations || 0) - 1, opt_begin, idx);\n    // Remove the end point to prevent doubling:\n    result.splice(result.length - 1, 1);\n    result = result.concat(H.math.simplifyDP(points, epsilon, opt_minIterations, idx, opt_end));\n  } else {\n    result = [points[opt_begin], points[opt_end]];\n  }\n  return result;\n};\n",
		"goog.provide('H.map.provider.Tile');\n\n\n\n/**\n * Generic Tile object which represents a part of the world\n * fiting into the Tile area represented by the Tiel coordinates (x - row, y - column)\n * and the zoom level (z). Number of tiles at particular zoom level (which means\n * number of areas into world is being splitted) is defined\n * as following: numberOfRows = numberOfColumns = 2^zoomlevel\n * @publish\n * @export\n * @constructor\n * @param {number} x x tile coordinate (row)\n * @param {number} y y tile coordinate (column)\n * @param {number} z tile zoom level\n * @param {*} data generic data object which cooresponds to the given coordinates\n */\nH.map.provider.Tile = function(x, y, z, data) {\n  'use strict';\n\n  /**\n   * Unique tile key generated by provider\n   * @type {string}\n   * @name H.map.provider.Tile#key\n   * @publish\n   */\n  this['key'] = '';\n\n  /**\n   * Tile column\n   * @type {number}\n   * @name H.map.provider.Tile#x\n   * @publish\n   */\n  this['x'] = x;\n\n  /**\n   * Tile row\n   * @type {number}\n   * @name H.map.provider.Tile#y\n   * @publish\n   */\n  this['y'] = y;\n\n  /**\n   * Tile zoom level\n   * @type {number}\n   * @name H.map.provider.Tile#z\n   * @publish\n   */\n  this['z'] = z;\n\n  /**\n   * Tile data (an image for example)\n   * @type {*}\n   * @name H.map.provider.Tile#data\n   * @publish\n   */\n  this['data'] = data;\n\n  /**\n   * This property holds a boolean flag indicating whether this tile is\n   * still valid (true) or whether it should be re-fetched (false)\n   * @type {boolean}\n   * @name H.map.provider.Tile#valid\n   * @publish\n   */\n  this['valid'] = true;\n};\n\n",
		"goog.provide('H.map.provider.SpatialTile');\n\ngoog.require('H.geo.Rect');\ngoog.require('H.map.Object');\ngoog.require('H.map.Spatial');\ngoog.require('H.map.provider.Tile');\ngoog.require('H.math');\ngoog.require('H.math.Point');\ngoog.require('H.math.clipping');\ngoog.require('H.math.simplifyDP');\n\n\n\n//###################################################  CONSTRUCTOR  ####################################################\n/**\n * SpatialTile represents part of the spatial data (i.e polyline, polygon)\n * clipped to area which fits into a single map tile. The data is clipped\n * according to tile's current x,y position and zoom level (z).\n * @export\n * @extends {H.map.provider.Tile}\n * @final\n * @constructor\n * @param {string} key the tile key\n * @param {number} x the column number of this tile\n * @param {number} y the row number of this tile\n * @param {number} z the zoom level of this tile\n * @param {number} tileSize the size of this spatial tile\n * @param {number} pixelRatio The pixelRatio to use for over-sampling in cases of high-resolution displays\n * @param {H.map.provider.ObjectProvider} objectProvider the object provider\n *  from which this tile will take it's information\n */\nH.map.provider.SpatialTile = function(key, x, y, z, tileSize, pixelRatio, objectProvider) {\n  'use strict';\n\n  H.map.provider.SpatialTile.superClass_.constructor.call(this, x, y, z, null);\n\n  this['key'] = key;\n\n  this.objectProvider_ = objectProvider;\n  this.tileSize_ = tileSize;\n  if (pixelRatio !== 1) {\n    this.pixelRatio_ = pixelRatio;\n  }\n\n  //to store the map objects that touch the tile\n  this.objects_ = null;\n  //to store the projected clipped data for fast repainting and hit detection\n  this.renderData_ = {};\n};\nH.lang.inherits(H.map.provider.SpatialTile, H.map.provider.Tile);\n\n\n//###############################################  CLIPPING BOUNDARIES  ################################################\n\n// TODO We shouldn't store on every tile of the same provider an equal math.Rect instances for pxClipRect_ .\n//      Instead the provider should get a getTilePxClipRect() method so that we can delegate the getPxClipRect() calls!\n\n\n/**\n * The projected rectangle on pixel base which represents the area to clip objects\n * @private\n * @type {H.math.Rect}\n */\nH.map.provider.SpatialTile.prototype.pxClipRect_;\n\n\n/**\n * Returns a projected rectangle on pixel base which represents the area to clip objects.\n * The origin (0, 0) is at the top-left corner of the tile\n * @export\n * @return {H.math.Rect}\n */\nH.map.provider.SpatialTile.prototype.getPxClipRect = function() {\n  'use strict';\n  var pxClipRect = this.pxClipRect_,\n      negMargin,\n      rightBottom;\n  if (!pxClipRect) {\n    negMargin = this['z'] > 0 ? -H.map.Spatial.prototype.PX_CLIP_MARGIN : 0;\n    rightBottom = this.tileSize_ - negMargin;\n    pxClipRect =\n        this.pxClipRect_ =\n        new H.math.Rect(negMargin, negMargin, rightBottom, rightBottom);\n  }\n  return pxClipRect;\n};\n\n\n/**\n * The geographical rectangle which represents the area to query intersecting objects\n * @private\n * @type {H.geo.Rect}\n */\nH.map.provider.SpatialTile.prototype.geoClipRect_;\n\n\n/**\n * Returns the geographical rectangle which represents the area to query intersecting objects\n * @export\n * @return {H.geo.Rect}\n */\nH.map.provider.SpatialTile.prototype.getGeoClipRect = function() {\n  'use strict';\n  var geoClipRect = this.geoClipRect_,\n      pxProj,\n      pxClipRect;\n  if (!geoClipRect) {\n    pxProj = this.getPxProj();\n    pxClipRect = this.getPxClipRect();\n    geoClipRect =\n        this.geoClipRect_ =\n        H.geo.Rect.fromPoints(\n        pxProj.pixelToGeo(new H.math.Point(pxClipRect['left'], pxClipRect['top'])),\n        pxProj.pixelToGeo(new H.math.Point(pxClipRect['right'], pxClipRect['bottom'])));\n  }\n  return geoClipRect;\n};\n\n\n//################################################  PIXEL PROJECTION  ##################################################\n/**\n * The pixel projection for this tile. Origin (0, 0) is at the top-left corner of the tile\n * @private\n * @type {H.geo.PixelProjection}\n */\nH.map.provider.SpatialTile.prototype.pxProj_;\n\n\n/**\n * Returns the pixel projection for this tile. The x and y coordinates defines the top-left corner of the tile\n * @export\n * @return {H.geo.PixelProjection}\n */\nH.map.provider.SpatialTile.prototype.getPxProj = function() {\n  'use strict';\n  var pxProj = this.pxProj_,\n      tileSize;\n  if (!pxProj) {\n    tileSize = this.tileSize_;\n    pxProj =\n        this.pxProj_ =\n        new H.geo.PixelProjection(H.lang.UNDEF, tileSize);\n    pxProj.rescale(this['z']);\n    pxProj.x = this['x'] * tileSize;\n    pxProj.y = this['y'] * tileSize;\n  }\n  return pxProj;\n};\n\n\n//###############################################  PIXEL RATIO  ########################################################\n/**\n * The pixel ratio of this tile\n * @private\n * @type {number}\n */\nH.map.provider.SpatialTile.prototype.pixelRatio_ = 1;\n\n\n/**\n * Returns the pixel ratio of this tile\n * @export\n * @return {number}\n */\nH.map.provider.SpatialTile.prototype.getPixelRatio = function() {\n  return this.pixelRatio_;\n};\n\n\n//######################################################################################################################\n/**\n * A stateless comparator function to use for z-order sorting of spatial objects - see Array.prototype.sort().\n * @private\n * @param {H.map.Spatial} first\n * @param {H.map.Spatial} second\n * @return {number}\n */\nH.map.provider.SpatialTile.zOrderComparator_ = function(first, second) {\n  return H.map.Object.compareZInfo(first.getZInfo(), second.getZInfo(), false);\n};\n\n\n/**\n * This method returns the objects that may draw on this tile in correct z-order\n * @return {Array.<H.map.Spatial>} the spatial objects\n * @private\n */\nH.map.provider.SpatialTile.prototype.requestObjects_ = function() {\n  'use strict';\n  if (!this.objects_) {\n    this.objects_ = this.objectProvider_['requestSpatialsByTile'](this, false, false).\n        sort(H.map.provider.SpatialTile.zOrderComparator_);\n  } else {\n    if (this.getProviderInvalidations_().isZOrder(this.renderedAt_)) {\n      // so we already have the valid object list BUT the order inside has changed\n      // then we can safely sort the objects\n      this.objects_.sort(H.map.provider.SpatialTile.zOrderComparator_);\n    }\n  }\n  return this.objects_;\n};\n\n\n//#############################################  TILE INVALIDATION  ####################################################\n/**\n * Returns the invalidations for all spatial objects of the provider\n * @private\n * @return {H.map.provider.Invalidations}\n */\nH.map.provider.SpatialTile.prototype.getProviderInvalidations_ = function() {\n  return this.objectProvider_['getInvalidations'](H.map.Object.Type['SPATIAL']);\n};\n\n\n/**\n * This method checks invalidations on the object provider and invalidates\n * this tile's information. In certain circumstances we can keep information\n * on the tile that is expensive to retrieve. If only style information on the\n * objects changes we can keep the spatially projected and clipped data for\n * faster redrawing of the tile.\n * @private\n */\nH.map.provider.SpatialTile.prototype.checkInvalidations_ = function() {\n  'use strict';\n\n  // FIXME: Sometimes objects on the tile are null\n  if (goog.DEBUG) {\n    if (this.objects_ === null) {\n      H.global.console.error('FIXME: checkInvalidations_ this.objects_ is NULL!');\n    }\n  }\n\n  var renderedAt = this.renderedAt_ || H.map.provider.Invalidations.MARK_INITIAL,\n      invalidations = this.getProviderInvalidations_(),\n      objects = this.objects_ || this.requestObjects_(),\n      queriedObjects,\n      j,\n      object,\n      i = objects.length;\n\n  // Let's assume canvas and data are still valid:\n  this.isCanvasValid_ = true;\n  this.isDataValid_ = true;\n\n  // Is there any kind of invalidation since last rendering??\n  if (invalidations.isAny(renderedAt)) {\n    // Do we have ADD or REMOVE invalidations?\n    if (invalidations.isAdd(renderedAt) || invalidations.isRemove(renderedAt)) {\n      // If any objects have been added or removed we invalidate the canvas and the data (just to be save):\n      // TODO check precisely what's invalid and what's not:\n      this.isCanvasValid_ = this.isDataValid_ = false;\n    } else {\n      // Is there a \"spatial\" invalidation?\n      if (invalidations.isSpatial(renderedAt) || invalidations.isVisual(renderedAt)) {\n        if (invalidations.isSpatial(renderedAt)) {\n          // If we have spatial invalidations, we have to query again all potentially objects for the tile:\n          queriedObjects = this.objectProvider_['requestSpatialsByTile'](this, false, false);\n          j = queriedObjects.length;\n          if (j !== i) {\n            // Fail fast: If the current object list has a different length than the queried list -> data is invalid\n            // TODO Don't invalidate all data if just some are invalid\n            this.isDataValid_ = false;\n          } else {\n            // Otherwise, we check all queried objects:\n            while (j-- && this.isDataValid_) {\n              object = queriedObjects[j];\n              // If the object is already in the render data and it has spatial invalidation -> data is invalid\n              if (this.renderData_[object.getId()]) {\n                if (object.getInvalidations().isSpatial(renderedAt)) {\n                  this.isDataValid_ = false;\n                }\n              } else {\n                // If the object is not already in the render data it is new to the tile and we also need to re-render\n                this.isDataValid_ = false;\n              }\n            }\n          }\n          // If the data is invalid, then the canvas is also invalid\n          this.isCanvasValid_ &= this.isDataValid_;\n        }\n        // Is there a \"visual\" invalidation?\n        if (invalidations.isVisual(renderedAt)) {\n          // If we only visual invalidations then we check if any of our own objects have such invalidations\n          // OH-OH! this could cause performance problems for many objects!\n          while (i-- && this.isCanvasValid_) {\n            invalidations = objects[i].getInvalidations();\n            // Any invalidations on the object?\n            if (invalidations.isAny(renderedAt) && invalidations.isVisual(renderedAt)) {\n              // Visual? Then canvas is invalid\n              this.isCanvasValid_ = false;\n            }\n          }\n        }\n      } else {\n        if (invalidations.isZOrder(renderedAt)) {\n          // Only z-ordering has changed but data are valid.\n          // We invalidate the canvas to force a repainting of the objects in the correct new order:\n          this.isCanvasValid_ = false;\n        }\n      }\n    }\n  }\n};\n\n\n/**\n * This method checks if this spatial tile's canvas element is still valid and returns\n * a boolean value indicating whether the canvas element can still be used\n * for tile placement or whether it needs to be redrawn.\n * @export\n * @return {boolean} true if the canvas element is still valid, otherwise false\n */\nH.map.provider.SpatialTile.prototype.isCanvasValid = function() {\n  'use strict';\n  //if the canvas claims to be valid, we do a check on the renderAt mark\n  //TODO: We should also compare with a last checked invalidation mark\n  if (this.isCanvasValid_) {\n    this.checkInvalidations_();\n  }\n  //otherwise we already know it is invalid\n  return this.isCanvasValid_;\n};\n\n\n// TODO: the sad truth behind this hack is that we ended up with subclass - SpatialTile\n// that diverged from the base class - Tile. SpatialTile doesn't care about 'valid'\n// flag introduced on the base class, but TileProvider knows nothing about canvas or data, and doesn't\n// care about these annoyances it just wants to know if tile fetched from cache is valid or not.\n// It's getting even worse - 'valid' is property, so there's no way just to overload this function\n// and be done with it. Long story short: align base and child classes, and decide how to handle\n// two level caching on TileProvider.\n/**\n * Custom getter, to shadow parent's class valid property\n */\nObject.defineProperty(H.map.provider.SpatialTile.prototype, 'valid', {\n  // Delegate this call to isCanvasValid\n  /** @this {H.map.provider.SpatialTile} */\n  get: function() {\n    return this.isCanvasValid();\n  },\n\n  // Disallow externally setting of valid/invalid\n  set: H.util.doNothing\n});\n\n\n/**\n * This method checks if this spatial tile's render data is still valid and returns a\n * boolean value indicating whether the projected, clipped and simplified spatial\n * information can still be used.\n * @return {boolean} true if the rendering data is still valid, otherwise false\n */\nH.map.provider.SpatialTile.prototype.isDataValid = function() {\n  'use strict';\n  // If the data claims to be valid, we do a check on the renderAt mark\n  // TODO: We should also compare with a last checked invalidation mark\n  if (this.isDataValid_) {\n    this.checkInvalidations_();\n  }\n  // otherwise we already know it is invalid\n  return this.isDataValid_;\n};\n\n\n/**\n * This method releases this tile's canvas element and returns it for pooling\n * @export\n * @return {HTMLCanvasElement} the canvas element\n */\nH.map.provider.SpatialTile.prototype.releaseCanvas = function() {\n  'use strict';\n  var canvas = this['data'];\n  this['data'] = null;\n  return canvas;\n};\n\n\n/**\n * Releases this tile's rendering data.\n * @export\n * @return {Object}\n */\nH.map.provider.SpatialTile.prototype.releaseData = function() {\n  'use strict';\n  this.renderData_ = {};\n  this.objects_ = null;\n  return this.renderData_;\n};\n\n\n//##############################################  OBJECT PICKING  ######################################################\n/**\n * Returns the spatial objects considered by this tile. The array is sorted according to their drawing\n * order, the topmost object has an index #0 in returned array.\n * This function is a temporarly solution to be able to iterate over the objects of a tile,\n * needed for remote objects like metaInfo and venue to retain and release objects!\n * @export\n * @return {Array.<H.map.Spatial>}\n */\nH.map.provider.SpatialTile.prototype.getObjects = function() {\n  'use strict';\n  return this.objects_;\n};\n\n\n/**\n * Returns visible objects under the given tile x/y coordinates. Array is sorted according to their drawing\n * order, topmost object has an index #0 in returned array.\n * @param {number} x x pixel coordinate on the tile\n * @param {number} y y pixel coordinate on the tile\n * @param {boolean=} opt_topMostOnly optional flag, if set method returns array with single element that is located\n * on top\n * @return {Array.<H.map.Spatial>} array of map objects\n */\nH.map.provider.SpatialTile.prototype.getObjectsAt = function(x, y, opt_topMostOnly) {\n  'use strict';\n\n  // FIXME: sometimes objects on the tile are null\n  // sometimes this happens when is called by events\n  // on every mouse move we pick objects from the map to dispatch events on them\n  if (this.objects_ === null) {\n    if (goog.DEBUG) {\n      H.global.console.error('FIXME: getObjectsAt this.objects_ is NULL!');\n    }\n    return /** @type {Array.<H.map.Spatial>} */ (H.util.emptyArray);\n  }\n\n  var objects = this.objects_,\n      i = objects.length,  //@FIXME: check above sometimes this is null!\n      j,\n      id,\n      object,\n      style,\n      lineWidth,\n      renderData = this.renderData_,\n      clippedData,\n      coverageType,\n      isObjectClosed,\n      isGeometryClosed,\n      isFilled,\n      xyCoords = [],\n      result = [],\n      hybridIdx,\n      CoverType = H.math.CoverType,\n      k,\n      length;\n\n  while (i--) {\n    object = objects[i];\n    hybridIdx = object['getHybridIdx'](this);\n    if (object.getVisibility(true)) {\n      style = object.style || object.getStyle();\n      lineWidth = style['strokeColor'] !== 'none' ? style['lineWidth'] : 0;\n      isObjectClosed = object.isClosed(),\n      isFilled = isObjectClosed && style['fillColor'] !== 'none';\n      id = object.getId();\n      clippedData = renderData[id][1];\n\n      if (clippedData === object.FULLY_COVERED) {\n        if (isFilled) {\n          result.push(object);\n        }\n      } else {\n        if (clippedData !== object.NOT_COVERED) {\n          j = clippedData.length;\n          while (j--) {\n            // TODO: here we flatten array of math.Points. we must either change isCoveredBy to work with\n            // array of points or change clipping to work with flat array\n            xyCoords.length = 0;\n            length = clippedData[j].length;\n            for (k = 0; k < length; k++) {\n              xyCoords.push(clippedData[j][k]['x'], clippedData[j][k]['y']);\n            }\n\n            // Don't check hitting on tessellated polygons if not isFilled\n            if (j >= hybridIdx || isFilled) {\n              // For tessellated spatials polygons are closed and polylines are not,\n              // otherwise the same as for Spatial itself\n              isGeometryClosed = (hybridIdx !== -1) ? (j < hybridIdx) : isObjectClosed;\n              coverageType = H.math.isCoveredBy(x, y, xyCoords, lineWidth, isGeometryClosed);\n\n              // Do we have a VERTEX or EDGE hit or do we have a SURFACE hit and the object is filled?\n              if ((coverageType !== CoverType.NONE) && (coverageType !== CoverType.SURFACE || isFilled)) {\n                result.push(object);\n                break;\n              }\n            }\n          }\n        }\n      }\n      if (opt_topMostOnly && result.length) {\n        break;\n      }\n    }\n  }\n\n  return result;\n};\n\n\n//#################################################  RENDERING  ########################################################\n/**\n * This method renders the object data on to this tile and returns a boolean value whether\n * anything was rendered on the provided canvas.\n * @export\n * @param {HTMLCanvasElement} canvas the canvas on which this tile will paint\n * @return {boolean} true if the any object was rendered, false otherwise\n */\nH.map.provider.SpatialTile.prototype.render = function(canvas) {\n  'use strict';\n  var ctx = /** @type {CanvasRenderingContext2D} */ (canvas.getContext('2d')),\n      objects = this.requestObjects_(),\n      length = objects.length,\n      i,\n      object,\n      style;\n\n  canvas.width = canvas.height = this.tileSize_;\n  ctx.clearRect(0, 0, this.tileSize_, this.tileSize_);\n\n  if (length) {\n    for (i = 0; i < length; i++) {\n      object = objects[i];\n      style = object.style || object.getStyle();\n      (object.isClosed() ? this.renderPolygon_ : this.renderPolyline_).call(this, object, ctx, style);\n    }\n    this['data'] = canvas;\n\n    //########################################### Code for Visual Debugging ############################################\n    if (goog.DEBUG) {\n      var pixelRatio = this.pixelRatio_;\n      ctx.save();\n      ctx.fillStyle = 'rgba(0, 0, 0, 127)';\n      ctx.font = (pixelRatio * 11) + 'px sans-serif';\n      ctx.fillText(this['z'] + '/' + this['x'] + '/' + this['y'], pixelRatio * 11, pixelRatio * 11);\n      ctx.strokeStyle = 'rgba(0, 0, 0, 127)';\n      ctx.lineWidth = 1;\n      ctx.strokeRect(0, 0, 2 * this.tileSize_, 2 * this.tileSize_);\n      ctx.strokeRect((this.tileSize_ / 2) - 1, (this.tileSize_ / 2) - 1, 2, 2);\n      ctx.restore();\n      // Force to return true:\n      length = 1;\n    }\n    //##################################################################################################################\n\n  }\n  this.isCanvasValid_ = this.isDataValid_ = true;\n  this.renderedAt_ = this.getProviderInvalidations_().getMark();\n  return length > 0;\n};\n\n\n//#############################################  POLYLINE RENDERING  ###################################################\n/**\n * This method renders a not closed spatial object (polyline).\n * @private\n * @param {H.map.Spatial} object the polyline\n * @param {CanvasRenderingContext2D} ctx the target context\n * @param {H.map.SpatialStyle} style The style to apply\n */\nH.map.provider.SpatialTile.prototype.renderPolyline_ = function(object, ctx, style) {\n  'use strict';\n\n  var renderData = this.renderData_,\n      renderDataEntry = renderData && renderData[object.getId()],\n      data = renderDataEntry && renderDataEntry[1],\n      arrows;\n\n  // If we do not have any renderable data yet, so we have to create it:\n  if (!data) {\n    data = object['getGeometry'](this);\n\n    // TODO: We should simplify the WHOLE geometry only ONCE instead of simplify parts again and again!\n    // Simplify the geometry with Douglas-Peucker algorithm:\n    data = H.map.provider.SpatialTile.simplify_(data);\n  }\n\n  // We store the data ALLWAYS, even if the object will not be rendered for now:\n  this.renderData_[object.getId()] = [object, data];\n\n  // But we render ONLY if the polyline is visible and has a style which is effectively stroking:\n  if (object.getVisibility(true)) {\n    // ... and is effectively stroked:\n    if (H.map.provider.SpatialTile.setStrokeStyle_(ctx, style, this.pixelRatio_)) {\n      H.map.provider.SpatialTile.drawPaths_(data, ctx, false, true, false);\n    }\n    // Additionally we render the arrows if the strokeColor of the polyline is not \"none\" and arrows are defined ...\n    if (style['fillColor'] !== 'none') {\n      if (arrows = object.arrows) {\n        // ... and the arrows are effectively filled (type cast to deactivate CC type check):\n        if (H.map.provider.SpatialTile.setFillStyle_(ctx, /** @type {?} */(arrows))) {\n          this.renderArrows_(ctx, data, arrows, style['lineWidth']);\n        }\n      }\n    }\n  }\n};\n\n\n//#############################################  POLYGON RENDERING  ####################################################\n/**\n * This method renders a polygon onto this tile.\n * @private\n * @param {H.map.Spatial} object the polygon to render\n * @param {CanvasRenderingContext2D} ctx the canvas context on which to render\n * @param {H.map.SpatialStyle} style The style to apply\n */\nH.map.provider.SpatialTile.prototype.renderPolygon_ = function(object, ctx, style) {\n  'use strict';\n  var renderData = this.renderData_,\n      renderDataEntry = renderData && renderData[object.getId()],\n      data = renderDataEntry && renderDataEntry[1],\n      SpatialTile = H.map.provider.SpatialTile,\n      hybridIdx,\n      isFilled,\n      isStroked;\n\n  //This is the step which prepares the render data for this object\n  if (!data) {\n    data = object['getGeometry'](this);\n\n    // TODO: We should simplify the WHOLE geometry only ONCE instead of simplify parts again and again!\n    // Simplify the geometry with Douglas-Peucker algorithm:\n    data = SpatialTile.simplify_(data);\n\n  }\n\n  // We do want to keep the rendering data ALLWAYS:\n  this.renderData_[object.getId()] = [object, data];\n\n  // But we render ONLY if the polygon is visible and is effectively stroked or filled:\n  if (object.getVisibility(true)) {\n    // If fully covered and filled, we just draw a filled rectangle and ignore the stroke:\n    if (data === object.FULLY_COVERED && SpatialTile.setFillStyle_(ctx, style)) {\n      ctx.fillRect(0, 0, this.tileSize_, this.tileSize_);\n    } else {\n      if (data !== object.NOT_COVERED) {\n        isStroked = SpatialTile.setStrokeStyle_(ctx, style, this.pixelRatio_);\n        isFilled = SpatialTile.setFillStyle_(ctx, style);\n        // If we have clipped data, then we need to paint the path if it is stroked and/or filled:\n        hybridIdx = object['getHybridIdx'](this);\n\n        if (hybridIdx >= 0) {\n          // Geometries from 0 to \"hybridIdx\" should be rendered as polygons without a stroke\n          SpatialTile.drawPaths_(data, ctx, /*isClosed*/ true, false, isFilled, 0, hybridIdx);\n          // Geometries \"hybridIdx\" should be rendered as polylines without a fill\n          SpatialTile.drawPaths_(data, ctx, false, isStroked, false, hybridIdx);\n        } else {\n          SpatialTile.drawPaths_(data, ctx, true, isStroked, isFilled);\n        }\n      }\n    }\n  }\n};\n\n\n//######################################################################################################################\n/**\n * The epsilon value to use for Douglas-Peucker simplification {@see H.math.simplifyDP}\n * @private\n * @const\n * @type {number}\n */\nH.map.provider.SpatialTile.simplifyEpsilon_ = 0.6;\n// TODO Determine the best epsilon value, 0.6 is just a guess\n\n\n/**\n * Simplifies an arbitrary number of x,y strips using Douglas-Peucker line\n * simplification algorithm.\n * @private\n * @param {Array.<Array.<H.math.Point>>} data a list of alternating x,y arrays\n * @return {Array.<Array.<H.math.Point>>} the simplified list\n */\nH.map.provider.SpatialTile.simplify_ = function(data) {\n  'use strict';\n  var i = data.length;\n  while (i--) {\n    data[i] = H.math.simplifyDP(data[i], H.map.provider.SpatialTile.simplifyEpsilon_, 2);\n  }\n  return data;\n};\n\n\n/**\n * This method applies the stroking related properties of a spatial style to the a canvas context\n * @private\n * @param {CanvasRenderingContext2D} ctx The rendering context\n * @param {H.map.SpatialStyle} style The style to apply\n * @param {number} pixelRatio\n * @return {boolean} whether the style is effectively stroking and was applied to the given context\n */\nH.map.provider.SpatialTile.setStrokeStyle_ = function(ctx, style, pixelRatio) {\n  'use strict';\n  var isStroking = style.isStroking,\n      lineDash;\n\n  if (isStroking) {\n    ctx.strokeStyle = style['strokeColor'];\n    ctx.lineWidth = style['lineWidth'] * pixelRatio;\n    ctx.lineCap = style['lineCap'];\n    ctx.lineJoin = style['lineJoin'];\n    ctx.miterLimit = style['miterLimit'];\n    // IE supports dashed line only since IE11:\n    // Bracket notation used because the Closure Compiler doesn't know this method and property and would obfusecate it:\n    if (ctx['setLineDash'] && (lineDash = style['lineDash']) !== H.util.emptyArray) {\n      ctx['setLineDash'](style['lineDash']);\n      ctx['lineDashOffset'] = style['lineDashOffset'];\n    }\n  }\n  return isStroking;\n};\n\n\n/**\n * This method applies the filling related properties of a spatial style to the a canvas context\n * @private\n * @param {CanvasRenderingContext2D} ctx The rendering context\n * @param {H.map.SpatialStyle} style The style to apply\n * @return {boolean} whether the style is effectively filling and was applied to the given context\n */\nH.map.provider.SpatialTile.setFillStyle_ = function(ctx, style) {\n  'use strict';\n  var isFilling = style.isFilling;\n  if (isFilling) {\n    ctx.fillStyle = style['fillColor'];\n  }\n  return isFilling;\n};\n\n\n/**\n * This method draws a list of x,y array as paths on a rendering context.\n * Using opt_start and opt_end you can filter out which geometries you want to skip\n * @param {Array.<Array.<number>>} data the x,y arrays to render\n * @param {CanvasRenderingContext2D} ctx The rendering context\n * @param {boolean} isClosed Whether to close and fill each path\n * @param {boolean} isStroked Whether to stroke each path\n * @param {boolean} isFilled Whether to fill each path\n * @param {number=} opt_start Inclusive first geometry index to draw\n * @param {number=} opt_end Exclusive last geometry index to draw\n * @private\n */\nH.map.provider.SpatialTile.drawPaths_ = function(data, ctx, isClosed, isStroked, isFilled, opt_start, opt_end) {\n  'use strict';\n  var strip,\n      stripLength,\n      i,\n      j;\n\n  if (isStroked || isFilled) {\n    opt_start = opt_start || 0;\n    if (opt_end === undefined) {\n      opt_end = data.length;\n    }\n    for (i = opt_start; i < opt_end; i++) {\n      strip = data[i];\n      stripLength = strip.length;\n      if (stripLength) { // TODO: Empty sub-strips shouldn't be stored at all\n        ctx.beginPath();\n        ctx.moveTo(strip[0].x, strip[0].y);\n        for (j = 1; j < stripLength; j++) {\n          ctx.lineTo(strip[j].x, strip[j].y);\n        }\n        if (isClosed) {\n          ctx.closePath();\n          if (isFilled) {\n            ctx.fill();\n          }\n        }\n        if (isStroked) {\n          ctx.stroke();\n        }\n      }\n    }\n  }\n};\n\n\n//#############################################  ARROWS RENDERING  #####################################################\n/**\n * The method will compute the length of a strip in pixel, used by renderArrows_() for each strip\n * @private\n * @param {Array.<H.math.Point>} strip The strip to compute the length for.\n * @return {number} the length of the strip in pixel.\n */\nH.map.provider.SpatialTile.getStripLength_ = function(strip) {\n  var i = strip.length,\n      length = 0;\n  while (--i) {\n    length += (strip[i]).distance(strip[i - 1]);\n  }\n  return length;\n};\n\n\n/**\n * The method will draw arrows on top of a polyline to visualize the direction (e.g. for routes).\n * It's triggered by renderPolyline_()\n * @private\n * @param {CanvasRenderingContext2D} ctx The target context\n * @param {Array.<Array.<H.math.Point>>} strips The strips used to draw arrows.\n * @param {H.map.ArrowStyle} arrows The style definition for the arrows\n * @param {number} lineWidth The line width of the polyline\n */\nH.map.provider.SpatialTile.prototype.renderArrows_ = function(ctx, strips, arrows, lineWidth) {\n  'use strict';\n  var arrowWidthHalf = lineWidth * arrows['width'] / 2,\n      arrowLengthHalf = lineWidth * arrows['length'] / 2,\n      arrowLengthQuarter = arrowLengthHalf / 2,\n      arrowFrequency = arrowLengthHalf * 2 * arrows['frequency'],\n      arrowRadius = H.math.sqrt(H.math.pow(arrowLengthHalf, 2) + H.math.pow(arrowWidthHalf, 2)),\n      reducedTileSize = this.tileSize_ - arrowRadius,\n      // A rectangle with the size of the tile, reduced by arrow radius on all sides to prevent arrows cutted\n      // on tile border\n      arrowsArea = new H.math.Rect(arrowRadius, arrowRadius, reducedTileSize, reducedTileSize),\n      i,\n      strip,\n      j,\n      stripLength,\n      arrowCount,\n      arrowOffset,\n      nextArrowAt,\n      cursor,\n      legLength,\n      pointA,\n      pointB,\n      legRatio,\n      x,\n      y,\n      PI_OVER_2 = H.math.PI / 2;\n\n  i = strips.length;\n  // Iterate over all arrow strips\n  while (i--) {\n    cursor = 0;\n    strip = strips[i];\n    // Iterate over all legs of the strip\n    if (j = strip.length) {\n      // Is the whole strip long enough to place at least 1 arrow?\n      if ((stripLength = H.map.provider.SpatialTile.getStripLength_(strip)) >= arrowFrequency) {\n        // Define the number of arrows on the strip, restricted to 1000 arrows to prevent heavy CPU load:\n        arrowCount = H.math.min(H.math.floor(stripLength / arrowFrequency), 1e3);\n        // Define the arrow frequency for this strip, slightly increased, because arrowCount is an integer:\n        arrowOffset = stripLength / (arrowCount + 1);\n        // Compute the position of the first arrow after half frequency.\n        // An ideal arrow distribution over tile borders looks like:  --->---|--->------>------>---|--->---\n        nextArrowAt = arrowOffset / 2;\n        // Iterate over all legs of the strip\n        while (--j) {\n          legLength = (pointA = strip[j]).distance(pointB = strip[j - 1]);\n          // Draw as many arrows as fit on this leg:\n          while (nextArrowAt <= cursor + legLength) {\n            // Compute the coordinate for the arrow:\n            x = pointA.x + (pointB.x - pointA.x) * (legRatio = (nextArrowAt - cursor) / legLength),\n            y = pointA.y + (pointB.y - pointA.y) * legRatio;\n            // Check if the distance between arrow center and tile border is >= arrow radius:\n            if (arrowsArea.containsXY(x, y)) {\n              // Save the IDL state, draw the arrow, restore the IDL state:\n              ctx.save();\n              ctx.translate(x, y);\n              // TODO Can we optimize this formula?\n              ctx.rotate(-H.math.atan((pointB.y - pointA.y) / (pointA.x - pointB.x)) +\n                  (pointA.x < pointB.x ? PI_OVER_2 : -PI_OVER_2));\n              ctx.beginPath();\n              ctx.moveTo(-arrowWidthHalf, -arrowLengthHalf);\n              ctx.lineTo(0, arrowLengthHalf);\n              ctx.lineTo(arrowWidthHalf, -arrowLengthHalf);\n              ctx.lineTo(0, -arrowLengthQuarter);\n              ctx.closePath();\n              ctx.fill();\n              ctx.restore();\n            }\n            // Compute the px position of the next arrow at this leg\n            nextArrowAt += arrowOffset;\n          }\n          // Set the cursor to the start point of the next leg:\n          cursor += legLength;\n        }\n      }\n    }\n  }\n};\n\n",
		"goog.provide('H.util.shims');\n\ngoog.require('H.lang');\n\n\n/**\n * Shim for requestAnimationFrame\n */\nH.util.shims.requestAnimationFrame;\n\n\n/**\n * Shim for cancelAnimationFrame\n */\nH.util.shims.cancelAnimationFrame = (function() {\n  'use strict';\n  var win = H.global,\n      hasNativeImpl,\n      nativeRequest,\n      nativeCancel,\n      ANIMATION_FRAME = 'AnimationFrame',\n      // The prefixes in ascending priority, last token is an empty string \"\" to try W3C's \"cancelAnimationFrame\" first\n      prefixes = H.lang.tokenize('o ms moz webkit '),\n      prefix,\n      i = 5,\n      doNothing = function() {};\n\n  while (i-- && !hasNativeImpl) {\n    prefix = prefixes[i];\n    hasNativeImpl = (nativeRequest = win[prefix + (prefix ? 'R' : 'r') + 'equest' + ANIMATION_FRAME]) &&\n        !H.lang.isNaN(nativeRequest.call(window, doNothing)) &&\n        (nativeCancel = win[prefix + (prefix ? 'C' : 'c') + 'ancel' + ANIMATION_FRAME]);\n  }\n\n  H.util.shims.requestAnimationFrame = hasNativeImpl ?\n      function(callback) {return nativeRequest.call(win, callback);} :\n      function(callback) {return win.setTimeout(callback, 25);};\n\n  return hasNativeImpl ?\n      function(handle) {return nativeCancel.call(win, handle);} :\n      function(handle) {return win.clearTimeout(handle);};\n})();\n\n\n/**\n * Shim for performance.now\n */\nH.util.shims.now = (function() {\n  'use strict';\n  return (H.global.performance && H.global.performance.now) ? function() {\n    return H.global.performance.now();\n  } : function() {\n    return Date.now();\n  };\n}());\n",
		"goog.provide('H.lang.OutOfRangeError');\n\ngoog.require('H.lang');\n\n\n\n/**\n * An error to throw if an value is out of range\n *\n * @example\n * H.Foo.prototype.bar = function(array, idx) {\n *   if(idx < 0) throw new H.lang.OutOfRangeError(\n *     H.Foo.prototype.bar, 2, 0, array.length - 1);\n * }\n * new H.Foo().bar([0, 1], -4); // ==> 'OutOfrange: H.Foo#bar (-4 out of [0...1])\n *\n * @publish\n * @export\n * @extends {Error}\n *\n * @constructor\n * @param {Function=} opt_caller The calling function\n * @param {number=} opt_val\n * @param {Array.<number>=} opt_range The range's values as [min, max]\n */\nH.lang.OutOfRangeError = function(opt_caller, opt_val, opt_range) {\n  'use strict';\n  var vals = [];\n  arguments.length > 1 && vals.push(opt_val);\n  arguments.length > 2 && vals.push('out of [' + opt_range[0] + '...' + opt_range[1] + ']');\n\n  this['message'] =\n      (opt_caller ? H.lang.getSymbolPath(opt_caller) : '') +\n      (vals.length ? ' (' + vals.join(' ') + ')' : '');\n};\n\n\n/** @override */\nH.lang.OutOfRangeError.prototype = Error();\n\n\n/** @override */\nH.lang.OutOfRangeError.prototype['name'] = 'OutOfRangeError';\n",
		"goog.provide('H.util.AsyncQueue');\n\ngoog.require('H.lang');\ngoog.require('H.lang.InvalidArgumentError');\ngoog.require('H.lang.OutOfRangeError');\ngoog.require('H.util.ICancelable');\n\n\n\n/**\n * The AsyncQueue represents a queue of task items that are processed\n * asynchronously. Items can be added and cancelled before they are\n * processed by the queue.\n *\n * The AsyncQueue expects the implementation of processing a work item to be\n * passed as a function. This function MUST call task#done with no arguments\n * when it finishes a task. If an error occurs during the processing the\n * task's done function MUST be called with an error message.\n *\n * @example\n * //---------------------------------\n * //a simple example\n * //---------------------------------\n * var additionQueue = new H.util.AsyncQueue(3, function(task, data) {\n *   //process data\n *   var operandA = data.operandA,\n *       operandB = data.operandB,\n *       result = operandA + operandB;\n *   //call task.done\n *   task.done(result);\n * });\n *\n * //push tasks with data to process\n * additionQueue.push({\n *    operandA: 1,\n *    operandB: 1\n * }, function(task, result, opt_error) { console.log(result); });\n *\n * //---------------------------------\n * //an example with an error\n * //---------------------------------\n * var divisionQueue = new H.util.AsyncQueue(3, function(task, data) {\n *   //process data\n *   var operandA = data.operandA,\n *       operandB = data.operandB;\n *   if(operandB === 0) {\n *     //call task.done with an error message\n *     task.done(null, 'Division by zero!');\n *   }\n *   else {\n *     result = operandA / operandB;\n *     //call task.done\n *     task.done(result);\n *   }\n * });\n * //push tasks with data to process\n * divisionQueue.push({\n *    operandA: 1,\n *    operandB: 0\n * }, function(task, result, opt_error) {\n *   if(opt_error) console.log(\"Oh noes: \", opt_error);\n *   else console.log(\"Yay: \", result);\n * });\n *\n * @export\n * @constructor\n * @param {H.util.AsyncQueue.Mode} mode the processing mode for this queue\n * @param {function(H.util.AsyncQueue.Task, *)} processFn the function implementing the actual processing of the\n *        task item (it receives the the task item and the task data).\n */\nH.util.AsyncQueue = function(mode, processFn) {\n  'use strict';\n  var that = this;\n\n  if (!H.lang.isFunction(processFn)) {\n    throw new H.lang.InvalidArgumentError(H.map.provider.ImageTileProvider, 1, processFn);\n  }\n\n  if (!H.lang.isFunction(mode['next'] || H.lang.isFunction(mode['cycle']))) {\n    throw new H.lang.InvalidArgumentError(H.util.AsyncQueue, 2,\n        'Argument \"mode\" must implement H.util.AsyncQueue.Mode');\n  }\n\n  this.queue_ = [];\n  this.processing_ = [];\n  this.mode_ = mode;\n\n  this.process = processFn;\n\n  //binding process queue to THIS\n  this.processQueueBound_ = function() {\n    //console.log(\"process async\");\n    that.processQueue_();\n  };\n  //thresholding of processQueue calls to avoid unnecessary timer installs\n  this.processQueueHandle_ = null;\n  this.scheduleProcessQueue_ = function() {\n    if (!that.processQueueHandle_) {\n      that.processQueueHandle_ = H.global.setTimeout(that.processQueueBound_, 1);\n    }\n  };\n};\n\n\n/**\n * This method pushes a task item to the queue for processing.\n * @publish\n * @export\n * @param {*} data the task data to be passed to the process function once the taks is being processed.\n * @param {function(H.util.AsyncQueue.Task, *, ?)} onDone a function to be called once the task finishes\n *        processing (an optional error string is passed in case of an error or in case the task was cancelled).\n * @return {H.util.AsyncQueue.Task} the new task object\n */\nH.util.AsyncQueue.prototype.push = function(data, onDone) {\n  'use strict';\n  if (!H.lang.isFunction(onDone)) {\n    throw new H.lang.InvalidArgumentError(this.push, 1, onDone);\n  }\n\n  var that = this,\n      task = this.popTask_().init_(\n          data,\n          this.scheduleProcessQueue_,\n          onDone);\n\n  this.queue_.push(task);\n  this.scheduleProcessQueue_();\n  return task;\n};\n\n\n/**\n * Returns the mode object this AsyncQueue uses.\n * @return {H.util.AsyncQueue.Mode} the mode used by this AsyncQueue\n */\nH.util.AsyncQueue.prototype.getMode = function() {\n  return this.mode_;\n};\n\n\n/**\n * Immediately triggers the queue to process items.\n */\nH.util.AsyncQueue.prototype.processSync = function() {\n  this.processQueue_();\n};\n\n\n/**\n * This method takes items from the queue and calls the process function if the task was not already cancelled.\n * @private\n */\nH.util.AsyncQueue.prototype.processQueue_ = function() {\n  'use strict';\n  var next,\n      processing = this.processing_,\n      queue = this.queue_,\n      i = 0,\n      doneTask,\n      mode = this.mode_;\n  mode.cycle();\n\n  //we reset the processQueueHandle_ here in order to be able\n  //to schedule another run from within this function. This is\n  //indirectly called from task#done (to be seen further down);\n  this.processQueueHandle_ = null;\n\n  //now we go over all the processing items and remove the ones which are\n  //done.\n  while (i < processing.length) {\n    next = processing[i];\n    if (next.isDone_) {\n      processing.splice(i, 1);\n    } else {\n      i++;\n    }\n  }\n\n  //now we take items from the queue until our processing array is as large\n  //as maxConcurrent prescribes\n  while ((next = mode.next(this.queue_, this.processing_))) {\n    //next will always have a value (since we checked for this.queue_.length)\n    //next = this.queue_.shift();\n    if (next['cancelled']) {\n      //this will trigger another process cycle\n      next.done(null, 'cancelled');\n    } else {\n      processing.push(next);\n      this.process(next, next['data']);\n    }\n  }\n};\n\n\n/**\n * This function tries to retrieve a previously used task instance from the task\n * pool. If no free tasks are available a new one is created.\n * @private\n * @return {H.util.AsyncQueue.Task} a free task instance\n */\nH.util.AsyncQueue.prototype.popTask_ = function() {\n  //greedy / no clean-up\n  return new H.util.AsyncQueue.Task();\n};\n\n\n\n/**\n * The task represents a cancelable work item managed by the AsyncQueue.\n * @implements {H.util.ICancelable}\n * @publish\n * @export\n * @constructor\n */\nH.util.AsyncQueue.Task = function() {\n  this.init_(null, null, null);\n};\n\n\n/**\n * This method populates a task with new data. As a side-effect the tasks 'isDone_' flag is reset.\n * @private\n * @param {*} data The data required by the process function\n * @param {?function()} onDoneForQueue A callback for the queue to be informed when the task has finished execution.\n * @param {?function(H.util.AsyncQueue.Task, *, ?)} onDoneForTask A callback executed for each task\n *        individually when the task finished execution.\n * @return {H.util.AsyncQueue.Task} the task instance\n */\nH.util.AsyncQueue.Task.prototype.init_ = function(data, onDoneForQueue, onDoneForTask) {\n  'use strict';\n\n  /**\n   * This property holds the Task's data object.\n   * @type {TData}\n   */\n  this['data'] = data;\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  this['cancelled'] = false;\n\n  /**\n   * @type {boolean}\n   */\n  this.isDone_ = false;\n\n  /**\n   * @type {?function()}\n   * @private\n   */\n  this.onDoneForQueue_ = onDoneForQueue;\n\n  /**\n   * @type {?function(H.util.AsyncQueue.Task, *, ?)}\n   * @private\n   */\n  this.onDoneForTask_ = onDoneForTask;\n\n  /**\n   * Reset the custom cancel function\n   */\n  this.cancel_ = null;\n\n  return this;\n};\n\n\n/**\n * This method signals that a task is done processing. It must be called from\n * the process function to inform the task queue that new tasks can be processed.\n * @publish\n * @export\n * @param {*} result the result of the process operation on this task\n * @param {?} error an optional error message in case the processing of the task encountered an error.\n */\nH.util.AsyncQueue.Task.prototype.done = function(result, error) {\n  'use strict';\n  this.isDone_ = true;\n  this.onDoneForQueue_();\n  this.onDoneForTask_(this, result, error);\n};\n\n\n/**\n * The default implementation of cancelling a task. It only has an effect if\n * the task is cancelled before processing. To implement task specific\n * cancelling use the setCancelFn method on this object once it is being\n * processed.\n * @publish\n * @export\n */\nH.util.AsyncQueue.Task.prototype.cancel = function() {\n  'use strict';\n  this.cancel_ && this.cancel_();\n  this['cancelled'] = true;\n};\n\n\n/**\n * This method sets the implementation of a task specific cancel operations to\n * allow for ad-hoc cancelling during the processing of the task.\n * @publish\n * @export\n * @param {function()} cancelFn the cancel function\n * @return {H.util.AsyncQueue.Task} the instance itself\n */\nH.util.AsyncQueue.Task.prototype.setCancelFn = function(cancelFn) {\n  'use strict';\n  this.cancel_ = cancelFn;\n  return this;\n};\n\n\n\n/**\n * This interface defines a processing mode object which is used by an asynchronous queue to\n * determine how many items to process in one cycle.\n * @interface\n */\nH.util.AsyncQueue.Mode = function() {};\n\n\n/**\n * Requests the next item from the queued items for processing in the current cycle.\n * @param {Array.<H.util.AsyncQueue.Task>} queuedItems the currently queued tasks\n * @param {Array.<H.util.AsyncQueue.Task>} processingItems the tasks currently processing\n * @return {?H.util.AsyncQueue.Task} either the next task for processing or null if no tasks are to be\n *         processed in this cycle.\n */\nH.util.AsyncQueue.Mode.prototype.next = function(queuedItems, processingItems) {};\n\n\n/**\n * Informs the processing mode that a new processing cycle has started.\n */\nH.util.AsyncQueue.Mode.prototype.cycle = function() {};\n",
		"goog.provide('H.util.SequentialQueue');\n\ngoog.require('H.util.AsyncQueue');\n\n\n\n/**\n * This class represents a task queue which processes work items in sequential mode. Each\n * cycle the queue will process as many items as possible within the allotted time frame\n * (maxTime).\n *\n * Note: The sequential queue expects each work item to fit into the provided time frame.\n * Since it runs at least one task each cycle the processing of the task should be small\n * enough to be completed (optimistically) within a cycle. The queue behaves optimistic\n * meaning that it will first run a task and check if it has exceeded the time frame.\n *\n * @export\n * @extends {H.util.AsyncQueue}\n * @final\n * @constructor\n * @param {number} maxTime the maximum time tasks may consume per cycle in milliseconds\n * @param {function(H.util.AsyncQueue.Task, *)} processFn the function which implements the acutal processing of\n *  tasks\n */\nH.util.SequentialQueue = function(maxTime, processFn) {\n  H.util.SequentialQueue.superClass_.constructor.call(\n      this,\n      new H.util.SequentialQueue.Mode(maxTime),\n      processFn);\n};\ngoog.inherits(H.util.SequentialQueue, H.util.AsyncQueue);\n\n\n\n/**\n * @constructor\n * @implements {H.util.AsyncQueue.Mode}\n * @param {number} maxTime the maximum time tasks may consume per cycle in milliseconds\n */\nH.util.SequentialQueue.Mode = function(maxTime) {\n  this.setMaxTime(maxTime);\n\n  /**\n   * @private\n   * @type {number}\n   */\n  this.startTime_ = H.util.shims.now();\n};\n\n\n/**\n * Sets the maximum processing time per cycle in milliseconds\n * @param {number} maxTime the maximum time tasks may consume per cycle in milliseconds\n */\nH.util.SequentialQueue.Mode.prototype.setMaxTime = function(maxTime) {\n  if (isNaN(maxTime) || maxTime < 0) {\n    throw new H.lang.InvalidArgumentError(H.util.SequentialQueue, 1,\n        'Argument \"maxTime\" must be a positive number');\n  } else {\n    /**\n     * @private\n     * @type {number}\n     */\n    this.maxTime_ = maxTime;\n  }\n};\n\n\n/**\n * @override\n */\nH.util.SequentialQueue.Mode.prototype.next = function(queuedItems, processingItems) {\n  //console.log(H.util.shims.now() - this.startTime_);\n  if (queuedItems.length && ((H.util.shims.now() - this.startTime_) < this.maxTime_)) {\n    var item = queuedItems.shift();\n\n    return item;\n  } else {\n    return null;\n  }\n};\n\n\n/**\n * @override\n */\nH.util.SequentialQueue.Mode.prototype.cycle = function() {\n  this.startTime_ = H.util.shims.now();\n};\n",
		"goog.provide('H.map.provider.Provider');\n\ngoog.require('H.lang');\ngoog.require('H.map.ICopyright');\ngoog.require('H.util');\ngoog.require('H.util.EventTarget');\n\n\n\n/**\n * A Provider defines an object which works as a database for the map.\n * Providers can exists in different forms they can implement client\n * side object storage or they can request data from the remote service.\n *\n * @publish\n * @export\n * @extends {H.util.EventTarget}\n *\n * @constructor\n * @param {H.map.provider.Provider.Options=} opt_options\n */\nH.map.provider.Provider = function(opt_options) {\n  'use strict';\n  opt_options = opt_options || /** @type {H.map.provider.Provider.Options} */ ({});\n  this['min'] = opt_options.min || 0;\n  this['max'] = opt_options.max || 22;\n  this['uid'] = '' + H.util.getUid();\n  H.map.provider.Provider.superClass_.constructor.call(this);\n};\nH.lang.inherits(H.map.provider.Provider, H.util.EventTarget);\n\n\n//#################################################  EVENTS  ###########################################################\n/**\n * Event types fired by Provider\n * @enum {string}\n */\nH.map.provider.Provider.prototype.EventType = {\n  UPDATE: 'update'\n};\n\n\n/**\n * Fired when this provider's data updates\n * @publish\n * @event H.map.provider.Provider#update\n * @type {H.util.Event}\n */\n\n\n//######################################################################################################################\n/**\n * Minimum zoom level at which provider can serve data, set at construction time\n * @publish\n * @type {number}\n */\nH.map.provider.Provider.prototype.min;\n\n\n/**\n * Maximum zoom level at which provider can server data, set at construction time\n * @publish\n * @type {number}\n */\nH.map.provider.Provider.prototype.max;\n\n\n/**\n * Provider instance unique identifier, generated at construction time\n * @publish\n * @type {string}\n */\nH.map.provider.Provider.prototype.uid;\n\n\n/**\n * This method dispatches update events\n * @fires H.map.provider.Provider#update\n * @param {Object=} opt_target The object which causes the update. It is set as the events \"target\" property.\n *        If ommited, the provider itself is set as the target.\n * @protected\n * @export\n */\nH.map.provider.Provider.prototype.dispatchUpdate = function(opt_target) {\n  'use strict';\n  this.dispatchEvent(new H.util.Event(this.EventType.UPDATE, opt_target));\n};\n\n\n/**\n * This method disposes the ImageTileProvider\n * @protected\n */\nH.map.provider.Provider.prototype.disposeInternal = function() {\n  'use strict';\n  H.util.EventTarget.prototype.disposeInternal.call(this);\n};\n\n\n/**\n * This method returns the copyrights of the provided content for a certain geographical area at a specified zoom level.\n *\n * Note: This function must be overridden by any class inheriting the Provider class.\n * The default implementation returns {@code null}.\n *\n * @export\n * @publish\n *\n * @param {H.geo.Rect} bounds The bounding area for which to retrieve the copyright information\n * @param {number} level The zoom level for which to retrieve the copyright information\n * @return {?Array.<H.map.ICopyright>} a list of copyright information objects for the provided area and zoom level\n */\nH.map.provider.Provider.prototype.getCopyrights = function(bounds, level) {\n  'use strict';\n  return null;\n};\n\n\n/**\n * Options which are used to initialize the Povider\n * @typedef {{\n *   min: (number|undefined),\n *   max: (number|undefined)\n * }}\n * @property {number=} min The minimal supported zoom level, default is {@code 0}\n * @property {number=} max The max maximal supported zoom level, default is {@code 22}\n * @publish\n */\nH.map.provider.Provider.Options;\n",
		"goog.provide('H.util.Cache');\n\ngoog.require('H.lang');\n\n\n\n/**\n * The cache represents a in-memory LRU-cache with a fixed size. It stores any\n * data that is added until the cache's content exceeds a maximum size. Once\n * the size of all content elements exceeds the maximum size the cache will\n * drop the least recently retrieved elements until the size of the cache is\n * within the bounds of its maximum size. Data elements are always associated\n * with an identifier that allow to retrieve them at a later stage and their\n * content size.\n *\n * @export\n * @final\n * @constructor\n * @throws {Error} The constructor throws an error if the 'maxSize' argument is not a positive number, the opt_onDrop\n *         argument was set but is not a function or if the opt_filter argument was set but is not a function.\n * @param {number} maxSize the maximum size of the cache\n * @param {function(string, ?, number)=} opt_onDrop A callback to be invoked when\n *     a data element is dropped from the cache\n * @param {(function(string, ?, number):boolean)=} opt_filter A function to filter\n *     data elements that are not to be cached\n */\nH.util.Cache = function(maxSize, opt_onDrop, opt_filter) {\n  'use strict';\n  if (!(maxSize >= 0)) {\n    throw new H.lang.InvalidArgumentError(H.util.Cache, 0, maxSize);\n  }\n  if (opt_onDrop && !H.lang.isFunction(opt_onDrop)) {\n    throw new H.lang.InvalidArgumentError(H.util.Cache, 1, opt_onDrop);\n  }\n  if (opt_filter && !H.lang.isFunction(opt_filter)) {\n    throw new H.lang.InvalidArgumentError(H.util.Cache, 2, opt_filter);\n  }\n\n  this.maxSize = +maxSize;\n  this.currentSize = 0;\n  this.onDrop = opt_onDrop;\n  this.filter = opt_filter;\n\n  this.entries_ = {};\n\n  this.firstEntry_ = null;\n  this.lastEntry_ = null;\n};\n\n\n/**\n * This method adds a data element to the cache and marks it as most recently\n * used. The data element must have an identifier that allows for retrieving\n * the object at a later stage and a size which will count towards the cache's\n * maximum size.\n * @publish\n * @export\n * @throws {Error} Throws an error if the 'size' argument is not a positive number.\n * @param {*} id The identifier of this data element, the value is converted to a string.\n * @param {*} data the actual data to be stored\n * @param {number} size the size of the data element\n * @return {boolean} a boolean value indicating whether the data was added\n */\nH.util.Cache.prototype.add = function(id, data, size) {\n  'use strict';\n  var entry,\n      filterResult;\n\n  if (size != +size || size < 0) {\n    throw new H.lang.InvalidArgumentError(this.add, 2, size);\n  }\n\n  id = /** @type {string} */ (String(id));\n  entry = this.entries_[id];\n  filterResult = true;\n\n  if (this.filter) {\n    filterResult = this.filter(id, data, size);\n  }\n\n  if (entry) {\n    //if we already have an entry\n    if (filterResult) {\n      //if the filter allows adding/updating this entry\n\n      //update the entry\n      this.currentSize += (size - entry.size);\n      entry.size = size;\n      entry.data = data;\n\n      //move it to the top\n      this.moveToLRU_(entry);\n    } else {\n      //if the filter disallows adding/updating the entry\n      //remove it\n      this.remove_(entry, true);\n    }\n  } else {\n    // if we do not yet have an an entry\n    if (filterResult) {\n      //if the filter allows adding this entry\n\n      //add it to the front\n      this.entries_[id] = this.insertBefore_({\n        id: id,\n        data: data,\n        size: size,\n        next_: null,\n        prev_: null\n      }, this.firstEntry_);\n    }\n  }\n\n  this.adjustToMaxSize_();\n\n  return filterResult;\n};\n\n\n/**\n * This method retrieves an element from the cache and marks it as 'most recently used'.\n * @param {string} id the ID of the data element to be retrieved.\n * @param {boolean=} opt_noUpdate and optional flag to indicate that the\n *   retrieved object should not be marked as 'most recently used'.\n *\n * @return {*} returns the data associated with the ID or undefined if the\n *  data element is not currently in the cache.\n * @publish\n * @export\n */\nH.util.Cache.prototype.get = function(id, opt_noUpdate) {\n  'use strict';\n\n  var entry = (opt_noUpdate ? this.entries_[id] : this.moveToLRU_(this.entries_[id]));\n  return entry && entry.data;\n};\n\n\n/**\n * This method drops an item from the cache explicitly.\n * @param {*} id the id of the item to drop\n * @publish\n * @export\n */\nH.util.Cache.prototype.drop = function(id) {\n  'use strict';\n  var entry;\n  if (entry = this.entries_[id]) {\n    this.remove_(entry, true);\n  }\n};\n\n\n/**\n * This method will execute the provided callback function on each of the\n * cache's entries. If the optional match predicate is passed to this method\n * the callback will only be executed on those entries for which the predicated\n * returns true.\n * @param {function(string, ?, number)} callback the callback to be invoked for\n *  each entry\n * @param {Object=} opt_ctx an optional context object to be used as this within\n *  the callback\n * @param {(function(string, ?, number):boolean)=} opt_matcher an optional match\n *  predicate to customize on which entries the callback will be called\n */\nH.util.Cache.prototype.forEach = function(callback, opt_ctx, opt_matcher) {\n  'use strict';\n\n  var entry,\n      key;\n  for (key in this.entries_) {\n    entry = this.entries_[key];\n    if (opt_matcher ? opt_matcher(key, entry.data, entry.size) : true) {\n      callback.call(opt_ctx, key, entry.data, entry.size);\n    }\n  }\n};\n\n\n/**\n * This method removes all data elements from the cache. If the optional match predicate is\n * passed to this method only those data elements will be removed for which the\n * predicate return true.\n * @param {(function(string, ?, number):boolean)=} opt_matcher an optional\n *  function that receives an entries id, data and size and may return true\n *  or false to either remove it or leave the entry in the cache respectively\n * @publish\n * @export\n */\nH.util.Cache.prototype.removeAll = function(opt_matcher) {\n  'use strict';\n\n  var entry,\n      key;\n  for (key in this.entries_) {\n    entry = this.entries_[key];\n    if (opt_matcher ? opt_matcher(key, entry.data, entry.size) : true) {\n      this.remove_(this.entries_[key], true);\n    }\n  }\n};\n\n\n/**\n * This method sets this cache's maximum size to a new size. If the cache's contents\n * exceed the new size, least recently used data elements will be dropped.\n * @publish\n *\n * @param {number} maxSize the new maximum size of this cache.\n * @return {H.util.Cache} this cache\n * @export\n */\nH.util.Cache.prototype.setMaxSize = function(maxSize) {\n  'use strict';\n\n  this.maxSize = maxSize;\n  this.adjustToMaxSize_();\n\n  return this;\n};\n\n\n/**\n * This method returns the maximum size of this cache.\n * @return {number} the maximum size of the cache\n * @publish\n * @export\n */\nH.util.Cache.prototype.getMaxSize = function() {\n  'use strict';\n\n  return this.maxSize;\n};\n\n\n/**\n * This method returns the current size of this cache.\n * @return {number} the current size of the cache\n * @publish\n * @export\n */\nH.util.Cache.prototype.getCurrentSize = function() {\n  'use strict';\n\n  return this.currentSize;\n};\n\n\n/**\n * Marks an entry as 'most recently used'.\n * @param {H.util.Cache.Entry_} entry the entry to be marked\n *\n * @return {H.util.Cache.Entry_} the entry that was marked\n *\n * @private\n */\nH.util.Cache.prototype.moveToLRU_ = function(entry) {\n  'use strict';\n\n  if (entry) {\n    this.firstEntry_ = this.insertBefore_(entry, this.firstEntry_);\n  }\n  return entry;\n};\n\n\n/**\n * This method drops entries from this cache until the size is within the boundaries\n * of this cache's maximum size.\n *\n * @private\n */\nH.util.Cache.prototype.adjustToMaxSize_ = function() {\n  'use strict';\n\n  //drop entries until the current size is not bigger than the maximum size\n  while (this.currentSize > this.maxSize && this.lastEntry_) {\n    this.remove_(this.lastEntry_, true);\n  }\n};\n\n\n/**\n * Inserts an entry into the cache by prepending it to the specified next\n * entry.\n * @param {H.util.Cache.Entry_} entry the entry to be inserted\n * @param {?H.util.Cache.Entry_} next the entry before which the new entry\n *   is to be inserted\n * @return {H.util.Cache.Entry_} the inserted entry\n *\n * @private\n */\nH.util.Cache.prototype.insertBefore_ = function(entry, next) {\n  'use strict';\n\n  //if the entry is the same\n  if (next !== entry) {\n    //if the entry is already in the list we need to remove it first\n    if (entry.next_ || entry.prev_) {\n      this.remove_(entry);\n    }\n\n    //set the entry's next to the next entry\n    entry.next_ = next;\n    if (next) {\n      //set the entry's previous the next's previous\n      entry.prev_ = next.prev_;\n      //set the next's previous to the entry'\n      next.prev_ = entry;\n    }\n\n\n    //if the entry has no previous entry it is the first entry\n    if (!entry.prev_) {\n      this.firstEntry_ = entry;\n    }\n    //if the entry has no next entry it is the last entry\n    if (!entry.next_) {\n      this.lastEntry_ = entry;\n    }\n\n    this.currentSize += entry.size;\n  }\n  return entry;\n};\n\n\n/**\n * Removes an entry from the cache.\n * @private\n * @param {H.util.Cache.Entry_} entry the entry to be removed\n * @param {boolean=} opt_isCacheDrop a boolean value indicating whether onDrop should be called\n * @return {H.util.Cache.Entry_} the removed entry\n */\nH.util.Cache.prototype.remove_ = function(entry, opt_isCacheDrop) {\n  'use strict';\n\n  //get the entries previous and next\n  var prev = entry.prev_,\n      next = entry.next_;\n\n  //if the entry is actually part of the list\n  if (prev || next || (entry == this.firstEntry_ && entry == this.lastEntry_)) {\n    //update the links\n    if (prev) {\n      prev.next_ = next;\n    } else {\n      this.firstEntry_ = next;\n    }\n\n    if (next) {\n      next.prev_ = prev;\n    } else {\n      this.lastEntry_ = prev;\n    }\n\n    //update the cache's size\n    this.currentSize -= entry.size;\n\n    if (opt_isCacheDrop) {\n      //call onDrop if it exists\n      this.onDrop && this.onDrop(entry.id, entry.data, entry.size);\n      //remove the entry from the lookup list\n      delete this.entries_[entry.id];\n    }\n\n  }\n  //when detaching we need to null this entry's links\n  entry.next_ = entry.prev_ = null;\n\n  return entry;\n};\n\n\n/**\n * This object definition represents a data element in the cache.\n * @private\n * @property {string} id the ID of this data element (note, the data type will be converted to a string)\n * @property {*} data the data contained within this element\n * @property {number} size the size of the data within this element\n * @property {H.util.Cache.Entry_} prev_ the elements predecessor in the linked list\n * @property {H.util.Cache.Entry_} next_ the elements successor in the linked list\n *\n * @typedef {{\n *   id: string,\n *   data: *,\n *   size: number,\n *   prev_: (H.util.Cache.Entry_|undefined),\n *   next_: (H.util.Cache.Entry_|undefined)\n * }}\n */\nH.util.Cache.Entry_;\n",
		"goog.provide('H.map.provider.TileProvider');\n\n\n\n/**\n * TileProvider is an abstract class to provide data on a tile basis\n * @publish\n * @export\n * @abstract\n * @extends {H.map.provider.Provider}\n * @constructor\n * @param {H.map.provider.TileProvider.Options} options The options to instantiate this TileProvider\n */\nH.map.provider.TileProvider = function(options) {\n  'use strict';\n  var key,\n      val;\n  H.lang.checkIllegalConstructor(this, H.map.provider.TileProvider, false);\n  H.map.provider.TileProvider.superClass_.constructor.call(this, options);\n\n  key = 'tileSize';\n  if (key in options) {\n    val = H.math.log(+options[key]) / H.math.LN2;\n    if (isNaN(val) || val % 1 || val < 0 || val > 30) {\n      throw new H.lang.InvalidArgumentError(H.map.provider.TileProvider, 0, key + ': ' + options[key]);\n    }\n    this[key] = +options[key];\n  }\n\n};\ngoog.inherits(H.map.provider.TileProvider, H.map.provider.Provider);\n\n\n/**\n * Request data on a tile basis\n * @publish\n * @abstract\n * @param {number} x The row number of the tile\n * @param {number} y The column number of the tile\n * @param {number} z The zoom level for which the tile is requested\n * @param {boolean} cacheOnly Indicates whether only cached tiles are to be considered\n * @return {H.map.provider.Tile|undefined} tile object\n */\nH.map.provider.TileProvider.prototype.requestTile = goog.abstractMethod; // function(x, y, z, cacheOnly) {};\n\n\n/**\n * Cancels tile from being requested using x, y, z coordinates (column, row, zoom)\n * @publish\n * @abstract\n * @param {number} x x tile coordinate (row)\n * @param {number} y y tile coordinate (column)\n * @param {number} z tile coordinate (zoom)\n */\nH.map.provider.TileProvider.prototype.cancelTile = goog.abstractMethod; // function(x, y, z) {};\n\n\n/**\n * Cancels tile from being requested using a tile-key\n * @publish\n * @abstract\n * @param {string} tileKey The key of the tile\n */\nH.map.provider.TileProvider.prototype.cancelTileByKey = goog.abstractMethod; // function(tileKey) {};\n\n\n/**\n * This method creates a tile object with given parameters\n * @param {number} x x tile coordinate (row)\n * @param {number} y y tile coordinate (column)\n * @param {number} z tile coordinate (zoom)\n * @param {HTMLImageElement|HTMLCanvasElement} data data for the tile\n * @param {Object.<string,*>=} opt_options free form options object. These options are meant to\n *   be used in tile specific rendering cases\n * @return {H.map.provider.Tile}\n * @method\n * @publish\n * @abstract\n * @export\n */\nH.map.provider.TileProvider.prototype.createTileInternal = goog.abstractMethod;\n\n\n/**\n * This method creates a tile key consisting of the provider's uid, and the tile's x, y and z coordinates, seperated by\n * underscores e.g.: \"4711_7_42_23\"\n * @publish\n * @export\n * @param {number} x The x tile coordinate (row)\n * @param {number} y The y tile coordinate (column)\n * @param {number} z The z tile coordinate (zoom level)\n * @return {string} string\n */\nH.map.provider.TileProvider.prototype.getTileKey = function(x, y, z) {\n  'use strict';\n  var sep = '_';\n  return this['uid'].concat(sep, x, sep, y, sep, z);\n};\n\n\n/**\n * The size of a tile as edge length in pixels. It must be 2^n where n is in range {@code [0 ... 30],\n * default is {@code 256}\n * @publish\n * @type {number}\n */\nH.map.provider.TileProvider.prototype['tileSize'] = 256;\n\n\n/**\n * Options which are used to initialize the TilePovider\n * @typedef {{\n *   tileSize: (number|undefined),\n *   min: (number|undefined),\n *   max: (number|undefined)\n * }}\n * @property {number=} tileSize The size of a tile as edge length in pixels.\n *      It must be 2^n where n is in range {@code [0 ... 30]}, default is {@code 256}\n * @property {number=} min The minimal supported zoom level, default is {@code 0}\n * @property {number=} max The max maximal supported zoom level, default is {@code 22}\n * @publish\n */\nH.map.provider.TileProvider.Options;\n\n",
		"goog.provide('H.map.provider.SpatialTileProvider');\n\ngoog.require('H.map.provider.Provider');\ngoog.require('H.map.provider.SpatialTile');\ngoog.require('H.map.provider.TileProvider');\ngoog.require('H.util.Cache');\ngoog.require('H.util.SequentialQueue');\ngoog.require('H.util.shims');\n\n\n\n/**\n * This tile provider renders spatial map objects (polylines and polygons) to tiles. Every tile represents a part of\n * the spatial object which is clipped according to requested tile coordinates.\n * @export\n * @final\n * @extends {H.map.provider.TileProvider}\n * @constructor\n * @param {H.map.provider.ObjectProvider} objectProvider The ObjectProvider which provides the objects to paint\n * @param {H.map.provider.SpatialTileProvider.Options} options The options for this SpatialTileProvider\n */\nH.map.provider.SpatialTileProvider = function(objectProvider, options) {\n  'use strict';\n\n  H.map.provider.SpatialTileProvider.superClass_.constructor.call(this, options);\n  this.provider_ = objectProvider;\n  this.pixelRatio_ = options['pixelRatio'];\n  this['tileSize'] = this['tileSize'] * H.math.round(this.pixelRatio_);\n\n  // Bind functions\n  this.onTileDropped_ = H.lang.bind(this.onTileDropped_, this);\n  this.onDataDropped_ = H.lang.bind(this.onDataDropped_, this);\n  this.processRenderTask_ = H.lang.bind(this.processRenderTask_, this);\n  this.onRenderTaskDone_ = H.lang.bind(this.onRenderTaskDone_, this);\n  this.onObjectProviderUpdate_ = H.lang.bind(this.onObjectProviderUpdate_, this);\n\n  this.provider_.addEventListener(H.map.provider.Provider.prototype.EventType.UPDATE,\n      this.onObjectProviderUpdate_, false, this);\n\n  // Set up a canvas pool:\n  this.canvasPool_ = [];\n  // Set up a smaller 'full-rendered-tile' cache:\n  this.tileCache_ = new H.util.Cache(options['tileCacheSize'] || 256, this.onTileDropped_);\n  // Set up a cache for tiles that only have clip data:\n  this.dataCache_ = new H.util.Cache(options['dataCacheSize'] || 512, this.onDataDropped_);\n  // Set up a render queue:\n  this.renderQueue_ = new H.util.SequentialQueue(20, this.processRenderTask_);\n  // Set up an object to store pending tiles:\n  this.pendingTileRequests_ = {};\n\n  /**\n   * @private\n   * @type {number}\n   */\n  this.lastProcessSync_ = H.util.shims.now();\n};\nH.lang.inherits(H.map.provider.SpatialTileProvider, H.map.provider.TileProvider);\n\n\n//################################################  TILE PROVIDER  #####################################################\n/**\n * A listener for 'update' events from the ObjectProvider, which dispatches an 'update' event on this\n * SpatialTileProvider if the target is a map object of type 'SPATIAL'\n * @private\n * @param {H.util.Event} evt\n */\nH.map.provider.SpatialTileProvider.prototype.onObjectProviderUpdate_ = function(evt) {\n  if (evt.target.type === H.map.Object.Type['SPATIAL']) {\n    this.dispatchUpdate(evt.target);\n  }\n};\n\n\n/**\n * @override\n * @export\n */\nH.map.provider.SpatialTileProvider.prototype.requestTile = function(x, y, z, cacheOnly) {\n  'use strict';\n  var tileKey = this['getTileKey'](x, y, z),\n      tile,\n      canvas;\n\n  tile = /** @type {H.map.provider.Tile|undefined} */ (this.tileCache_.get(tileKey, cacheOnly));\n  // Do we have a fully rendered tile?\n  if (tile) {\n    // the tile's canvas is perfectly good and can be used\n    // OR\n    // the tile needs re-painting BUT the layer is only asking for cached stuff (we are lax and return the tile anyways)\n    if (cacheOnly || tile.isCanvasValid()) {\n      return tile;\n    } else {\n      // JH: The dropping of cached tiles is disabled to avoid spatial flickering. Should be re-evaluated when\n      // the render engine provides its interactive state and we can actually start providing cacheOnly properly.\n      // REPLACED:\n      // if (!cacheOnly) {\n      //   this.tileCache_.drop(tileKey);\n      // }\n      // WITH:\n      this.dataCache_.add(tileKey, tile, 1);\n    }\n  }\n\n  tile = /** @type {H.map.provider.Tile|undefined} */ (this.dataCache_.get(tileKey, cacheOnly));\n  // Do we have this tile's renderData?\n  if (tile) {\n    // If the tile's renderData is still valid OR renderData is maybe invalid BUT the layer asked for cached tiles only?\n    if (cacheOnly || tile.isDataValid()) {\n      // The we will still reuse the renderData:\n      canvas = this.popCanvas_();\n      if (!tile.render(canvas)) {\n        // If render returns false, it did not draw anything on the canvas. In that case we push it back to the pool:\n        this.canvasPool_.push(canvas);\n      }\n      // Propagate the tile to the cache:\n      this.tileCache_.add(tileKey, tile, 1);\n      return tile;\n    } else {\n      // JH: The dropping of cached tiles is disabled to avoid spatial flickering. Should be re-evaluated when\n      // the render engine provides its interactive state and we can actually start providing cacheOnly properly.\n      // if (!cacheOnly) {\n      //   // If we are not returning cached stuff, we should remove this tile from the cache:\n      //   this.dataCache_.drop(tileKey);\n      // }\n    }\n  }\n\n  // So, we haven't returned a tile yet. Then, if we are not providing\n  // cached data, we can kick the tile renderer to produce it for us\n  if (!cacheOnly) {\n    this.queueForRendering_(tileKey, x, y, z);\n  }\n};\n\n\n/**\n * Triggers the provider to render tiles synchronously.\n */\nH.map.provider.SpatialTileProvider.prototype.processSync = function() {\n  // Threshold synchronous processing to run every 33 milliseconds at max\n  var now = H.util.shims.now(),\n      lastSync = this.lastProcessSync_;\n  if ((now - lastSync) > 33) {\n    this.renderQueue_.processSync();\n    this.lastProcessSync_ = now;\n  }\n\n};\n\n\n/**\n * @override\n * @export\n */\nH.map.provider.SpatialTileProvider.prototype.cancelTile = function(x, y, z) {\n  'use strict';\n  this.cancelTileByKey(this['getTileKey'](x, y, z));\n};\n\n\n/**\n * @override\n * @export\n */\nH.map.provider.SpatialTileProvider.prototype.cancelTileByKey = function(tileKey) {\n  'use strict';\n  var request;\n  // NOTE: Tiles can only be cancelled if they are not yet in processing\n  if (request = this.pendingTileRequests_[tileKey]) {\n    request['count']--;\n    if (!request['count']) {\n      request.cancel();\n      delete this.pendingTileRequests_[tileKey];\n    }\n  }\n};\n\n\n//#################################################  RENDER QUEUE  #####################################################\n/**\n * Queues a tile request for rendering\n * @param {string} tileKey\n * @param {number} x\n * @param {number} y\n * @param {number} z\n * @private\n */\nH.map.provider.SpatialTileProvider.prototype.queueForRendering_ = function(tileKey, x, y, z) {\n  'use strict';\n  var request = this.pendingTileRequests_[tileKey];\n  if (!request) {\n    request = this.renderQueue_.push([tileKey, x, y, z], this.onRenderTaskDone_);\n    request['count'] = 1;\n    this.pendingTileRequests_[tileKey] = request;\n  } else {\n    request['count']++;\n  }\n};\n\n\n/**\n * The funtion to process a task of the render queue\n * @param {Object} task\n * @param {Object} data\n * @private\n */\nH.map.provider.SpatialTileProvider.prototype.processRenderTask_ = function(task, data) {\n  'use strict';\n  var tileKey = data[0],\n      x = data[1],\n      y = data[2],\n      z = data[3],\n      tile = new H.map.provider.SpatialTile(tileKey, x, y, z, this['tileSize'], this.pixelRatio_, this.provider_),\n      canvas = this.popCanvas_();\n\n  if (!tile.render(canvas)) {\n    // A return value false means: \"nothing rendered on the canvas\", therefore we can push the tile back to the pool:\n    this.canvasPool_.push(canvas);\n  }\n  data.push(tile);\n  task.done(tile);\n};\n\n\n/**\n * Callback function for the async queue's process function\n * @param {H.util.AsyncQueue.Task} task the task\n * @param {*} result the result of the task\n * @param {string=} opt_error an optional error\n * @private\n */\nH.map.provider.SpatialTileProvider.prototype.onRenderTaskDone_ = function(task, result, opt_error) {\n  'use strict';\n  var tileKey = task['data'][0];\n  if (result) {\n    this.tileCache_.add(tileKey, result, 1);\n  }\n  delete this.pendingTileRequests_[tileKey];\n  this.dispatchUpdate();\n};\n\n\n//#####################################################  CACHE  ########################################################\n/**\n * Callback for the tile-with-canvas cache\n * @param {string} tileKey the id of the dropped tile\n * @param {H.map.provider.SpatialTile} tile the dropped tile\n * @private\n */\nH.map.provider.SpatialTileProvider.prototype.onTileDropped_ = function(tileKey, tile) {\n  'use strict';\n  // Release the canvas:\n  if (tile['data']) {\n    this.canvasPool_.push(tile.releaseCanvas());\n  }\n  // Put the tile to the next cache:\n  this.dataCache_.add(tileKey, tile, 1);\n};\n\n\n/**\n * Callback for the tile-with-renderData cache\n * @param {string} tileKey the id of the dropped tile\n * @param {H.map.provider.SpatialTile} tile the dropped tile\n * @private\n */\nH.map.provider.SpatialTileProvider.prototype.onDataDropped_ = function(tileKey, tile) {\n  'use strict';\n  // Cleanup the tile:\n  tile.releaseData();\n};\n\n\n//##################################################  CANVAS POOL  #####################################################\n/**\n * This method pops a canvas from the canvas pool or creates a new one if no\n * canvas elements are available in the pool.\n * @return {HTMLCanvasElement} a canvas\n * @private\n */\nH.map.provider.SpatialTileProvider.prototype.popCanvas_ = function() {\n  'use strict';\n  return this.canvasPool_.pop() || document.createElement('canvas');\n};\n\n\n/**\n * Implementation of {@link H.util.Disposable#disposeInternal}\n */\nH.map.provider.SpatialTileProvider.prototype.disposeInternal = function() {\n  'use strict';\n  var key;\n  // First we try to cancel all pending tile requests:\n  for (key in this.pendingTileRequests_) {\n    this.pendingTileRequests_[key].cancel();\n  }\n  // Then we clear the caches:\n  this.tileCache_.removeAll();\n  this.dataCache_.removeAll();\n  // Finally we clear the canvasPool:\n  this.canvasPool_.length = 0;\n\n  // And even more finally we call the shadows disposeInternal:\n  H.map.provider.SpatialTileProvider.superClass_.disposeInternal.call(this);\n};\n\n\n/**\n * Configuration object which can be use to initialize the SpatialTileProvider.\n * @typedef {{\n *   tileSize: (number|undefined),\n *   tileCacheSize: (number|undefined),\n *   dataCacheSize: (number|undefined),\n *   pixelRatio: (number)\n * }}\n * @property {number=} tileSize the size of the tiles rendered by this layer\n *  for polylines and polygons (must be power of 2, default is {@code 256})\n * @property {number=} tileCacheSize the number of fully rendered spatial tiles\n *  that are cached for immediate reuse, default is {@code 32}\n * @property {number=} dataCacheSize the number of tiles to cache which have\n *  render data only, default is {@code 512}\n * @property {number} pixelRatio The pixelRatio to use for over-sampling in cases of high-resolution displays\n */\nH.map.provider.SpatialTileProvider.Options;\n",
		"goog.provide('H.map.layer.BaseTileLayer');\n\ngoog.require('H.map.layer.Layer');\ngoog.require('H.map.provider.Provider');\n\n\n\n/**\n * BaseTileLayer encapsulates funcitonailty that is common to all layers that deliver tiles, such\n * as {@link H.map.layer.TileLayer}. The functionality includes geo bounding box to grid\n * calculation, tile request management.\n *\n * @constructor\n * @publish\n * @export\n * @extends {H.map.layer.Layer}\n * @param {H.map.provider.TileProvider} provider data source for the TileLayer\n * @param {H.map.layer.ITileLayer.Options=} opt_options additional options\n * @throws IllegalArgument if the provider argument is not a TileProvider\n */\nH.map.layer.BaseTileLayer = function(provider, opt_options) {\n  'use strict';\n  var options = opt_options || {};\n\n  if (!provider) {\n    throw new H.lang.InvalidArgumentError(H.map.layer.TileLayer, 0, provider);\n  }\n\n  this.dispatchUpdate = H.lang.bind(this.dispatchUpdate, this);\n  this.provider = provider;\n  this.provider.addEventListener(H.map.provider.Provider.prototype.EventType.UPDATE,\n      this.dispatchUpdate, false, this);\n\n  /**\n   * Size of a tile image rendered by the tile layer\n   * @type {number}\n   * @name {H.map.layer.TileLayer#tileSize}\n   * @publish\n   */\n  this['tileSize'] = provider['tileSize'];\n  this.tilesRequested_ = {};\n\n  H.map.layer.Layer.call(this, {\n    'min': this.provider['min'],\n    'max': this.provider['max'],\n    'minWorldSize': this['tileSize'],\n    'projection': options.projection,\n    'dark': options['dark']\n  });\n};\ngoog.inherits(H.map.layer.BaseTileLayer, H.map.layer.Layer);\n\n\n/**\n * Instance of image tile provider\n * @protected\n * @type {H.map.provider.TileProvider}\n */\nH.map.layer.BaseTileLayer.prototype.provider;\n\n\n/**\n * Map of previously requested tile (used to filter out ongoing and current requests)\n * @private\n * @type {Object}\n */\nH.map.layer.BaseTileLayer.prototype.tileRequested_;\n\n\n/**\n * This method returns the provider which feeds this layer with data.\n * @return {H.map.provider.TileProvider} this layer's provider\n * @publish\n * @export\n */\nH.map.layer.BaseTileLayer.prototype.getProvider = function() {\n  return this.provider;\n};\n\n\n/**\n * This method transforms a geo-rectangle to geometrical projected rectangle at\n * the current projection zoom level or at provided zoom level\n * @param {H.geo.Rect} geoRect geo bounds to be projected\n * @param {number=} opt_zoom overrides current projection zoom level\n * @return {H.math.Rect} projected 2d space rect cooresponding to provided geo bounds\n * @publish\n * @export\n */\nH.map.layer.BaseTileLayer.prototype.geoRectToRect = function(geoRect, opt_zoom) {\n  'use strict';\n  var previousZoom,\n      pixelProjection = this['pixelProjection'],\n      projectedRect;\n\n  if (!H.lang.isInstanceOf(geoRect, H.geo.Rect)) {\n    throw new H.lang.InvalidArgumentError(this.geoRectToRect, 0, geoRect);\n  }\n\n  //zoom level forced\n  if (!H.lang.isNaN(opt_zoom)) {\n    previousZoom = pixelProjection.getZoomScale();\n    pixelProjection.rescale(opt_zoom);\n  }\n\n  projectedRect = H.math.Rect.fromPoints(\n      pixelProjection.geoToPixel(geoRect.getTopLeft()),\n      pixelProjection.geoToPixel(geoRect.getBottomRight()));\n\n  //rescale back to previous zoom in case it was forced\n  !H.lang.isNaN(previousZoom) && pixelProjection.rescale(previousZoom);\n\n  return projectedRect;\n};\n\n\n/**\n * This method returns tile grid for a bounding rectangle\n * @param {H.math.Rect} rectBounds projected rect bounds which coorespond to geo bounding box\n * @param {number} zoom current zoom level\n * @return {H.math.Rect} rectangle which represents the tile grid bounds\n * @publish\n * @export\n */\nH.map.layer.BaseTileLayer.prototype.getTileBounds = function(rectBounds, zoom) {\n  'use strict';\n\n  if (!H.lang.isInstanceOf(rectBounds, H.math.Rect)) {\n    throw new H.lang.InvalidArgumentError(this.getTileBounds, 0, rectBounds);\n  }\n  if (H.lang.isNaN(zoom = +zoom)) {\n    throw new H.lang.InvalidArgumentError(this.getTileBounds, 1, zoom);\n  }\n\n  var tiles = H.math.pow(2, H.math.floor(zoom)),\n      tileSize = this['tileSize'],\n      tileLeft,\n      tileRight,\n      tileBounds;\n\n  tileLeft = H.math.floor(rectBounds['left'] / tileSize);\n  if (tileLeft === tiles) {\n    tileLeft -= 1;\n  }\n\n  tileRight = H.math.floor(rectBounds['right'] / tileSize);\n  if (tileRight === tiles) {\n    tileRight -= 1;\n  }\n\n  tileBounds = new H.math.Rect(\n      tileLeft,\n      H.math.clamp(H.math.floor(rectBounds['top'] / tileSize), 0, tiles - 1),\n      tileRight,\n      H.math.clamp(H.math.floor(rectBounds['bottom'] / tileSize), 0, tiles - 1));\n  return tileBounds;\n};\n\n\n/**\n * This method requests a single tile according to tile coordinates. It returns\n * either a Tile object if it is already loaded or undefined and starts loading\n * the tile\n * @param {number} x tile row position\n * @param {number} y tile column position\n * @param {number} z The zoom level for which the tile is requested\n * @param {boolean} cacheOnly indicates whether only cached tiles are to be considered\n * @return {H.map.provider.Tile|undefined} tile object corresponding to requested coordinates\n * @publish\n */\nH.map.layer.BaseTileLayer.prototype.requestTile = function(x, y, z, cacheOnly) {\n  'use strict';\n  // We have to access the exported method name to make extended Provider possible\n  return this.provider['requestTile'](x, y, z, cacheOnly);\n};\n\n\n/**\n * This method cancels a previously requested tile.\n * @param {number} x tile row position\n * @param {number} y tile column position\n * @param {number} z zoom level\n * @publish\n * @export\n */\nH.map.layer.BaseTileLayer.prototype.cancelTile = function(x, y, z) {\n  'use strict';\n  // We have to access the exported method name to make extened Provider possible\n  this.provider['cancelTile'](x, y, z);\n};\n\n\n/**\n * @override\n * @export\n */\nH.map.layer.BaseTileLayer.prototype.getCopyrights = function(bounds, level) {\n  'use strict';\n  return this.provider['getCopyrights'] ? this.provider['getCopyrights'](bounds, level) : null;\n};\n\n\n/**\n * This method cancels previously requested tiles\n * which are out of current request range.\n * @param {Object} currentlyRequested map of currently requested tiles\n * @private\n */\nH.map.layer.BaseTileLayer.prototype.cancelPreviouslyRequested_ = function(currentlyRequested) {\n  'use strict';\n  var key;\n  for (key in this.tilesRequested_) {\n    if (this.tilesRequested_.hasOwnProperty(key) && this.tilesRequested_[key] && !currentlyRequested[key]) {\n      // We have to access the exported method name to make extened Provider possible\n      this.provider['cancelTileByKey'](key);\n    }\n  }\n\n  this.tilesRequested_ = currentlyRequested;\n};\n\n\n/**\n * This method requests tiles from the data source (provider). It can return a set of\n * tiles which are currently loaded. All tiles which are not yet loaded will\n * be included in response as soon as they will be available during subsequent calls.\n * @param {H.math.Rect} tileBounds bounds in tile grid\n * @param {boolean} isCDB\n * @param {number} zoomLevel The zoom level for which the objects are requested\n * @param {boolean} cacheOnly Indicates whether only cached objects are to be considered\n * @param {H.math.Point} prioCenter The priority center as an offset in screen pixel relative to the center\n * @return {H.map.layer.ITileLayer.Response} returns an array if tile which are already loaded\n * @publish\n * @export\n */\nH.map.layer.BaseTileLayer.prototype.getProviderTiles = function(tileBounds, isCDB, zoomLevel,\n    cacheOnly, prioCenter) {\n  'use strict';\n  // TODO: fix argument \"isCDB\" description\n\n  if (!H.lang.isInstanceOf(tileBounds, H.math.Rect)) {\n    throw new H.lang.InvalidArgumentError(this.getProviderTiles, 0, tileBounds);\n  }\n  if (H.lang.isNaN(zoomLevel = +zoomLevel)) {\n    throw new H.lang.InvalidArgumentError(this.getProviderTiles, 1, zoomLevel);\n  }\n\n  var zoomFloored = H.math.floor(zoomLevel),\n      tilesNum = H.math.pow(2, zoomFloored),\n      tiles = [],\n      total = 0,\n      currentlyRequested = {},\n      x = tileBounds['left'],\n      y = tileBounds['top'],\n      tileBoundsRight = tileBounds['right'],\n      xMax = tileBoundsRight + (isCDB ? tilesNum + (tileBoundsRight === tileBounds['left'] ? 0 : 1) : 1),\n      yMax = tileBounds['bottom'],\n      xmod,\n      tile,\n      requestInfos = [],\n      i,\n      provider = this.provider,\n      requestTile = provider['requestTile'],\n      prioX = x + (1 + tileBoundsRight - x) / 2 + prioCenter['x'] / this['tileSize'] - 0.5,\n      prioY = y + (1 + yMax - y) / 2 + prioCenter['y'] / this['tileSize'] - 0.5;\n\n  // Collect all requests infos:\n  while (x < xMax) {\n    y = tileBounds['top'];\n    while (y <= yMax) {\n      xmod = x % tilesNum;\n      currentlyRequested[provider.getTileKey(xmod, y, zoomFloored)] = true;\n      requestInfos.push([\n        xmod, y, zoomFloored, cacheOnly,\n        // Store a priority value (sum of the x and y distances between priority center and tile center)\n        H.math.abs(prioX - x) + H.math.abs(prioY - y)\n      ]);\n      y++;\n      total++;\n    }\n    x++;\n  }\n  if (total) {\n    // Sort the request-infos by priority and request the tiles from the provider (in reverse order!):\n    if (!cacheOnly) {\n      requestInfos.sort(H.map.layer.BaseTileLayer.sortByPriority_);\n    }\n    i = total;\n    while (i--) {\n      if (tile = requestTile.apply(provider, requestInfos[i])) {\n        tiles.push(tile);\n      }\n    }\n  }\n\n  !cacheOnly && this.cancelPreviouslyRequested_(currentlyRequested);\n  return {'total': total, 'tiles': tiles};\n};\n\n\n/**\n * A comparator to sort a list of RequestInfo_ by priority in descending order\n * @private\n * @param {H.map.layer.BaseTileLayer.RequestInfo_} first The first request info\n * @param {H.map.layer.BaseTileLayer.RequestInfo_} second The second request info\n * @return {number}\n */\nH.map.layer.BaseTileLayer.sortByPriority_ = function(first, second) {\n  'use strict';\n  return second[4] - first[4];\n};\n\n\n/**\n * An array to store request information for a tile, where the entries are:\n *   0: {number} The tile's number on x-axis\n *   1: {number} The tile's number on y-axis\n *   2: {number} The tile's zoom level\n *   3: {boolean} The cacheOnly flag\n *   4: {number} The priority value\n * @private\n * @typedef {Array.<number|boolean>}\n */\nH.map.layer.BaseTileLayer.RequestInfo_;\n",
		"goog.provide('H.util.ParallelQueue');\n\ngoog.require('H.util.AsyncQueue');\n\n\n\n/**\n * This class represents a task queue which processes the alloted number (maxParallel) work items in parallel.\n * The parallel queue can process long running tasks and will defer processing of queued items until a slot\n * is freed by an item finishing.\n *\n * Note: This class DOES NOT implement multi-threading. Rather it can be used for asynchronous tasks like\n * image loading which are done off-thread by the browser. For synchronous processing of work items consider\n * using the {@link H.util.SequentialQueue}\n *\n * @export\n * @constructor\n * @extends {H.util.AsyncQueue}\n * @param {number} maxParallel the maximum number of tasks to process in parallel\n * @param {function(H.util.AsyncQueue.Task, *)} processFn the function which implements the acutal processing of\n *  tasks\n */\nH.util.ParallelQueue = function(maxParallel, processFn) {\n  H.util.ParallelQueue.superClass_.constructor.call(\n      this,\n      new H.util.ParallelQueue.Mode(maxParallel),\n      processFn);\n};\ngoog.inherits(H.util.ParallelQueue, H.util.AsyncQueue);\n\n\n\n/**\n * @constructor\n * @implements {H.util.AsyncQueue.Mode}\n * @param {number} maxParallel the maximum number of parallel tasks to process per cycle\n */\nH.util.ParallelQueue.Mode = function(maxParallel) {\n  if (isNaN(maxParallel) || maxParallel < 0) {\n    throw new H.lang.InvalidArgumentError(H.util.ParallelQueue, 1,\n        'Argument \"maxParallel\" must be a positive number');\n  }\n  this.maxParallel = maxParallel;\n};\n\n\n/**\n * @override\n */\nH.util.ParallelQueue.Mode.prototype.next = function(queuedItems, processingItems) {\n  if (queuedItems.length && processingItems.length < this.maxParallel) {\n    return queuedItems.shift();\n  } else {\n    return null;\n  }\n};\n\n\n/**\n * @override\n */\nH.util.ParallelQueue.Mode.prototype.cycle = function() {};\n",
		"goog.provide('H.net.ImageLoader');\n\n\ngoog.require('H.lang');\ngoog.require('H.lang.InvalidArgumentError');\ngoog.require('H.util');\ngoog.require('H.util.ParallelQueue');\n\n\n\n/**\n * The image loader class encapsulates image requests sent by the browser\n * and adds functionality for request queuing and cancelling running image\n * requests.\n *\n * The maxConcurrent argument to the constructor specifies the number of image\n * requests the loader will attempt to load in parallel.\n * The useFrames argument to the constructor specifies whether the loader will\n * use IFrames to load images.\n *\n * In some browser implementations image requests generated by and &lt;img&gt; tag\n * cannot be cancelled once the request was started (e.g. Safari). The only way\n * to safely cancel an image request in such browsers IFrames in conjunction\n * with the window.stop() function can be used. The number specified in\n * maxConcurrent will also define the maximum number of IFrames generated. All\n * loader frames are placed within a single IFrame that is appended to the host\n * document's body.\n *\n * A default instance of the ImageLoader class is provided as\n * {@link H.net.images}.\n *\n * @final\n * @export\n * @param {number=} opt_maxConcurrent the amount of concurrently running image requests, default is {@code 6}\n * @param {boolean=} opt_useFrames Indicating whether images are loaded in an IFrame, default is {@code false}\n * @param {HTMLDocument=} opt_doc an optional host document from which image elements are created\n *\n * @constructor\n */\nH.net.ImageLoader = function(opt_maxConcurrent, opt_useFrames, opt_doc) {\n  'use strict';\n  var that = this;\n  /**\n   * @type {H.util.AsyncQueue}\n   * @private\n   */\n  this.requestQueue_ = new H.util.ParallelQueue((opt_maxConcurrent || 6), function(task) { that.process_(task); });\n\n  /**\n   * @type {HTMLDocument}\n   */\n  this.doc = opt_doc || document;\n\n  this.onImageLoad_ = H.lang.bind(this.onImageLoad_, this);\n\n  /**\n   * @type {H.net.FrameLoader_}\n   * @private\n   */\n  this.frameLoader_ = null;\n\n  if (opt_useFrames) {\n    this.newImage_ = this.newImageFramed_;\n  }\n};\n\n\n/**\n * This method enqueues and image request for further processing.\n * @throws {Error} This method throws an error if the url parameter is not specified or\n *                 is not a string\n * @throws {Error} This method throws an error if the callback parameter is not specified or\n *                 is not a function\n * @throws {Error} This method throws an error if the optianl error callback parameter is specified but\n *                 is not a function\n * @param {string} url the URL of the image to load\n * @param {function(HTMLImageElement)} callback a callback function to be\n *  invoked once the image was successfully loaded\n * @param {function(string)=} opt_errback a callback function to be invoked if\n *  the image could not be loaded\n * @param {string=} opt_crossOrigin optional cross-origin information to be\n *  sent to the server\n *\n * @return {H.util.AsyncQueue.Task} the task object which encapsulates the image\n *  request. It exposes a cancel function to cancel the loading task.\n *\n * @export\n */\nH.net.ImageLoader.prototype.load = function(url, callback, opt_errback, opt_crossOrigin) {\n  if (!url || !H.lang.isString(url)) {\n    throw new H.lang.InvalidArgumentError(H.net.ImageLoader.prototype.load, 0, url);\n  }\n  if (!H.lang.isFunction(callback)) {\n    throw new H.lang.InvalidArgumentError(H.net.ImageLoader.prototype.load, 1, callback);\n  }\n  if (opt_errback && !H.lang.isFunction(opt_errback)) {\n    throw new H.lang.InvalidArgumentError(H.net.ImageLoader.prototype.load, 2, opt_errback);\n  }\n\n  var task = this.requestQueue_.push({\n    url: url,\n    callback: callback,\n    errback: opt_errback,\n    crossOrigin: opt_crossOrigin\n  }, this.onImageLoad_);\n\n  return task;\n};\n\n\n/**\n * This callback is called when the async queue has processed a task.\n * @param {H.util.AsyncQueue.Task} task the completed task\n * @param {*} result the result image element or null in case of an error\n * @param {*=} opt_failure the error message or undefined in the case of success\n * @private\n */\nH.net.ImageLoader.prototype.onImageLoad_ = function(task, result, opt_failure) {\n  var isDataUrl;\n\n  if (result) {\n    isDataUrl = H.net.ImageLoader.dataUrlRegExp_.test(result.src);\n\n    // Call callback if IMG source is not a data URL, or it is but image is already loaded\n    if (!isDataUrl || (isDataUrl && H.util.isImageLoaded(/** @type {HTMLImageElement}*/ (result)))) {\n      task.data.callback(result);\n    }\n    // Otherwise, if it is data URL and is not loaded\n    else if (isDataUrl) {\n      // Bug fix for MAPSJS-60: IE11 triggers onload but throws an error if the img is blitted immediately to an canvas.\n      //                        After a timeout it works:\n      setTimeout(H.lang.bind(this.onImageLoad_, this, task, result, opt_failure), 0);\n    }\n  } else if (task.data.errback) {\n    task.data.errback(opt_failure || 'failed');\n  }\n};\n\n\n/**\n * Regular expression for checking whether image source is a data URL\n * @private\n * @type {RegExp}\n */\nH.net.ImageLoader.dataUrlRegExp_ = /^data:[^:]+/;\n\n\n/**\n * The process function for the async queue.\n * @param {H.util.AsyncQueue.Task} task the task to be executed\n * @private\n */\nH.net.ImageLoader.prototype.process_ = function(task) {\n  var data = task.data,\n      image,\n      that = this;\n\n  image = this.newImage_(\n      function() {\n        var element = image.element;\n        if (element.ownerDocument !== that.doc) {\n          image.element = element = that.doc.importNode(element, true);\n        }\n        task.done(element, null);\n      },\n      function(failure) {\n        task.done(null, failure);\n      });\n\n  task.setCancelFn(image.cancel);\n  //check if we need to set a cross-origin attribute\n  if (data.crossOrigin) {\n    image.element.crossOrigin = data.crossOrigin;\n  }\n  //Finally: set the source to trigger the request\n  image.element.src = data.url;\n};\n\n\n/**\n * This function acts as a factory for an image tag with onload and onerror\n * attached.\n * @param {function()} onload the onload handler\n * @param {function((Event|string|null))} onerror the onerror handler\n *\n * @return {Object} the image wrap\n *\n * @private\n */\nH.net.ImageLoader.prototype.newImage_ = function(onload, onerror) {\n  'use strict';\n\n  //create an image element from this.doc (for unit-testing)\n  var img = this.doc.createElement('img');\n  img.onload = onload;\n  img.onerror = onerror;\n\n  //return the request image wrapper\n  //note that there is a new cancel function\n  return {\n    element: img,\n    'cancel': function() {\n      //console.log('loading cancel');\n      img.onerror = img.onload = null;\n      img.removeAttribute('src');\n      onerror('cancelled');\n    }\n  };\n};\n\n\n/**\n * This function acts as a factory for an image tag that resides inside a\n * loader frame with onload and onerror attached.\n * @param {function()} onload the onload handler\n * @param {function((Event|string|null))} onerror the onerror handler\n *\n * @return {Object} the image wrap\n *\n * @private\n */\nH.net.ImageLoader.prototype.newImageFramed_ = function(onload, onerror) {\n  'use strict';\n\n  if (!this.frameLoader_) {\n    this.frameLoader_ = new H.net.FrameLoader_(this.doc);\n  }\n  return this.frameLoader_.newImage_(onload, onerror);\n};\n\n\n\n/**\n * The frame loader encapsulates image tags in IFrames\n * @param {HTMLDocument} doc the host document\n *\n * @constructor\n * @private\n */\nH.net.FrameLoader_ = function(doc) {\n  'use strict';\n\n  this.frame = doc.createElement('iframe');\n  this.frame.style.display = 'none';\n\n  this.subFrames = [];\n  this.doc = doc;\n\n  doc.body.appendChild(this.frame);\n};\n\n\n/**\n * The image tag factory\n * @param {function()} onload the onload handler\n * @param {function((Event|string|null))} onerror the onerror handler\n *\n * @return {Object} an image wrap\n *\n * @private\n */\nH.net.FrameLoader_.prototype.newImage_ = function(onload, onerror) {\n  'use strict';\n\n  var that = this,\n      //get a free frame or create one\n      subFrame = this.subFrames.pop() || this.frame.contentDocument.createElement('iframe'),\n      img,\n      innerOnload,\n      innerOnerror;\n\n  innerOnload = function() {\n    //when the frame's image loads...\n    img.onload = img.onerror = null;\n    //we free the frame (since it is done loading)\n    that.subFrames.push(subFrame);\n    // we need to import it to the host document\n    //var imported = that.doc.createElement('img');\n    //imported.src = img.src;\n    //and we finally call onload with the imported image\n    onload();\n  };\n  innerOnerror = function(failure) {\n    img.onload = img.onerror = null;\n    //we free the frame\n    that.subFrames.push(subFrame);\n    //and call on error\n    onerror(failure);\n  };\n\n\n  //was the subFrame attached before?\n  if (!subFrame.parentNode) this.frame.contentDocument.body.appendChild(subFrame);\n\n  //create a new image\n  img = new subFrame.contentWindow.Image();\n  // attach onload and onerror\n  img.onload = innerOnload;\n  img.onerror = innerOnerror;\n\n  //return an image wrap\n  return {\n    element: img,\n    'cancel': function() {\n      //stop the frame\n      subFrame.contentWindow.stop();\n      innerOnerror('cancelled');\n    }\n  };\n};\n\n\n/**\n * This object is the default instance of an image loader. It is automatically initialized when the API is loaded\n * with parameters depending on the host environment. This object can be replaced by a different image loader in\n * case the behavior needs to be changed.\n * @export\n * @type {H.net.ImageLoader}\n */\nH.net.images = new H.net.ImageLoader();\n",
		"goog.provide('H.map.provider.RemoteTileProvider');\n\ngoog.require('H.lang');\ngoog.require('H.lang.InvalidArgumentError');\ngoog.require('H.map.provider.Tile');\ngoog.require('H.map.provider.TileProvider');\ngoog.require('H.util.Cache');\ngoog.require('H.util.ICancelable');\n\n\n\n/**\n * RemoteTileProvider is an abstract class which should be used by classes\n * implementing data provision on a tile basis. Every child class needs to\n * implement 'requestInternal' (to request remote tile) and 'getCache' (to\n * provide configured cache object were tiled data is being cached)\n *\n * @publish\n * @export\n * @abstract\n * @extends {H.map.provider.TileProvider}\n * @constructor\n * @param {H.map.provider.TileProvider.Options} options The options to instantiate this TileProvider\n */\nH.map.provider.RemoteTileProvider = function(options) {\n  'use strict';\n  H.lang.checkIllegalConstructor(this, H.map.provider.RemoteTileProvider, false);\n  H.map.provider.RemoteTileProvider.superClass_.constructor.call(this, options);\n\n  /**\n   * A map of currently requested tiles (by tile key)\n   * @private\n   * @type {Object.<string, H.util.ICancelable>}\n   */\n  this.pending_ = {};\n\n  /**\n   * Size of the provider's tile that it occupies in cache.\n   * @protected\n   * @type {number}\n   */\n  this['entryWeight'] = 1;\n\n  /**\n   * Tile cache.\n   * @type {H.util.Cache}\n   * @private\n   */\n  this.cache_ = this['getCache']();\n\n  this.cacheFilter = H.lang.bind(this.cacheFilter, this);\n};\nH.lang.inherits(H.map.provider.RemoteTileProvider, H.map.provider.TileProvider);\n\n\n/**\n * RemoteTileProvider cache instance, shared with all remote tile providers\n * @type {H.util.Cache}\n * @export\n */\n//TODO: The proper cache size can be an issue. If a browser decides to start swapping\n// images from GPU to RAM then drawing performance is massively impacted. How do we\n// make sure this doesn't happen. I am guessing it's a matter of what machine with\n// how much VRAM you're running on...'\nH.map.provider.RemoteTileProvider.cache = new H.util.Cache(256 * 256);\n\n\n/**\n * This method returns cache which should be used to store tiles\n * @return {H.util.Cache} cache\n * @export\n * @publish\n */\nH.map.provider.RemoteTileProvider.prototype.getCache = function() {\n  'use strict';\n  return H.map.provider.RemoteTileProvider.cache;\n};\n\n\n/**\n * This method is used to remove all cache entries for this particular provider.\n * It is passed as filter to cache removeAll method.\n * @param {string} entryKey tile key corresponding to a single tile coordinates\n * @return {boolean} indicating if the element should be removed\n * @export\n */\nH.map.provider.RemoteTileProvider.prototype.cacheFilter = function(entryKey) {\n  'use strict';\n  return +H.lang.tokenize(entryKey, '_')[0] === +this['uid'];\n};\n\n\n/**\n * This method request tile from remote service\n * @publish\n * @export\n * @method\n * @abstract\n * @param {number} x The row number of the tile\n * @param {number} y The column number of the tile\n * @param {number} z The zoom level for which the tile is requested\n * @param {function ((Array.<H.map.Object>|HTMLImageElement|HTMLCanvasElement|null),*=)} onResponse\n *    function which is called after response arrives\n * @param {function (string=)} onError function which is called in case of communication error\n * @return {H.util.ICancelable}\n */\nH.map.provider.RemoteTileProvider.prototype.requestInternal = goog.abstractMethod;\n\n\n/**\n * @override\n * @export\n */\nH.map.provider.RemoteTileProvider.prototype.createTileInternal = function(x, y, z, data, opt_options) {\n  'use strict';\n  return new H.map.provider.Tile(x, y, z, data);\n};\n\n\n/**\n * Dummy cancelable object used in case if requestInternal onSuccess was called synchronously\n * @private\n * @type {Object}\n */\nH.map.provider.RemoteTileProvider.prototype.dummyCancelable_ = {cancel: function() {}};\n\n\n/**\n * @override\n * @export\n */\nH.map.provider.RemoteTileProvider.prototype.requestTile = function(x, y, z, cacheOnly) {\n  'use strict';\n  var that = this,\n      tileKey,\n      tile,\n      cache = this.cache_,\n      errMsg = 'tile coordinates must be numbers',\n      cancelable,\n      pending = this.pending_,\n      url;\n\n  if (H.lang.isNaN(x = +x)) throw new H.lang.InvalidArgumentError(this.requestTile, 0, x);\n  if (H.lang.isNaN(y = +y)) throw new H.lang.InvalidArgumentError(this.requestTile, 0, y);\n  if (H.lang.isNaN(z = +z)) throw new H.lang.InvalidArgumentError(this.requestTile, 0, z);\n\n  z = ~~z; // floor\n\n  tileKey = this['getTileKey'](x, y, z);\n  tile = /** @type {H.map.provider.Tile} */ (cache.get(tileKey));\n\n  if ((!tile || !tile['valid']) && !cacheOnly && !this.pending_[tileKey]) {\n    // create pending entry with dummy cancelable object\n    pending[tileKey] = /** @type {H.util.ICancelable}*/ (this.dummyCancelable_);\n    cancelable = this['requestInternal'](\n        x, y, z,\n        function(data, options) {\n          delete that.pending_[tileKey];\n          tile = that['createTileInternal'](x, y, z, data, options);\n          tile.key = tileKey;\n          cache.add(tileKey, tile, that['entryWeight']);\n          that.dispatchUpdate();\n        },\n        function() {\n          delete that.pending_[tileKey];\n        });\n    // check that entry still exists, if success was called synchronously entry was deleted\n    if (pending[tileKey] && cancelable) {\n      pending[tileKey] = cancelable;\n    }\n  }\n\n  return tile;\n};\n\n\n/**\n * @override\n * @export\n */\nH.map.provider.RemoteTileProvider.prototype.cancelTileByKey = function(tileKey) {\n  'use strict';\n  var request = this.pending_[tileKey];\n  if (request) {\n    request['cancel'](); // cancel calls 'errback' with 'canceled' as argument\n    delete this.pending_[tileKey];\n  }\n};\n\n\n/**\n * @override\n * @export\n */\nH.map.provider.RemoteTileProvider.prototype.cancelTile = function(x, y, z) {\n  'use strict';\n  // We have to access the exported method name to make extened Provider possible\n  this['cancelTileByKey'](this['getTileKey'](x, y, z));\n};\n\n\n/**\n * This method instructs the provider to reload data from it's source.\n *\n * Two reload modes are possible:\n *\n * - {@code hard}: A hard immediately removes the cached tiles from\n *   the tile cache and forces the provider to re-fetch the tiles. Currently\n *   cached tiles will not be used for rendering.\n * - {@code soft}: A soft invalidation only marks tiles as invalid and requests\n *   the tiles to be re-fetched at the earliest convenience. The provider does\n *   not invalidate the cache immediately in this case. This means that cached\n *   tiles can still be rendered while the updated tiles are fetched.\n *\n * @param {boolean} hard a boolean flag indicating whether to invalidate in\n *  {@code hard} mode ({@code true}) or in {@code soft} mode ({@code false});\n *\n * @export\n * @publish\n */\nH.map.provider.RemoteTileProvider.prototype.reload = function(hard) {\n  'use strict';\n  var key;\n  if (hard) {\n    // in the hard case we only need to remove all cache items from this provider\n    this.cache_.removeAll(this.cacheFilter);\n  } else {\n    // otherwise we mark all cache items as invalid so that the next call to\n    // request will update the tile in the cache 'in-place'\n    this.cache_.forEach(\n        this.invalidateEach,\n        this,\n        this.cacheFilter);\n  }\n\n  // cancel all currently ongoing requests\n  // they are rescheduled by the requestTile function\n  for (key in this.pending_) {\n    this.pending_[key]['cancel']();\n  }\n\n  // reset pending list after cancelling all tiles\n  this.pending_ = {};\n  this.dispatchUpdate();\n};\n\n\n/**\n * This method sets the 'valid' flag of each cached tile it is called on to\n * {@code false}.\n * @param {string} entryKey tile key corresponding to a single tile coordinates\n * @param {H.map.provider.Tile} data the tile\n */\nH.map.provider.RemoteTileProvider.prototype.invalidateEach = function(entryKey, data) {\n  'use strict';\n  data['valid'] = false;\n};\n\n\n/**\n * This method disposes the RemoteTileProvider\n * @protected\n */\nH.map.provider.RemoteTileProvider.prototype.disposeInternal = function() {\n  'use strict';\n  var key;\n\n  this.cache_.removeAll(this.cacheFilter);\n\n  // cancel all pending requests\n  for (key in this.pending_) {\n    this.pending_[key]['cancel']();\n    delete this.pending_[key];\n  }\n};\n\n\n/**\n * Options which are used to initialize the RemoteTileProvider object.\n * @typedef {{\n *   min: (number|undefined),\n *   max: (number|undefined)\n * }}\n * @publish\n * @property {number=} min The minimal supported zoom level, default is {@code 0}\n * @property {number=} max The max maximal supported zoom level, default is {@code 22}\n */\nH.map.provider.RemoteTileProvider.Options;\n",
		"goog.provide('H.map.provider.ImageTileProvider');\n\ngoog.require('H.lang');\ngoog.require('H.lang.InvalidArgumentError');\ngoog.require('H.map.provider.RemoteTileProvider');\ngoog.require('H.net.ImageLoader');\n\n\n\n/**\n * An ImageTileProvider uses network service to provide bitmap images as tiles.\n * @publish\n * @export\n * @final\n *\n * @extends {H.map.provider.RemoteTileProvider}\n * @constructor\n * @param {H.map.provider.ImageTileProvider.Options} options configuration for tile provider\n */\nH.map.provider.ImageTileProvider = function(options) {\n  'use strict';\n  var getURL = 'getURL';\n\n  if (!options || !H.lang.isFunction(options[getURL])) {\n    throw new H.lang.InvalidArgumentError(H.map.provider.ImageTileProvider, 0, 'options.' + getURL);\n  }\n\n  H.map.provider.ImageTileProvider.superClass_.constructor.call(this, options);\n\n  /**\n   * Creates the URL for a a specified tile\n   * @private\n   * @param {number} x The x component of the tile address\n   * @param {number} y The y component of the tile address\n   * @param {number} z The zoom component of the tile address\n   * @return {string} the URL for the specified tile\n   */\n  this.getURL_ = options[getURL];\n\n  this['tileSize'] = options['tileSize'] || 256;\n\n  /**\n   * @override\n   */\n  this['entryWeight'] = this['tileSize'];\n\n  /**\n   * Current cross-origin settings for loading images\n   * @private\n   * @type {string}\n   */\n  this.crossOrigin_ = options['crossOrigin'];\n};\nH.lang.inherits(H.map.provider.ImageTileProvider, H.map.provider.RemoteTileProvider);\n\n\n/**\n * Size of a tile image supported by the provider\n * @type {number}\n * @publish\n */\nH.map.provider.ImageTileProvider.prototype.tileSize;\n\n\n/**\n * @override\n * @export\n */\nH.map.provider.ImageTileProvider.prototype.requestInternal = function(x, y, z, onResponse, onError) {\n  'use strict';\n  var that = this,\n      url = this.getURL_(x, y, z),\n      req,\n      timeoutId = H.global.setTimeout(function() {\n        req = H.net.images.load(url, onResponse, onError, that.crossOrigin_);\n      }, 150);\n\n  // request throttling: chrome has issues with infinitely pending sockets, that's why we\n  // don't want to issue request immediately and then cancel it.\n  return {\n    'cancel': function() {\n      if (req) {\n        req['cancel']();\n      } else {\n        H.global.clearTimeout(timeoutId);\n      }\n    }\n  };\n};\n\n\n/**\n * Options which are used to initialize the ImageTileProvider object.\n * @typedef {{\n *   min: (number|undefined),\n *   max: (number|undefined),\n *   getURL: function(number, number, number): string,\n *   crossOrigin: (string|undefined),\n *   tileSize: (number|undefined)\n * }}\n * @publish\n * @property {number=} min The minimal supported zoom level, default is {@code 0}\n * @property {number=} max The max maximal supported zoom level, default is {@code 22}\n * @property {function(number, number, number)} getURL The function to create an URL for s specified tile\n * @property {boolean=} crossOrigin The string to be set for the crossOrigin attribute for loaded images\n * @property {number=} tileSize The size of a single tile in pixels, default is {@code 256}\n */\nH.map.provider.ImageTileProvider.Options;\n",
		"goog.provide('H.math.Rect');\n\ngoog.require('H.lang');\ngoog.require('H.lang.InvalidArgumentError');\ngoog.require('H.math.Point');\n\n\n\n/**\n * Class defines a rectangle in 2-dimensional geometric space. It is used to represent the area in projected space.\n * @publish\n * @export\n * @final\n * @constructor\n * @param {number} left The rectangle's left edge x value\n * @param {number} top The rectangle's top edge y value\n * @param {number} right The rectangle's right edge x value\n * @param {number} bottom The rectangle's bottom edge y value\n */\nH.math.Rect = function(left, top, right, bottom) {\n  'use strict';\n  /*\n  var invalidArgNr =\n      H.lang.isNaN(this['left'] = +left) ? 1 :\n      H.lang.isNaN(this['top'] = +top) ? 2 :\n      H.lang.isNaN(this['right'] = +right) ? 3 :\n      H.lang.isNaN(this['bottom'] = +bottom) ? 4 :\n      0;\n\n  if (invalidArgNr--) {\n    throw new H.lang.InvalidArgumentError(opt_caller || this.set, invalidArgNr, arguments[invalidArgNr]);\n  }\n  */\n\n  /**\n   * The rectangle's left edge x value\n   * @publish\n   * @type {number}\n   * @name {H.math.Point#left}\n   */\n  this['left'] = +left;\n\n  /**\n   * The rectangle's top edge y value\n   * @publish\n   * @type {number}\n   * @name {H.math.Point#top}\n   */\n  this['top'] = +top;\n\n  /**\n   * The rectangle's right edge x value\n   * @publish\n   * @type {number}\n   * @name {H.math.Point#right}\n   */\n  this['right'] = +right;\n\n  /**\n   * The rectangle's bottom edge y value\n   * @publish\n   * @type {number}\n   * @name {H.math.Point#bottom}\n   */\n  this['bottom'] = +bottom;\n};\n\n\n/**\n * To set all values of the rectangle's edges\n * @export\n * @publish\n * @method\n * @param {number} left The rectangle's left edge x value\n * @param {number} top The rectangle's top edge y value\n * @param {number} right The rectangle's right edge x value\n * @param {number} bottom The rectangle's bottom edge y value\n */\nH.math.Rect.prototype.set = H.math.Rect; // we can re-use the constructor function to set the values\n\n\n/**\n * @private\n * @type {H.math.Point}\n */\nH.math.Rect.prototype.topLeft_;\n\n\n/**\n * To get the rectangle's top-left vertex\n * @export\n * @publish\n * @return {H.math.Point}\n */\nH.math.Rect.prototype.getTopLeft = function() {\n  'use strict';\n  return this.topLeft_ || (this.topLeft_ = new H.math.Point(this['left'], this['top']));\n};\n\n\n/**\n * @private\n * @type {H.math.Point}\n */\nH.math.Rect.prototype.bottomRight_;\n\n\n/**\n * To get the rectangle's bottom-right vertex\n * @export\n * @publish\n * @return {H.math.Point}\n */\nH.math.Rect.prototype.getBottomRight = function() {\n  'use strict';\n  return this.bottomRight_ || (this.bottomRight_ = new H.math.Point(this['right'], this['bottom']));\n};\n\n\n/**\n * Method checks if provided coordinates lie within rectangle.\n * @export\n * @publish\n * @param {number} x x-coordinate to check\n * @param {number} y y-coordinate to check\n * @return {boolean} returns true if coordinates lie within rectangle, if parameters are isNaN returns false\n */\nH.math.Rect.prototype.containsXY = function(x, y) {\n  'use strict';\n  return this['left'] <= x && this['right'] >= x && this['top'] <= y && this['bottom'] >= y;\n};\n\n\n/**\n * To create a rectangle from a top-left and bottom-right point pair.\n * @publish\n * @export\n * @param {H.math.IPoint} topLeft the top-left vertex of the rectanle\n * @param {H.math.IPoint} bottomRight the bottom-right vertex of the rectanle\n * @return {H.math.Rect} returns the rectangular area defined by the top-left and bottom-right vertices\n */\nH.math.Rect.fromPoints = function(topLeft, bottomRight) {\n  'use strict';\n  return new H.math.Rect(topLeft['x'], topLeft['y'], bottomRight['x'], bottomRight['y']);\n};\n\n\n/**\n * To clone a rectangle\n * @publish\n * @export\n * @return {H.math.Rect}\n */\nH.math.Rect.prototype.clone = function() {\n  'use strict';\n  return new H.math.Rect(this['left'], this['top'], this['right'], this['bottom']);\n};\n\n\n",
		"goog.provide('H.map.layer.TileLayer');\n\ngoog.require('H.lang');\ngoog.require('H.lang.InvalidArgumentError');\ngoog.require('H.map.layer.BaseTileLayer');\ngoog.require('H.map.layer.ITileLayer');\ngoog.require('H.map.layer.Layer');\ngoog.require('H.map.provider.ImageTileProvider');\ngoog.require('H.math.Rect');\n\n\n\n/**\n * Tile Layer, represents data shown on map on a tile basis. Can be used\n * to show map tile images or other type of data which is partitioned into tiles.\n *\n * The TileLayer class is an implementation of the ITileLayer interface which\n * uses an ITileProivder as a data source. It delegates tile requests to its\n * provider.\n * @publish\n * @export\n * @final\n *\n * @implements {H.map.layer.ITileLayer}\n * @constructor\n * @extends {H.map.layer.BaseTileLayer}\n * @param {H.map.provider.TileProvider} provider data source for the TileLayer\n * @param {H.map.layer.ITileLayer.Options=} opt_options additional options\n * @throws IllegalArgument if the provider argument is not a TileProvider\n */\nH.map.layer.TileLayer = function(provider, opt_options) {\n  'use strict';\n  var options = opt_options || {};\n\n  /**\n   * Layer opacity\n   * @type {number}\n   * @name {H.map.layer.TileLayer#opacity}\n   * @publish\n   */\n  this['opacity'] = options['opacity'] || 1;\n\n  H.map.layer.BaseTileLayer.call(this, provider, options);\n};\ngoog.inherits(H.map.layer.TileLayer, H.map.layer.BaseTileLayer);\n\n\n/**\n * @override\n * @export\n */\nH.map.layer.TileLayer.prototype.requestTiles = function(boundingRect, zoomLevel, cacheOnly, prioCenter) {\n  'use strict';\n\n  if (!H.lang.isInstanceOf(boundingRect, H.geo.Rect)) {\n    throw new H.lang.InvalidArgumentError(this.requestTiles, 0, boundingRect);\n  }\n  if (H.lang.isNaN(zoomLevel = +zoomLevel)) {\n    throw new H.lang.InvalidArgumentError(this.requestTiles, 1, zoomLevel);\n  }\n\n  var zoomFloored,\n      rect,\n      tileBounds;\n\n  zoomFloored = H.math.floor(zoomLevel);\n  this['pixelProjection'].rescale(zoomFloored);\n  rect = this.geoRectToRect(boundingRect);\n  tileBounds = this.getTileBounds(rect, zoomFloored);\n\n  // TODO Fix this isCDB comment:\n  // override isCDB since we reduced to tile row/column coordinates and\n  // original bounds might be CDB and fit into the single tile bound row\n  return this.getProviderTiles(tileBounds, rect['left'] > rect['right'], zoomFloored, cacheOnly, prioCenter);\n};\n\n",
		"goog.provide('H.map.layer.ObjectLayer');\n\ngoog.require('H.map.layer.IMarkerLayer');\ngoog.require('H.map.layer.ITileLayer');\ngoog.require('H.map.layer.Layer');\ngoog.require('H.map.layer.TileLayer');\ngoog.require('H.map.provider.SpatialTileProvider');\ngoog.require('H.util');\n\n\n\n/**\n * This class represents a layer which renders map objects. Spatial objects like\n * polygons and polylines a rendered to tiles before being passed to the enigne.\n * Point objects like markers are provided as objects given an rectangular area.\n * @publish\n * @final\n * @export\n * @implements {H.map.layer.ITileLayer}\n * @implements {H.map.layer.IMarkerLayer}\n * @extends {H.map.layer.Layer}\n * @constructor\n * @param {H.map.provider.ObjectProvider} provider the ObjectProvider which\n *  provides the map objects to this object layer.\n * @param {H.map.layer.ObjectLayer.Options=} opt_options The options for this layer\n */\nH.map.layer.ObjectLayer = function(provider, opt_options) {\n  'use strict';\n  var options = opt_options || {},\n      that = this;\n  //defaults\n  options['tileSize'] = options['tileSize'] || 256;\n  options['pixelRatio'] = options['pixelRatio'] || 1;\n\n  this.spatialProvider_ = new H.map.provider.SpatialTileProvider(provider,\n      /** @type {H.map.provider.SpatialTileProvider.Options} */ (options));\n  this.spatialTileLayer_ = new H.map.layer.TileLayer(this.spatialProvider_, { 'opacity': 1 });\n  options['minWorldSize'] = this.spatialProvider_['tileSize'];\n  H.map.layer.ObjectLayer.superClass_.constructor.call(this,\n      /** @type {H.map.layer.Layer.Options} */ (options));\n  this['opacity'] = this.spatialTileLayer_['opacity'];\n  this['tileSize'] = this.spatialTileLayer_['tileSize'];\n  //this['placeAtOnce'] = true;\n  this.provider_ = provider;\n\n  this.onProvidersUpdate_ = this.onProvidersUpdate_.bind(this);\n\n  // We listen to the SpatialTileProvider's \"update\" event directly instead of going the \"long\" way by delegate\n  // the event from SpatialTileProvider to SpatialTileLayer to this ObjectLayer:\n  this.spatialProvider_.addEventListener(this.spatialProvider_.EventType.UPDATE, this.onProvidersUpdate_);\n  // We can't use \"this.provider_.EventType.UPDATE\" because it is differently obfuscated, as long as we not compile all\n  // modules in one go:\n  this.provider_.addEventListener('update', this.onProvidersUpdate_);\n};\nH.lang.inherits(H.map.layer.ObjectLayer, H.map.layer.Layer);\n\n\n/**\n * A listener for update events from ObjectProvider and SpatialTileProvider\n * @private\n * @param {H.util.Event} evt\n */\nH.map.layer.ObjectLayer.prototype.onProvidersUpdate_ = function(evt) {\n  // We dispatch an update event only, if the event was fired by the ObjectProvider and its target is not an object\n  // of type SPATIAL or if the event was fired by the SpatialTileProvider.\n  // spatial invalidations if none of the currently requested tiles are invalidated\n  if (evt.currentTarget === this.spatialProvider_ || evt.target.type !== H.map.Object.Type['SPATIAL']) {\n    this.dispatchUpdate();\n  }\n};\n\n\n/**\n * This method returns current ObjectLayer's data provider\n * @return {H.map.provider.ObjectProvider}\n * @export\n * @publish\n */\nH.map.layer.ObjectLayer.prototype.getProvider = function() {\n  'use strict';\n  return this.provider_;\n};\n\n\n//######################################################################################################################\n//                                     H.map.layer.IMarkerLayer IMPLEMENTATION\n//######################################################################################################################\n\n\n/**\n * @private\n * @const\n * @type {H.map.layer.IMarkerLayer.Response}\n */\nH.map.layer.ObjectLayer.EMPTY_MARKER_LAYER_RESPONSE_ = {\n  'markers': /** @type {Array.<H.map.AbstractMarker>} */ (H.util.emptyArray),\n  'total': 0\n};\n\n\n/**\n * @override\n * @export\n */\nH.map.layer.ObjectLayer.prototype.requestMarkers = function(geoRect, zoom, cacheOnly, prioCenter) {\n  'use strict';\n  // If the provider has currently no markers then there is no need to do the whole requesting:\n  var provider = this.provider_,\n      markers;\n  return /** @type {H.map.layer.IMarkerLayer.Response} */ (\n      provider['providesMarkers']() && (markers = provider['requestMarkers'](geoRect, zoom, true, cacheOnly)).length ?\n      {'markers': markers, 'total': markers.length} : // TODO How do we get the REAL total number of markers?\n      H.map.layer.ObjectLayer.EMPTY_MARKER_LAYER_RESPONSE_\n  );\n};\n\n\n/**\n * @override\n * @export\n */\nH.map.layer.ObjectLayer.prototype.requestDomMarkers = function(geoRect, zoom, cacheOnly, prioCenter) {\n  'use strict';\n  // If the provider has currently no markers then there is no need to do the whole requesting:\n  var provider = this.provider_,\n      markers;\n  return /** @type {H.map.layer.IMarkerLayer.Response} */ (\n      provider['providesDomMarkers']() &&\n          (markers = provider['requestDomMarkers'](geoRect, zoom, true, cacheOnly)).length ?\n      {'markers': markers, 'total': markers.length} : // TODO How do we get the REAL total number of markers?\n      H.map.layer.ObjectLayer.EMPTY_MARKER_LAYER_RESPONSE_\n  );\n};\n\n\n//######################################################################################################################\n//                                      H.map.layer.ITileLayer IMPLEMENTATION\n//######################################################################################################################\n\n\n/**\n * @private\n * @const\n * @type {H.map.layer.ITileLayer.Response}\n */\nH.map.layer.ObjectLayer.EMPTY_TILE_LAYER_RESPONSE_ = {\n  'tiles': /** @type {Array.<H.map.provider.Tile>} */ (H.util.emptyArray),\n  'total': 0\n};\n\n\n/**\n * Implementation of {@link H.map.layer.ITileLayer#requestTiles}\n * @export\n * @override\n */\nH.map.layer.ObjectLayer.prototype.requestTiles = function(geoRect, zoomLevel, cacheOnly, prioCenter) {\n  'use strict';\n  // If the provider has currently no spatials then there is no need to do the whole tiling:\n  var provider = this.provider_,\n      result;\n  if (provider['providesSpatials']()) {\n    result = this.spatialTileLayer_.requestTiles(geoRect, zoomLevel, cacheOnly, prioCenter);\n    if (!cacheOnly) {\n      this.spatialProvider_.processSync();\n      result = this.spatialTileLayer_.requestTiles(geoRect, zoomLevel, true, prioCenter);\n    }\n  } else {\n    result = H.map.layer.ObjectLayer.EMPTY_TILE_LAYER_RESPONSE_;\n  }\n  return result;\n};\n\n\n/**\n * Implementation of {@link H.map.layer.ITileLayer#requestTile}\n * @override\n * @export\n */\nH.map.layer.ObjectLayer.prototype.requestTile = function(x, y, z, cacheOnly) {\n  'use strict';\n  return this.spatialTileLayer_.requestTile(x, y, z, cacheOnly);\n};\n\n\n/**\n * Implementation of {@link H.map.layer.ITileLayer#cancelTile}\n * @override\n * @export\n */\nH.map.layer.ObjectLayer.prototype.cancelTile = function(x, y, z) {\n  'use strict';\n  this.spatialTileLayer_.cancelTile(x, y, z);\n};\n\n\n/**\n * @override\n */\n// Implementation of {@link H.util.Disposable#disposeInternal}\nH.map.layer.ObjectLayer.prototype.disposeInternal = function() {\n  'use strict';\n  this.spatialProvider_.dispose();\n  this.spatialTileLayer_.dispose();\n  this.provider_['dispose']();\n  H.map.layer.ObjectLayer.superClass_.disposeInternal.call(this);\n};\n\n\n/**\n * Configuration object which can be use to initialize the ObjectLayer.\n * @typedef {{\n *   tileSize: (number|undefined),\n *   tileCacheSize: (number|undefined),\n *   dataCacheSize: (number|undefined),\n *   pixelRatio: (number|undefined)\n * }}\n * @property {number=} tileSize the size of the tiles rendered by this layer\n *  for polylines and polygons (must be power of 2, default is {@code 256})\n * @property {number=} tileCacheSize the number of fully rendered spatial tiles\n *  that are cached for immediate reuse, default is {@code 32}\n * @property {number=} dataCacheSize the number of tiles to cache which have\n *  render data only, default is {@code 512}\n * @property {number=} pixelRatio The pixelRatio to use for over-sampling in cases of high-resolution displays\n * @publish\n */\nH.map.layer.ObjectLayer.Options;\n",
		"goog.provide('H.map.ViewPort');\n\ngoog.require('H.global');\ngoog.require('H.lang');\ngoog.require('H.lang.InvalidArgumentError');\ngoog.require('H.map.IInteraction');\ngoog.require('H.map.render');\ngoog.require('H.math');\ngoog.require('H.math.Point');\ngoog.require('H.util.Event');\ngoog.require('H.util.EventTarget');\n\n\n\n/**\n * ViewPort object holds information about the HTML element where the map is rendered. It contains information\n * regarding the element (view port) size and triggers events when the element size is changed.\n * @publish\n * @export\n * @implements {H.map.IInteraction}\n * @extends {H.util.EventTarget}\n * @final\n * @constructor\n * @param {Element} element html element were map will be rendered\n * @param {H.map.ViewPort.Options=} opt_options optional configuration parameters\n */\nH.map.ViewPort = function(element, opt_options) {\n  'use strict';\n  var options = opt_options || {},\n      el,\n      option;\n\n  if (!H.lang.isInstanceOf(element, Element)) {\n    throw new H.lang.InvalidArgumentError(H.map.ViewPort, 0, element);\n  }\n\n  el = element.ownerDocument.createElement('div'),\n\n  /**\n   * Viewport container\n   * @private\n   */\n  this.element_ = element;\n\n  H.map.ViewPort.superClass_.constructor.call(this);\n\n  // Initially we need instances for padding, center, margin and the viewBounds_ entries:\n  this['padding'] = new H.math.Rect(0, 0, 0, 0);\n  this['center'] = new H.math.Point(0, 0);\n  this['margin'] = 0;\n\n  // Initialize the element and size:\n  this['element'] = el;\n  // reset element styles as they influence dom surface and imprint\n  el.style.zIndex = 0;\n  el.style.height = el.style.width = '100%';\n\n  //Set to absolute if parent is already relative.\n  el.style.position = (element.style.position === 'relative') ? 'absolute' : 'relative';\n\n  this.resize();\n\n  element.appendChild(el);\n\n  // Processing the options:\n  if ((option = options['padding']) !== H.lang.UNDEF) {\n    this.setPadding(option['top'], option['right'], option['bottom'], option['left']);\n  }\n  this.setMargin((option = options['margin']) !== H.lang.UNDEF ? option : 0);\n  if ((option = options['fixedCenter']) !== H.lang.UNDEF) {\n    this.fixedCenter = !!option;\n  }\n\n};\ngoog.inherits(H.map.ViewPort, H.util.EventTarget);\n\n\n//#################################################  EVENTS  ###########################################################\n/**\n * Events fired by ViewPort\n * @enum {string}\n */\nH.map.ViewPort.prototype.EventType = {\n  UPDATE: 'update',\n  SYNC: 'sync'\n};\n\n\n/**\n * Fired when this view-port's properties padding, margin or size changes\n * @publish\n * @event H.map.ViewPort#update\n * @type {H.util.Event}\n */\n\n\n/**\n * Fired when the rendered map is synchronized with this viewport's properties\n * @publish\n * @event H.map.ViewPort#sync\n * @type {H.util.Event}\n */\n\n\n//######################################################################################################################\n/**\n * See {@link H.map.ViewPort.Options#fixedCenter} – default is {@code true}\n * @type {boolean}\n */\nH.map.ViewPort.prototype.fixedCenter = true;\n\n\n/**\n * This property holds the HTML element, which defines the viewport.\n * @type {Element}\n * @publish\n */\nH.map.ViewPort.prototype.element;\n\n\n/**\n * This property holds this viewport's current width\n * @type {number}\n * @publish\n */\nH.map.ViewPort.prototype.width;\n\n\n/**\n * This property holds this viewport's current height\n * @type {number}\n * @publish\n */\nH.map.ViewPort.prototype.height;\n\n\n/**\n * This property holds this viewport's current margin value\n * @type {number}\n * @publish\n */\nH.map.ViewPort.prototype.margin;\n\n\n/**\n * This property holds this viewport's current padding\n * @type {H.map.ViewPort.Padding}\n * @publish\n */\nH.map.ViewPort.prototype.padding;\n\n\n/**\n * This property holds this viewport's current center point\n * @type {H.math.Point}\n * @publish\n */\nH.map.ViewPort.prototype.center;\n\n\n/**\n * This method sets the margin on the viewPort\n * @publish\n * @export\n * @fires H.map.ViewPort#marginchange\n * @param {number} margin margin which is used to fetch map data\n */\nH.map.ViewPort.prototype.setMargin = function(margin) {\n  'use strict';\n  if (this['margin'] !== +margin) {\n    if (H.lang.isNaN(this['margin'] = +margin)) {\n      throw new H.lang.InvalidArgumentError(this.setMargin, 0, margin);\n    }\n    this.update_();\n    this.dispatchEvent(this.EventType.UPDATE);\n  }\n};\n\n\n/**\n * This method sets the padding on the viewport. Padding will result in shifted\n * map center which will be the visual center of the padded area.\n * @publish\n * @export\n * @fires H.map.ViewPort#paddingchange\n * @param {number} top padding from the top\n * @param {number} right padding from the right\n * @param {number} bottom padding from the bottom\n * @param {number} left padding from the left\n */\nH.map.ViewPort.prototype.setPadding = function(top, right, bottom, left) {\n  'use strict';\n  var padding = this.padding;\n  if (padding['top'] !== top || padding['right'] !== right || padding['bottom'] !== bottom ||\n      padding['left'] !== left) {\n    if (H.lang.isNaN(top + right + bottom + left)) {\n      throw new H.lang.InvalidArgumentError(this.setPadding);\n    }\n    padding['top'] = top;\n    padding['right'] = right;\n    padding['bottom'] = bottom;\n    padding['left'] = left;\n    this.update_();\n    this.dispatchEvent(this.EventType.UPDATE);\n  }\n};\n\n\n/**\n * Updates the element size and the center property (by taking the size and the padding into account)\n * @private\n */\nH.map.ViewPort.prototype.update_ = function() {\n  'use strict';\n  var width = this['width'],\n      height = this['height'],\n      padding = this['padding'];\n  this['center'].set(\n      (width + padding['left'] - padding['right']) / 2 << 0,\n      (height + padding['top'] - padding['bottom']) / 2 << 0);\n};\n\n\n/**\n * @private\n * @type {H.math.ISize}\n */\nH.map.ViewPort.prototype.oldSize_;\n\n\n/**\n * This method updates size of the viewport according to container size. It must be called whenever the HTML element\n * changed size in order to update the map's viewport values.\n * @publish\n * @export\n */\nH.map.ViewPort.prototype.resize = function() {\n  'use strict';\n  var width = this.element_.offsetWidth,\n      height = this.element_.offsetHeight;\n  if (this['width'] !== width || this['height'] !== height) {\n    this.oldSize_ = new H.math.Size(this['width'], this['height']);\n    this['width'] = width;\n    this['height'] = height;\n    this.update_();\n    this.dispatchEvent(this.EventType.UPDATE);\n  }\n};\n\n\n/**\n * A callback used by an engine to notify the view port that the engine is in sync after an \"update\" event was fired\n * @fires H.map.ViewPort#sync\n * @param {H.math.ISize} size\n */\nH.map.ViewPort.prototype.synchronize = function(size) {\n  this.dispatchEvent(new H.map.ChangeEvent(\n      this.EventType.SYNC, this.oldSize_, size, H.map.ChangeEvent.prototype['SIZE']));\n};\n\n\n/**\n * Disposes the object.\n * @protected\n */\nH.map.ViewPort.prototype.disposeInternal = function() {\n  'use strict';\n  H.global.clearTimeout(this.checkHandler_);\n  this.checkHandler_ = null;\n  this.element_.removeChild(this['element']);\n  this.element_ = null;\n  this['element'] = null;\n  H.map.ViewPort.superClass_.disposeInternal.call(this);\n};\n\n\n/**\n * This method starts the interaction with the view port. Should be called every time when new\n * interaction is started i.e mouse grab, or touch start.\n * @param {number} modifiers a bitmask which specifies what operations should performed during every interaction\n * @param {H.util.kinetics.IKinetics=} opt_kinetics specifies kinetic move at the end of interaction\n * @export\n * @abstract\n * @method\n * @publish\n */\nH.map.ViewPort.prototype.startInteraction = goog.abstractMethod; // function(modifiers, opt_kinetics) { };\n\n\n/**\n * This method resolves direct screen (view port) interaction. This function will modify the current\n * view according to values passed in.\n * @param {number} x viewport x coordinate\n * @param {number} y viewport y coordinate\n * @param {number=} opt_bx x coordinate for second pointer/touch if present\n * @param {number=} opt_by y coordinate for secong pointer/touch if present\n * @param {number=} opt_timestamp known timestamp which should be passed\n * @export\n * @abstract\n * @method\n * @publish\n */\nH.map.ViewPort.prototype.interaction = goog.abstractMethod; // function(x, y, opt_bx, opt_by, opt_timestamp) {\n\n\n/**\n * This method ends interaction and applies kinetic movement if defined by\n * using startInteraction method\n * @param {boolean=} opt_preventKinetics if set to true will prevent kinetics behaviour at the end of interaction\n * @export\n * @abstract\n * @method\n * @publish\n */\nH.map.ViewPort.prototype.endInteraction = goog.abstractMethod; // function(opt_preventKinetics) {\n\n\n/**\n * Represents viewport padding definition.\n * @typedef {{\n *   top: number,\n *   right: number,\n *   bottom: number,\n *   left: number\n * }}\n * @property {number} top the padding on the top edge (in pixels)\n * @property {number} right the padding on the right edge (in pixels)\n * @property {number} bottom the padding on the bottom edge (in pixels)\n * @property {number} left the padding on the left edge (in pixels)\n * @publish\n */\nH.map.ViewPort.Padding;\n\n\n/**\n * Options which may be used to initialize new ViewPort instance\n * @publish\n *\n * @typedef {{\n *   margin: (number|undefined),\n *   padding: (H.map.ViewPort.Padding|undefined),\n *   fixedCenter: (boolean|undefined)\n * }}\n * @property {number=} margin\n *           The size in pixel of the supplemental area to render for each side of the map\n * @property {H.map.ViewPort.Padding=} padding\n *           The padding in pixels for each side of the map\n * @property {boolean=} fixedCenter\n *           Indicates whether the center of the map should remain unchanged if the viewport's\n *           size or or padding has been changed, default is {@code true}\n */\nH.map.ViewPort.Options;\n",
		"goog.provide('H.map.provider.ObjectProvider');\n\ngoog.require('H.lang');\ngoog.require('H.lang.InvalidArgumentError');\ngoog.require('H.map.Object');\ngoog.require('H.map.provider.Invalidations');\ngoog.require('H.map.provider.Provider');\n\n\n\n//################################################  CONSTRUCTOR  #######################################################\n/**\n * An abstract class to manage and provide map objects (Marker, Polyline, Polygon)\n * @publish\n * @export\n * @abstract\n *\n * @extends {H.map.provider.Provider}\n *\n * @constructor\n * @param {H.map.provider.Provider.Options=} opt_options\n */\nH.map.provider.ObjectProvider = function(opt_options) {\n  'use strict';\n  H.lang.checkIllegalConstructor(this, H.map.provider.ObjectProvider, false);\n\n  // Call the super constructor:\n  H.map.provider.ObjectProvider.superClass_.constructor.call(this, opt_options);\n\n  /**\n   * The invalidations of this provider, seperated by object types\n   * @private\n   * @type {Array.<H.map.provider.Invalidations>}\n   */\n  this.invalidations_ = (function() {\n    var invalidations = [],\n        key;\n    for (key in H.map.Object.Type) {\n      invalidations[H.map.Object.Type[key]] = new H.map.provider.Invalidations();\n    }\n    return invalidations;\n  })();\n};\nH.lang.inherits(H.map.provider.ObjectProvider, H.map.provider.Provider);\n\n\n//###############################################  INVALIDATION  #######################################################\n/**\n * Returns the accumulate invalidations of this provider's objects that have occurred.\n * @publish\n * @export\n * @param {H.map.Object.Type=} opt_type\n *        The type of objects to consider for the invalidations. If undefined, all types are taken into account.\n * @return {H.map.provider.Invalidations}\n */\nH.map.provider.ObjectProvider.prototype.getInvalidations = function(opt_type) {\n  'use strict';\n  return this.invalidations_[opt_type || H.map.Object.Type['ANY']];\n};\n\n\n/**\n * To signal to this provider that a map object has been changed.\n * The method updates the Invalidations of this provider and the given map object and triggers dispatchUpdate()\n * @publish\n *\n * @export\n * @param {!H.map.Object} mapObject The map object to be invalidated\n * @param {H.math.BitMask} changes The flags indicating the types of occurred changes\n */\nH.map.provider.ObjectProvider.prototype.invalidateObject = function(mapObject, changes) {\n  'use strict';\n  var mark,\n      invalidations;\n  if (changes !== H.map.provider.Invalidations.Flag.NONE) {\n    invalidations = this.invalidations_[H.map.Object.Type['ANY']];\n    mark = invalidations.getMark() + 1;\n    invalidations.update(mark, changes);\n    invalidations = this.invalidations_[mapObject.type];\n    invalidations.update(mark, changes);\n    mapObject.getInvalidations().update(mark, changes);\n    this.dispatchUpdate(mapObject);\n  }\n};\n\n\n//#################################################  SPATIALS  #########################################################\n/**\n * Checks whether this provider is currently providing spatial map objects.\n * A concrete implementation of ObjectProvider must override it if it currently provides Spatials.\n * @publish\n * @export\n *\n * @method\n * @return {boolean}\n */\nH.map.provider.ObjectProvider.prototype.providesSpatials = H.util.returnFalse;\n\n\n/**\n * Returns all polyline, polygon, circle and rect objects which intersect with the provided area.\n * @publish\n * @export\n * @method\n * @abstract\n *\n * @param {H.geo.Rect} geoRect A rectangular area in geo space to intersect with\n * @param {number} zoomLevel The zoom level for which the objects are requested\n * @param {boolean} visiblesOnly Indicates whether only invisible objects are to be considered\n * @param {boolean} cacheOnly Indicates whether only cached objects are to be considered\n * @return {Array.<H.map.Spatial>} a list of intersecting objects\n */\nH.map.provider.ObjectProvider.prototype.requestSpatials = goog.abstractMethod;\n\n\n/**\n * Returns the spatial objects which intersect the given tile\n * @publish\n * @method\n * @abstract\n * @export\n *\n * @param {H.map.provider.SpatialTile} tile The tile for which the objects are requested\n * @param {boolean} visiblesOnly Indicates whether only invisible objects are to be considered\n * @param {boolean} cacheOnly Indicates whether only cached objects are to be considered\n * @return {Array.<H.map.Spatial>} a list of intersecting objects\n */\nH.map.provider.ObjectProvider.prototype.requestSpatialsByTile = goog.abstractMethod;\n\n\n//#################################################  MARKERS  ##########################################################\n/**\n * Checks whether this provider is currently providing Marker map objects.\n * A concrete implementation of ObjectProvider must override it if it currently provides Markers.\n * @publish\n * @export\n * @method\n *\n * @return {boolean}\n */\nH.map.provider.ObjectProvider.prototype.providesMarkers = H.util.returnFalse;\n\n\n/**\n * Returns all Marker map objects which intersect with the provided rectangular area.\n * @publish\n * @export\n * @abstract\n * @method\n *\n * @param {H.geo.Rect} geoRect A rectangular area in geo space to intersect with\n * @param {number} zoomLevel The zoom level for which the objects are requested\n * @param {boolean} visiblesOnly Indicates whether only invisible objects are to be considered\n * @param {boolean} cacheOnly Indicates whether only cached objects are to be considered\n * @return {Array.<H.map.Marker>} a list of intersecting objects\n */\nH.map.provider.ObjectProvider.prototype.requestMarkers = goog.abstractMethod;\n\n\n//###############################################  DOM-MARKERS  ########################################################\n/**\n * Checks whether this provider is currently providing DomMarker map objects.\n * A concrete implementation of ObjectProvider must override it if it currently provides Markers.\n * @publish\n * @export\n * @method\n *\n * @return {boolean}\n */\nH.map.provider.ObjectProvider.prototype.providesDomMarkers = H.util.returnFalse;\n\n\n/**\n * Returns all DomMarker map objects which intersect with the provided rectangular area.\n * @publish\n * @export\n * @abstract\n * @method\n *\n * @param {H.geo.Rect} geoRect A rectangular area in geo space to intersect with\n * @param {number} zoomLevel The zoom level for which the objects are requested\n * @param {boolean} visiblesOnly Indicates whether only invisible objects are to be considered\n * @param {boolean} cacheOnly Indicates whether only cached objects are to be considered\n * @return {Array.<H.map.DomMarker>} a list of intersecting objects\n */\nH.map.provider.ObjectProvider.prototype.requestDomMarkers = goog.abstractMethod;\n",
		"goog.provide('H.math.Size');\n\ngoog.require('H.math.ISize');\n\n\n\n/**\n * Class for representing sizes consisting of a width and height.\n * @publish\n * @export\n * @final\n * @implements {H.math.ISize}\n * @constructor\n * @param {number} width Width.\n * @param {number} height Height.\n */\nH.math.Size = function(width, height) {\n  'use strict';\n\n  this['w'] = +width;\n  this['h'] = +height;\n\n};\n\n\n/**\n * The size's width value\n * @publish\n *\n * @type {number}\n */\nH.math.Size.prototype.w;\n\n\n/**\n * The size's height value\n * @publish\n *\n * @type {number}\n */\nH.math.Size.prototype.h;\n",
		"goog.provide('H.map.Icon');\n\n\ngoog.require('H.lang.InvalidArgumentError');\ngoog.require('H.math.Point');\ngoog.require('H.math.Size');\ngoog.require('H.net.ImageLoader');\ngoog.require('H.util');\ngoog.require('H.util.Event');\ngoog.require('H.util.EventTarget');\n\n\n\n//################################################  CONSTRUCTOR  #######################################################\n/**\n * A visual representation of the {@link H.map.Marker}.\n * @publish\n * @export\n * @extends {H.util.EventTarget}\n * @final\n * @constructor\n * @throws {H.lang.InvalidArgumentError} if size, anchor or hitArea is specified with invalid type or values\n *      or the bitmap is a HTMLImageElement which is not succesfully loaded\n * @param {!(string|HTMLImageElement|HTMLCanvasElement)} bitmap Either an image URL, a SVG markup, an image or a canvas.\n * @param {H.map.Icon.Options=} opt_options\n */\nH.map.Icon = function(bitmap, opt_options) {\n  'use strict';\n  var key,\n      val;\n\n  // TODO Add sprite support (defined by options sourceSize, sourceOffset)\n\n  H.map.Icon.superClass_.constructor.call(this);\n\n  // Evaluate the options:\n  if (opt_options) {\n    key = 'size';\n    if (key in opt_options) {\n      val = opt_options[key];\n      if (!val || isNaN(val['w']) || isNaN(val['h'])) {\n        throw new H.lang.InvalidArgumentError(H.map.Icon, 1, key);\n      }\n      this.size_ = new H.math.Size(val['w'], val['h']);\n    }\n    key = 'anchor';\n    if (key in opt_options) {\n      val = opt_options[key];\n      if (!val || isNaN(val['x']) || isNaN(val['y'])) {\n        throw new H.lang.InvalidArgumentError(H.map.Icon, 1, key);\n      }\n      this.anchor_ = new H.math.Point(val['x'], val['y']);\n    }\n    key = 'hitArea';\n    if (key in opt_options) {\n      val = opt_options[key];\n      H.lang.isInstanceOf(val, H.map.HitArea, H.map.Icon, 1);\n      this.hitArea_ = val = opt_options[key];\n    }\n    key = 'asCanvas';\n    if (key in opt_options) {\n      val = opt_options[key];\n      this.asCanvas_ = !!(val === H.lang.UNDEF || opt_options[key]);\n    }\n  }\n\n  this.processBitmap_(bitmap);\n\n};\nH.lang.inherits(H.map.Icon, H.util.EventTarget);\n\n\n//###################################################  STATE  ##########################################################\n\n\n/**\n * The state types of an Icon\n * @publish\n * @export\n * @enum {number}\n */\nH.map.Icon.prototype.State = {\n  'ERROR': -1,\n  'LOADING': 0,\n  'READY': 1\n};\n\n\n/**\n * @const\n * @type {H.map.Icon.prototype.State}\n */\nH.map.Icon.ERROR = /** @type {H.map.Icon.prototype.State} */ (-1);\n\n\n/**\n * @const\n * @type {H.map.Icon.prototype.State}\n */\nH.map.Icon.LOADING = /** @type {H.map.Icon.prototype.State} */ (0);\n\n\n/**\n * @const\n * @type {H.map.Icon.prototype.State}\n */\nH.map.Icon.READY = /** @type {H.map.Icon.prototype.State} */ (1);\n\n\n/**\n * The state of this Icon\n * @private\n * @type {H.map.Icon.prototype.State}\n */\nH.map.Icon.prototype.state_ = H.map.Icon.LOADING;\n\n\n/**\n * Returns the icon's bitmap loading state\n * @publish\n *\n * @export\n * @return {H.map.Icon.prototype.State}\n */\nH.map.Icon.prototype.getState = function() {\n  'use strict';\n  return this.state_;\n};\n\n\n/**\n * Events fired by Icon\n * @enum {string}\n */\nH.map.Icon.prototype.EventType = {\n  STATECHANGE: 'statechange'\n};\n\n\n/**\n * Fired when the icon's bitmap loading state changes, see {@link H.map.Icon.prototype.getState}\n * @publish\n * @event H.map.Icon#statechange\n * @type {H.util.Event}\n */\n\n\n/**\n * Sets the state of this icon and dispatch a \"statechange\" event\n * @private\n * @param {H.map.Icon.prototype.State} state\n */\nH.map.Icon.prototype.setState_ = function(state) {\n  'use strict';\n  this.state_ = state;\n  this.dispatchEvent(this.EventType.STATECHANGE);\n};\n\n\n//##################################################  BITMAP  ##########################################################\n/**\n * Indicates whether the bitmap should be converted into a canvas, default is {@code true}\n * @private\n * @type {boolean}\n */\nH.map.Icon.prototype.asCanvas_ = true;\n\n\n/**\n * Converts an HTMLImageElement into a HTMLCanvasElement. It expects that the icon's size_ property is already set!\n * @private\n * @param {HTMLImageElement} img\n * @return {HTMLCanvasElement}\n */\nH.map.Icon.prototype.imgToCanvas_ = function(img) {\n  'use strict';\n  var canvas = /** @type {HTMLCanvasElement} */(document.createElement('CANVAS'));\n  canvas.getContext('2d').drawImage(img, 0, 0,\n      // Attention: Canvas gets cleared because of the width and height assignement!\n      canvas.width = this.size_['w'],\n      canvas.height = this.size_['h']);\n  return canvas;\n};\n\n\n/**\n * Processes the constructor's bitmap argument\n * @private\n * @param {!(string|HTMLImageElement|HTMLCanvasElement)} bitmap Either an image URL, a SVG markup, an image or a canvas.\n */\nH.map.Icon.prototype.processBitmap_ = function(bitmap) {\n  'use strict';\n\n  switch (H.map.Icon.BmpType_[H.lang.typeOf(bitmap)]) {\n    case 2: // HTMLCanvasElement\n      // Just to satisfy CC's type checking, will be dropped by compiler:\n      bitmap = /** @type {!HTMLCanvasElement} */ (bitmap);\n      this.adjustSizeAndAnchor_(bitmap, false);\n      this.bitmap_ = bitmap;\n      this.state_ = H.map.Icon.READY;\n      break;\n    case 1: // HTMLImageElement\n      // Just to satisfy CC's type checking, will be dropped by compiler:\n      bitmap = /** @type {!HTMLImageElement} */ (bitmap);\n      if (H.util.isImageLoaded(bitmap)) {\n        this.adjustSizeAndAnchor_(bitmap, true);\n        this.bitmap_ = this.asCanvas_ ? this.imgToCanvas_(bitmap) : bitmap;\n        this.state_ = H.map.Icon.READY;\n        break;\n      }\n      // The HTMLImageElement is not complete, we modify the bitmap to treat its \"src\" attribute as a URL or SVG string\n      bitmap = bitmap.src;\n    case 0: // String\n      if (bitmap) {\n        // Just to satisfy CC's type checking, will be dropped by compiler:\n        // If it is SVG markup (\"<svg ...\") we translate it into an encoded svg+xml data URI:\n        bitmap = H.util.svgToDataUrl(/** @type {string} */(bitmap));\n\n        // Let's utilize the ImageLoader to load the image:\n        this.state_ = H.map.Icon.LOADING;\n        this.imageLoaderTask_ = H.net.images.load(bitmap,\n            H.lang.bind(this.onImageOK_, this),\n            H.lang.bind(this.onImageError_, this));\n        break;\n      }\n    default:\n      this.state_ = H.map.Icon.ERROR;\n      throw new H.lang.InvalidArgumentError(H.map.Icon, 0, 'No image data');\n  }\n};\n\n\n/**\n * The bitmap of this icon\n * @private\n * @type {?(HTMLImageElement|HTMLCanvasElement)}\n */\nH.map.Icon.prototype.bitmap_ = H.lang.NULL;\n\n\n/**\n * Returns the bitmap of this icon or {@code null} if the bitmap is not ready yet\n * (see {@link H.map.Icon.prototype.getState})\n * @publish\n *\n * @export\n * @return {?(HTMLImageElement|HTMLCanvasElement)}\n */\nH.map.Icon.prototype.getBitmap = function() {\n  'use strict';\n  return this.bitmap_;\n};\n\n\n/**\n * The type of the bitmap\n * @private\n * @enum {number}\n */\nH.map.Icon.BmpType_ = {\n  'String': 0,\n  'HTMLImageElement': 1,\n  'HTMLCanvasElement': 2\n};\n\n\n//###################################################  SIZE  ###########################################################\n/**\n * The size of this icon\n * @private\n * @type {?H.math.Size}\n */\nH.map.Icon.prototype.size_ = H.lang.NULL;\n\n\n/**\n * Returns the size of this icon or {@code null} if a size wasn't specified in the constructor's options and the state\n * of this icon is not {@link H.map.Icon.READY}\n * @publish\n * @export\n * @return {?H.math.Size}\n */\nH.map.Icon.prototype.getSize = function() {\n  'use strict';\n  return this.size_;\n};\n\n\n//##################################################  ANCHOR  ##########################################################\n/**\n * The anchor of this icon or {@code null} if an anchor wasn't specified in the\n * constructor's options and the state of this\n * icon is not {@link H.map.Icon.READY}\n * @private\n * @type {?H.math.Point}\n */\nH.map.Icon.prototype.anchor_ = H.lang.NULL;\n\n\n/**\n * Returns the anchor point of this icon or {@code null} if an anchor wasn't specified in the constructor's options\n * and the state of this icon is not {@link H.map.Icon.READY}.\n * @publish\n * @export\n * @return {?H.math.Point}\n */\nH.map.Icon.prototype.getAnchor = function() {\n  'use strict';\n  return this.anchor_;\n};\n\n\n/**\n * Adjusts the size_ and anchor_ properties if not already defined\n * @private\n * @param {!(HTMLImageElement|HTMLCanvasElement)} bitmap\n * @param {boolean} isImage Indicates whether the bitmap is an HTMLImageElement\n */\nH.map.Icon.prototype.adjustSizeAndAnchor_ = function(bitmap, isImage) {\n  'use strict';\n  var size,\n      width,\n      height,\n      isAppended,\n      origParent,\n      origSibling;\n\n  if (size = this.size_) {\n    width = size['w'];\n    height = size['h'];\n  } else {\n    // Bug fix for MAPSJS-60: IE11 doesn't set the widt/height of an IMG if its src is a URL to a SVG document\n    // Solution: Image's size is set when the IMG is (temporarly) appended to the document:\n    width = bitmap.naturalWidth || bitmap.width;\n    if (width === 0 && isImage && H.util.IS_MSIE) {\n      isAppended = true;\n      if (origParent = bitmap.parentNode) {\n        origSibling = bitmap.nextSibling;\n      }\n      document.body.appendChild(bitmap);\n    }\n    this.size_ = size = new H.math.Size(\n        width = bitmap.naturalWidth || bitmap.width,\n        height = bitmap.naturalHeight || bitmap.height);\n    if (isAppended) {\n      if (origParent) {\n        origParent.insertBefore(bitmap, /** @type {(Node|null)} */(origSibling));\n      } else {\n        document.body.removeChild(bitmap);\n      }\n    }\n  }\n  if (!this.anchor_) {\n    this.anchor_ = new H.math.Point(width / 2 | 0, height);\n  }\n};\n\n\n//##################################################  HITAREA  #########################################################\n/**\n * The hit area of this icon or {@code null} if a hit area wasn't specified in the\n * constructor's options\n * @private\n * @type {H.map.HitArea}\n */\nH.map.Icon.prototype.hitArea_ = H.lang.NULL;\n\n\n/**\n * Returns the hit area of the icon.\n * @publish\n * @export\n * @return {?H.map.HitArea} icon's anchor point\n */\nH.map.Icon.prototype.getHitArea = function() {\n  'use strict';\n  return this.hitArea_;\n};\n\n\n//###############################################  IMAGE LOADING  ######################################################\n/**\n * Keeps the task for the ImageLoader (if the bitmap was specified as URL)\n * @private\n * @type {H.util.AsyncQueue.Task}\n */\nH.map.Icon.prototype.imageLoaderTask_;\n\n\n/**\n * A callback to use for the ImageLoader in the case where an image could be loaded.\n * @private\n * @param {!HTMLImageElement} img\n */\nH.map.Icon.prototype.onImageOK_ = function(img) {\n  'use strict';\n  delete this.imageLoaderTask_;\n  this.adjustSizeAndAnchor_(img, true);\n  this.bitmap_ = this.asCanvas_ ? this.imgToCanvas_(img) : img;\n  this.setState_(H.map.Icon.READY);\n};\n\n\n/**\n * A callback to use for the ImageLoader in the case where an image could be NOT loaded.\n * @private\n * @param {string} reason\n */\nH.map.Icon.prototype.onImageError_ = function(reason) {\n  'use strict';\n  this.setState_(H.map.Icon.ERROR);\n  delete this.imageLoaderTask_;\n};\n\n\n//##################################################  DISPOSE  #########################################################\n/**\n * @override\n */\nH.map.Icon.prototype.disposeInternal = function() {\n  'use strict';\n\n  H.map.Icon.superClass_.disposeInternal.call(this);\n  if (this.bitmap_) {\n    this.bitmap_.removeAttribute('src');\n    delete this.bitmap_;\n  } else if (this.imageLoaderTask_) {\n    this.imageLoaderTask_.cancel();\n  }\n};\n\n\n//##################################################  OPTIONS  ############################################\n/**\n * Options used to initialize a Icon\n * @publish\n *\n * @property {H.math.ISize=} size\n *           The icon's size in pixel, default is the bitmap's natural size\n * @property {H.math.IPoint=} anchor\n *           The anchorage point in pixel, default is {@code bottom-center}\n * @property {H.map.HitArea=} hitArea\n *           The area to use for hit detection, default is the whole rectangular area\n * @property {H.map.HitArea=} asCanvas\n *           Indicates whether a non canvas bitmap is converted into a canvas, default is {@code true}.\n *           The conversion improves the rendering performance but it could also cause a higher memory consumption.\n *\n * @typedef {{\n *   size: (H.math.ISize|undefined),\n *   anchor: (H.math.IPoint|undefined),\n *   hitArea: (H.map.HitArea|undefined)\n * }}\n */\nH.map.Icon.Options;\n\n",
		"goog.provide('H.map.provider.LocalObjectProvider');\n\ngoog.require('H.geo.QuadTree');\ngoog.require('H.map.Group');\ngoog.require('H.map.Icon');\ngoog.require('H.map.provider.ObjectProvider');\ngoog.require('H.math');\ngoog.require('H.util');\n\n// TODO Store the marker objects within a more efficient geo.Hash instead of geo.QuadTree\n\n\n\n//################################################  CONSTRUCTOR  #######################################################\n/**\n * A LocalObjectProvider acts as a database for map objects. It provides functionality to fetch visible objects within\n * concrete geographical bounds and zoom levels.\n * All objects are organized within a hierarchical group structure.\n * An object can be added to the provider by adding it to a group within this structure. The root group of the provider\n * can be fetched via {@link H.map.provider.LocalObjectProvider#getRootGroup}.\n * A {@link H.Map} has already its own LocalObjectProvider and provides functionality to add and remove objects.\n * Only in advanced use cases there is a need to create an additional LocalObjectProvider.\n*\n * @example\n *   // Create your own LocalObjectProvider and add some hierarchical objects:\n *\n *   myProvider = new H.map.provider.LocalObjectProvider();\n *   myMap.addLayer(new H.map.layer.ObjectLayer(myProvider));\n\n *   hereDotCom = {lat: 52.5308, lng: 13.3852};\n *   myGroup = new H.map.Group();\n *   myGroup.addObject(new H.map.Circle(hereDotCom, 35));\n *   myProvider.getRootGroup().addObjects([\n *     myGroup,\n *     new H.map.Marker(hereDotCom)\n *   ]);\n\n *   myMap.setCenter(hereDotCom).setZoom(18);\n *\n * @publish\n * @export\n * @extends {H.map.provider.ObjectProvider}\n * @final\n * @constructor\n * @param {H.map.provider.Provider.Options=} opt_options\n */\nH.map.provider.LocalObjectProvider = function(opt_options) {\n  'use strict';\n  var options = opt_options || {},\n      rootGroup = new H.map.Group({\n        'provider': this,\n        'min': options['min'],\n        'max': options['max']\n      });\n\n  H.map.provider.LocalObjectProvider.superClass_.constructor.call(this, options);\n\n\n  /**\n   * The root group of this provider.\n   * @private\n   * @type {H.map.Group}\n   */\n  this.rootGroup_ = rootGroup;\n  rootGroup.setParentEventTarget(this);\n\n\n  /**\n   * The quad tree for all spatial objects\n   * @private\n   * @type {H.geo.QuadTree}\n   */\n  this.spatialTree_ = new H.geo.QuadTree();\n\n  /**\n   * The quad tree for all Marker map objects\n   * @private\n   * @type {H.geo.QuadTree}\n   */\n  this.markerTree_ = new H.geo.QuadTree();\n\n  /**\n   * The quad tree for all DomMarker map objects\n   * @private\n   * @type {H.geo.QuadTree}\n   */\n  this.domMarkerTree_ = new H.geo.QuadTree();\n\n};\nH.lang.inherits(H.map.provider.LocalObjectProvider, H.map.provider.ObjectProvider);\n\n\n//#################################################  ROOT-GROUP  #######################################################\n/**\n * Returns the root group of this provider.\n * @publish\n *\n * @export\n * @return {H.map.Group}\n */\nH.map.provider.LocalObjectProvider.prototype.getRootGroup = function() {\n  return this.rootGroup_;\n};\n\n\n//###############################################  INVALIDATION  #######################################################\n/**\n * @override\n * @export\n */\nH.map.provider.LocalObjectProvider.prototype.invalidateObject = function(mapObject, flags) {\n  'use strict';\n  // If we have spatial invalidation on the object, we need to update the appropriate tree.\n  if (flags & H.map.provider.Invalidations.Flag.SPATIAL) {\n    // addObject() tries to remove the entry before, therefore no explicit removeObject necessary:\n    this.addObject(mapObject);\n  }\n  H.map.provider.LocalObjectProvider.superClass_.invalidateObject.call(this, mapObject, flags);\n};\n\n\n//#################################################  ADD OBJECT  #######################################################\n/**\n * To add an object to this provider's database.\n * Must NOT published, API internally use only!\n * It must not called directly. It is invoked by H.map.Object#setProvider() which checks beforehand,\n * that it is an {@link H.map.Object} instance.\n * @param {!H.map.Object} object The object to add\n */\nH.map.provider.LocalObjectProvider.prototype.addObject = function(object) {\n  'use strict';\n  var entry,\n      position;\n\n  H.lang.isInstanceOf(object, H.map.Object, this.addObject, 0);\n\n  // We allow only to add owned objects (Object#setProvider assure the correct ownership)\n  if (object.provider !== this) {\n    throw new H.lang.IllegalOperationError(this.addObject, 'foreign object');\n  }\n\n  // We always try to remove the object beforehand to prevent double adding:\n  this.removeObject(object);\n\n  // removeObject() has already checked, that is\n\n  if (H.lang.isInstanceOf(object, H.map.Marker)) {\n    position = object.getPosition();\n    entry = this.markerTree_.insertPoint(new H.geo.Point(position['lat'], position['lng']));\n  } else if (H.lang.isInstanceOf(object, H.map.DomMarker)) {\n    position = object.getPosition();\n    entry = this.domMarkerTree_.insertPoint(new H.geo.Point(position['lat'], position['lng']));\n  } else {\n    // Otherwise it must be an instance of H.map.Spatial:\n    entry = this.spatialTree_.insertBounds(object.getBounds());\n  }\n\n  // Create cross references between the map object and the tree entry:\n  entry.$object$ = object;\n  object.$entry$ = entry;\n};\n\n\n//###############################################  REMOVE OBJECT  ######################################################\n/**\n * To remove an object from this provider's database.\n * It must not called directly. It is invoked by H.map.Group which checks beforehand,\n * that it is an {@link H.map.Object} instance and its provider is this provider.\n * @publish\n *\n * @export\n * @param {!H.map.Object} object The object to remove\n */\nH.map.provider.LocalObjectProvider.prototype.removeObject = function(object) {\n  'use strict';\n  var entry;\n\n  if (object) {\n    // We allow only to add owned objects (Object#setProvider assure the correct ownership)\n    if (object.provider !== this) {\n      if (H.lang.isInstanceOf(object, H.map.Object)) {\n        throw new H.lang.IllegalOperationError(this.addObject, 'foreign object');\n      }\n    } else {\n      // We only remove the object if it has an entry because addObject \"tries\" to remove!\n      if (entry = object.$entry$) {\n        (H.lang.isInstanceOf(object, H.map.Marker) ?\n            this.markerTree_ :\n            H.lang.isInstanceOf(object, H.map.DomMarker) ?\n            this.domMarkerTree_ :\n            this.spatialTree_\n        ).remove(entry);\n        // Delete cross references between the map object and the tree entry:\n        delete entry.$object$;\n        delete object.$entry$;\n      }\n    }\n  }\n};\n\n\n//##############################################  REQUEST OBJECT  ######################################################\n/**\n * To request objects from the specified geo database (tree)\n * @private\n * @param {H.geo.QuadTree} tree\n * @param {H.geo.Rect} geoRect\n * @param {number} zoom\n * @param {boolean} visiblesOnly\n * @param {boolean} cacheOnly\n * @return {Array.<H.map.Object>}\n */\nH.map.provider.LocalObjectProvider.prototype.requestObjects_ = function(\n    tree, geoRect, zoom, visiblesOnly, cacheOnly) {\n  'use strict';\n  var result,\n      length,\n      i,\n      nextIdx,\n      object,\n      alsoInvisibles,\n      noIconTest;\n  if (tree.getEntriesCount()) {\n    noIconTest = tree !== this.markerTree_;\n    alsoInvisibles = !visiblesOnly;\n    result = tree.intersectBounds(geoRect);\n    nextIdx = 0;\n    for (length = result.length, i = 0; i < length; i++) {\n      object = result[i].$object$;\n      // TODO: To align visibility computation with tile level changes use\n      //       Math.round(zoom - (Math.log(3) / Math.LN2 - 1.5))\n      //       Off course, we should use a constant for it  ;-)\n\n      // If specified, skip objects which are not visible:\n      if (object.isVisibleForZoom(H.math.round(zoom)) && (alsoInvisibles || object.getVisibility(true))) {\n        // if map.Marker requested then skip markers whose Icon state is not READY:\n        if (noIconTest || object.getIcon().getState() === H.map.Icon.READY) {\n          // Replacing the tree entries with their according map objects:\n          result[nextIdx++] = object;\n        }\n      }\n    }\n    // Caused by the skipping of objects we have to clip the array:\n    result.length = nextIdx;\n  } else {\n    result = H.util.emptyArray;\n  }\n  return /** @type {Array.<H.map.Object>} */ (result);\n};\n\n\n//#############################################  REQUEST SPATIALS  #####################################################\n/**\n * @override\n * @export\n */\nH.map.provider.LocalObjectProvider.prototype.providesSpatials = function() {\n  return this.spatialTree_.getEntriesCount() > 0;\n};\n\n\n/**\n * @override\n * @export\n */\nH.map.provider.LocalObjectProvider.prototype.requestSpatials = function(geoRect, zoom, visiblesOnly, cacheOnly) {\n  'use strict';\n  return /** @type {Array.<H.map.Polyline|H.map.Polygon>} */ (this.requestObjects_(\n      this.spatialTree_, geoRect, zoom, visiblesOnly, cacheOnly));\n};\n\n\n/**\n * @override\n * @export\n */\nH.map.provider.LocalObjectProvider.prototype.requestSpatialsByTile = function(tile, visiblesOnly, cacheOnly) {\n  'use strict';\n  return /** @type {Array.<H.map.Polyline|H.map.Polygon>} */ (this.requestObjects_(\n      this.spatialTree_, tile.getGeoClipRect(), tile['z'], visiblesOnly, cacheOnly));\n};\n\n\n//#############################################  REQUEST MARKERS  ######################################################\n/**\n * @override\n * @export\n */\nH.map.provider.LocalObjectProvider.prototype.providesMarkers = function() {\n  return this.markerTree_.getEntriesCount() > 0;\n};\n\n\n/**\n * @override\n * @export\n */\nH.map.provider.LocalObjectProvider.prototype.requestMarkers = function(geoRect, zoom, visiblesOnly, cacheOnly) {\n  'use strict';\n  return /** @type {Array.<H.map.Marker>} */ (this.requestObjects_(\n      this.markerTree_, geoRect, zoom, visiblesOnly, cacheOnly));\n};\n\n\n//###########################################  REQUEST DOM-MARKERS  ####################################################\n/**\n * @override\n * @export\n */\nH.map.provider.LocalObjectProvider.prototype.providesDomMarkers = function() {\n  return this.domMarkerTree_.getEntriesCount() > 0;\n};\n\n\n/**\n * @override\n * @export\n */\nH.map.provider.LocalObjectProvider.prototype.requestDomMarkers = function(geoRect, zoom, visiblesOnly, cacheOnly) {\n  'use strict';\n  return /** @type {Array.<H.map.DomMarker>} */ (this.requestObjects_(\n      this.domMarkerTree_, geoRect, zoom, visiblesOnly, cacheOnly));\n};\n\n\n/**\n * @override\n */\nH.map.provider.LocalObjectProvider.prototype.disposeInternal = function() {\n  'use strict';\n  this.rootGroup_.removeAll();\n  H.map.provider.LocalObjectProvider.superClass_.disposeInternal.call(this);\n};\n",
		"goog.provide('H.map.AbstractMarker');\n\ngoog.require('H.geo.Point');\ngoog.require('H.lang.InvalidArgumentError');\ngoog.require('H.map.HitArea');\ngoog.require('H.map.Object');\ngoog.require('H.math.Point');\ngoog.require('H.math.Size');\n\n\n\n//################################################  CONSTRUCTOR  #######################################################\n/**\n * This class represents marker, which offers a means of identifying a location on the map with an icon.\n *\n * A marker consists of a geographic location and a visual representation in the form of a bitmap or a DOM element.\n * Markers are rendered in screen space, i.e. while they are always fixed to their geographic location their icon is\n * always rendered independently of the map's zoom level.\n * @abstract\n *\n * @extends {H.map.Object}\n * @publish\n * @export\n * @constructor\n * @param {H.geo.IPoint} position The location of this marker\n * @param {H.map.AbstractMarker.Options=} opt_options The values to initialize this marker\n */\nH.map.AbstractMarker = function(position, opt_options) {\n  'use strict';\n  var key,\n      val;\n\n  H.lang.checkIllegalConstructor(this, H.map.AbstractMarker, false);\n  H.map.AbstractMarker.superClass_.constructor.call(this, opt_options);\n\n  this.setPosition(position);\n\n  // Process the options:\n  if (opt_options) {\n    key = 'icon';\n    if (key in opt_options) {\n      val = opt_options[key];\n    }\n  }\n  this.setIcon(val || this.getDefaultIcon_());\n\n};\nH.lang.inherits(H.map.AbstractMarker, H.map.Object);\n\n\n//##################################################  Z-ORDER  #########################################################\n/**\n * @override\n */\nH.map.AbstractMarker.prototype.compareZOrder = function(other) {\n  'use strict';\n  var thisZInfo,\n      otherZInfo,\n      result = this.zOrderIdx - other.zOrderIdx;\n\n  // The other object has exactly the same zOrderIndex (either booth are Marker or booth are DomMarker)?\n  if (!result) {\n    result =\n        // Either compare the zInfos without sibling-index (onlyZIndex = true):\n        H.map.Object.compareZInfo(thisZInfo = this.getZInfo(), otherZInfo = other.getZInfo(), true) ||\n        // or compare the latitudes\n        /** @type {H.map.AbstractMarker} */(other).getPosition()['lat'] - this.getPosition()['lat'] ||\n        // or (in very rare cases) we compare the zInfos with sibling-index (for always consistent z-order):\n        H.map.Object.compareZInfo(thisZInfo, otherZInfo, false);\n  }\n  return result;\n};\n\n\n//#################################################  POSITION  #########################################################\n/**\n * Keeps a reference to the marker's current position\n * @private\n * @type {H.geo.Point}\n */\nH.map.AbstractMarker.prototype.position_;\n\n\n/**\n * This method returns this marker's current position.\n * @return {H.geo.Point} current marker geo position\n * @export\n * @publish\n */\nH.map.AbstractMarker.prototype.getPosition = function() {\n  'use strict';\n  return this.position_;\n};\n\n\n/**\n * This method sets the marker's current position.\n * @export\n * @publish\n * @throws {H.lang.InvalidArgumentError}\n * @param {H.geo.IPoint} position\n * @return {H.map.AbstractMarker} the marker itself\n */\nH.map.AbstractMarker.prototype.setPosition = function(position) {\n  'use strict';\n  var currentPosition = this.position_,\n      isInitialCall = !currentPosition;\n  if (isInitialCall || !currentPosition.equals(position)) {\n    H.geo.Point.validate(position, isInitialCall ? H.map.AbstractMarker : this.setPosition, 0);\n    this.position_ = H.geo.Point.fromIPoint(position);\n    // We DON'T trigger the invalidate() for the initial position (set by constructor)\n    if (!isInitialCall) {\n      this.invalidate(H.map.provider.Invalidations.Flag.SPATIAL);\n    }\n  }\n  return this;\n};\n\n\n//###################################################  ICON  ###########################################################\n/**\n * The constructor for the icon. It is used for instanceof checks and must be defined in su classes\n * @abstract\n * @protected\n * @type {!Function}\n */\nH.map.AbstractMarker.prototype.iconConstructor = goog.abstractMethod;\n\n\n/**\n * The the marker's current icon.\n *\n * @protected\n * @type {!(H.map.Icon|H.map.DomIcon)}\n */\nH.map.AbstractMarker.prototype.icon;\n\n\n/**\n * Returns this marker's current icon.\n * @publish\n *\n * @export\n * @return {!(H.map.Icon|H.map.DomIcon)}\n */\nH.map.AbstractMarker.prototype.getIcon = function() {\n  'use strict';\n  return this.icon;\n};\n\n\n/**\n * Sets the marker's current icon.\n * @export\n * @publish\n *\n * @throws H.lang.InvalidArgumentError\n * @param {!(H.map.Icon|H.map.DomIcon)} icon The new marker icon\n * @return {H.map.AbstractMarker} the marker itself\n */\nH.map.AbstractMarker.prototype.setIcon = function(icon) {\n  'use strict';\n  var currentIcon = this.icon,\n      isInitialCall = !currentIcon,\n      error;\n  if (currentIcon !== icon) {\n    if (!H.lang.isInstanceOf(icon, this.iconConstructor)) {\n      H.lang.InvalidArgumentError.apply(\n          error = new H.lang.InvalidArgumentError(),\n          isInitialCall ? [this.constructor, 1, 'icon'] : [this.setPosition, 0, icon]);\n      throw error;\n    }\n    this.icon = icon;\n    // We DON'T trigger the invalidate() for the initial icon (set by constructor)\n    if (!isInitialCall) {\n      this.invalidate(H.map.provider.Invalidations.Flag.VISUAL);\n    }\n  }\n  return this;\n};\n\n\n//###############################################  DEFAULT ICON  #######################################################\n/**\n * Creates and returns a default icon\n * @abstract\n * @protected\n * @param {H.map.AbstractMarker.DefaultIconOptions} options\n * @return {!(H.map.Icon|H.map.DomIcon)}\n */\nH.map.AbstractMarker.prototype.createDefaultIcon = goog.abstractMethod;\n\n\n/**\n * Keeps the default icon\n * @private\n * @type {!(H.map.Icon|H.map.DomIcon)}\n */\nH.map.AbstractMarker.prototype.defaultIcon_;\n\n\n/**\n * Returns the default icon\n * @private\n * @return {!(H.map.Icon|H.map.DomIcon)}\n */\nH.map.AbstractMarker.prototype.getDefaultIcon_ = function() {\n  'use strict';\n  var defaultIcon = this.defaultIcon_;\n\n  if (!defaultIcon) {\n    defaultIcon =\n        // We have to store it on the constructor's (Marker or DomMarker) prototype:\n        this.constructor.prototype.defaultIcon_ =\n        this.createDefaultIcon(H.map.AbstractMarker.defaultIconOptions_);\n  }\n  return defaultIcon;\n};\n\n\n//############################################  DEFAULT ICON OPTIONS  ##################################################\n/**\n * A record to store options to create a default icon\n * @protected\n *\n * @property {string} svg The icon's SVG markup\n * @property {H.math.Size} size The icon's size\n * @property {H.math.Point} anchor The anchor to apply to the icon\n * @property {H.map.HitArea} hitArea The icon's area for hit detection\n *\n * @typedef {{\n *   svg: string,\n *   size: H.math.Size,\n *   anchor: H.math.Point,\n *   hitArea: H.map.HitArea\n * }}\n */\nH.map.AbstractMarker.DefaultIconOptions;\n\n\n/**\n * Keeps the options for the default icon\n * @private\n * @type {H.map.AbstractMarker.DefaultIconOptions}\n */\nH.map.AbstractMarker.defaultIconOptions_ = {\n  svg:\n      '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28px\" height=\"36px\">' +\n      '<path d=\"M 19 31 C 19 32.7 16.3 34 13 34 C 9.7 34 7 32.7 7 31 C 7 29.3 9.7 28 13 28 C 16.3 28 19' +\n      ' 29.3 19 31 Z\" fill=\"#000\" fill-opacity=\".2\"/>' +\n      '<path d=\"M 13 0 C 9.5 0 6.3 1.3 3.8 3.8 C 1.4 7.8 0 9.4 0 12.8 C 0 16.3 1.4 19.5 3.8 21.9 L 13 31 L 22.2' +\n      ' 21.9 C 24.6 19.5 25.9 16.3 25.9 12.8 C 25.9 9.4 24.6 6.1 22.1 3.8 C 19.7 1.3 16.5 0 13 0 Z\" fill=\"#fff\"/>' +\n      '<path d=\"M 13 2.2 C 6 2.2 2.3 7.2 2.1 12.8 C 2.1 16.1 3.1 18.4 5.2 20.5 L 13 28.2 L 20.8 20.5 C' +\n      ' 22.9 18.4 23.8 16.2 23.8 12.8 C 23.6 7.07 20 2.2 13 2.2 Z\" fill=\"#18d\"/>' +\n      //'<text transform=\"matrix( 1 0 0 1 13 18 )\" x=\"0\" y=\"0\" fill=\"#fff\" text-anchor=\"middle\"' +\n      //' font-weight=\"bold\" font-size=\"13.3px\" font-family=\"arial\"></text>' +\n      '</svg>',\n  'size': new H.math.Size(28, 36),\n  'anchor': new H.math.Point(14, 32),\n  'hitArea': new H.map.HitArea(\n      H.map.HitArea.ShapeType.POLYGON, [0, 16, 0, 7, 8, 0, 18, 0, 26, 7, 26, 16, 18, 34, 8, 34])\n};\n\n\n//################################################  OPTIONS  ###########################################################\n/**\n * Options used to initialize a AbstractMarker\n * @publish\n *\n * @property {number=} min\n *           The minimum zoom level for which the object is visible, default is {@code -Infinity}\n * @property {number=} max\n *           The maximum zoom level for which the object is visible, default is {@code Infinity}\n * @property {boolean=} visibility\n *           Indicates whether the map object is visible at all, default is {@code true}.\n * @property {number=} zIndex\n *           The z-index value of the map object, default is {@code 0}\n * @property {(H.map.provider.Provider|null)=} provider\n *           The provider of this object. This property is only needed if a customized Implementation of ObjectProvider\n *           wants to instantiate an object.\n * @property {(H.map.Icon|H.map.DomIcon)=} icon\n *           The icon to use for the visual representation, if omitted a default icon is used.\n *\n * @typedef {{\n *   min: (number|undefined),\n *   max: (number|undefined),\n *   visibility: (boolean|undefined),\n *   zIndex: (number|undefined),\n *   provider: (H.map.provider.ObjectProvider|null|undefined),\n *   icon: (H.map.Icon|H.map.DomIcon|undefined)\n * }}\n */\nH.map.AbstractMarker.Options;\n",
		"goog.provide('H.map.render.p2d.MarkerRenderer');\n\ngoog.require('H.map.render.p2d.IPickable');\ngoog.require('H.util');\ngoog.require('H.util.Disposable');\n\n\n\n//###############################################  CONSTRUCTOR  ########################################################\n/**\n * MarkerRender is responsible for correctly placing and rendering image markers\n * on the map, fetched from the given layer.\n * @extends {H.util.Disposable}\n * @implements {H.map.render.p2d.IPickable}\n * @abstract\n * @constructor\n * @param {H.map.layer.IMarkerLayer} layer\n * @param {H.map.render.p2d.Surface} surface\n * @param {H.map.render.p2d.MarkerRenderer.Options=} opt_options\n */\nH.map.render.p2d.MarkerRenderer = function(layer, surface, opt_options) {\n  'use strict';\n\n  /**\n   * A reference to the associated layer, initialzed by constructor\n   * @protected\n   * @type {H.map.layer.IMarkerLayer}\n   */\n  this.layer = layer;\n\n\n  /**\n   * A reference to the associated surface, initialzed by constructor\n   * @protected\n   * @type {H.map.render.p2d.Surface}\n   */\n  this.surface = surface;\n\n\n  /**\n   * Indicates whether subpixel rendering is enabled, initialzed by constructor\n   * @protected\n   * @type {boolean}\n   */\n  this.enableSubpixelRendering = !!(opt_options && opt_options['enableSubpixelRendering']);\n\n\n  /**\n   * A reference to the associated DOM document, initialzed by constructor\n   * @protected\n   * @type {Document}\n   */\n  this.ownerDocument = surface.getContainer().ownerDocument;\n\n\n  /**\n   * A dictionary (marker ID ==> MarkerData) for all currently rendered markers.\n   * @protected\n   * @type {!Object.<string, !H.map.render.p2d.MarkerRenderer.MarkerData>}\n   */\n  this.markerDataDict = {};\n\n  /**\n   * A dictionary (marker ID ==> MarkerData) for all previously rendered markers.\n   * @protected\n   * @type {!Object.<string, H.map.render.p2d.MarkerRenderer.MarkerData>}\n   */\n  this.prevMarkerDataDict;\n\n};\ngoog.inherits(H.map.render.p2d.MarkerRenderer, H.util.Disposable);\n\n\n/**\n * This method returns surface used by the renderer\n * @return {H.map.render.p2d.Surface}\n */\nH.map.render.p2d.MarkerRenderer.prototype.getSurface = function() {\n  'use strict';\n  return this.surface;\n};\n\n\n//#################################################  RENDERING  ########################################################\n/**\n * To fetch markers from the layer\n * @abstract\n * @protected\n * @param {H.geo.Rect} bBox\n * @param {number} zoomLevel\n * @param {boolean} cacheOnly\n * @param {H.math.Point} prioCenter\n * @return {H.map.layer.IMarkerLayer.Response}\n */\nH.map.render.p2d.MarkerRenderer.prototype.fetchMarkers = goog.abstractMethod;\n\n\n/**\n * It fetches all markers for the given bounding box and zoom level and render them on the surface\n * @param {H.geo.Rect} bBox The bounding box for which the markers should be rendered\n * @param {H.math.Point} screenCenter The screen center coordinates\n * @param {H.geo.PixelProjection} projection The render engine's pixel projection\n * @param {number} zoomLevel The zoom level for which the markers should be rendered\n * @param {boolean} cacheOnly Indicates whether only cached markers are to be considered\n * @param {H.math.Point} prioCenter The priority center as an offset in screen pixel relative to the center\n * @return {boolean}\n */\nH.map.render.p2d.MarkerRenderer.prototype.render = function(bBox, screenCenter, projection,\n        zoomLevel, cacheOnly, prioCenter) {\n  'use strict';\n  var prevMarkerDataDict,\n      markerDataDict,\n      layer = this.layer,\n      response,\n      markers,\n      length,\n      surface,\n      i,\n      marker,\n      invalidations,\n      scrCoords,\n      worldWidth,\n      enableSubpixelRendering = this.enableSubpixelRendering,\n      id,\n      markerData;\n\n  // Save the previous marker data dictionary and create a new one:\n  this.prevMarkerDataDict = prevMarkerDataDict = this.markerDataDict;\n  this.markerDataDict = markerDataDict = {};\n\n  if (zoomLevel >= layer['min'] && zoomLevel <= layer['max']) {\n    response = this.fetchMarkers(bBox, zoomLevel, cacheOnly, prioCenter);\n    markers = response['markers'].sort(H.map.render.p2d.MarkerRenderer.zOrderComparator);\n    length = markers.length;\n    if (length) {\n      surface = this.surface;\n      surface.setOpacity(layer['opacity']);\n      for (i = 0; i < length; i++) {\n        marker = markers[i];\n\n        // Calculate the screen coordinates for this marker:\n        scrCoords = projection.geoToPixel(marker.getPosition());\n\n        // TODO Optimize? Adjust it only if the surface width is greater than world width?\n        worldWidth = projection['w'];\n        // Adjust the x coordinate to set the Marker close to the screen center if world is repeated on x-axis\n        scrCoords['x'] -= H.math.round(scrCoords['x'] / worldWidth) * worldWidth;\n        scrCoords.add(screenCenter);\n\n        if (!enableSubpixelRendering) {\n          scrCoords.round();\n        }\n\n        // Try to reuse a previous marker data or create a new one:\n        if (markerData = prevMarkerDataDict[id = marker.getId()]) {\n          delete prevMarkerDataDict[id];\n        } else {\n          markerData = /** @type {H.map.render.p2d.MarkerRenderer.MarkerData} */ ({marker: marker});\n        }\n        markerDataDict[id] = markerData;\n        // Render this marker:\n        this.renderMarker(\n            markerData,\n            marker,\n            marker.getIcon(),\n            surface,\n            scrCoords['x'],\n            scrCoords['y']);\n      }\n    }\n  }\n\n  // We return true if no markers were requested or if the reponse contained already all markers to render:\n  return !response || // no response at all, doesn't provide this zoom level\n      // response was tiled handle 'requested' field\n      (response['requested'] && (response['requested'] === response['total'])) ||\n      // response has only markers for the given bbox\n      (!response['requested'] && (markers.length === response['total']));\n};\n\n\n/**\n * To draw a single marker on this renderers surface\n * @abstract\n * @protected\n * @param {H.map.render.p2d.MarkerRenderer.MarkerData} data\n * @param {H.map.Marker|H.map.DomMarker} marker The marker to draw\n * @param {H.map.Icon|H.map.DomIcon} icon The marker's icon\n * @param {H.map.render.p2d.Surface} surface The surface of this renderer\n * @param {number} dx The destination X coordinate\n * @param {number} dy The destination Y coordinate\n */\nH.map.render.p2d.MarkerRenderer.prototype.renderMarker = goog.abstractMethod;\n\n\n//################################################  HIT TESTING  #######################################################\n/**\n * Abstract \"implementation\" of H.map.render.p2d.IPickable#getObjectsAt\n * @override\n */\nH.map.render.p2d.MarkerRenderer.prototype.getObjectsAt = goog.abstractMethod;\n\n\n//################################################  UTILITIES  #########################################################\n/**\n * A comparator function to use for z-order sorting of marker objects - see Array.prototype.sort().\n * @protected\n * @param {H.map.AbstractMarker} first\n * @param {H.map.AbstractMarker} second\n * @return {number}\n */\nH.map.render.p2d.MarkerRenderer.zOrderComparator = function(first, second) {\n  'use strict';\n  return first.compareZOrder(second);\n};\n\n\n/**\n * A structure to stores information for rendered markers.\n * @property {H.map.AbstractMarker} marker\n *           A reference to the associated marker object\n * @property {H.map.provider.Invalidations.Mark} invalMark\n *           The invalidation mark of the associated marker when it was rendered\n * @property {*} detail\n *           A property to store renderer class specific data\n *\n * @typedef {{\n *   marker:    (H.map.AbstractMarker),\n *   invalMark: (H.map.provider.Invalidations.Mark),\n *   detail:    (*)\n * }}\n */\nH.map.render.p2d.MarkerRenderer.MarkerData;\n\n\n/**\n * Options which can be used to initialize a MarkerRenderer.\n * @property {boolean} enableSubpixelRendering\n *\n * @typedef {{\n *   enableSubpixelRendering: (boolean)\n * }}\n */\nH.map.render.p2d.MarkerRenderer.Options;\n",
		"goog.provide('H.map.render.p2d.Surface');\n\ngoog.require('H.math');\ngoog.require('H.util.Disposable');\n\n\n\n//###############################################  CONSTRUCTOR  ########################################################\n/**\n * Class represents a drawing surface for a renderer.\n * @extends {H.util.Disposable}\n * @abstract\n * @constructor\n * @param {Element} container The container where the surface element must be appended\n * @param {number} width The width of the surface in pixels\n * @param {number} height The height of the surface in pixels\n * @param {number} pixelRatio The pixel ratio of the surface\n */\nH.map.render.p2d.Surface = function(container, width, height, pixelRatio) {\n  'use strict';\n  H.map.render.p2d.Surface.superClass_.constructor.call(this);\n\n  /**\n   * Reference to this surface container element\n   * @protected\n   * @type {Element}\n   */\n  this.container = container;\n\n  /**\n   * The pixel ratio of this surface\n   * @protected\n   * @type {number}\n   */\n  this.pixelRatio = pixelRatio;\n\n  /**\n   * Reference to this surface's element\n   * @protected\n   * @type {Element}\n   */\n  this.element = /** @type {Element} */(container.appendChild(this.createElement(container.ownerDocument)));\n\n  this.setSize(width, height);\n\n};\nH.lang.inherits(H.map.render.p2d.Surface, H.util.Disposable);\n\n\n//###########################################  CONTAINER + ELEMENT  ####################################################\n/**\n * To create the element of this surface\n * @protected\n * @abstract\n * @param {Document} ownerDoc The document to use when creating the element\n * @return {!Element}\n */\nH.map.render.p2d.Surface.prototype.createElement = goog.abstractMethod;\n\n\n/**\n * This method returns the surface's container element.\n * @return {Element} the container element\n */\nH.map.render.p2d.Surface.prototype.getContainer = function() {\n  'use strict';\n  return this.container;\n};\n\n\n/**\n * This method returns the surface element.\n * @return {Element}\n */\nH.map.render.p2d.Surface.prototype.getElement = function() {\n  'use strict';\n  return this.element;\n};\n\n\n//####################################################  SIZE  ##########################################################\n/**\n * The width of this surface in CSS pixels\n * @protected\n * @type {number}\n */\nH.map.render.p2d.Surface.prototype.width;\n\n\n/**\n * The height of this surface in CSS pixels\n * @protected\n * @type {number}\n */\nH.map.render.p2d.Surface.prototype.height;\n\n\n/**\n * To set the size of this surface\n * @param {number} width The width of the surface in pixels, minimum is 1 pixel\n * @param {number} height The height of the surface in pixels, minimum is 1 pixel\n */\nH.map.render.p2d.Surface.prototype.setSize = function(width, height) {\n  'use strict';\n  this.setSizeInternal(\n      this.element,\n      this.element.style,\n      this.width = width,\n      this.height = height,\n      this.pixelRatio);\n};\n\n\n/**\n * To get the size and pixelRatio of this surface\n * @return {H.map.render.p2d.Surface.Size}\n */\nH.map.render.p2d.Surface.prototype.getSize = function() {\n  'use strict';\n  return {width: this.width, height: this.height, pixelRatio: this.pixelRatio};\n};\n\n\n/**\n * To adjust the size of this surface\n * @protected\n * @abstract\n * @param {Element} element The element of this surface\n * @param {CSSStyleDeclaration} style The element's style\n * @param {number} width The width of the surface in pixels, minimum is 1 pixel\n * @param {number} height The height of the surface in pixels, minimum is 1 pixel\n * @param {number} pixelRatio The pixelRatio to use, minimum is 1/4, maximum\n */\nH.map.render.p2d.Surface.prototype.setSizeInternal = goog.abstractMethod;\n\n\n/**\n * Data represents size of the surface, and its pixel ratio\n * @typedef {{\n *   width: (number),\n *   height: (number),\n *   pixelRatio: (number)\n * }} H.map.render.p2d.Surface.Size\n */\nH.map.render.p2d.Surface.Size;\n\n\n//################################################  OPACITY  ###########################################################\n/**\n * The opacity of this surface, default is {@code 1}\n * @protected\n * @type {number}\n */\nH.map.render.p2d.Surface.prototype.opacity = 1;\n\n\n/**\n * To set the opacity of this surface.\n * @param {number} opacity The opacity value in range {@code [0...1]}\n */\nH.map.render.p2d.Surface.prototype.setOpacity = function(opacity) {\n  'use strict';\n  if (this.opacity !== opacity) {\n    this.setOpacityInternal(opacity);\n    this.opacity = opacity;\n  }\n};\n\n\n/**\n * Returns the current opacity of this surface\n * @return {number} opacity\n */\nH.map.render.p2d.Surface.prototype.getOpacity = function() {\n  'use strict';\n  return this.opacity;\n};\n\n\n/**\n * To set the opacity of this surface.\n * @protected\n * @abstract\n * @param {number} opacity The opacity value in range {@code [0...1]}\n */\nH.map.render.p2d.Surface.prototype.setOpacityInternal = goog.abstractMethod;\n\n\n//#################################################  DRAW  #############################################################\n/**\n * To draw an element onto this surface\n * @param {Element} el The element to draw, derived sub classes can restrict the type\n * @param {number} dx The destination x coordinate\n * @param {number} dy The destination y coordinate\n * @param {number} dw The destination width\n * @param {number} dh The destination height\n */\nH.map.render.p2d.Surface.prototype.draw = goog.abstractMethod;\n// TODO add optional arguments [sx, sy[, sw, sh]] to support sprites\n\n\n//#################################################  CLEAR  ############################################################\n/**\n * To clear the surface. If no opt_target argument is specified the whole surface is cleared.\n * Some Surfaces need a clear() before drawing new content (e.g. Canvas based) others needs a clear(target) afterwards\n * (e.g. DOM based)\n * @param {*=} opt_target The target to clear\n *      The type of the target is further specified in concrete implementations classes\n */\nH.map.render.p2d.Surface.prototype.clear = goog.abstractMethod;\n\n\n//################################################  DISPOSABLE  ########################################################\n/**\n * Protected implementation of H.util.Disposable.disposeInternal\n * @protected\n */\nH.map.render.p2d.Surface.prototype.disposeInternal = function() {\n  'use strict';\n  this.clear();\n  this.container.removeChild(this.element);\n  this.setSize(0, 0);\n  this.element = this.container = null;\n  H.map.render.p2d.Surface.superClass_.disposeInternal.call(this);\n};\n",
		"goog.provide('H.map.render.p2d.canvas.MarkerRenderer');\n\ngoog.require('H.map.render.p2d.MarkerRenderer');\ngoog.require('H.math.Rect');\ngoog.require('H.util');\n\n\n\n//###############################################  CONSTRUCTOR  ########################################################\n/**\n * This renderer fetches Marker objects from the associated layer and render them on a Canvas Surface.\n * @constructor\n * @extends {H.map.render.p2d.MarkerRenderer}\n * @param {H.map.layer.IMarkerLayer} layer\n * @param {H.map.render.p2d.canvas.Surface} surface\n * @param {H.map.render.p2d.MarkerRenderer.Options=} opt_options\n */\nH.map.render.p2d.canvas.MarkerRenderer = function(layer, surface, opt_options) {\n  'use strict';\n\n  // Initial marker data list, because otherwise it is first set in render() and getObjectsAt would fail:\n  this.markerDataList_ = [];\n\n  H.map.render.p2d.canvas.MarkerRenderer.superClass_.constructor.apply(this, arguments);\n};\ngoog.inherits(H.map.render.p2d.canvas.MarkerRenderer, H.map.render.p2d.MarkerRenderer);\n\n\n//#################################################  RENDERING  ########################################################\n/**\n * Concrete implementation of H.map.render.p2d.MarkerRenderer.prototype.fetchMarkers\n * @override\n */\nH.map.render.p2d.canvas.MarkerRenderer.prototype.fetchMarkers = function() {\n  'use strict';\n  return this.layer.requestMarkers.apply(this.layer, arguments);\n};\n\n\n/**\n * A list of MarkerData for all currently rendered markers in ascending z-order.\n * It's needed for hit testing and is reset at the begin of each render() call\n * @private\n * @type {Array.<H.map.render.p2d.MarkerRenderer.MarkerData>}\n */\nH.map.render.p2d.canvas.MarkerRenderer.prototype.markerDataList_;\n\n\n/**\n * Override the super's render() to reset the markerDataList_\n * @override\n */\nH.map.render.p2d.canvas.MarkerRenderer.prototype.render = function() {\n  'use strict';\n  // Reset the list of rendered markers:\n  this.markerDataList_ = [];\n  return H.map.render.p2d.canvas.MarkerRenderer.superClass_.render.apply(this, arguments);\n};\n\n\n/**\n * Concrete implementation of H.map.render.p2d.MarkerRenderer.prototype.renderMarker\n * @override\n */\nH.map.render.p2d.canvas.MarkerRenderer.prototype.renderMarker = function(data, marker, icon, surface, dx, dy) {\n  'use strict';\n  // Just to satisfy CC's type checks, code will be dropped by compiler:\n  marker = /** type {H.map.Marker} */ (marker);\n  icon = /** type {H.map.Icon} */ (icon);\n  surface = /** @type {H.map.render.p2d.canvas.Surface} */(surface);\n\n  var size = icon.getSize(),\n      enableSubpixelRendering = this.enableSubpixelRendering,\n      dw = size['w'],\n      dh = size['h'],\n      anchor = icon.getAnchor();\n\n  dx -= enableSubpixelRendering ? anchor['x'] : H.math.round(anchor['x']);\n  dy -= enableSubpixelRendering ? anchor['y'] : H.math.round(anchor['y']);\n  surface.draw(icon.getBitmap(), dx, dy, dw, dh);\n  // If we have already an old screen rectangle we just update it, otherwise we have to instantiate a new one\n  if (data.details) {\n    data.details.set(dx, dy, dx + dw, dy + dh);\n  } else {\n    data.details = new H.math.Rect(dx, dy, dx + dw, dy + dh);\n  }\n  this.markerDataList_.push(data);\n};\n\n\n//################################################  HIT TESTING  #######################################################\n/**\n * Concrete implementation of H.map.render.p2d.IPickable#getObjectsAt\n * @override\n */\nH.map.render.p2d.canvas.MarkerRenderer.prototype.getObjectsAt = function(x, y, opt_topMostOnly) {\n  'use strict';\n  var markerDataList = this.markerDataList_,\n      i = markerDataList.length,\n      markerData,\n      scrRect,\n      marker,\n      hitArea,\n      objects;\n\n  while (i--) {\n    markerData = markerDataList[i];\n    scrRect = /** @type {H.math.Rect} */ (markerData.details);\n    if (scrRect.containsXY(x, y)) {\n      marker = markerData.marker;\n      // Marker has no hitArea or x/y is within the hitArea?\n      if (!(hitArea = marker.getIcon().getHitArea()) || hitArea.hitTest(x - scrRect['left'], y - scrRect['top'], 0)) {\n        if (objects) {\n          objects.push(marker);\n        } else {\n          // It's the first object:\n          objects = [marker];\n          if (opt_topMostOnly) {\n            break;\n          }\n        }\n      }\n    }\n  }\n  return objects || H.util.emptyArray;\n};\n\n\n//################################################  DISPOSABLE  ########################################################\n/**\n * @override\n */\nH.map.render.p2d.canvas.MarkerRenderer.prototype.disposeInternal = function() {\n  'use strict';\n  this.markerDataList_ = null;\n  H.map.render.p2d.canvas.MarkerRenderer.superClass_.disposeInternal.call(this);\n};\n",
		"goog.provide('H.map.HitArea');\n\n\ngoog.require('H.lang');\ngoog.require('H.math');\n\n\n\n/**\n * This class represents an area that objects, like a marker, occupies in the screen space, meaning that\n * object can be probed and returned by {@link H.Map@getObjectsAt} method.\n * @publish\n * @export\n * @final\n * @constructor\n * @param {H.map.HitArea.ShapeType} shapeType type of HitArea's shape {@link H.map.HitArea.ShapeType}\n * @param {Array.<number>} values the type-dependent values to define the shape of the hit area. The format\n * for the different types are: H.map.HitArea.ShapeType.RECT: [left, top, right, bottom],\n * H.map.HitArea.ShapeType.CIRCLE: [centerX, centerY, radius],\n * H.map.HitArea.ShapeType.POLYGON: [x1, y1, x2, y2 &#x2026; xN,yN]\n */\nH.map.HitArea = function(shapeType, values) {\n  'use strict';\n  var len,\n      i,\n      r,\n      x,\n      y,\n      deg,\n      rad,\n      type = shapeType,\n      types = [H.map.HitArea.ShapeType['RECT'],\n        H.map.HitArea.ShapeType['CIRCLE'],\n        H.map.HitArea.ShapeType['POLYGON']];\n  values = [].concat(values);\n  len = i = values.length;\n  if (types.indexOf(type) === -1) {\n    throw new H.lang.InvalidArgumentError(H.map.HitArea, 0, shapeType);\n  }\n  if (!values) {\n    throw new H.lang.InvalidArgumentError(H.map.HitArea, 1, values);\n  }\n  while (i--) {\n    if (H.lang.isNaN(values[i])) {\n      throw new H.lang.InvalidArgumentError(H.map.HitArea, 1, values);\n    }\n  }\n\n  // rectangle to polygon\n  if (type === H.map.HitArea.ShapeType['RECT'] && len > 3) {\n    values = [\n      values[0], values[1], // left, top\n      values[2], values[1], // right, top\n      values[2], values[3], // right, bottom\n      values[0], values[3] // left, bottom\n    ];\n    type = H.map.HitArea.ShapeType['POLYGON'];\n  }\n\n  // circle to polygon\n  if (type === H.map.HitArea.ShapeType['CIRCLE'] && len > 2) {\n    // positive radius?\n    r = values[2];\n    if (r > 0) {\n      x = values[0];\n      y = values[1];\n      i = H.math.min(H.math.ceil(r) * 2, 40);\n      deg = 360 / i;\n      values = [];\n      while (i--) {\n        rad = deg * i * H.math.PI_OVER_180;\n        values.push(x + H.math.sin(rad) * r, y + H.math.cos(rad) * r);\n      }\n      type = H.map.HitArea.ShapeType['POLYGON'];\n    }\n  }\n\n  if (type === H.map.HitArea.ShapeType['POLYGON'] && len && !(values.length % 2)) {\n    this.polygon_ = values;\n  } else {\n    throw new H.lang.InvalidArgumentError(H.map.HitArea, 1, values);\n  }\n};\n\n\n/**\n * This method tests if HitArea covers the given coordinate.\n * @param {number} x x pixel coordinate to test\n * @param {number} y y pixel coordinate to test\n * @param {number} tolerance A numeric value indicating the tolerance to use for\n * hit testing\n * @return {H.math.CoverType} returns type of coverage\n */\nH.map.HitArea.prototype.hitTest = function(x, y, tolerance) {\n  'use strict';\n  return H.math.isCoveredBy(x, y, this.polygon_, tolerance, true);\n};\n\n\n/**\n * Enumeration represents possible shape types that HitArea can have.\n * @enum {number}\n * @export\n * @publish\n */\nH.map.HitArea.ShapeType = {\n  'RECT': 0,\n  'CIRCLE': 1,\n  'POLYGON': 2\n};\n",
		"goog.provide('H.math.Vector');\n\ngoog.require('H.lang');\ngoog.require('H.lang.InvalidArgumentError');\ngoog.require('H.math');\n\n// TODO Remove Vector, use Point instead\n\n// <== why ? vectors and points\n// are by definition 2 different things... event though they do have same property names\n// why not remove point instead and use Vector everywhere :) how that would look ?\n\n\n\n/**\n * Class represents a vector in 2-dimensional space. Vector is\n * defined by two properties x and y.\n * @export\n * @final\n * @constructor\n * @param {number} x delta on x-axis\n * @param {number} y delta on y-axis\n */\nH.math.Vector = function(x, y) {\n  'use strict';\n\n  if (H.lang.isNaN(this.x = +x)) {\n    throw new H.lang.InvalidArgumentError(H.math.Vector, 0, x);\n  }\n  if (H.lang.isNaN(this.y = +y)) {\n    throw new H.lang.InvalidArgumentError(H.math.Vector, 1, y);\n  }\n\n};\n\n\n/**\n * @type {number}\n * @expose\n */\nH.math.Vector.prototype.x;\n\n\n/**\n * @type {number}\n * @expose\n */\nH.math.Vector.prototype.y;\n\n\n/**\n * This method adds another vector to the current one.\n * @param {H.math.Vector} other\n * @return {H.math.Vector}\n * @export\n */\nH.math.Vector.prototype.add = function(other) {\n  'use strict';\n  return new H.math.Vector(\n      this.x + other.x,\n      this.y + other.y\n  );\n};\n\n\n/**\n * This method substracts another vector from current one.\n * @param {H.math.Vector} other\n * @return {H.math.Vector}\n * @export\n */\nH.math.Vector.prototype.subtract = function(other) {\n  'use strict';\n  return new H.math.Vector(\n      this.x - other.x,\n      this.y - other.y\n  );\n};\n\n\n/**\n * This method creates the 'dot' product of the given vector and the current one.\n * provided by the caller.\n * @param {H.math.Vector} other\n * @return {number}\n * @export\n */\nH.math.Vector.prototype.dot = function(other) {\n  'use strict';\n  if (!H.lang.isInstanceOf(other, H.math.Vector)) {\n    throw new H.lang.InvalidArgumentError(this.dot, 0, other);\n  }\n  var product = this.multiply(other);\n  return (product.x + product.y);\n};\n\n\n/**\n * This method creates a vector that represents the product of the given vector and\n * the one provided by the caller.\n * @param {H.math.Vector} other\n * @return {H.math.Vector}\n * @export\n */\nH.math.Vector.prototype.multiply = function(other) {\n  'use strict';\n  if (!H.lang.isInstanceOf(other, H.math.Vector)) {\n    throw new H.lang.InvalidArgumentError(this.multiply, 0, other);\n  }\n  return new H.math.Vector(\n      this.x * other.x,\n      this.y * other.y\n  );\n};\n\n\n/**\n * This method multplies all vector values by given scale.\n * @param {number} scale\n * @return {H.math.Vector}\n * @export\n */\nH.math.Vector.prototype.rescale = function(scale) {\n  'use strict';\n  return new H.math.Vector(\n      this.x * scale,\n      this.y * scale\n  );\n};\n\n\n/**\n * This method returns the length of the vector (magnitude).\n * @return {number}\n * @export\n */\nH.math.Vector.prototype.magnitude = function() {\n  'use strict';\n  return H.math.sqrt(this.dot(this));\n};\n\n\n/**\n * This function returns normalized vector. Normalized vector is\n * a vector which has a magnitude equal to 1.\n * @return {H.math.Vector}\n * @export\n */\nH.math.Vector.prototype.normalize = function() {\n  'use strict';\n  var mag = this.magnitude();\n  if (mag !== 0) {\n    return new H.math.Vector(\n        this.x / mag,\n        this.y / mag\n    );\n  } else {\n    return this;\n  }\n\n};\n\n\n",
		"goog.provide('H.map.render.p2d.InteractionUtils');\n\ngoog.require('H.lang');\ngoog.require('H.lang.InvalidArgumentError');\ngoog.require('H.math.Vector');\n\n\n\n/**\n * Interaction utilities record current interaction values. In addition\n * utilities provide functionality to calculate current speed and direction which\n * is used fot he kinetic animation. Utilities also resolve interaction tolerances\n * which means that you can adjust the minimal required move or minimal time\n * from last interaction to trigger kinetic move. Tolerance will adjust calculated\n * speed and direction.\n *\n * Utilities also resolve bifocal interaction in terms of the direction and\n * move vectors\n *\n * @constructor\n * @param {H.map.render.p2d.InteractionUtils.Options=} opt_options\n */\nH.map.render.p2d.InteractionUtils = function(opt_options) {\n  'use strict';\n  var opts = opt_options || {};\n  this.minSpeed_ = opts['minSpeed'] || 3;\n  this.vectorTolerance_ = opts['vectorTolerance'] || 3;\n  this.maxSpeed_ = opts['maxSpeed'] || 300;\n  this.timeTolerance_ = opts['timeTolerance'] || 50;\n  this.points_ = [];\n  this.running_ = false;\n  this.isRecording_ = false;\n\n  /**\n   * @private\n   * @type {?H.map.render.p2d.InteractionUtils.Point}\n   */\n  this.current_ = null;\n\n  /**\n   * @private\n   * @type {?H.map.render.p2d.InteractionUtils.Point}\n   */\n  this.previous_ = null;\n};\n\n\n/**\n * Function returns a vector calculated from the itneraction delta objects\n * it resolves bifocality\n * @private\n * @param {?H.map.render.p2d.InteractionUtils.Point} point\n * @param {?H.map.render.p2d.InteractionUtils.Point} previousPoint\n * @return {H.math.Vector}\n */\nH.map.render.p2d.InteractionUtils.prototype.getMoveVector_ = function(point, previousPoint) {\n  'use strict';\n  var p1,\n      p2,\n      distanceA,\n      distanceB,\n      vect,\n      dx,\n      dy;\n\n  if (!previousPoint) {\n    vect = new H.math.Vector(0, 0);\n  } else {\n    if (point['bifocal'] && previousPoint['bifocal']) {\n      //both points are bifocal use center between points\n      p1 = this.getBifocalCenter_(point);\n      p2 = this.getBifocalCenter_(previousPoint);\n    } else if (previousPoint['bifocal']) {\n      //previous point is bifocal and current is not\n      //take vector between current point and most close point from the prvious\n      p1 = this.getMathPoint_(point);\n      distanceA = this.getMathPoint_(previousPoint).distance(p1);\n      distanceB = this.getMathPoint_(previousPoint, true).distance(p1);\n      if (distanceA > distanceB) {\n        p2 = this.getMathPoint_(previousPoint, true);\n      } else {\n        p2 = this.getMathPoint_(previousPoint);\n      }\n    } else if (point['bifocal'] && !previousPoint['bifocal']) {\n      p2 = this.getMathPoint_(previousPoint);\n      distanceA = this.getMathPoint_(point).distance(p2);\n      distanceB = this.getMathPoint_(point, true).distance(p2);\n      if (distanceA > distanceB) {\n        p1 = this.getMathPoint_(point, true);\n      } else {\n        p1 = this.getMathPoint_(point);\n      }\n    } else {\n      p1 = point;\n      p2 = previousPoint;\n    }\n\n    //calculate the vector\n    dx = p1['x'] - p2['x'];\n    dy = p1['y'] - p2['y'];\n    vect = new H.math.Vector(dx, dy);\n  }\n\n  return vect;\n\n};\n\n\n/**\n * Function returns a move from the recorded point list\n * by the given index. Takes indexed point and previous oneto calculate the move vector\n * @param {number} index\n * @private\n * @return {H.math.Vector}\n */\nH.map.render.p2d.InteractionUtils.prototype.getRecordedMove_ = function(index) {\n  'use strict';\n  return this.getMoveVector_(this.points_[index], this.points_[index - 1]);\n};\n\n\n/**\n * Function returns distance between bifocal points of itneraction\n * @private\n * @param {?H.map.render.p2d.InteractionUtils.Point} point\n * @return {number}\n */\nH.map.render.p2d.InteractionUtils.prototype.getBifocalDistance_ = function(point) {\n  'use strict';\n  var dx,\n      dy;\n\n  if (!point || H.lang.isNaN(point['bx']) || H.lang.isNaN(point['by'])) {\n    return 0;\n  } else {\n    dx = point['bx'] - point['x'];\n    dy = point['by'] - point['y'];\n    return H.math.sqrt(dx * dx + dy * dy);\n  }\n};\n\n\n/**\n * Function returns the center between bifocal interaction points\n * @private\n * @param {?H.map.render.p2d.InteractionUtils.Point} point\n * @return {H.math.Point|undefined}\n */\nH.map.render.p2d.InteractionUtils.prototype.getBifocalCenter_ = function(point) {\n  'use strict';\n  var center,\n      dx,\n      dy;\n\n  if (point && !H.lang.isNaN(point['bx']) && !H.lang.isNaN(point['by'])) {\n    dx = point['x'] - point['bx'];\n    dy = point['y'] - point['by'];\n    center = new H.math.Point(point['x'] - dx / 2, point['y'] - dy / 2);\n  }\n\n  return center;\n};\n\n\n/**\n * Function gets point object from the record with x,y or bifocal x,y if\n * opt_isBifocal is set to true\n * @private\n * @param {H.map.render.p2d.InteractionUtils.Point} point\n * @param {boolean=} opt_isBifocal\n * @return {H.math.Point | null}\n */\nH.map.render.p2d.InteractionUtils.prototype.getMathPoint_ = function(point, opt_isBifocal) {\n  'use strict';\n  return opt_isBifocal ? new H.math.Point(point['bx'], point['by']) :\n      new H.math.Point(point['x'], point['y']);\n};\n\n\n/**\n * Stores the initial value for interaction\n * @param {H.map.render.RenderEngine.InteractionModifiers} modifiers\n * @param {boolean} isRecording\n */\nH.map.render.p2d.InteractionUtils.prototype.start = function(modifiers, isRecording) {\n  'use strict';\n\n  if (H.lang.isNaN(modifiers)) {\n    throw new H.lang.InvalidArgumentError(this.start, 0, modifiers);\n  }\n\n  if (this.running_) {\n    this.clear(); //clear records new interaction start invalidates previous\n  }\n  //start and store first values\n  this.modifiers_ = modifiers;\n  this.running_ = true;\n  this.isRecording_ = !!isRecording;\n};\n\n\n/**\n * Stores current interact values and the interaction vectors\n * @param {number} x\n * @param {number} y\n * @param {number=} opt_bx\n * @param {number=} opt_by\n * @param {number=} opt_timestamp\n */\nH.map.render.p2d.InteractionUtils.prototype.store = function(x, y, opt_bx, opt_by, opt_timestamp) {\n  'use strict';\n\n  var invalidArgNr = H.lang.isNaN(x) ? 0 :\n      H.lang.isNaN(y) ? 1 :\n      H.lang.isDefAndNotNull(opt_bx) && H.lang.isNaN(opt_bx) ? 2 :\n      H.lang.isDefAndNotNull(opt_by) && H.lang.isNaN(opt_by) ? 3 :\n      H.lang.isDefAndNotNull(opt_timestamp) && H.lang.isNaN(opt_timestamp) ? 4 :\n      H.lang.UNDEF;\n\n  if (invalidArgNr >= 0) {\n    throw new H.lang.InvalidArgumentError(this.store, invalidArgNr, arguments[invalidArgNr]);\n  }\n\n  if (this.running_) {\n    opt_timestamp = opt_timestamp || (new Date()).getTime();\n\n    this.previous_ = this.current_;\n    this.current_ = /** @type {H.map.render.p2d.InteractionUtils.Point} */ ({\n      'x': x,\n      'y': y,\n      'bx': H.lang.isDefAndNotNull(opt_bx) ? opt_bx : NaN,\n      'by': H.lang.isDefAndNotNull(opt_by) ? opt_by : NaN,\n      'ts': opt_timestamp,\n      'bifocal': H.lang.isDefAndNotNull(opt_bx) && H.lang.isDefAndNotNull(opt_by)\n    });\n\n    if (this.isRecording_) {\n      this.points_.push(this.current_);\n    }\n  }\n};\n\n\n/**\n * Marks interaction as ended and clears all the records if present\n */\nH.map.render.p2d.InteractionUtils.prototype.clear = function() {\n  'use strict';\n  this.points_ = [];\n  this.running_ = false;\n  this.isRecording_ = false;\n  this.previous_ = null;\n  this.current_ = null;\n};\n\n\n/**\n * Function returns true if the passed modifier is included\n * in current interaction\n * @param {number} modifier\n * @return {boolean}\n */\nH.map.render.p2d.InteractionUtils.prototype.has = function(modifier) {\n  'use strict';\n  if (H.lang.isNaN(modifier)) {\n    throw new H.lang.InvalidArgumentError(this.has, 0, modifier);\n  }\n  return !!(this.modifiers_ & modifier);\n};\n\n\n/**\n * Function indicates if there is an interaction running\n * @return {boolean}\n */\nH.map.render.p2d.InteractionUtils.prototype.isRunning = function() {\n  'use strict';\n  return this.running_;\n};\n\n\n/**\n * Function returns the interaction points list\n * @return {Array.<H.map.render.p2d.InteractionUtils.Point>}\n */\nH.map.render.p2d.InteractionUtils.prototype.getPoints = function() {\n  'use strict';\n  return this.points_;\n};\n\n\n/**\n * Returns the current direction of the interaction as normalized\n * vector\n * @return {H.math.Vector}\n */\nH.map.render.p2d.InteractionUtils.prototype.getDirection = function() {\n  'use strict';\n  var i = this.points_.length,\n      num = 0,\n      vector = new H.math.Vector(0, 0);\n  if (this.isRecording_) {\n    while (--i && num < this.vectorTolerance_) {\n      vector = vector.add(this.getRecordedMove_(i));\n      num++;\n    }\n  } else {\n    vector = this.getMoveVector_(this.current_, this.previous_);\n  }\n\n  return vector.normalize();\n};\n\n\n/**\n * Returns the current interaction speed based on recorded move vectors, or if\n * recording is not on from the current and previous point\n * We are not using time to measure the speed since we cannto rely on events\n * timestamp (it can give you i.e 5,5 vector in 1ms difference)\n * @param {number=} opt_timeStamp\n * @return {number}\n */\nH.map.render.p2d.InteractionUtils.prototype.getSpeed = function(opt_timeStamp) {\n  'use strict';\n  opt_timeStamp = opt_timeStamp || Date.now();\n  var i = this.points_.length,\n      last = this.points_[i - 1],\n      speed,\n      num = 0,\n      mag = 0;\n\n  if (this.isRecording_) {\n    while (--i && num < this.vectorTolerance_) {\n      mag += this.getRecordedMove_(i).magnitude();\n      num++;\n    }\n    speed = mag / num;\n  } else {\n    last = this.current_;\n    speed = this.getMoveVector_(this.current_, this.previous_).magnitude();\n  }\n\n  if (speed >= this.minSpeed_ && (opt_timeStamp - last['ts'] <= this.timeTolerance_)) {\n    speed = (speed > this.maxSpeed_) ? this.maxSpeed_ : speed;\n  } else {\n    speed = 0;\n  }\n  return speed;\n};\n\n\n/**\n * Function return last move vector\n * @return {H.math.Vector}\n */\nH.map.render.p2d.InteractionUtils.prototype.getMoveVector = function() {\n  'use strict';\n  return this.getMoveVector_(this.current_, this.previous_);\n};\n\n\n/**\n * Function returns distance between points\n * @return {number}\n */\nH.map.render.p2d.InteractionUtils.prototype.getBifocalDistance = function() {\n  'use strict';\n  return this.getBifocalDistance_(this.current_);\n};\n\n\n/**\n * Function returns center between of the last interaction records or undefined\n * if there is no\n * @return {H.math.Point|undefined}\n */\nH.map.render.p2d.InteractionUtils.prototype.getBifocalCenter = function() {\n  'use strict';\n  return this.getBifocalCenter_(this.current_);\n};\n\n\n/**\n * Function returns new zoom level according to current one and change\n * of distance between interaction points (pinch zoom)\n * @param {number} zoomLevel\n * @return {number}\n */\nH.map.render.p2d.InteractionUtils.prototype.getBifocalZoom = function(zoomLevel) {\n  'use strict';\n  var prevDistance,\n      current = this.current_,\n      currentDistance;\n\n  if (H.lang.isNaN(zoomLevel)) {\n    throw new H.lang.InvalidArgumentError(this.getBifocalZoom, 0, zoomLevel);\n  }\n\n  if (current && this.previous_) {\n    prevDistance = this.getBifocalDistance_(this.previous_);\n    if (prevDistance !== 0) {\n      currentDistance = this.getBifocalDistance_(this.current_);\n      zoomLevel = H.math.log(H.math.pow(2, zoomLevel) *\n          (currentDistance / prevDistance)) / H.math.LN2;\n    }\n  }\n\n  return zoomLevel;\n\n};\n\n\n/**\n * Options which can be used to initialize the interaction utilities\n * @typedef {{\n *   minSpeed: (number|undefined),\n *   maxSpeed: (number|undefined),\n *   vetorTolerance: (number|undefined)\n * }}\n * @property {number} minSpeed minimal speed to trigger move, values lower than this value will be 0\n * @property {number} maxSpeed maximum speed values greater will be narrowde to this value\n * @property {number} vectorTolerance value which indicates how many vectors (if available) should\n * be taken into account then calculating final speed and direction\n */\nH.map.render.p2d.InteractionUtils.Options;\n\n\n/**\n * Represents interaction point, which might be a single or bi focal interaction.\n * @typedef {{\n *   x: number,\n *   y: number,\n *   bx: (number|undefined),\n *   by: (number|undefined),\n *   isBifocal: (boolean|undefined),\n *   ts: number\n * }}\n * @property {number} x position on x-axis for the interaction\n * @property {number} y position on y-axis for the interation\n * @property {number} bx position of the second point of interaction on x-axis\n * @property {number} by position of the second point of interaction on y-axis\n * @property {boolean} isBifocal flag indicating the this is bifocal point and has x,y and bx,by\n * @property {number} ts timestamp for the interaction\n */\nH.map.render.p2d.InteractionUtils.Point;\n\n",
		"goog.provide('H.map.render.p2d.ControlUtils');\n\ngoog.require('H.lang');\ngoog.require('H.math');\ngoog.require('H.math.Point');\ngoog.require('H.math.Vector');\ngoog.require('H.util.EventTarget');\n\n\n\n/**\n * Utilities for running control on engine. Utilities\n * provides input analysis and fire event which notifies\n * the engine if the control parameters has changed.\n * In addition provides functionality to calculate speed and direction\n * vectors used by the kinetics animation.\n *\n * @constructor\n * @extends {H.util.EventTarget}\n */\nH.map.render.p2d.ControlUtils = function() {\n  'use strict';\n  this.lvlChangeToPixels_ = 91.401472; //@TODO verify if this is a good number :) it is from the old engine\n  this.reset();\n};\nH.lang.inherits(H.map.render.p2d.ControlUtils, H.util.EventTarget);\n\n\n/**\n * Function marks control as started and sets the hook point if\n * x, y specified\n * @param {number=} opt_atX\n * @param {number=} opt_atY\n */\nH.map.render.p2d.ControlUtils.prototype.start = function(opt_atX, opt_atY) {\n  'use strict';\n  if (this.isRunning_) {\n    this.reset();\n  }\n\n  if (!H.lang.isNaN(opt_atX) && !H.lang.isNaN(opt_atY)) {\n    this['atX'] = opt_atX;\n    this['atY'] = opt_atY;\n  }\n\n  this.isRunning_ = true;\n};\n\n\n//#################################################  EVENTS  ###########################################################\n/**\n * Events fired by ControlUtils\n * @enum {string}\n */\nH.map.render.p2d.ControlUtils.prototype.EventType = {\n  ANIMATIONUPDATE: 'animationupdate'\n};\n\n\n/**\n * Fired when the current control amends or a new control starts\n * @event H.map.render.p2d.ControlUtils#animationupdate\n * @type {H.map.render.p2d.ControlUtils.Event}\n */\n\n\n\n//##############################################  ControlOffset  #######################################################\n/**\n * ControlUtils event which is fired to notify engine that it should\n * changed values for current control animation\n * @constructor\n * @extends {H.util.Event}\n * @param {H.map.render.p2d.ControlUtils.ControlOffset} offset offset values contains information\n * regarding the move vector changes along the axes\n */\nH.map.render.p2d.ControlUtils.Event = function(offset) {\n\n  H.map.render.p2d.ControlUtils.Event.superClass_.constructor.call(\n      this, H.map.render.p2d.ControlUtils.prototype.EventType.ANIMATIONUPDATE);\n\n  /**\n   * Property contains new offset which needs to be applied to animation\n   * @type {H.map.render.p2d.ControlUtils.ControlOffset}\n   */\n  this['offset'] = offset;\n};\nH.lang.inherits(H.map.render.p2d.ControlUtils.Event, H.util.Event);\n\n\n/**\n * Function indicates if the control is running\n * @return {boolean}\n */\nH.map.render.p2d.ControlUtils.prototype.isRunning = function() {\n  'use strict';\n  return this.isRunning_;\n};\n\n\n/**\n * Function sets the current control values and fires update animation event\n * if the move values has changed from the last time\n * @param {number} moveX move on x-axis in levels per millisecond\n * @param {number} moveY move on y-axis in levels per millisecond\n * @param {number} moveZ zoom change in levels per milisecond\n * @fires H.map.render.p2d.ControlUtils#animationupdate\n */\nH.map.render.p2d.ControlUtils.prototype.set = function(moveX, moveY, moveZ) {\n  'use strict';\n  if (this.isRunning_ && (this.moveX_ !== moveX || this.moveY_ !== moveY || this.moveZ_ !== moveZ)) {\n    this.moveX_ = moveX;\n    this.moveY_ = moveY;\n    this.moveZ_ = moveZ;\n    this.dispatchUpdate_();\n  }\n};\n\n\n/**\n * Function calculates move from levels to actual offset px change\n * @return {H.map.render.p2d.ControlUtils.ControlOffset}\n */\nH.map.render.p2d.ControlUtils.prototype.getOffsetValues = function() {\n  'use strict';\n  return {\n    'x': this.moveX_ * this.lvlChangeToPixels_,\n    'y': this.moveY_ * this.lvlChangeToPixels_,\n    'z': this.moveZ_\n  };\n};\n\n\n/**\n * Function dispatches animationupdate event. Listener should\n * update the move animation with new offset values\n * @fires H.map.render.p2d.ControlUtils#animationupdate\n * @private\n */\nH.map.render.p2d.ControlUtils.prototype.dispatchUpdate_ = function() {\n  'use strict';\n  var offset = this.getOffsetValues();\n  this.dispatchEvent(new H.map.render.p2d.ControlUtils.Event(offset));\n};\n\n\n/**\n * Function resets the values for the control\n */\nH.map.render.p2d.ControlUtils.prototype.reset = function() {\n  'use strict';\n  this.isRunning_ = false;\n  this['atX'] = null;\n  this['atY'] = null;\n  this.moveX_ = 0;\n  this.moveY_ = 0;\n  this.moveZ_ = 0;\n};\n\n\n/**\n * Function return current control speed\n * @return {number}\n */\nH.map.render.p2d.ControlUtils.prototype.getSpeed = function() {\n  'use strict';\n  var offset = this.getOffsetValues();\n  return H.math.sqrt(offset['x'] * offset['x'] + offset['y'] * offset['y'] + offset['z'] * offset['z']);\n};\n\n\n/**\n * Function returns normalized direction\n * @return {Object}\n */\nH.map.render.p2d.ControlUtils.prototype.getDirection = function() {\n  'use strict';\n  var offset = this.getOffsetValues(),\n      mag = this.getSpeed() || 1;\n  return {\n    'x': offset['x'] / mag,\n    'y': offset['y'] / mag,\n    'z': offset['z'] / mag\n  };\n};\n\n\n/**\n * Function disposes control utils\n * @protected\n */\nH.map.render.p2d.ControlUtils.prototype.disposeInternal = function() {\n  'use strict';\n  this.reset();\n  H.map.render.p2d.ControlUtils.superClass_.disposeInternal.call(this);\n};\n\n\n/**\n * Represents a change (offset) values which should be applied\n * to the current view in every animation frame\n * @typedef {Object} H.map.render.p2d.ControlUtils.ControlOffset\n * @property {number} x x-axis change\n * @property {number} y y-axis change\n * @property {number} z zoom level change\n */\nH.map.render.p2d.ControlUtils.ControlOffset;\n\n\n",
		"goog.provide('H.map.render.p2d.dom.Surface');\n\ngoog.require('H.lang');\ngoog.require('H.lang.InvalidArgumentError');\ngoog.require('H.map.render.p2d.Surface');\n\n\n\n//###############################################  CONSTRUCTOR  ########################################################\n/**\n * Class represents a drawing surface based on DOM.\n * In distinction from {@link H.map.render.p2d.Surface#draw} the method\n * {@link H.map.render.p2d.dom.Surface#draw} excepts only a blittable HTMLImageElement or HTMLCanvasElement!\n *\n * @extends {H.map.render.p2d.Surface}\n * @constructor\n * @param {Element} container\n * @param {number} width The width of the surface in pixels (already multiplied by pixelRatio)\n * @param {number} height The height of the surface in pixels (already multiplied by pixelRatio)\n * @param {number} pixelRatio\n */\nH.map.render.p2d.dom.Surface = function(container, width, height, pixelRatio) {\n  'use strict';\n  H.map.render.p2d.dom.Surface.superClass_.constructor.apply(this, arguments);\n};\nH.lang.inherits(H.map.render.p2d.dom.Surface, H.map.render.p2d.Surface);\n\n\n//###########################################  CONTAINER + ELEMENT  ####################################################\n/**\n * Concrete implementation of {@link H.map.render.p2d.Surface.prototype.createElement}\n * @override\n */\nH.map.render.p2d.dom.Surface.prototype.createElement = function(ownerDoc) {\n  'use strict';\n  var element = ownerDoc.createElement('DIV');\n  element.style.position = 'absolute';\n  return element;\n};\n\n\n//####################################################  SIZE  ##########################################################\n/**\n * Concrete implementaion of {@link H.map.render.p2d.Surface.prototype.setSizeInternal}\n * @override\n */\nH.map.render.p2d.dom.Surface.prototype.setSizeInternal = function(element, style, width, height, pixelRatio) {\n  'use strict';\n  style.width = width + 'px';\n  style.height = height + 'px';\n};\n\n\n//################################################  OPACITY  ###########################################################\n/**\n * Concrete implementaion of {@link H.map.render.p2d.Surface.prototype.setOpacityInternal}\n * @override\n */\nH.map.render.p2d.dom.Surface.prototype.setOpacityInternal = function(opacity) {\n  'use strict';\n  this.element.style.opacity = opacity;\n};\n\n\n//#################################################  DRAW  #############################################################\n/**\n * Concrete implementaion of {@link H.map.render.p2d.Surface.prototype.draw}\n * @override\n */\nH.map.render.p2d.dom.Surface.prototype.draw = function(el, dx, dy, dw, dh) {\n  'use strict';\n  var pixelRatio = this.pixelRatio,\n      style = el.style;\n\n  // TODO Use a DOM library to set a transform which sets only the necessary style attributes!\n  style.webkitTransform =\n      style.mozTransform =\n      style.oTransform =\n      style.msTransform =\n      style.transform = 'matrix(' + [1, 0, 0, 1, dx / pixelRatio, dy / pixelRatio].join(',') + ')';\n\n  if (el.parentNode !== this.element) {\n    style.position = 'absolute';\n    this.element.appendChild(el);\n  }\n};\n\n\n//#################################################  CLEAR  ############################################################\n/**\n * Concrete implementaion of {@link H.map.render.p2d.Surface.prototype.clear}\n * The requested type for the opt_target argument is DOM Node\n * @override\n */\nH.map.render.p2d.dom.Surface.prototype.clear = function(opt_target) {\n  'use strict';\n  // Satisfy CC, will be dropped by compiler:\n  opt_target = /** @type {Node} */ (opt_target);\n\n  if (opt_target) {\n    this.element.removeChild(opt_target);\n  } else {\n    this.element.innerHTML = '';\n  }\n};\n",
		"goog.provide('H.map.render.p2d.capabilities');\n\n\n/**\n * Concrete object for H.map.render.p2d.RenderEngine.Capabilities\n */\nH.map.render.p2d.capabilities = {\n  'zoom': {\n    // TODO align min/max zoom with 'exp' in pixel projection.\n    'min': -8,\n    'max': 22\n  },\n  'camera': {\n    'alt': {'min': 0, 'max': 0},\n    'pitch': {'min': 0, 'max': 0},\n    'roll': {'min': 0, 'max': 0},\n    'yaw': {'min': 0, 'max': 0},\n    'fov': {'min': 70, 'max': 70}\n  },\n  'interaction': {\n    ZOOM: 1,\n    COORD: 16\n  },\n  'capture': true\n};\ngoog.exportSymbol('H.map.render.p2d.capabilities', H.map.render.p2d.capabilities);\n",
		"goog.provide('H.map.render.p2d.canvas.TileRenderer');\n\ngoog.require('H.lang.InvalidArgumentError');\n\n\n\n/**\n * Image renderer, places image tiles provided by the layer on the given surface.\n * @constructor\n * @implements {H.map.render.p2d.IPickable}\n * @param {H.map.layer.TileLayer} layer\n * @param {H.map.render.p2d.canvas.Surface} surface\n * @param {H.map.render.p2d.canvas.TileRenderer.Options=} opt_options\n */\nH.map.render.p2d.canvas.TileRenderer = function(layer, surface, opt_options) {\n  'use strict';\n  if (!layer) {\n    throw new H.lang.InvalidArgumentError(H.map.render.p2d.canvas.TileRenderer, 0, layer);\n  }\n  if (!surface) {\n    throw new H.lang.InvalidArgumentError(H.map.render.p2d.canvas.TileRenderer, 1, surface);\n  }\n\n  /**\n   * @private\n   */\n  this.layer_ = layer;\n\n  /**\n   * @private\n   */\n  this.surface_ = surface;\n\n  /**\n   * @private\n   */\n  this.placedTiles_ = {};\n\n  this.enableSubpixelRendering_ = opt_options && opt_options['enableSubpixelRendering'];\n};\n\n\n/**\n * This method requests all tiles for the given bounding box and zoom level and places them on the surface.\n * @param {H.geo.Rect} bbox\n * @param {H.math.Point} screenCenter\n * @param {H.geo.PixelProjection} projection\n * @param {number} zoomLevel The zoom level for which the objects should be rendered\n * @param {boolean} cacheOnly Indicates whether only cached objects are to be considered\n * @param {H.math.Point} prioCenter The priority center as an offset in screen pixel relative to the center\n * @return {boolean} returns true if rendering was completed (ex. all tiles were provided and placed)\n */\nH.map.render.p2d.canvas.TileRenderer.prototype.render = function(bbox, screenCenter, projection,\n    zoomLevel, cacheOnly, prioCenter) {\n  'use strict';\n\n  // TODO: getBestZoomLevel\n  var zoom = H.math.round(zoomLevel),\n      layer = this.layer_,\n      layerProjection = layer['pixelProjection'],\n      // we reassign zoom, needed if layer minimum exponent !== engine minimum exponent (see capabilities zoom)\n      adjustedZoom = zoom + (projection['exp'] - layerProjection['exp']),\n      min = layer['min'],\n      max = layer['max'],\n      response,\n      total,\n      tiles,\n      tileSize = layer['tileSize'],\n      layerOpacity = layer['opacity'],\n      tile,\n      surface = this.surface_,\n      surfaceOpacity = surface.getOpacity(),\n      width = surface.getSize().width,\n      projectionWidth = projection['w'],\n      offsetX = projection['x'],\n      offsetY = projection['y'],\n      len,\n      tileX,\n      tileY,\n      lastX,\n      scale,\n      origTileSize,\n      repeatXLeftBorder,\n      repeatXRightBorder,\n      placedTiles = {},\n      i,\n      data;\n\n  if (zoom < min || zoom > max) {\n    return true;\n  }\n\n  response = layer.requestTiles(bbox, adjustedZoom, cacheOnly, prioCenter);\n  total = response['total'];\n  tiles = response['tiles'];\n  len = tiles.length;\n\n  /**\n   * Initial value is undefined, will be set in each render call\n   * @private\n   * @type {(H.geo.PixelProjection|undefined)}\n   */\n  this.projection_ = projection;\n\n  /**\n   * Initial value is undefined, will be set in each render call\n   * @private\n   * @type {H.math.Point|undefined}\n   */\n  this.screenCenter_ = screenCenter;\n\n  /**\n   * Initial value is undefined, will be set in each render call\n   * @private\n   * @type {(number|undefined)}\n   */\n  this.zoomLevel_ = adjustedZoom;\n\n  if (surfaceOpacity !== layerOpacity) {\n    surface.setOpacity(layerOpacity);\n  }\n\n  tileSize = tileSize * projectionWidth / (H.math.pow(2, adjustedZoom) * tileSize);\n  origTileSize = tileSize;\n\n  if (!this.enableSubpixelRendering_) {\n\n    // if tile size is fractional floor tile size and recalculate world center\n    if (tileSize % 1) {\n      tileSize = H.math.floor(tileSize);\n      scale = origTileSize / tileSize;\n      offsetX = offsetX / scale;\n      offsetY = offsetY / scale;\n      projectionWidth = H.math.pow(2, adjustedZoom) * tileSize;\n    }\n\n    // floor world center in even if tile size is integral\n    offsetX = H.math.floor(offsetX);\n    offsetY = H.math.floor(offsetY);\n  }\n  this.renderedTileSize_ = origTileSize;\n\n  repeatXLeftBorder = -tileSize;\n  repeatXRightBorder = width + tileSize;\n\n  for (i = 0; i < len; i++) {\n    tile = tiles[i];\n    // TODO Sometimes we get SpatialTile instances which have unexpectedly a data value of null:\n    if (data = tile['data']) {\n      // calculate tile position\n      tileX = screenCenter['x'] - (offsetX - tile['x'] * tileSize);\n      tileY = screenCenter['y'] - (offsetY - tile['y'] * tileSize);\n\n      surface.draw(data, tileX, tileY, tileSize, tileSize);\n\n      // repeat tiles to the left from the main tile\n      lastX = tileX;\n      while ((lastX = lastX - projectionWidth) > repeatXLeftBorder) {\n        surface.draw(data, lastX, tileY, tileSize, tileSize);\n      }\n\n      // repeat tiles to the right from the main tile\n      lastX = tileX;\n      while ((lastX = lastX + projectionWidth) < repeatXRightBorder) {\n        surface.draw(data, lastX, tileY, tileSize, tileSize);\n      }\n    }\n    // TODO: quick fix should be replaced with getTileKey call\n    placedTiles[this.zoomLevel_ + '_' + tile.x + '_' + tile.y] = tile;\n  }\n\n  this.placedTiles_ = placedTiles;\n\n  return len === total;\n};\n\n\n/**\n * Returns visible objects under the given x/y coordinates. Array is sorted according to their drawing\n * order, topmost object has an index #0 in returned array.\n * @param {number} x x pixel coordinate\n * @param {number} y y pixel coordinate\n * @param {boolean=} opt_topMostOnly optional flag, if set method returns array with single element that is located\n * on top\n * @return {Array.<H.map.Object>} array of map objects\n */\nH.map.render.p2d.canvas.TileRenderer.prototype.getObjectsAt = function(x, y, opt_topMostOnly) {\n  'use strict';\n  if (H.lang.isDef(this.zoomLevel_)) {\n    var tileSize = this.renderedTileSize_,\n        scale = tileSize / this.layer_['tileSize'],\n        projection = this.projection_,\n        screenCenter = this.screenCenter_,\n        tile,\n        result,\n        offsetX = projection['x'] + (x - screenCenter['x']),\n        offsetY = projection['y'] + (y - screenCenter['y']),\n        // TODO: getBestZoomLevel\n        colWidth = H.math.floor(projection['w'] / tileSize),\n        col = H.math.floor(offsetX / tileSize),\n        fixedCol = col,\n        row = H.math.floor(offsetY / tileSize);\n\n    // adjust columns handle cases where it's from the left to CDB and multiple worlds case\n    if (H.math.abs(fixedCol) >= colWidth) {\n      fixedCol = fixedCol % colWidth;\n    }\n    if (fixedCol < 0) {\n      fixedCol = colWidth + fixedCol;\n    }\n\n    tile = this.placedTiles_[this.zoomLevel_ + '_' + fixedCol + '_' + row];\n    if (tile && tile.getObjectsAt) {\n      result = tile.getObjectsAt((offsetX - tileSize * col) / scale,\n          (offsetY - tileSize * row) / scale, opt_topMostOnly);\n    }\n\n  }\n  return result || /** @type {Array.<H.map.Object>} */ (H.util.emptyArray);\n};\n\n\n/**\n * Options which can be used to initialize the TileRenderer object.\n * @typedef {Object} H.map.render.p2d.canvas.TileRenderer.Options\n * @property {boolean} enableSubpixelRendering\n */\nH.map.render.p2d.canvas.TileRenderer.Options;\n",
		"goog.provide('H.util.animation.ease');\n\n/**\n * This mamespace contains easing functions used for Animation class.\n * @namespace H.util.animation.ease\n * @publish\n */\n\n\n/**\n * This function defines linear ease.\n * @publish\n * @export\n * @param {number} val A value in range [0..1] to translate\n * @return {number} the translated value\n */\nH.util.animation.ease.LINEAR = function(val) {\n  'use strict';\n  return val;\n};\n\n\n/**\n * This function defines quadratic ease in.\n * @publish\n * @export\n * @param {number} val A value in range [0..1] to translate\n * @return {number} the translated value\n */\nH.util.animation.ease.EASE_IN_QUAD = function(val) {\n  'use strict';\n  return val * val;\n};\n\n\n/**\n * This function defines quadratic ease out.\n * @publish\n * @export\n * @param {number} val A value in range [0..1] to translate\n * @return {number} the translated value\n */\nH.util.animation.ease.EASE_OUT_QUAD = function(val) {\n  'use strict';\n  return -val * (val - 2);\n};\n\n\n/**\n * This function defines ease in and out with slope.\n * @publish\n * @export\n * @param {number} val A value in range [0..1] to translate\n * @return {number} the translated value\n */\nH.util.animation.ease.EASE_IN_OUT_QUINT = function(val) {\n  'use strict';\n  val *= 2;\n  return val < 1 ?\n      H.math.pow(val, 5) / 2 :\n      (val -= 2, H.math.pow(val, 5) / 2 + 1);\n};\n\n\n/**\n * This function defines ease out with circ function\n * @param {number} val Parameter between 0..1\n * which is translated to output number between 0..1 regarding transforming function.\n * @return {number} 0..1\n * @export\n * @publish\n */\nH.util.animation.ease.EASE_OUT_CIRC = function(val) {\n  'use strict';\n  return H.math.sqrt(2 * val - val * val);\n};\n\n\n",
		"goog.provide('H.util.kinetics.KineticMove');\n\ngoog.require('H.lang');\n\n\n\n/**\n * KineticMove class defines basic physics regarding the decelerated move\n * (kinetics) which is used by the map for kinetic move after the drag is performed.\n * It contains all needed functionality to calculate deceleration, path current\n * speed in time for the deccelerated/accelerated move.\n * @export\n * @final\n * @constructor\n * @param {number} acceleration\n * @param {number=} opt_speed\n */\nH.util.kinetics.KineticMove = function(acceleration, opt_speed) {\n  'use strict';\n\n  if (H.lang.isNaN(this.acceleration_ = +acceleration)) {\n    throw new H.lang.InvalidArgumentError(H.util.kinetics.KineticMove, 0, acceleration);\n  }\n\n  this.duration_ = 0;\n  this.speed_ = 0;\n  if (opt_speed) {\n    this.setInitialSpeed(opt_speed);\n  }\n};\n\n\n/**\n * This method sets initial speed for (dec/ac)celeration.\n * @param {number} speed\n * @return {H.util.kinetics.KineticMove} the instance itself\n * @export\n */\nH.util.kinetics.KineticMove.prototype.setInitialSpeed = function(speed) {\n  'use strict';\n  this.speed_ = speed;\n  this.duration_ = this.getDuration();\n  return this;\n};\n\n\n/**\n * This method returns duration of the accelerated move for current initial speed.\n * @return {number}\n * @export\n */\nH.util.kinetics.KineticMove.prototype.getDuration = function() {\n  'use strict';\n  return Math.abs(this.speed_ / this.acceleration_);\n};\n\n\n/**\n * This method returns current speed over time.\n * @param {number} time\n * @return {number}\n * @export\n */\nH.util.kinetics.KineticMove.prototype.getCurrentSpeed = function(time) {\n  'use strict';\n  return this.speed_ + this.acceleration_ * time;\n};\n\n\n/**\n * This method returns current path in time.\n * @param {number} time\n * @return {number}\n * @export\n */\nH.util.kinetics.KineticMove.prototype.getCurrentPath = function(time) {\n  'use strict';\n  return this.speed_ * time + this.acceleration_ * time * time / 2;\n};\n\n\n",
		"goog.provide('H.util.animation.Animation');\n\ngoog.require('H.lang');\ngoog.require('H.lang.InvalidArgumentError');\ngoog.require('H.util.animation');\ngoog.require('H.util.animation.ease');\ngoog.require('H.util.shims');\n\n\n\n/**\n * This class represents animation. It defines animation by the transform function\n * which is fired on every requested animation frame, duration, and the easing function\n * (optionally). Transform function on every animation frame receives as arguments:\n * - progress - value in range of 0..1 indicating the progress of the animation where 1 is finished\n * - tileElapsed - time in milisecond measured from the start of the animation\n * - frameTime - time in miliseconds elapsed from the last frame\n * - tiemStamp - current timestamp\n *\n * @export\n * @final\n * @constructor\n * @param {function(number, number, number, number)} transform function which makes transformation during single fram\n * @param {number} duration duration in miliseconds\n * @param {function()=} opt_onAnimationStop function which is called when animation is ended\n * @param {function(number)=} opt_ease easing function which modifies the progress value\n */\nH.util.animation.Animation = function(transform, duration, opt_onAnimationStop, opt_ease) {\n  'use strict';\n\n  if (!H.lang.isFunction(this.transform_ = transform)) {\n    throw new H.lang.InvalidArgumentError(H.util.animation.Animation, 0, transform);\n  }\n  if (H.lang.isNaN(this.duration_ = +duration)) {\n    throw new H.lang.InvalidArgumentError(H.util.animation.Animation, 1, duration);\n  }\n  if (!H.lang.isFunction(this.onAnimationStop_ = opt_onAnimationStop) &&\n      H.lang.isDefAndNotNull(opt_onAnimationStop)) {\n    throw new H.lang.InvalidArgumentError(H.util.animation.Animation, 2, opt_onAnimationStop);\n  }\n  if (!H.lang.isFunction(this.ease_ = opt_ease) && H.lang.isDefAndNotNull(opt_ease)) {\n    throw new H.lang.InvalidArgumentError(H.util.animation.Animation, 3, opt_ease);\n  }\n\n  this.id = H.util.getUid();\n\n  this.isRunning_ = false;\n};\n\n\n/**\n * Stores duration in milisecond for the animation object\n * @type {number}\n * @private\n */\nH.util.animation.Animation.prototype.duration_;\n\n\n/**\n * Function which is called when animation finishes (unless it is suprpressed by the stop)\n * @type {(?function(H.util.animation.Animation)|undefined)}\n * @private\n */\nH.util.animation.Animation.prototype.onAnimationStop_;\n\n\n/**\n * Function which is used to ease animation\n * @type {(?function(number)|undefined)}\n * @private\n */\nH.util.animation.Animation.prototype.ease_;\n\n\n/**\n * Flag which indicates if the animation is running\n * @type {boolean}\n * @private\n */\nH.util.animation.Animation.prototype.isRunning_;\n\n\n/**\n * Stores transform function which is the function which is called every frame\n * @type {function(number, number, number, number)}\n * @private\n */\nH.util.animation.Animation.prototype.transform_;\n\n\n/**\n * This method starts the animation.\n * @export\n * @publish\n */\nH.util.animation.Animation.prototype.start = function() {\n  'use strict';\n  var that = this,\n      lastFrame,\n      requestAnimationFrame = H.util.shims.requestAnimationFrame,\n      transformWrapper;\n\n  transformWrapper = function() {\n    var timestamp = H.util.shims.now(),\n        timeElapsed = timestamp - that.startTime_,\n        progress = timeElapsed / that.duration_;\n\n    progress = progress > 1 ? 1 : progress;\n    if (that.ease_) {\n      progress = that.ease_(progress);\n    }\n\n    that.transform_(progress, timeElapsed, timestamp - lastFrame, timestamp);\n\n    lastFrame = timestamp;\n\n    progress >= 1 ? that.stop() : that.animationHandle_ = requestAnimationFrame(transformWrapper);\n  };\n\n  that.startTime_ = H.util.shims.now();\n  lastFrame = that.startTime_;\n\n  that.isRunning_ = true;\n  that.animationHandle_ = requestAnimationFrame(transformWrapper);\n};\n\n\n/**\n * This method stops animation. Method can also surpess the\n * animation end callback.\n * @param {boolean=} opt_suppressCallback if set to true animation stop callback is not fired\n * @export\n */\nH.util.animation.Animation.prototype.stop = function(opt_suppressCallback) {\n  'use strict';\n  H.util.shims.cancelAnimationFrame(this.animationHandle_);\n  this.isRunning_ = false;\n  opt_suppressCallback || this.onAnimationStop_ && this.onAnimationStop_(this);\n};\n\n\n/**\n * This method indicates if the animation is currently running.\n * @return {boolean}\n * @export\n */\nH.util.animation.Animation.prototype.isRunning = function() {\n  'use strict';\n  return this.isRunning_;\n};\n\n",
		"goog.provide('H.map.render.RenderEngine');\n\n\ngoog.require('H.lang.InvalidArgumentError');\ngoog.require('H.math.Rect');\ngoog.require('H.util.EventTarget');\n\n\n\n/**\n * Abstract RenderEngine class. Render engines are used to render geographical position\n * set on the view model to the actual screen (viewport element). The rendered result may be\n * different for different engines, since every engine uses its onw capabilities and specific\n * implementation to present the current view model data in best possible way. In example\n * for 2D engines user will se mostly 2 dimensional flat map presented by tiles, on the other\n * hand 3D engines like panorama will display the same coordinates as a 'street view'.\n * In other words RenderEngine is responsible for managing the rendering loop as well as\n * for synchronizing rendered data with the view model and the data model.\n * It manages what and how gets rendered inside the current viewport.\n *\n *\n * @constructor\n * @param {H.map.ViewPort} viewPort\n * @param {H.map.ViewModel} viewModel\n * @param {H.map.DataModel} dataModel\n * @param {H.map.render.RenderEngine.Options} options\n * @extends {H.util.EventTarget}\n * @abstract\n * @export\n * @publish\n */\nH.map.render.RenderEngine = function(viewPort, viewModel, dataModel, options) {\n  'use strict';\n\n  var rect = new H.math.Rect(0, 0, 0, 0);\n\n  H.map.render.RenderEngine.superClass_.constructor.call(this);\n\n  this.pixelRatio = options['pixelRatio'];\n\n\n  /**\n   * A cache for view-port bounds\n   * @protected\n   * @type {Object.<H.map.render.RenderEngine.ViewPortBoundsType, ?(H.math.Rect)>}\n   */\n  this.viewPortBounds = {\n    1: rect.clone(),\n    2: rect.clone(),\n    4: rect.clone()\n  };\n\n\n  /**\n   * @protected\n   * @type {H.map.ViewPort}\n   */\n  this.viewPort = viewPort;\n\n  if (!viewPort) {\n    throw new H.lang.InvalidArgumentError(H.map.render.RenderEngine,\n        0, viewPort);\n  }\n  this.updateViewPortBounds_();\n  viewPort.addEventListener(viewPort.EventType.UPDATE, this.onResize, false, this);\n  this.startInteraction = H.lang.bind(this.startInteraction, this);\n  this.interaction = H.lang.bind(this.interaction, this);\n  this.endInteraction = H.lang.bind(this.endInteraction, this);\n  viewPort['startInteraction'] = this.startInteraction;\n  viewPort['interaction'] = this.interaction;\n  viewPort['endInteraction'] = this.endInteraction;\n\n\n  /**\n   * @protected\n   * @type {H.map.ViewModel}\n   */\n  this.viewModel = viewModel;\n\n  if (!viewModel) {\n    throw new H.lang.InvalidArgumentError(H.map.render.RenderEngine,\n        1, viewModel);\n  }\n  this.startControl = H.lang.bind(this.startControl, this);\n  this.control = H.lang.bind(this.control, this);\n  this.endControl = H.lang.bind(this.endControl, this);\n  viewModel['startControl'] = this.startControl;\n  viewModel['control'] = this.control;\n  viewModel['endControl'] = this.endControl;\n  viewModel.addEventListener(viewModel.EventType.UPDATE, this.onViewUpdate, false, this);\n\n\n  /**\n   * @protected\n   * @type {H.map.DataModel}\n   */\n  this.dataModel = dataModel;\n\n  if (!dataModel) {\n    throw new H.lang.InvalidArgumentError(H.map.render.RenderEngine,\n        2, dataModel);\n  }\n\n};\nH.lang.inherits(H.map.render.RenderEngine, H.util.EventTarget);\n\n\n/**\n * @protected\n * @type {number}\n */\nH.map.render.RenderEngine.prototype.pixelRatio;\n\n\n/**\n * The enumeration type of view-port bounds\n * @const\n * @enum {number}\n */\nH.map.render.RenderEngine.ViewPortBoundsType = {\n  /**\n   * The view-bounds according the margined ViewPort's size, respecting the possibly shifted padding center\n   * @const\n   */\n  MARGINED: 1,\n  /**\n   * The view-bounds according the visible ViewPort's size, respecting the possibly shifted padding center\n   * @const\n   */\n  VISIBLE: 2,\n  /**\n   * The view-bounds according the padded ViewPort's size, respecting the possibly shifted padding center\n   * @const\n   */\n  PADDED: 4\n};\n\n\n/**\n * To request the bounding box according the specified view port bounds type\n * @export\n * @abstract\n * @param {H.map.render.RenderEngine.ViewPortBoundsType} type The type of the requested view-bounds.\n * @param {number} margin A positive or negative margin in screen pixel to apply on each side of the bounds\n * @return {H.geo.Rect}\n * @method\n */\nH.map.render.RenderEngine.prototype.getBBox = goog.abstractMethod;\n\n\n/**\n * Updates the viewPortBounds_\n * @private\n */\nH.map.render.RenderEngine.prototype.updateViewPortBounds_ = function() {\n  'use strict';\n  var viewPort = this.viewPort,\n      width = viewPort['width'],\n      height = viewPort['height'],\n      padding = viewPort['padding'],\n      paddingTop = padding['top'],\n      paddingLeft = padding['left'],\n      paddingBottom = padding['bottom'],\n      paddingRight = padding['right'],\n      margin = viewPort['margin'],\n      left = -(width + paddingLeft - paddingRight) / 2 << 0,\n      top = -(height + paddingTop - paddingBottom) / 2 << 0,\n      right = width + left,\n      bottom = height + top,\n      viewPortBounds = this.viewPortBounds,\n      pixelRatio = this.pixelRatio;\n\n  viewPortBounds[H.map.render.RenderEngine.ViewPortBoundsType.MARGINED].set(\n      (left - margin) * pixelRatio, (top - margin) * pixelRatio,\n      (right + margin) * pixelRatio, (bottom + margin) * pixelRatio);\n  viewPortBounds[H.map.render.RenderEngine.ViewPortBoundsType.VISIBLE].set(\n      left * pixelRatio, top * pixelRatio,\n      right * pixelRatio, bottom * pixelRatio);\n  viewPortBounds[H.map.render.RenderEngine.ViewPortBoundsType.PADDED].set(\n      (left + paddingLeft) * pixelRatio, (top + paddingTop) * pixelRatio,\n      (right - paddingRight) * pixelRatio, (bottom - paddingBottom) * pixelRatio);\n\n};\n\n\n/**\n * Callback to react on \"sizechange\", \"paddingchange\" and \"marginchange\" events from the view port.\n * @protected\n */\nH.map.render.RenderEngine.prototype.onResize = function() {\n  'use strict';\n  this.updateViewPortBounds_();\n};\n\n\n/**\n * @protected\n */\nH.map.render.RenderEngine.prototype.disposeInternal = function() {\n  'use strict';\n  var viewModel = this.viewModel,\n      viewPort = this.viewPort;\n\n  viewModel.removeEventListener(viewModel.EventType.UPDATE, this.onViewUpdate, false, this);\n  if (viewModel['startControl'] === this.startControl) {\n    viewModel['startControl'] = H.map.ViewModel.prototype.startControl;\n  }\n  if (viewModel['control'] === this.control) {\n    viewModel['control'] = H.map.ViewModel.prototype.control;\n  }\n  if (viewModel['endControl'] === this.endControl) {\n    viewModel['endControl'] = H.map.ViewModel.prototype.endControl;\n  }\n\n  viewPort.removeEventListener(viewPort.EventType.UPDATE, this.onResize, false, this);\n  if (viewPort['startInteraction'] === this.startInteraction) {\n    viewPort['startInteraction'] =\n        H.map.ViewPort.prototype.startInteraction;\n  }\n  if (viewPort['interaction'] === this.interaction) {\n    viewPort['interaction'] = H.map.ViewPort.prototype.interaction;\n  }\n  if (viewPort['endInteraction'] === this.endInteraction) {\n    viewPort['endInteraction'] = H.map.ViewPort.prototype.endInteraction;\n  }\n};\n\n\n/**\n * Helper function to check if the interaction is bifocal,\n * returns true if all provided screen coords are numbers\n * @protected\n * @param {number|undefined} x\n * @param {number|undefined} y\n * @param {number|undefined} bx\n * @param {number|undefined} by\n * @return {boolean}\n */\nH.map.render.RenderEngine.prototype.isBifocalInteraction = function(x, y, bx, by) {\n  'use strict';\n  return x === +x && y === +y && bx === +bx && by === +by;\n};\n\n\n/**\n * A method to signal the begin of a control operation. A currently ongoing\n * control operation stops without kinetic effect. A currently control\n * operation also stops if viewModel was updated or beginInteraction was\n * called.\n * @param {H.util.kinetics.IKinetics=} opt_kinetics A kinetics to use when\n * the control ends. If {@code null}, no kinetic effect is performed.\n * @param {number=} opt_atX The X component of the screen coordinate where a\n * view control operation is applied. If <code>NaN</code> the screen center is\n * taken instead.\n * @param {number=} opt_atY The Y component of the screen coordinate where a\n * view control operation is applied. If <code>NaN</code> the screen center is t\n * aken instead.\n * @abstract\n * @method\n */\nH.map.render.RenderEngine.prototype.startControl = goog.abstractMethod;\n\n\n/**\n * A method to process control operation.\n * If no control operation is currently ongoing ({@code beginControl} was not\n * triggered before or {@code endControl} was triggered meanwhile) the\n * {@code control} call is ignored.\n * @param {number} moveX The move of the camera in screen x axis as\n * levels per millisecond.\n * @param {number} moveY The move of the camera in screen x axis as\n * levels per millisecond.\n * @param {number} moveZ The move of the camera in screen z axis as levels\n * per millisecond.\n * @param {number} angleX The rotation of the camera on screen x axis as\n * degrees per millisecond.\n * @param {number} angleY The rotation of the camera on screen y axis as\n * degrees per millisecond.\n * @param {number} angleZ The rotation of the camera on screen z axis as\n * degrees per millisecond.\n * @param {number} zoom The zoom of the view as zoom levels per millisecond, ignored in <code>\"cam\"</code> mode.\n * @abstract\n * @method\n */\nH.map.render.RenderEngine.prototype.control = goog.abstractMethod;\n\n\n/**\n * A method to signal the end of an control operation. If an {@code kinetics}\n * argument was passed to {@code beginControl} call, the kinetic effect is\n * performed.\n * If no control operation is currently ongoing ({@code beginControl} was not\n * triggered before or an {@code endControl} was triggered meanwhile) the\n * {@code endControl} call is ignored.\n * @param {boolean=} opt_preventKinetics if set to true kinetics\n * will not be fired\n * @abstract\n * @method\n */\nH.map.render.RenderEngine.prototype.endControl = goog.abstractMethod;\n\n\n/**\n * A method to signal the begin of an interaction. A currently ongoing\n * interaction is stopped without kinetic effect.\n * Current interaction stopps if view model was changed or beginControl was\n * called.\n * @param {H.map.render.RenderEngine.InteractionModifiers} modifiers\n * @param {H.util.kinetics.IKinetics=} opt_kinetics\n * @abstract\n * @method\n */\nH.map.render.RenderEngine.prototype.startInteraction = goog.abstractMethod;\n\n\n/**\n * A method to process an interaction based on screen coordinates of the\n * view port. If {@code beginInteraction} was triggered with a {@code modifiers}\n * argument of {@code COORD} combined with any other modifier but\n * {@code interaction} is called without bifocal coordinate then the\n * {@code COORD} modifier is ignored.\n * If no interaction is currently ongoing ({@code beginInteraction} was not\n * triggered before or an {@code endInteraction} was triggered meanwhile) the\n * {@code interact} call is ignored.\n * @param {number} x viewport x coordinate\n * @param {number} y viewport y coordinate\n * @param {number=} opt_bx x coordinate for second pointer/touch if present\n * @param {number=} opt_by y coordinate for secong pointer/touch if present\n * @param {number=} opt_timestamp known timestamp which should be passed\n * @abstract\n * @method\n */\nH.map.render.RenderEngine.prototype.interaction = goog.abstractMethod;\n\n\n/**\n * Method signals the end of an interaction. If an {@code kinetics} was passed\n * to the previous {@code beginInteraction} call, the kinetic effect is\n * performed. If no interaction is currently ongoing ({@code beginInteraction}\n * was not triggered before or an {@code endInteraction} was triggered\n * meanwhile) the <code>endInteraction</code> call is ignored.\n * @param {boolean=} opt_preventKinetics\n * @abstract\n * @method\n */\nH.map.render.RenderEngine.prototype.endInteraction = goog.abstractMethod;\n\n\n/**\n * Method converts pixel coordinates relative to the viewport's origin into a\n * geographic coordinates.\n * @param {number} x The X-coordinate of the pixel position\n * @param {number} y The Y-coordinate of the pixel position\n * @return {H.geo.IPoint} The translated geographic position\n * @abstract\n * @method\n */\nH.map.render.RenderEngine.prototype.screenToGeo = goog.abstractMethod;\n\n\n/**\n * Method converts a geographic coordinates into a pixel position relative\n * to the viewport's origin.\n * @param {H.geo.IPoint} geoPoint\n * @return {?H.math.IPoint}\n * @abstract\n * @method\n */\nH.map.render.RenderEngine.prototype.geoToScreen = goog.abstractMethod;\n\n\n/**\n * Calculates the best CameraModel to show the provided bounding rectangle\n * @param {H.geo.Rect} bounds The geographical bounding rectangle to use\n * @param {boolean} keepCenter To indicate whether the center of the bounds should be the resulting center\n * @return {H.map.ViewModel.CameraData} The result, represented by the\n * properties zoom (number) and position (geo.Point)\n * @export\n * @abstract\n * @method\n */\nH.map.render.RenderEngine.prototype.getCamForBounds = goog.abstractMethod;\n\n\n/**\n * Method converts screen pixel coordinates to correct camera data object\n * @param {number} x X screen coordinate\n * @param {number} y Y screen coordinate\n * @return {H.map.ViewModel.CameraData}\n * @abstract\n * @method\n */\nH.map.render.RenderEngine.prototype.screenToCameraData =\n    goog.abstractMethod;\n\n\n/**\n * Method returns visible objects under the given x/y screen coordinates. Array is sorted according to their drawing\n * order, topmost object has an index #0 in returned array.\n * @param {number} x x coordinate in screen space to probe renderer\n * @param {number} y y coordinate in screen space to probe renderer\n * @param {boolean=} opt_topMostOnly optional flag, if set method returns array with single element that is located\n * on top\n * @return {Array.<H.map.Object>}\n * @abstract\n * @method\n */\nH.map.render.RenderEngine.prototype.getObjectsAt = goog.abstractMethod;\n\n\n/**\n * Method returns object that contains data on engine's possible camera angles,\n * modes etc.\n * @return {Object}\n * @abstract\n * @method\n */\n// TODO: capabilities reflection if necessary\nH.map.render.RenderEngine.prototype.getCapabilities = goog.abstractMethod;\n\n\n/**\n * Captures rectangular area of the surface.\n * Accepts only valid input: captured rect coordinates, should be contained by the surface\n * @param {number} x1 The X coordinate of the top left edge of the rect\n * @param {number} y1 The Y coordinate of the top left edge of the rect\n * @param {number} x2 The X coordinate of the bottom right edge of the rect\n * @param {number} y2 The Y coordinate of the bottom right edge of the rect\n * @return {HTMLCanvasElement} Captured\n */\nH.map.render.RenderEngine.prototype.capture = function(x1, y1, x2, y2) {\n  'use strict';\n  return null;\n};\n\n\n/**\n * Method informs render engine about the current pointer position relative to\n * the viewport. The position can be used by the render engine to provide\n * hover effects, tool tips etc. If the x argument is NaN the render engine\n * treats the given position outside the viewport.\n * @param {number} x The X coordinate of the pointer.\n * @param {number} y The Y coordinate of the pointer.\n * @abstract\n * @method\n * @export\n */\nH.map.render.RenderEngine.prototype.setPointer = goog.abstractMethod;\n\n\n/**\n * Method performs enter animation if one is available for the engine.\n * @abstract\n * @method\n */\nH.map.render.RenderEngine.prototype.enter = goog.abstractMethod;\n\n\n/**\n * Method performs exit animation if one is available for the engine. Method\n * must not shut down the engine.\n * @param {function()} callback\n * @abstract\n * @method\n */\nH.map.render.RenderEngine.prototype.exit = goog.abstractMethod;\n\n\n/**\n * Protected method that facilitates engine's container fade out before exit\n * @protected\n * @param {Element} container\n * @param {function()} callback\n */\nH.map.render.RenderEngine.prototype.fadeout = function(container, callback) {\n  'use strict';\n  container.style.transition = 'opacity 1.5s';\n  container.addEventListener('transitionend', function(e) {\n    callback();\n  }, false);\n  container.style.opacity = 0;\n};\n\n\n/**\n * Interaction modifiers is a set of bitmask values that can be passed to\n * {@link H.map.render.RenderEngine#beginInteraction}\n * @typedef {Object}\n * @export\n */\nH.map.render.RenderEngine.InteractionModifiers = {\n  /**\n   * @type {number}\n   */\n  'ZOOM': 1,\n\n  /**\n   * @type {number}\n   */\n  'HEADING': 2,\n\n  /**\n   * @type {number}\n   */\n  'TILT': 4,\n\n  /**\n   * @type {number}\n   */\n  'INCLINE': 8,\n\n  /**\n   * @type {number}\n   */\n  'COORD': 16\n};\n\n\n//#################################################  EVENTS  ###########################################################\n/**\n * Events fired by RenderingEngine\n * @enum {string}\n */\nH.map.render.RenderEngine.prototype.EventType = {\n  RENDER: 'render'\n};\n\n\n/**\n * Fired when one of the layers or the engine (all layers) has been rendered completely.\n * The event target references either the completed layer or the render engine itself\n * @publish\n * @event H.map.render.RenderEngine#render\n * @type {H.util.Event}\n */\n\n\n//######################################################################################################################\n/**\n * @export\n * @enum {number}\n */\nH.map.render.RenderEngine.EngineType = {\n  'P2D': 0,\n  'PANORAMA': 1\n};\n\n\n/**\n * Options which may be used to initialize new RenderEngine instance\n *\n * @typedef {{\n *   pixelRatio: (number)\n * }}\n * @property {number} pixelRatio The pixelRatio to use for over-sampling in cases of high-resolution displays\n */\nH.map.render.RenderEngine.Options;\n",
		"goog.provide('H.map.render.p2d.canvas.Surface');\n\ngoog.require('H.lang');\ngoog.require('H.lang.InvalidArgumentError');\ngoog.require('H.map.render.p2d.Surface');\n\n\n\n//###############################################  CONSTRUCTOR  ########################################################\n/**\n * Class represents a drawing surface based on canvas.\n *\n * @extends {H.map.render.p2d.Surface}\n * @constructor\n * @param {Element} container\n * @param {number} width The width of the surface in pixels (already multiplied by pixelRatio)\n * @param {number} height The height of the surface in pixels (already multiplied by pixelRatio)\n * @param {number} pixelRatio\n */\nH.map.render.p2d.canvas.Surface = function(container, width, height, pixelRatio) {\n  'use strict';\n  H.map.render.p2d.canvas.Surface.superClass_.constructor.apply(this, arguments);\n\n  /**\n   * The drawing context of the canvas element\n   * @private\n   * @type {CanvasRenderingContext2D}\n   */\n  this.ctx_ = this.element.getContext('2d');\n\n};\nH.lang.inherits(H.map.render.p2d.canvas.Surface, H.map.render.p2d.Surface);\n\n\n//###########################################  CONTAINER + ELEMENT  ####################################################\n/**\n * Concrete implementation of {@link H.map.render.p2d.Surface.prototype.createElement}\n * @override\n */\nH.map.render.p2d.canvas.Surface.prototype.createElement = function(ownerDoc) {\n  'use strict';\n  var element = ownerDoc.createElement('CANVAS'),\n      style = element.style;\n  style.position = 'absolute';\n  style.top = style.left = 0;\n  return element;\n};\n\n\n//####################################################  SIZE  ##########################################################\n/**\n * Concrete implementaion of {@link H.map.render.p2d.Surface.prototype.setSizeInternal}\n * @override\n */\nH.map.render.p2d.canvas.Surface.prototype.setSizeInternal = function(element, style, width, height, pixelRatio) {\n  'use strict';\n  // We have to assure that we have a minimum size of 1 x 1 pixel to avoid errors when drawing on a canvas:\n  element.width = H.math.max(width, 1);\n  element.height = H.math.max(height, 1);\n  // Scale the canvas according to the pixel ratio:\n  style.width = H.math.round(width / pixelRatio) + 'px';\n  style.height = H.math.round(height / pixelRatio) + 'px';\n};\n\n\n//################################################  OPACITY  ###########################################################\n/**\n * Concrete implementaion of {@link H.map.render.p2d.Surface.prototype.setOpacityInternal}\n * @override\n */\nH.map.render.p2d.canvas.Surface.prototype.setOpacityInternal = function(opacity) {\n  'use strict';\n  this.ctx_.globalAlpha = opacity;\n};\n\n\n//#################################################  DRAW  #############################################################\n/**\n * Concrete implementaion of {@link H.map.render.p2d.Surface.prototype.draw}\n * This implementation excepts only a HTMLCanvasElement, HTMLImageElement or HTMLVideoElement as el argument\n * @override\n */\nH.map.render.p2d.canvas.Surface.prototype.draw = function(el, dx, dy, dw, dh) {\n  'use strict';\n  this.ctx_.drawImage(/** @type {(HTMLCanvasElement|HTMLImageElement|HTMLVideoElement)} */(el), dx, dy, dw, dh);\n};\n\n\n//#################################################  CLEAR  ############################################################\n/**\n * Concrete implementaion of {@link H.map.render.p2d.Surface.prototype.clear}\n * The requested type for the opt_target argument is {@link H.math.Rect}\n * @override\n */\nH.map.render.p2d.canvas.Surface.prototype.clear = function(opt_target) {\n  'use strict';\n  var left,\n      top;\n\n  // Satisfy CC, will be dropped by compiler:\n  opt_target = /** @type {H.math.Rect} */ (opt_target);\n\n  if (opt_target) {\n    // TODO: UNITTEST\n    this.ctx_.clearRect(\n        left = opt_target['left'],\n        top = opt_target['top'],\n        opt_target['right'] - left,\n        opt_target['bottom'] - top);\n  } else {\n    this.element.width = this.width;\n  }\n};\n\n\n//################################################  DISPOSABLE  ########################################################\n/**\n * Overrides {@link H.map.render.p2d.Surface.prototype.disposeInternal}\n * @override\n */\nH.map.render.p2d.canvas.Surface.prototype.disposeInternal = function() {\n  'use strict';\n  this.element.width = this.element.height = 0;\n  H.map.render.p2d.canvas.Surface.superClass_.disposeInternal.call(this);\n};\n",
		"goog.provide('H.map.render.p2d.dom.MarkerRenderer');\n\ngoog.require('H.map.render.p2d.MarkerRenderer');\ngoog.require('H.util');\n\n\n\n//###############################################  CONSTRUCTOR  ########################################################\n/**\n * This renderer fetches Marker objects from the associated layer and render them on a Canvas Surface.\n * @constructor\n * @extends {H.map.render.p2d.MarkerRenderer}\n * @param {H.map.layer.IMarkerLayer} layer\n * @param {H.map.render.p2d.dom.Surface} surface\n * @param {H.map.render.p2d.MarkerRenderer.Options=} opt_options\n */\nH.map.render.p2d.dom.MarkerRenderer = function(layer, surface, opt_options) {\n  'use strict';\n  H.map.render.p2d.dom.MarkerRenderer.superClass_.constructor.apply(this, arguments);\n\n  /**\n   * The number of rendered markers\n   * @private\n   * @type {number}\n   */\n  this.markerCount_ = 0;\n\n  /**\n   * Temporary fix. This is needed to fetch objects from dom surface correctly\n   * @private\n   */\n  this.pixelRatio_ = surface.getSize().pixelRatio;\n\n  /**\n   * List of nodes waiting for onAttach\n   * to be fired\n   * @private\n   */\n  this.onAttachNodes_ = [];\n\n  this.fireOnAttach_ = H.lang.bind(this.fireOnAttach_, this);\n\n  /**\n   * requested next frame to fire onAttach\n   * @private\n   */\n  this.nextFrame_ = null;\n\n};\ngoog.inherits(H.map.render.p2d.dom.MarkerRenderer, H.map.render.p2d.MarkerRenderer);\n\n\n//#################################################  RENDERING  ########################################################\n/**\n * Concrete implementation of H.map.render.p2d.MarkerRenderer.prototype.fetchMarkers\n * @override\n */\nH.map.render.p2d.dom.MarkerRenderer.prototype.fetchMarkers = function() {\n  return this.layer.requestDomMarkers.apply(this.layer, arguments);\n};\n\n\n/**\n * Overrides the super implementation, because before render() we need to save the placedMarkerData\n * and afterwards we have cleanup the dom.Surface and notify icon listeners\n * @override\n */\nH.map.render.p2d.dom.MarkerRenderer.prototype.render = function() {\n  'use strict';\n  var ret;\n  //fire onAttach on all nodes (if any) in onAttachNodes_\n  this.fireOnAttach_();\n\n  // Start at z-index 0 in every render frame:\n  this.nextZIndex_ = 0;\n\n  ret = H.map.render.p2d.dom.MarkerRenderer.superClass_.render.apply(this, arguments);\n\n  // We have to remove all previous but no longer rendered marker icon nodes:\n  this.clearSurfaceNodes_(/** @type {H.map.render.p2d.dom.Surface} */(this.surface), this.prevMarkerDataDict);\n\n  //return false if we have node on which we need to fire onAttach\n  //false will request new animation frame\n  return this.onAttachNodes_.length === 0 && ret;\n};\n\n\n/**\n * Method goes through freshly attached nodes and fires on attach on them\n * @private\n */\nH.map.render.p2d.dom.MarkerRenderer.prototype.fireOnAttach_ = function() {\n  'use strict';\n  var i = this.onAttachNodes_.length,\n      marker,\n      icon,\n      node;\n  while (i--) {\n    node = this.onAttachNodes_[i];\n    marker = node.$marker$;\n    icon = node.$marker$.getIcon();\n    icon.onAttach(node, icon, marker);\n  }\n  this.onAttachNodes_.length = 0;\n};\n\n\n/**\n * Concrete implementation of H.map.render.p2d.MarkerRenderer.prototype.renderMarker\n * @override\n */\nH.map.render.p2d.dom.MarkerRenderer.prototype.renderMarker = function(data, marker, icon, surface, dx, dy) {\n  'use strict';\n\n  // Just to satisfy CC's type checks, code will be dropped by compiler:\n  marker = /** @type {H.map.DomMarker} */(marker);\n  icon = /** @type {H.map.DomIcon} */(icon);\n  surface = /** @type {H.map.render.p2d.dom.Surface} */(surface);\n\n  var invalidations = marker.getInvalidations(),\n      node,\n      wasAttached;\n\n  // Do we have a previous rendered icon node for this marker?\n  if (data.detail) {\n    // Do we have a visual invalidation since last rendering?\n    if (invalidations.isVisual(data.invalMark)) {\n      this.clearSurfaceNode_(surface, data);\n    } else {\n      node = /** @type {Element} */(data.detail);\n    }\n  }\n  // If we don't have a reuseable node we have to get a new clone and update the markerData:\n  if (!node) {\n    data.detail = node = icon.getClone(marker, this.ownerDocument);\n    this.markerCount_++;\n    if (H.lang.isFunction(icon.onAttach)) {\n      this.onAttachNodes_.push(node);\n    }\n  }\n  // Save the marker's invalidation mark at render tile:\n  data.invalMark = invalidations.getMark();\n\n  // Prepare the node and \"draw\" it\":\n  node.style.zIndex = this.nextZIndex_++;\n  node.$marker$ = marker;\n  surface.draw(node, dx, dy, 0, 0);\n};\n\n\n/**\n * The z-index to use within the next renderMarker() call. It is reset at the begin of each render() call\n * @private\n * @type {number}\n */\nH.map.render.p2d.dom.MarkerRenderer.prototype.nextZIndex_;\n\n\n//################################################  HIT TESTING  #######################################################\n/**\n * @override\n */\nH.map.render.p2d.dom.MarkerRenderer.prototype.getObjectsAt = function(x, y, opt_topMostOnly) {\n  'use strict';\n  var displayStr = 'display',\n      pixelRatio = this.pixelRatio_,\n      ownerDocument,\n      docElement,\n      surfaceElement,\n      boundingRect,\n      objects,\n      hiddenNodeStyles,\n      element,\n      hidden,\n      target,\n      style,\n      parentElement,\n      prevDisplayProperty,\n      prevDisplayImportance,\n      i;\n\n  // Do we have placed markers:\n  if (this.markerCount_) {\n\n    // TODO Temporary fix.\n    // Go back to screen coords because we use elementFromPoint to get elements from the DOM.\n    // Will be removed after renderer cleanup\n    x /= pixelRatio;\n    y /= pixelRatio;\n\n    ownerDocument = this.ownerDocument,\n    docElement = ownerDocument.documentElement;\n    surfaceElement = this.surface.getElement();\n    boundingRect = surfaceElement.getBoundingClientRect();\n    x += boundingRect['left'];\n    y += boundingRect['top'];\n\n    // Is there a element at this point which is neither the surface- nor the document-element?\n    while ((element = target = ownerDocument.elementFromPoint(x, y)) &&\n        element !== surfaceElement && element !== docElement) {\n\n      // TODO IE doesn't provide contains() method on SVG nodes, we have to use compareDocumentPosition() instead!\n      // Find the most distant element in ancestor-or-self axis which NOT contains (or is) the surface element:\n      while ((parentElement = element.parentNode) &&\n          (!H.lang.isFunction(parentElement.contains) || !parentElement.contains(surfaceElement))) {\n        element = parentElement;\n      }\n\n      // Did we found a marker icon? (We ignore SVG elments if they are the \"root\" element of a marker!)\n      if (parentElement === surfaceElement && (element !== target || element.nodeName !== 'svg')) {\n        // Collect the marker:\n        (objects || (objects = [])).push(element.$marker$);\n        // If only top most marker requested we stop the discovery loop\n        if (opt_topMostOnly) {\n          break;\n        }\n      }\n\n      //we need to hide something\n      if (!hiddenNodeStyles) {\n        hiddenNodeStyles = [];\n      }\n\n      // Hide this \"interferingly\" element to possibly find other markers underneath:\n      style = element.style;\n      hiddenNodeStyles.push({\n        displayProperty: style.getPropertyValue(displayStr),\n        displayImportance: style.getPropertyPriority(displayStr),\n        style: style\n      });\n      style.setProperty(displayStr, 'none', 'important');\n    }\n\n    // Restore the styles of the hidden elements if necessary:\n    if (hiddenNodeStyles) {\n      i = hiddenNodeStyles.length;\n      while (i--) {\n        hidden = hiddenNodeStyles[i];\n        //remove display: none !important\n        hidden.style.removeProperty(displayStr);\n        //set back to previous inline display if available\n        if (H.lang.isString(hidden.displayProperty)) {\n          hidden.style.setProperty(displayStr, hidden.displayProperty, hidden.displayImportance);\n        }\n      }\n    }\n  }\n\n  return objects || H.util.emptyArray;\n};\n\n\n//################################################  UTILITIES  #########################################################\n/**\n * To trigger surface.clear(node) and invoke the onDetach callback:\n * @private\n * @param {H.map.render.p2d.dom.Surface} surface\n * @param {H.map.render.p2d.MarkerRenderer.MarkerData} data\n */\nH.map.render.p2d.dom.MarkerRenderer.prototype.clearSurfaceNode_ = function(surface, data) {\n  'use strict';\n  var icon,\n      node,\n      marker;\n  /** @type {H.map.render.p2d.dom.Surface} */(surface).clear(node = /** @type {Element} */(data.detail));\n  delete node.$marker$;\n  this.markerCount_--;\n\n  (marker = /** @type {!H.map.DomMarker} */(data.marker)).getIcon().disposeClone(node, marker);\n};\n\n\n/**\n * To call clearSurfaceNode_() for all entries of the given dictionary\n * @private\n * @param {H.map.render.p2d.dom.Surface} surface\n * @param {!Object.<string, !H.map.render.p2d.MarkerRenderer.MarkerData>} dataDict\n */\nH.map.render.p2d.dom.MarkerRenderer.prototype.clearSurfaceNodes_ = function(surface, dataDict) {\n  'use strict';\n  var id;\n  for (id in dataDict) {\n    this.clearSurfaceNode_(surface, dataDict[id]);\n  }\n};\n\n\n//################################################  DISPOSABLE  ########################################################\n/**\n * @override\n */\nH.map.render.p2d.dom.MarkerRenderer.prototype.disposeInternal = function() {\n  'use strict';\n  this.onAttachNodes_.length = 0;\n  this.clearSurfaceNodes_(/** @type {H.map.render.p2d.dom.Surface} */(this.surface), this.markerDataDict);\n  /** @type {H.util.Disposable} */(this.surface).dispose();\n  H.map.render.p2d.dom.MarkerRenderer.superClass_.disposeInternal.call(this);\n};\n\n",
		"goog.provide('H.map.DomIcon');\n\n\n\n//################################################  CONSTRUCTOR  #######################################################\n/**\n * A visual representation of the {@link H.map.DomMarker}. DomIcon needs to be created with a dom element.\n * Dom element works as a template for visual representation of the marker therefore\n * single DomIcon can be reused across multiple DomMarkers. Provided dom node gets cloned and\n * rendered every time when marker reaches (is visible within) the map view port therefore\n * all previously attached event listeners will not execute. To handle cases where listeners\n * for the dom node are in needed, user needs to add them within <i>onAttach</i> callback\n * were currently displayed clone reference is available. Within <i>onDetach</i> callback,\n * cloned node listener can be removed.\n *\n * The <i>onAttach</i> and <i>onDetach</i> callbacks can be provided to the icon by using\n * {@link H.map.DomIcon.Options}\n *\n * @example\n * var domElement = document.createElement('div');\n * domElement.style.width = '20px';\n * domElement.style.height = '20px';\n * domElement.style.backgroundColor = 'blue';\n *\n * function changeOpacity(evt) {\n *   evt.target.style.opacity = 0.8;\n * };\n *\n * var domIcon = new H.map.DomIcon(domElement, {\n *   onAttach: function(clonedElement, domIcon, domMarker) {\n *     clonedElement.addEventListener('mouseover', changeOpacity);\n *   },\n *   onDetach: function(clonedElement, domIcon, domMarker) {\n *     clonedElement.removeEventListener('mouseover', changeOpacity);\n *   }\n * });\n *\n *\n * @publish\n * @export\n * @final\n * @constructor\n * @throws {H.lang.InvalidArgumentError}\n * @param {!(Element|string)} element The element or markup to use for this icon\n * @param {H.map.DomIcon.Options=} opt_options\n */\nH.map.DomIcon = function(element, opt_options) {\n  'use strict';\n  var key,\n      val = element;\n\n  if (!H.lang.isInstanceOf(val, Element)) {\n    H.map.DomIcon.parserElement_.innerHTML = val;\n    val = H.map.DomIcon.parserElement_.firstElementChild;\n    if (!val) {\n      throw new H.lang.InvalidArgumentError(H.map.DomIcon, 0, 'No element data');\n    }\n\n    // This is a IE bugfix: Without removing the element before reset innerHTML the elment will not be proper rendered:\n    H.map.DomIcon.parserElement_.removeChild(val);\n\n    // Set a flag to prevent unnecessary initial cloning:\n    key = true;\n    H.map.DomIcon.parserElement_.innerHTML = '';\n  }\n  this.containsCanvasses_ = H.util.getContainedCanvasses(/** @type {!Element} */ (val)).length !== 0;\n  this.elem = key ?\n      // It's a fresh parsed markup, no cloning is needed:\n      /** @type {!Element} */ (val) :\n      // Yes, here we want to use the API's document as clone target!\n      /** @type {!Element} */ (H.util.cloneNode(/** @type {!Element} */ (val), H.global.document,\n      this.containsCanvasses_));\n\n  if (opt_options) {\n    key = 'onAttach';\n    if (key in opt_options && H.lang.isTypeOf(val = opt_options[key], 'Function', H.map.DomIcon, 1, key)) {\n      this.onAttach = val;\n    }\n    key = 'onDetach';\n    if (key in opt_options && H.lang.isTypeOf(val = opt_options[key], 'Function', H.map.DomIcon, 1, key)) {\n      this.onDetach_ = val;\n    }\n  }\n\n};\n\n\n//##################################################  ELEMENT  #########################################################\n/**\n * The DOM element of this icon\n * Must NOT be published, it's used API interally only!\n * @type {!Element}\n */\nH.map.DomIcon.prototype.elem;\n\n\n/**\n * A container element used to parse markup\n * @private\n * @type {Element}\n */\nH.map.DomIcon.parserElement_ = document.createElement('DIV');\n\n\n//##################################################  CLONING  #########################################################\n/**\n * The customized callback to invoke when a clone is appended to a DOM tree\n * Must NOT be published, it's used API interally only by rendering!\n * The renderer has to assure that the callback is called in the correct moment.\n *\n * @type {?function(!Element, !H.map.DomIcon, !H.map.DomMarker)}\n */\nH.map.DomIcon.prototype.onAttach = null;\n\n\n/**\n * The customized callback to invoke when a clone is removed from a DOM tree\n * @private\n * @type {?function(!Element, !H.map.DomIcon, !H.map.DomMarker)}\n */\nH.map.DomIcon.prototype.onDetach_ = null;\n\n\n/**\n * Returns a clone of this icon's element\n * Must NOT be published, it's used API interally only by rendering!\n *\n * @param {!H.map.DomMarker} marker The DomMarker instance for which this clone is requested\n * @param {Document} targetDocument The target document for the clone\n * @return {!Element}\n */\nH.map.DomIcon.prototype.getClone = function(marker, targetDocument) {\n  'use strict';\n  return /** @type {!Element} */ (H.util.cloneNode(this.elem, targetDocument, this.containsCanvasses_));\n};\n\n\n/**\n * To dispose a no longer used clone of this icon's element\n * Must NOT be published, it's used API interally only by rendering!\n *\n * @param {!Element} clone\n * @param {!H.map.DomMarker} marker The DomMarker instance for which this clone was requested\n */\nH.map.DomIcon.prototype.disposeClone = function(clone, marker) {\n  'use strict';\n  // TODO store the disposed clone into an icon cache\n  if (this.onDetach_) {\n    this.onDetach_(clone, this, marker);\n  }\n};\n\n\n/**\n * Indicates whether the element contains one or more canvas elements\n * @private\n * @type {boolean}\n */\nH.map.DomIcon.prototype.containsCanvasses_ = false;\n\n\n//##################################################  OPTIONS  #########################################################\n/**\n * Options used to initialize a DomIcon\n * @publish\n *\n * @property {function(Element, H.map.DomIcon, H.map.DomMarker)=} onAttach\n *           A callback which is invoked before a clone of the icon's element is appended and displayed on the map.\n *           This callback can be used to setup the clone.\n * @property {function(Element, H.map.DomIcon, H.map.DomMarker)=} onDetach\n *           A callback which is invoked after a clone of the icon's element is removed from the map.\n *           This callback can be used to clean up the clone.\n *\n * @typedef {{\n *   onAttach: (function(Element, H.map.DomIcon, H.map.DomMarker)|undefined),\n *   onDetach: (function(Element, H.map.DomIcon, H.map.DomMarker)|undefined)\n * }}\n */\nH.map.DomIcon.Options;\n",
		"goog.provide('H.map.render.p2d.RenderEngine');\n\n\ngoog.require('H.geo.PixelProjection');\ngoog.require('H.geo.Point');\ngoog.require('H.lang');\ngoog.require('H.lang.InvalidArgumentError');\ngoog.require('H.map.ViewModel');\ngoog.require('H.map.render.RenderEngine');\ngoog.require('H.map.render.p2d.ControlUtils');\ngoog.require('H.map.render.p2d.InteractionUtils');\ngoog.require('H.map.render.p2d.canvas.MarkerRenderer');\ngoog.require('H.map.render.p2d.canvas.Surface');\ngoog.require('H.map.render.p2d.canvas.TileRenderer');\ngoog.require('H.map.render.p2d.capabilities');\ngoog.require('H.map.render.p2d.dom.MarkerRenderer');\ngoog.require('H.map.render.p2d.dom.Surface');\ngoog.require('H.math');\ngoog.require('H.util.animation.Animation');\ngoog.require('H.util.animation.ease');\ngoog.require('H.util.kinetics.KineticMove');\ngoog.require('H.util.shims');\n\n\n\n/**\n * Canvas render engine implementation. This engine will present geo\n * position (camera data) provided by the view model on a 2D canvas element,\n * were all layers are rendered into the single canvas element in provided order.\n * This class contains some additional canvas rendering specific functionality,\n * which can be used by the application.\n *\n * @constructor\n * @param {H.map.ViewPort} viewPort\n * @param {H.map.ViewModel} viewModel\n * @param {H.map.DataModel} dataModel\n * @param {H.map.render.p2d.RenderEngine.Options} options\n * @extends {H.map.render.RenderEngine}\n *\n * @export\n * @publish\n */\nH.map.render.p2d.RenderEngine = function(viewPort, viewModel, dataModel, options) {\n  'use strict';\n\n  var updateEvent = 'update',\n      layersContainer,\n      viewPortEl,\n      option,\n      control;\n\n  H.map.render.p2d.RenderEngine.superClass_.constructor.call(this,\n      viewPort, viewModel, dataModel, options);\n\n  /**\n   * The priority center as an offset in pixel relative to the screen center, scaled by pixelRatio.\n   * To modify its coordinates you MUST use Point#set(), because the layers will hold a reference to this point!\n   * @private\n   */\n  this.prioCenter_ = new H.math.Point(0, 0);\n\n  if (option = options['renderBaseBackground']) {\n    this.renderBaseBackgroundLower_ = option['lower'];\n    this.renderBaseBackgroundHigher_ = option['higher'];\n  }\n  this.enableSubpixelRendering_ = !!options['enableSubpixelRendering'];\n\n  /**\n   * Timeframe after which engine goes to suspended state. Is used when no updates were triggered on the engine.\n   * @private\n   */\n  this.suspendTimeout_ = 1000;\n\n  /**\n   * Private zoom level reference for corresponding view's zoom\n   * @private\n   */\n  this.zoom_ = 0;\n\n  /**\n   * Holds zoom level that was rendered in previous frame. Is used to determine\n   * if engine zooms in or sooms out.\n   * @type {number}\n   * @private\n   */\n  this.lastZoom_ = 0;\n\n  /**\n   * Flag indicates if geo layers were rendered, used to prevent early removel of\n   * scaled down base background\n   * @type {boolean}\n   * @private\n   */\n  this.lastGeoRendered_ = false;\n\n  /**\n   * Flag indicates if engine is zooming out\n   * @type {boolean}\n   * @private\n   */\n  this.zoomingOut_ = false;\n\n  /**\n   * Private center (map point) reference for corresponding view's map center\n   * @private\n   */\n  this.mapCenter_ = new H.math.Point(0.5, 0.5);\n\n  /**\n   * @private\n   */\n  this.ratioZoomAdjustment_ = H.math.log(this.pixelRatio) / H.math.LN2;\n\n  /**\n   * @private\n   */\n  this.interaction_ = new H.map.render.p2d.InteractionUtils();\n\n  /**\n   * @private\n   */\n  this.control_ = control = new H.map.render.p2d.ControlUtils();\n  this.onAnimationControl_ = H.lang.bind(this.onAnimationControl_, this);\n  control.addEventListener(control.EventType.ANIMATIONUPDATE, this.onAnimationControl_);\n\n\n  /**\n   * @private\n   */\n  this.pixelProjection_ = new H.geo.PixelProjection();\n\n  viewPortEl = viewPort['element'];\n  this.layersContainer_ = layersContainer = viewPortEl.ownerDocument.createElement('div');\n  layersContainer.style.position = 'absolute';\n  layersContainer.style.width = layersContainer.style.height = '100%';\n  layersContainer.style.zIndex = 0;\n\n  viewPortEl.insertBefore(layersContainer, viewPortEl.firstChild);\n\n  /**\n   * Drawing surface.\n   * @private\n   */\n  this.surface_ = new H.map.render.p2d.canvas.Surface(this.layersContainer_, 1, 1, this.pixelRatio);\n\n  this.initializeRenderers_();\n\n  dataModel.addEventListener(updateEvent, this.onDataUpdate_, false, this);\n  dataModel.addEventListener(dataModel.EventType.ADD, this.onLayerAdd_, false, this);\n  dataModel.addEventListener(dataModel.EventType.REMOVE, this.onLayerRemove_, false, this);\n  dataModel.addEventListener(dataModel.EventType.SET, this.onLayerSet_, false, this);\n\n  this.render_ = H.lang.bind(\n      H.map.render.p2d.RenderEngine.prototype.render_, this);\n\n  /**\n   * @private\n   */\n  this.state_ = H.map.render.p2d.RenderEngine.SUSPENDED;\n  this.geoRenderDispatched_ = [];\n  this.screenRenderDispatched_ = [];\n  this.domRenderDispatched_ = [];\n\n  if (goog.DEBUG) {\n    this.metrics_ = {\n      runs: [],\n      launches: 0,\n      suspensions: 0\n    };\n    this.viewUpdates_ = 0;\n    this.dataUpdates_ = 0;\n  }\n\n  this.resetAnimationDefaults();\n\n  this.zoom_ = this.clampZoomWithRatio_(this.viewModel.getZoom() + this.ratioZoomAdjustment_);\n  this.adjustZoomConstraints_();\n  this.setMapCenter_(viewModel.getCameraData()['position'], this.zoom_);\n\n  // synchronize engine state with data gathered and adjusted at construction time\n  this.synchronize_();\n\n  // Update the surface size to the real size (it triggers also relaunch):\n  this.onResize();\n};\nH.lang.inherits(H.map.render.p2d.RenderEngine,\n    H.map.render.RenderEngine);\n\n\n/**\n * @export\n * @type {H.map.render.RenderEngine.EngineType}\n */\nH.map.render.p2d.RenderEngine.prototype.type =\n    H.map.render.RenderEngine.EngineType['P2D'];\n\n\n/**\n * Busy state means that rendering loop is running.\n */\nH.map.render.p2d.RenderEngine.BUSY = 1;\n\n\n/**\n * Suspended state means that rendering loop stopped and engine waits for events from viewModel/dataModel/viewPort\n */\nH.map.render.p2d.RenderEngine.SUSPENDED = 2;\n\n\n/**\n * Shutdown state means that engine terminated rendering loop and detached all listeners, no further interaction\n * with the engine instance is possible\n */\nH.map.render.p2d.RenderEngine.SHUTDOWN = 3;\n\n\n/**\n * Shortcut to capabilities (to enable this.capabilities calls)\n * @private\n */\nH.map.render.p2d.RenderEngine.prototype.capabilities_ = H.map.render.p2d.capabilities;\n\n\n/**\n * Returns current state of the engine. Possible states are:\n * <ul>\n *    <li>{@link H.map.render.p2d.RenderEngine.BUSY}</li>\n *    <li>{@link H.map.render.p2d.RenderEngine.SUSPENDED}</li>\n *    <li>{@link H.map.render.p2d.RenderEngine.SHUTDOWN}</li>\n * </ul>\n * @return {number} state\n * @export\n */\nH.map.render.p2d.RenderEngine.prototype.getState = function() {\n  'use strict';\n  return this.state_;\n};\n\n\n/**\n * This method returns closest pixel point in modulorized world. If path between pixels\n * is more than half of the world it will return closest consecutive worl pixel. If path\n * is less function will return targetPixel\n * @param {number} startX\n * @param {number} destX\n * @return {number}\n * @private\n */\nH.map.render.p2d.RenderEngine.prototype.getClosestX_ = function(startX, destX) {\n  'use strict';\n  var path = destX - startX;\n  return (H.math.abs(path) < this.pixelProjection_['w'] / 2) ?\n      path : path - this.pixelProjection_['w'] * destX / H.math.abs(destX);\n};\n\n\n/**\n * Callback to react on updates from view and data models.\n * @param {H.map.ViewModel.UpdateEvent} ev event with changed data\n * @protected\n */\nH.map.render.p2d.RenderEngine.prototype.onViewUpdate = function(ev) {\n  'use strict';\n  var that = this,\n      destZ,\n      deltaZ,\n      requested = ev['requested'],\n      animated = requested['animate'],\n      destPosition = requested['camera']['position'],\n      destPixel = that.pixelProjection_.geoToPixel(destPosition),\n      destX = destPixel['x'],\n      destY = destPixel['y'],\n      currentZ = this.zoom_,\n      mapCenter = this.mapCenter_,\n      lastProgress = 0,\n      startPoint,\n      startX,\n      destPoint,\n      adjusted,\n      adjustedPos;\n\n  //stop any running animation actions (control, interaction, kinetics, other animation)\n  this.stopAnimationActions_();\n\n  this.prioCenter_.set(0, 0);\n  adjusted = this.adjustValues_(ev);\n\n  // take adjusted destination zoom level\n  destZ = adjusted['zoom'];\n  adjustedPos = adjusted['position'];\n\n  if (animated) {\n    deltaZ = destZ - currentZ;\n\n    // reference start map point if we change center while zooming\n    startPoint = /** @type {H.math.IPoint}*/ ({x: mapCenter['x'],\n      y: mapCenter['y']}),\n    startX = this.pixelProjection_.pointToPixel(startPoint)['x'],\n    // reference destination map point if we change center and zooming in\n    destPoint = this.pixelProjection_['projection'].geoToPoint(destPosition);\n\n    //run animation only if destination is different than current\n    //TODO: move this check to view model during refarctoring\n    //update should not be called if same camera is set twice\n    if (destPoint['x'] !== this.mapCenter_['x'] ||\n        destPoint['x'] !== this.mapCenter_['x'] || destZ !== this.zoom_) {\n      // get closes screen X which cooresponds to map point\n      destX = this.getClosestX_(startX, destX);\n\n      this.startAnimation_(function(progress) {\n        var progressDelta = progress - lastProgress,\n            startPixel;\n\n        if (destZ !== currentZ) {\n          // recalculate destination and start pixel coordinates\n          destPixel = that.pixelProjection_.pointToPixel(destPoint);\n          startPixel = that.pixelProjection_.pointToPixel(startPoint);\n          destX = that.getClosestX_(startPixel['x'], destPixel['x']);\n          destY = destPixel['y'] - startPixel['y'];\n        }\n\n        // memoize progress for progress delta calculation in next frame\n        lastProgress = progress;\n\n        that.applyPxOffset_((destX * progressDelta),\n            (destY * progressDelta));\n\n        currentZ += (deltaZ * progressDelta);\n        that.zoomAt_(currentZ);\n\n        that.synchronize_();\n        that.relaunch_();\n      }, this.ANIMATION_DURATION_, function() {\n        that.setMapCenter_(adjustedPos, destZ);\n        that.zoomAt_(destZ);\n        that.synchronize_(adjustedPos);\n        that.relaunch_();\n      }, this.ANIMATION_EASE_);\n    }\n\n  } else {\n    this.stopAnimation_();\n    this.setMapCenter_(adjustedPos, destZ);\n    this.zoomAt_(destZ);\n    this.synchronize_(adjustedPos);\n  }\n\n  if (goog.DEBUG) {\n    this.viewUpdates_++;\n  }\n  this.relaunch_();\n};\n\n\n/**\n * @private\n * @type {number}\n */\nH.map.render.p2d.RenderEngine.prototype.ANIMATION_DURATION_ = 300;\n\n\n/**\n * This method changes animation duration for all engine's animations\n * @param {number} duration\n * @export\n * @publish\n */\nH.map.render.p2d.RenderEngine.prototype.setAnimationDuration = function(duration) {\n  'use strict';\n  var isNumber = H.lang.isNumber(duration);\n  if (!isNumber || (isNumber && duration < 0)) {\n    throw new H.lang.InvalidArgumentError(this.setAnimationDuration, 1, 'positive number required');\n  }\n  this.ANIMATION_DURATION_ = duration;\n};\n\n\n/**\n * This method returns current animation duration setting for engine's animations\n * @return {number}\n * @export\n * @publish\n */\nH.map.render.p2d.RenderEngine.prototype.getAnimationDuration = function() {\n  'use strict';\n  return this.ANIMATION_DURATION_;\n};\n\n\n/**\n * @private\n * @type {function(number):number}\n */\nH.map.render.p2d.RenderEngine.prototype.ANIMATION_EASE_ = H.util.animation.ease.EASE_OUT_QUAD;\n\n\n/**\n * This method allows to set ease for all engine's animations.\n * @param {function(number): number} easeFunction function which alters progress.\n * Function will receive progress as parameter which\n * is a values between 0..1 and should return altered values also in 0..1 range.\n * @export\n * @publish\n */\nH.map.render.p2d.RenderEngine.prototype.setAnimationEase = function(easeFunction) {\n  'use strict';\n  if (!H.lang.isFunction(easeFunction)) {\n    throw new H.lang.InvalidArgumentError(this.setAnimationEase, 1, 'function required');\n  }\n  this.ANIMATION_EASE_ = easeFunction;\n};\n\n\n/**\n * This method return current setting for the animation ease.\n * @return {function(number):number}\n * @export\n * @publish\n */\nH.map.render.p2d.RenderEngine.prototype.getAnimationEase = function() {\n  'use strict';\n  return this.ANIMATION_EASE_;\n};\n\n\n/**\n * This method resets animation settings on the engine to defaults. Duration 300ms\n * and ease to {@link H.util.animation.ease.EASE_OUT_QUAD}\n * @export\n * @publish\n */\nH.map.render.p2d.RenderEngine.prototype.resetAnimationDefaults = function() {\n  'use strict';\n  this.ANIMATION_EASE_ = H.util.animation.ease.EASE_OUT_QUAD;\n  this.ANIMATION_DURATION_ = 300;\n};\n\n\n/**\n * Update callback for dataModel\n * @private\n */\nH.map.render.p2d.RenderEngine.prototype.onDataUpdate_ = function() {\n  'use strict';\n\n  if (goog.DEBUG) {\n    this.dataUpdates_++;\n  }\n\n  this.relaunch_();\n};\n\n\n/**\n * Handles 'add' event on data model. Adds appropriate renderer.\n * @param {H.util.Event} ev\n * @private\n */\nH.map.render.p2d.RenderEngine.prototype.onLayerAdd_ = function(ev) {\n  'use strict';\n  var layer = ev['added'],\n      idx = ev['idx'];\n  this.insertRenderer_(idx, layer);\n  if (idx === 0) {\n    this.adjustZoomConstraints_();\n    this.manageMinMaxListeners_(layer, true);\n  }\n  this.resetDispatchedFlags_();\n  this.relaunch_();\n};\n\n\n/**\n * Handles 'remove' event on data model. Removes corresponding renderer.\n * @param {H.util.Event} ev\n * @param {boolean=} opt_suppressLaunch launch of engine (used for 'set')\n * @private\n */\nH.map.render.p2d.RenderEngine.prototype.onLayerRemove_ = function(ev, opt_suppressLaunch) {\n  'use strict';\n  var layer = ev['removed'],\n      idx = ev['idx'],\n      screenRenderer,\n      domRenderer,\n      geoRenderer;\n  this.updateTimestamp_();\n\n  geoRenderer = this.geoSpaceRenderers_.splice(idx, 1)[0];\n  if (geoRenderer && geoRenderer.dispose) {\n    geoRenderer.dispose();\n  }\n\n  screenRenderer = this.screenSpaceRenderers_.splice(idx, 1)[0];\n  if (screenRenderer && screenRenderer.dispose) {\n    screenRenderer.dispose();\n  }\n\n  domRenderer = this.screenDomRenderers_.splice(idx, 1)[0];\n  if (domRenderer && domRenderer.dispose) {\n    domRenderer.dispose();\n  }\n\n  this.layers_ = this.dataModel.asArray();\n  if (idx === 0) {\n    this.manageMinMaxListeners_(layer, false);\n    this.adjustZoomConstraints_();\n  }\n\n  this.resetDispatchedFlags_();\n  if (!opt_suppressLaunch) {\n    this.relaunch_();\n  }\n\n};\n\n\n/**\n * Handles 'set' event on data model. replaces corresponding renderer\n * @private\n * @param {H.util.Event} ev\n */\nH.map.render.p2d.RenderEngine.prototype.onLayerSet_ = function(ev) {\n  'use strict';\n  this.onLayerRemove_(ev, true);\n  this.onLayerAdd_(ev);\n};\n\n\n/**\n * Method takes existing layers from data model and instantiates appropriate renderers\n * @private\n */\nH.map.render.p2d.RenderEngine.prototype.initializeRenderers_ = function() {\n  'use strict';\n  var layers = this.dataModel.asArray(),\n      i = 0,\n      len = layers.length,\n      layer;\n\n  /**\n   * Sparse array of renderers that belong to geo space.\n   * @private\n   */\n  this.geoSpaceRenderers_ = [];\n  this.geoSpaceRenderers_.length = len;\n\n  /**\n   * Sparse array of renderers that belong to screen space.\n   * @private\n   */\n  this.screenSpaceRenderers_ = [];\n  this.screenSpaceRenderers_.length = len;\n\n  /**\n   * Sparse array of renderers that belong to screen DOM space.\n   * @private\n   */\n  this.screenDomRenderers_ = [];\n  this.screenDomRenderers_.length = len;\n\n  /**\n   * layers array for faster access at rendering time (instead of repetitive\n   * this.dataModel.asArray())\n   * @private\n   */\n  this.layers_ = layers;\n\n  for (; i < len; i++) {\n    layer = layers[i];\n    this.insertRenderer_(i, /** @type {H.map.layer.Layer} */(layer), 1);\n    if (i === 0) {\n      // add the initial minchange / maxchange listeners to the first layer (aka base map)\n      this.manageMinMaxListeners_(/** @type {H.map.layer.Layer} */(layer), true);\n    }\n  }\n  this.adjustZoomConstraints_();\n};\n\n\n/**\n * Manages the adding and removing of \"minchange\" and \"maxchange\" listeners to the passed layer\n * @private\n * @param {H.map.layer.Layer} layer\n * @param {boolean} toAdd Indicates whether the listeners should be added - otherwise the listeners should be removed\n */\nH.map.render.p2d.RenderEngine.prototype.manageMinMaxListeners_ = function(layer, toAdd) {\n  'use strict';\n  var method = toAdd ? layer.addEventListener : layer.removeEventListener;\n  method.call(layer, layer.EventType.MINCHANGE, this.onMinMaxChabge_, false, this);\n  method.call(layer, layer.EventType.MAXCHANGE, this.onMinMaxChabge_, false, this);\n};\n\n\n/**\n * Callback is responsible for adjusting zoom constraints if min/max was changed on the layer in\n * slot 0 on data model.\n * @private\n */\nH.map.render.p2d.RenderEngine.prototype.onMinMaxChabge_ = function() {\n  'use strict';\n  this.adjustZoomConstraints_();\n  this.relaunch_();\n};\n\n\n/**\n * Instantiates renderers for layers and inserts them into arrays that are used by rendering loop.\n * @param {number} idx\n * @param {H.map.layer.Layer|H.map.layer.IMarkerLayer} layer\n * @param {number=} opt_howMany\n * @private\n */\nH.map.render.p2d.RenderEngine.prototype.insertRenderer_ =\n    function(idx, layer, opt_howMany) {\n  'use strict';\n  var geoRenderer,\n      screenRenderer,\n      viewportSize,\n      domRenderer,\n      options;\n  if (layer) {\n    options = {\n      'enableSubpixelRendering': this.enableSubpixelRendering_\n    };\n    if (layer['requestTiles']) {\n      geoRenderer = new H.map.render.p2d.canvas.TileRenderer(\n          /** @type {H.map.layer.TileLayer} */(layer), this.surface_, options);\n    }\n    if (layer['requestMarkers']) {\n      screenRenderer = new H.map.render.p2d.canvas.MarkerRenderer(\n          /** @type {H.map.layer.IMarkerLayer} */(layer), this.surface_, options);\n    }\n    if (layer['requestDomMarkers']) {\n      // TODO we should reuse dom surface instead of creating for every layer\n      // RA: i am not sure since every dom renderer increases zIndex on its own range\n      // what if there will be 2 dom marker layers?\n\n      viewportSize = this.getVisibleViewportSize_();\n      domRenderer = new H.map.render.p2d.dom.MarkerRenderer(\n          /** @type {H.map.layer.IMarkerLayer} */(layer),\n          new H.map.render.p2d.dom.Surface(this.layersContainer_,\n              viewportSize['w'], viewportSize['h'], this.pixelRatio) , options);\n    }\n    // the below code is now executed in onLayerAdd/onLayerRemove and in\n    // initializeRenderers\n    //if (idx === 0) {\n    //  this.setZoomConstraints_(layer['min'], layer['max']);\n    //}\n  }\n  opt_howMany = opt_howMany || 0;\n  this.geoSpaceRenderers_.splice(idx, opt_howMany, geoRenderer);\n  this.screenSpaceRenderers_.splice(idx, opt_howMany, screenRenderer);\n  this.screenDomRenderers_.splice(idx, opt_howMany, domRenderer);\n  this.layers_ = this.dataModel.asArray();\n};\n\n\n/**\n * Calls setZoomConstraints_ with min and max from layer at index 0.\n * Is bound to engine instance at construction time.\n * @private\n */\nH.map.render.p2d.RenderEngine.prototype.adjustZoomConstraints_ = function() {\n  'use strict';\n  var capabilitiesZoom,\n      newZoom;\n  if (this.layers_.length > 0) {\n    //if we have layers, then we use the first entry (aka base map)...\n    this.setZoomConstraints_(this.layers_[0]['min'], this.layers_[0]['max']);\n  } else {\n    //otherwise we use the engine capabilities\n    capabilitiesZoom = this.capabilities_['zoom'];\n    this.setZoomConstraints_(capabilitiesZoom['min'], capabilitiesZoom['max']);\n  }\n\n  newZoom = this.clampZoom_(this.zoom_);\n  if (newZoom !== this.zoom_) {\n    this.zoom_ = newZoom;\n    this.pixelProjection_.rescale(newZoom);\n    this.synchronize_();\n  }\n};\n\n\n/**\n * Method sets additional constraints on min/max zoom level (ex. base map layer)\n * @param {number} min\n * @param {number} max\n * @private\n */\nH.map.render.p2d.RenderEngine.prototype.setZoomConstraints_ =\n    function(min, max) {\n  'use strict';\n  /**\n   * property holds minimum zoom level as defined by base map layer\n   * @private_\n   */\n  this.layerMinZoom_ = min;\n\n  /**\n   * property holds maximum zoom level as defined by base map layer\n   * @private\n   */\n  this.layerMaxZoom_ = max;\n};\n\n\n/**\n * Returns true if rendering loop can be launched\n * @private\n * @return {boolean}\n */\nH.map.render.p2d.RenderEngine.prototype.canLaunch_ = function() {\n  'use strict';\n  return this.state_ === H.map.render.p2d.RenderEngine.SUSPENDED;\n};\n\n\n/**\n * Method takes requested data from viewModel, adjusts it to capabilities and synchronizes it back to the viewModel.\n * @param {H.map.ViewModel.UpdateEvent} ev with data to be adjusted {@see H.map.ViewModel}\n * @return {H.map.ViewModel.CameraData} adjusted cameraData object\n * @private\n */\nH.map.render.p2d.RenderEngine.prototype.adjustValues_ =\n    function(ev) {\n  'use strict';\n  var requestedData = ev['requested'],\n      zoom,\n      cameraData,\n      cameraPosition,\n      newCamera;\n\n  cameraData = requestedData['camera'];\n  cameraPosition = cameraData && cameraData['position'];\n\n  //first clamp requested zoom and then clamp with adjustment\n  //this fixes issue i.e min is 2 and user sets 1 with + 1 adjustments (pixel ratio 2)\n  //as a result level 1 was rendered since 1 + 1 (adjustment) fitted the minimum zoom\n  zoom = this.clampZoom_(this.clampZoom_(requestedData['zoom']) + this.ratioZoomAdjustment_);\n\n  newCamera = this.correctCameraAngles_({\n    'position': new H.geo.Point(cameraPosition['lat'],\n        cameraPosition['lng'])\n  });\n\n  // TODO: get rid of this side effect\n  // if camera is animated then don't set zoom (it will be set in animation loop)\n  this.zoom_ = requestedData['animate'] ? this.zoom_ : zoom;\n\n  newCamera['zoom'] = zoom;\n  return newCamera;\n};\n\n\n/**\n * @param {H.geo.Point} point\n * @param {number} zoom\n * @private\n */\nH.map.render.p2d.RenderEngine.prototype.setMapCenter_ =\n    function(point, zoom) {\n  'use strict';\n  var pixelProjection = this.pixelProjection_;\n  // TODO: why pixelprojection is rescaled while setting center?\n  pixelProjection.rescale(zoom);\n\n  // recalculate map center for new geo coordinates and update pixel\n  // projection offset\n  this.mapCenter_ = pixelProjection['projection'].geoToPoint(point);\n  pixelProjection['x'] = pixelProjection['w'] * this.mapCenter_['x'];\n  pixelProjection['y'] = pixelProjection['h'] * this.mapCenter_['y'];\n};\n\n\n/**\n * Method adjusts zoom level passed as an argument to engine's capabilities.\n * @private\n * @param {number} zoom zoom level to be adjusted\n * @return {number} adjusted zoom level\n */\nH.map.render.p2d.RenderEngine.prototype.clampZoom_ = function(zoom) {\n  'use strict';\n  var zoomCapabilities = this.capabilities_['zoom'];\n  return H.math.clamp(zoom,\n      H.math.max(zoomCapabilities['min'], this.layerMinZoom_),\n      H.math.min(zoomCapabilities['max'], this.layerMaxZoom_));\n};\n\n\n/**\n * Method sets correct yaw/pitch/roll on the object that's passed as an argument\n * @private\n * @param {H.map.ViewModel.CameraData} obj\n * @return {H.map.ViewModel.CameraData}\n */\nH.map.render.p2d.RenderEngine.prototype.correctCameraAngles_ = function(obj) {\n  'use strict';\n  // TODO: infer from capabilities\n  obj['yaw'] = obj['pitch'] = obj['roll'] = 0;\n  obj['fov'] = 70;\n  return obj;\n};\n\n\n/**\n * @override\n * @export\n */\nH.map.render.p2d.RenderEngine.prototype.screenToGeo = function(x, y) {\n  'use strict';\n  var viewPortCenter = this.viewPort['center'],\n      pixelRatio = this.pixelRatio;\n\n  return this.pixelProjection_.xyToGeo(\n      (x - viewPortCenter['x']) * pixelRatio,\n      (y - viewPortCenter['y']) * pixelRatio\n  );\n};\n\n\n/**\n * @override\n * @export\n * @method\n */\nH.map.render.p2d.RenderEngine.prototype.setPointer =\n    H.util.doNothing;\n\n\n/**\n * @override\n * @export\n */\nH.map.render.p2d.RenderEngine.prototype.screenToCameraData =\n    function(x, y) {\n  'use strict';\n  var position = this.screenToGeo(x, y),\n      cameraData = this.viewModel.getCameraData();\n  cameraData['position'] = position;\n  return cameraData;\n};\n\n\n/**\n * @override\n * @export\n */\nH.map.render.p2d.RenderEngine.prototype.geoToScreen = function(geoPoint) {\n  'use strict';\n  var pixelRatio = this.pixelRatio,\n      viewPortCenter = this.viewPort['center'],\n      centerX = viewPortCenter['x'] * pixelRatio,\n      centerY = viewPortCenter['y'] * pixelRatio,\n      result = this.pixelProjection_.geoToPixel(geoPoint),\n      w = this.pixelProjection_['w'];\n\n  return new H.math.Point(\n      H.math.round(((result['x'] - H.math.round(result['x'] / w) * w) + centerX) / pixelRatio),\n      H.math.round((result['y'] + centerY) / pixelRatio)\n  );\n};\n\n\n/**\n * @override\n * @export\n */\nH.map.render.p2d.RenderEngine.prototype.getBBox = function(type, margin) {\n  'use strict';\n\n  var viewPortBounds = this.viewPortBounds[type || H.map.render.RenderEngine.ViewPortBoundsType.PADDED],\n      pixelProjection = this.pixelProjection_,\n      left = viewPortBounds['left'] - margin,\n      topLeft = pixelProjection.xyToGeo(left, viewPortBounds['top'] - margin),\n      right = viewPortBounds['right'] + margin,\n      bottomRight = pixelProjection.xyToGeo(right, viewPortBounds['bottom'] + margin);\n\n  // Adjust the longitudes to -180...+180 if we have a repeated world on x-axis:\n  if (right - left >= pixelProjection['w']) {\n    topLeft['lng'] = -(bottomRight['lng'] = 180);\n  }\n  return H.geo.Rect.fromPoints(topLeft, bottomRight);\n};\n\n\n/**\n * @override\n * @export\n */\nH.map.render.p2d.RenderEngine.prototype.getObjectsAt = function(x, y, opt_topMostOnly) {\n  'use strict';\n  var objects = [],\n      i,\n      renderer,\n      pixelRatio = this.pixelRatio,\n      geoSpaceRenderers = this.geoSpaceRenderers_,\n      screenSpaceRenderers = this.screenSpaceRenderers_,\n      screenDomRenderers = this.screenDomRenderers_;\n\n  x *= pixelRatio;\n  y *= pixelRatio;\n\n  objects = this.getObjectsAt_(objects, screenDomRenderers, x, y, opt_topMostOnly);\n  if (opt_topMostOnly && objects.length) {\n    return objects;\n  }\n\n  objects = this.getObjectsAt_(objects, screenSpaceRenderers, x, y, opt_topMostOnly);\n  if (opt_topMostOnly && objects.length) {\n    return objects;\n  }\n\n  return this.getObjectsAt_(objects, geoSpaceRenderers, x, y, opt_topMostOnly);\n};\n\n\n/**\n * Private helper method for getObjectsAt to loop over renderers collections.\n * @private\n * @param {Array} objects objects array to concatanate with\n * @param {Array} renderers renderers collection to loop over\n * @param {number} x x coordinate in screen space to probe renderer\n * @param {number} y y coordinate in screen space to probe renderer\n * @param {boolean=} opt_topMostOnly optional flag, if set method returns array with single element that is located\n * on top\n * @return {Array} array fo objects at given x/y coordinates for the provided renderers collection\n */\nH.map.render.p2d.RenderEngine.prototype.getObjectsAt_ = function(objects, renderers, x, y,\n    opt_topMostOnly) {\n  'use strict';\n  var i = renderers.length,\n      renderer;\n  while (i--) {\n    renderer = renderers[i];\n    if (renderer && renderer.getObjectsAt) {\n      objects = objects.concat(renderer.getObjectsAt(x, y, opt_topMostOnly));\n      if (objects.length && opt_topMostOnly) {\n        break;\n      }\n    }\n  }\n\n  return objects;\n};\n\n\n/**\n * Property hold new viewport size that must be zynchronized with viewport, after\n * synchronization it's set to null, meaning that everything is in sync.\n * @private\n * @type {H.math.Size}\n */\nH.map.render.p2d.RenderEngine.prototype.syncedViewPort_ = H.lang.NULL;\n\n\n/**\n * This method updates size of currently used dom surfaces\n * @param {number} width\n * @param {number} height\n * @private\n */\nH.map.render.p2d.RenderEngine.prototype.updateDomSurfacesSize_ = function(width, height) {\n  'use strict';\n  var i = this.screenDomRenderers_.length,\n      renderer,\n      surface;\n  while (i--) {\n    renderer = this.screenDomRenderers_[i];\n    if (renderer) {\n      surface = renderer.getSurface();\n      surface.setSize(width, height);\n    }\n  }\n};\n\n\n/**\n * This method returns visible viewport size\n * @private\n * @return {H.math.ISize}\n */\nH.map.render.p2d.RenderEngine.prototype.getVisibleViewportSize_ = function() {\n  'use strict';\n  var bounds = this.viewPortBounds[H.map.render.RenderEngine.ViewPortBoundsType.VISIBLE];\n  return /** @type {H.math.ISize} */({\n    'w': bounds['right'] - bounds['left'],\n    'h': bounds['bottom'] - bounds['top']\n  });\n};\n\n\n// TODO: in fact it's onUpdate callback. Rename it.\n/**\n * @override\n */\nH.map.render.p2d.RenderEngine.prototype.onResize = function() {\n  'use strict';\n  var viewPortBounds = this.viewPortBounds,\n      surfaceSize = this.surface_.getSize(),\n      viewportSize,\n      previousBounds,\n      bounds,\n      width,\n      height;\n\n  if (!this.viewPort.fixedCenter) {\n    // We have to remember the previous margined bounds:\n    previousBounds = viewPortBounds[H.map.render.RenderEngine.ViewPortBoundsType.VISIBLE].clone();\n  }\n  // Call the super which will adjust the viewPortBounds:\n  H.map.render.p2d.RenderEngine.superClass_.onResize.call(this);\n\n  // Adjust the surface size:\n  viewportSize = this.getVisibleViewportSize_();\n  this.prioCenter_.set(0, 0);\n  width = viewportSize['w'];\n  height = viewportSize['h'];\n  if (surfaceSize.width !== width || surfaceSize.height !== height) {\n    this.surface_.setSize(width, height);\n    this.updateDomSurfacesSize_(width, height);\n    this.syncedViewPort_ = new H.math.Size(width, height);\n  }\n\n  // If viewPort.fixedCenter is false then previousBounds are defined:\n  if (previousBounds) {\n    // We have to adjust the center so that the map looks like it would be fixed on top left corner:\n    bounds = viewPortBounds[H.map.render.RenderEngine.ViewPortBoundsType.VISIBLE];\n    // Unfortunately only the private applyPxOffset_ expects pixelRatio-based coordinates but doesn't call synchronize_\n    this.applyPxOffset_(\n        previousBounds['left'] - bounds['left'],\n        previousBounds['top'] - bounds['top']);\n    this.synchronize_();\n  }\n  this.relaunch_();\n\n};\n\n\n/**\n * @override\n * @export\n */\nH.map.render.p2d.RenderEngine.prototype.getCapabilities = function() {\n  'use strict';\n  return H.map.render.p2d.capabilities;\n};\n\n\n/**\n * Changes timeStamp that is used by render loop to determine if loop should be stopped bu timeout\n * @private\n */\nH.map.render.p2d.RenderEngine.prototype.updateTimestamp_ = function() {\n  'use strict';\n  /**\n   * @private\n   */\n  this.lastCallTime_ = H.util.shims.now();\n};\n\n\n/**\n * Launches rendering loop.\n * @protected\n */\nH.map.render.p2d.RenderEngine.prototype.launch = function() {\n  'use strict';\n  if (goog.DEBUG) {\n    this.frameCounter_ = 0;\n    this.metrics_.launches++;\n    this.startTime_ = H.util.shims.now();\n  }\n  this.rendered_ = false;\n  this.state_ = H.map.render.p2d.RenderEngine.BUSY;\n  this.run_();\n};\n\n\n/**\n * Rendering loop. recursively schedules frame rendering, and is called recursively from rendering logic itself.\n * Manages when to brake the loop.\n * @private\n */\nH.map.render.p2d.RenderEngine.prototype.run_ = function() {\n  'use strict';\n  if ((H.util.shims.now() - this.lastCallTime_) < this.suspendTimeout_ &&\n      !this.rendered_) {\n    /**\n     * Property holds id of the requested frame. Used for cancelling.\n     * @private\n     */\n    this.frameId_ = H.util.shims.requestAnimationFrame(this.render_);\n  } else {\n    if (goog.DEBUG) {\n      var endTime = H.util.shims.now();\n      this.metrics_.runs.push({\n        frames: this.frameCounter_,\n        start: this.startTime_,\n        end: endTime,\n        fps: this.frameCounter_ / ((endTime - this.startTime_) / 1000),\n        layers: this.dataModel.getLength(),\n        viewUpdates: this.viewUpdates_,\n        dataUpdates: this.dataUpdates_\n      });\n      this.metrics_.suspensions++;\n      this.viewUpdates_ = 0;\n      this.dataUpdates_ = 0;\n    }\n    if (this.rendered_) {\n      this.resetDispatchedFlags_();\n      this.dispatchRenderEvent_();\n    }\n    this.state_ = H.map.render.p2d.RenderEngine.SUSPENDED;\n  }\n};\n\n\n/**\n * @private\n */\nH.map.render.p2d.RenderEngine.prototype.resetDispatchedFlags_ = function() {\n  'use strict';\n  this.geoRenderDispatched_.length = 0;\n  this.screenRenderDispatched_.length = 0;\n  this.domRenderDispatched_.length = 0;\n};\n\n\n/**\n * Rendering logic\n * @private\n */\nH.map.render.p2d.RenderEngine.prototype.render_ = function() {\n  'use strict';\n  if (goog.DEBUG) {\n    this.frameCounter_++;\n  }\n  var geoSpaceRenderers = this.geoSpaceRenderers_,\n      screenSpaceRenderers = this.screenSpaceRenderers_,\n      screenDomRenderers = this.screenDomRenderers_,\n      screenCenter = this.viewPort['center'].clone().scale(this.pixelRatio),\n      bbox = this.getBBox(H.map.render.RenderEngine.ViewPortBoundsType.MARGINED, 0),\n      markersBBox = this.getBBox(H.map.render.RenderEngine.ViewPortBoundsType.MARGINED, 256),\n      zoom = this.zoom_, //zoom is already (ratio) adjusted\n      nonAdjustedZoom = zoom - this.ratioZoomAdjustment_,\n      geoRendered,\n      screenRendered,\n      domRendered,\n      higherLevelBbox,\n      bgZoom,\n      i,\n      pixelProjection = this.pixelProjection_,\n      baseBackgroundLower = this.renderBaseBackgroundLower_,\n      baseBackgroundHigher = this.renderBaseBackgroundHigher_,\n      baseRenderer = geoSpaceRenderers[0],\n      prioCenter = this.prioCenter_;\n\n  this.surface_.clear();\n  if (baseRenderer) {\n    if (baseBackgroundLower) {\n      while (baseBackgroundLower) {\n        bgZoom = zoom - baseBackgroundLower;\n        baseRenderer.render(bbox, screenCenter, pixelProjection,\n            bgZoom, true, prioCenter);\n        baseBackgroundLower -= 1;\n      }\n    }\n\n    if (baseBackgroundHigher && this.zoomingOut_) {\n      for (i = 1; i <= baseBackgroundHigher; i++) {\n        bgZoom = zoom + i;\n        // create bbox for higher zoom level that covers only the viewport\n        pixelProjection.rescale(bgZoom);\n        higherLevelBbox = this.getBBox(\n            H.map.render.RenderEngine.ViewPortBoundsType.VISIBLE, 0);\n        pixelProjection.rescale(zoom);\n        if (baseRenderer.render(higherLevelBbox, screenCenter, pixelProjection,\n            bgZoom, true, prioCenter)) {\n          break;\n        }\n      }\n    }\n  }\n\n  geoRendered = this.renderLayers_(geoSpaceRenderers,\n      this.geoRenderDispatched_, bbox, screenCenter, zoom, false, prioCenter);\n\n  // TODO When we introduce other screen space renderes than MarkerRenderer we have NOT to pass the markersBBox because\n  //      it is expanded by 256px on each side!\n  //request markers using original non adjusted zoom\n  screenRendered = this.renderLayers_(screenSpaceRenderers,\n      this.screenRenderDispatched_, markersBBox, screenCenter, nonAdjustedZoom, false, prioCenter);\n\n  domRendered = this.renderLayers_(screenDomRenderers,\n      this.domRenderDispatched_, markersBBox, screenCenter, nonAdjustedZoom, false, prioCenter);\n\n  this.rendered_ = geoRendered && screenRendered && domRendered;\n\n  if (this.syncedModel_) {\n    this.viewModel.synchronize(\n        /** @type {H.map.ViewModel.CameraData}*/(this.syncedModel_));\n    this.syncedModel_ = null;\n  }\n\n  if (this.syncedViewPort_) {\n    this.viewPort.synchronize(this.syncedViewPort_);\n    this.syncedViewPort_ = H.lang.NULL;\n  }\n\n  if (zoom < this.lastZoom_) {\n    this.zoomingOut_ = true;\n    // set zoomout flag to false only if target level was rendered\n  } else if (this.lastGeoRendered_) {\n    this.zoomingOut_ = false;\n  }\n  this.lastZoom_ = zoom;\n  this.lastGeoRendered_ = geoRendered;\n\n  this.run_();\n};\n\n\n/**\n * Helper render method, iterates over renderers.\n * @param {Array} renderers array of renderers to iterate over\n * @param {Array} dispatched array that holds indexes of renderers for which \"render\" event was dispatched\n * @param {H.geo.Rect} bbox\n * @param {H.math.Point} screenCenter\n * @param {number} zoomLevel The zoom level for which the layers should be rendered\n * @param {boolean} cacheOnly Indicates whether only cached resources are to be considered\n * @param {H.math.Point} prioCenter The priority center as an offset in screen pixel relative to the center\n * @private\n * @return {boolean} true if all layers in stack were rendered\n */\nH.map.render.p2d.RenderEngine.prototype.renderLayers_ = function(renderers, dispatched, bbox,\n        screenCenter, zoomLevel, cacheOnly, prioCenter) {\n  'use strict';\n  var len = renderers.length,\n      layers = this.layers_,\n      layerRendered,\n      rendered = !!len,\n      i = 0;\n\n  for (i = 0; i < len; i++) {\n    if (renderers[i]) {\n      layerRendered = renderers[i].render(bbox, screenCenter, this.pixelProjection_, zoomLevel, cacheOnly, prioCenter);\n      if (layerRendered && !dispatched[i]) {\n        this.dispatchRenderEvent_(layers[i]);\n        dispatched[i] = true;\n      }\n      if (!dispatched[i]) {\n        rendered = false;\n      }\n    }\n  }\n\n\n  return rendered;\n};\n\n\n/**\n * This method creates and fires render event\n * @private\n * @fires H.map.render.p2d.RenderEngine#render\n * @param {H.map.layer.Layer=} opt_target\n */\nH.map.render.p2d.RenderEngine.prototype.dispatchRenderEvent_ = function(opt_target) {\n  'use strict';\n\n  this.dispatchEvent({'type': this.EventType.RENDER, 'target': (opt_target || this)});\n};\n\n\n/**\n * Protected implementation of H.util.Disposable.disposeInternal\n * @protected\n */\nH.map.render.p2d.RenderEngine.prototype.disposeInternal = function() {\n  'use strict';\n  var updateEvent = 'update',\n      viewModel = this.viewModel,\n      dataModel = this.dataModel,\n      baseLayer = this.dataModel.asArray()[0],\n      viewPort = this.viewPort,\n      geoSpaceRenderers = this.geoSpaceRenderers_,\n      screenSpaceRenderers = this.screenSpaceRenderers_,\n      domRenderers = this.screenDomRenderers_,\n      len;\n\n  H.util.shims.cancelAnimationFrame(this.frameId_);\n  this.stopAnimation_(true);\n\n  dataModel.removeEventListener(updateEvent, this.onDataUpdate_, false, this);\n  dataModel.removeEventListener(dataModel.EventType.ADD, this.onLayerAdd_, false, this);\n  dataModel.removeEventListener(dataModel.EventType.REMOVE, this.onLayerRemove_, false, this);\n  dataModel.removeEventListener(dataModel.EventType.SET, this.onLayerSet_, false, this);\n\n  if (baseLayer) {\n    this.manageMinMaxListeners_( /** @type {H.map.layer.Layer} */(baseLayer), false);\n  }\n\n  this.surface_.dispose();\n\n  len = geoSpaceRenderers.length;\n  while (len--) {\n    H.util.dispose(geoSpaceRenderers[len]);\n  }\n\n  len = screenSpaceRenderers.length;\n  while (len--) {\n    H.util.dispose(screenSpaceRenderers[len]);\n  }\n\n  len = domRenderers.length;\n  while (len--) {\n    H.util.dispose(domRenderers[len]);\n  }\n\n  viewPort['element'] && viewPort['element'].removeChild(this.layersContainer_);\n  this.layersContainer_ = null;\n  this.state_ = H.map.render.p2d.RenderEngine.SHUTDOWN;\n\n  H.map.render.p2d.RenderEngine.superClass_.disposeInternal.call(this);\n};\n\n\n/**\n * Function relaunches engine if it can\n * @private\n */\nH.map.render.p2d.RenderEngine.prototype.relaunch_ = function() {\n  'use strict';\n  this.updateTimestamp_();\n  if (this.canLaunch_()) {\n    this.launch();\n  }\n};\n\n\n/**\n * Function returns current camera which is or will be rendered in the\n * next frame.\n * @return {H.map.ViewModel.CameraData} current camera values\n * @private\n */\nH.map.render.p2d.RenderEngine.prototype.getCameraData_ = function() {\n  'use strict';\n  var that = this,\n      position,\n      camera;\n\n  return this.correctCameraAngles_({\n    'position': this.pixelProjection_['projection'].pointToGeo(this.mapCenter_)\n  });\n};\n\n\n/**\n * Function synchronizes current engine values with the view model\n * @param {H.geo.Point=} opt_geopoint\n * @private\n */\nH.map.render.p2d.RenderEngine.prototype.synchronize_ = function(opt_geopoint) {\n  'use strict';\n  var that = this,\n      camera = this.getCameraData_();\n\n  if (opt_geopoint) {\n    camera['position'] = opt_geopoint;\n  }\n  this.syncedModel_ = camera;\n\n  this.syncedModel_['zoom'] = that.zoom_ - that.ratioZoomAdjustment_;\n};\n\n\n/**\n * Function applies x,y to the map center and the projection\n * @param {number} x offset to move on the x axis\n * @param {number} y offset to move on the y axis\n * @param {boolean=} opt_preventSync ifset to true prevents synchronization with view model\n */\nH.map.render.p2d.RenderEngine.prototype.applyPxOffset =\n    function(x, y, opt_preventSync) {\n  'use strict';\n  this.applyPxOffset_(x * this.pixelRatio, y * this.pixelRatio);\n\n  this.prioCenter_.set(0, 0);\n  if (!opt_preventSync) {\n    this.synchronize_();\n    this.relaunch_();\n  }\n};\n\n\n/**\n * Function applies offset to map projection and modifies the center. It\n * does not take pixelRatio into account. (all public functions should)\n * @param {number} x\n * @param {number} y\n * @private\n */\nH.map.render.p2d.RenderEngine.prototype.applyPxOffset_ =\n    function(x, y) {\n  'use strict';\n  var pixelProjection = this.pixelProjection_,\n      mapCenter = this.mapCenter_;\n  pixelProjection['x'] = H.math.modulo(pixelProjection['x'] + x, pixelProjection['w']);\n  pixelProjection['y'] = H.math.max(0, H.math.min(pixelProjection['w'], pixelProjection['y'] + y));\n  mapCenter['x'] = pixelProjection['x'] / pixelProjection['w'];\n  mapCenter['y'] = pixelProjection['y'] / pixelProjection['h'];\n};\n\n\n/**\n * Function changes the zoom at provided screen coordinates. It\n * incorporates the zoom ratio adjustment\n * @param {number} zoom desired zoom level\n * @param {number=} opt_atX x coordinate to zoom to in screen space\n * @param {number=} opt_atY y coordinate to zoom to in screen space\n * @export\n */\nH.map.render.p2d.RenderEngine.prototype.zoomAt = function(zoom, opt_atX, opt_atY) {\n  'use strict';\n  zoom = this.clampZoom_(this.clampZoom_(zoom) + this.ratioZoomAdjustment_);\n  this.zoomAt_(zoom, opt_atX, opt_atY);\n};\n\n\n/**\n * Function changes the zoom at provided screen coordinates.\n * @param {number} zoom desired zoom level\n * @param {number=} opt_atX x coordinate to zoom to in screen space\n * @param {number=} opt_atY y coordinate to zoom to in screen space\n * @private\n */\nH.map.render.p2d.RenderEngine.prototype.zoomAt_ = function(zoom, opt_atX, opt_atY) {\n  'use strict';\n  var screenOffsetX,\n      screenOffsetY,\n      pixelRatio = this.pixelRatio,\n      screenCenter = this.viewPort['center'];\n\n  if (opt_atX === +opt_atX && opt_atY === +opt_atY) {\n    screenOffsetX = (opt_atX - screenCenter['x']) * pixelRatio;\n    screenOffsetY = (opt_atY - screenCenter['y']) * pixelRatio;\n    this.prioCenter_.set(screenOffsetX, screenOffsetY);\n    this.applyPxOffset_(screenOffsetX, screenOffsetY);\n    this.pixelProjection_.rescale(zoom);\n    this.applyPxOffset_(-screenOffsetX, -screenOffsetY);\n  } else {\n    this.prioCenter_.set(0, 0);\n    this.pixelProjection_.rescale(zoom);\n  }\n\n  this.zoom_ = zoom;\n  this.synchronize_();\n  this.relaunch_();\n};\n\n\n/**\n * @override\n * @export\n */\nH.map.render.p2d.RenderEngine.prototype.getCamForBounds = function(bounds, keepCenter) {\n  'use strict';\n  var zoom = this.getCapabilities()['zoom']['max'],\n      center = bounds.getCenter(),\n      pixelProjection,\n      pxTopLeft,\n      pxBottomRight,\n      worldSize,\n      pxCenter,\n      pxWidth,\n      pxHeight,\n      viewPortBounds,\n      viewPortWidth,\n      viewPortHeight;\n\n  if (!bounds.isEmpty()) {\n    // We need a huge PixelProjection to prevent rounding issues\n    pixelProjection = new H.geo.PixelProjection(this.pixelProjection_['projection']);\n    pixelProjection.rescale(zoom);\n    // Project the bounds:\n    pxTopLeft = pixelProjection.geoToPixel(bounds.getTopLeft()).round();\n    pxBottomRight = pixelProjection.geoToPixel(bounds.getBottomRight()).round();\n\n    worldSize = pixelProjection['w'];\n    if (bounds.isCDB()) {\n      // Adjust the left edge of the projected rectangle if bounds crossing the date border:\n      pxTopLeft['x'] -= worldSize;\n    }\n    if (keepCenter) {\n      // Detect the pixel position of the given bounds center within the pixel rectangle:\n      pxCenter = pixelProjection.geoToPixel(center);\n      // Align the bounds center and the projected rectangle center by expanding the rectangle\n      pxWidth = H.math.max(pxCenter['x'] - pxTopLeft['x'], pxBottomRight['x'] - pxCenter['x']) * 2;\n      pxHeight = H.math.max(pxCenter['y'] - pxTopLeft['y'], pxBottomRight['y'] - pxCenter['y']) * 2;\n    } else {\n      pxWidth = pxBottomRight['x'] - pxTopLeft['x'];\n      pxHeight = pxBottomRight['y'] - pxTopLeft['y'];\n      // Adjust the resulting center to the center of the projected rectangle\n      center = pixelProjection.pixelToGeo(pxTopLeft.add(pxBottomRight).scale(.5));\n    }\n    // Calculate the view port dimension to use (the padded viewport bounds):\n    viewPortBounds = this.viewPortBounds[H.map.render.RenderEngine.ViewPortBoundsType.PADDED];\n    viewPortWidth = viewPortBounds['right'] - viewPortBounds['left'];\n    viewPortHeight = viewPortBounds['bottom'] - viewPortBounds['top'];\n\n    // Compute the highest zoom level where the projected rectangle would fit into the view port (padded):\n    zoom = -8 + H.math.min(\n        H.math.log(worldSize * (viewPortWidth / pxWidth)) / H.math.LN2,\n        H.math.log(worldSize * (viewPortHeight / pxHeight)) / H.math.LN2) - this.ratioZoomAdjustment_;\n  }\n  return /** @type {H.map.ViewModel.CameraData} */({\n    'zoom': this.clampZoom_(zoom),\n    'position': center\n  });\n};\n\n\n/**\n * This method stops current control, interation and animation if running\n * @private\n */\nH.map.render.p2d.RenderEngine.prototype.stopAnimationActions_ = function() {\n  'use strict';\n  this.stopAnimation_(true);\n  if (this.control_.isRunning()) {\n    this.endControl(true);\n  }\n  if (this.interaction_.isRunning()) {\n    this.endInteraction(true);\n  }\n  this.stopAnimation_(true);\n};\n\n\n/**\n * @override\n * @export\n */\nH.map.render.p2d.RenderEngine.prototype.startInteraction = function(modifiers, opt_kinetics) {\n  'use strict';\n  this.stopAnimationActions_();\n  this.kinetics_ = opt_kinetics;\n  this.interaction_.start(modifiers, !!opt_kinetics);\n};\n\n\n/**\n * This is mad! get user zoom (by substracting ratio adjustment) clamp\n * and to clamped zoom (in user range) add ratio again\n * and clamp again to preserve layer range for pixel ratio.\n * Works for now.\n * TODO: figure better way to handle zoom levels in different ratios/ranges\n * @param {number} zoom\n * @return {number}\n * @private\n */\nH.map.render.p2d.RenderEngine.prototype.clampZoomWithRatio_ = function(zoom) {\n  'use strict';\n  return this.clampZoom_(this.clampZoom_(zoom - this.ratioZoomAdjustment_) +\n      this.ratioZoomAdjustment_);\n};\n\n\n/**\n * @override\n * @export\n */\nH.map.render.p2d.RenderEngine.prototype.interaction =\n    function(x, y, opt_bx, opt_by, opt_timestamp) {\n  'use strict';\n  var interactionMods = H.map.render.RenderEngine.InteractionModifiers,\n      vecXY,\n      newZoom,\n      midPoint,\n      relaunch = false;\n\n\n  if (this.interaction_.isRunning()) {\n    this.interaction_.store(x, y, opt_bx, opt_by, opt_timestamp);\n\n    if (this.interaction_.has(interactionMods['COORD'])) {\n      vecXY = this.interaction_.getMoveVector();\n      if (vecXY.magnitude() > 0) {\n        this.applyPxOffset(-vecXY['x'], -vecXY['y']);\n        relaunch = true;\n      }\n    }\n\n    if (this.interaction_.has(interactionMods['ZOOM']) && this.isBifocalInteraction(x, y, opt_bx, opt_by)) {\n      midPoint = this.interaction_.getBifocalCenter();\n      newZoom = this.interaction_.getBifocalZoom(this.zoom_);\n      if (newZoom !== this.zoom_) {\n        newZoom = this.clampZoomWithRatio_(newZoom);\n        this.zoomAt_(newZoom, midPoint['x'], midPoint['y']);\n        relaunch = true;\n      }\n\n    }\n\n    relaunch && this.relaunch_();\n  }\n\n};\n\n\n/**\n * @override\n * @export\n */\nH.map.render.p2d.RenderEngine.prototype.endInteraction = function(opt_preventKinetics) {\n  'use strict';\n  var that = this,\n      interactionMods = H.map.render.RenderEngine.InteractionModifiers,\n      initialSpeed,\n      currentSpeed,\n      deceleration,\n      kineticMove,\n      direction,\n      duration;\n\n\n  if (this.interaction_.isRunning() && !opt_preventKinetics) {\n    if (this.kinetics_) {\n\n      initialSpeed = this.interaction_.getSpeed();\n      direction = this.interaction_.getDirection();\n\n      duration = this.kinetics_.duration;\n\n      currentSpeed = (this.kinetics_.power || 1) * initialSpeed;\n      deceleration = -(currentSpeed / duration);\n      kineticMove = new H.util.kinetics.KineticMove(deceleration, currentSpeed);\n\n      if (!H.lang.isNaN(direction['x']) && !H.lang.isNaN(direction['y']) && currentSpeed > 0 &&\n          that.interaction_.has(interactionMods['COORD'])) {\n\n        this.startAnimation_(function(progress) {\n          currentSpeed = kineticMove.getCurrentSpeed(progress * duration);\n          if (!H.lang.isNaN(currentSpeed)) {\n            that.applyPxOffset(\n                H.math.round(-direction['x'] * currentSpeed),\n                H.math.round(-direction['y'] * currentSpeed));\n          }\n        }, duration, undefined, this.kinetics_.ease);\n\n      }\n\n    }\n\n    this.kinetics_ = null;\n    this.interaction_.clear();\n  }\n\n};\n\n\n/**\n * @override\n * @export\n */\nH.map.render.p2d.RenderEngine.prototype.startControl =\n    function(opt_kinetics, opt_atX, opt_atY) {\n  'use strict';\n  this.stopAnimationActions_();\n  this.control_.start(opt_atX, opt_atY);\n  this.kinetics_ = opt_kinetics;\n};\n\n\n/**\n * @override\n * @export\n */\nH.map.render.p2d.RenderEngine.prototype.control =\n    function(moveX, moveY, moveZ, angleX, angleY, angleZ, zoom) {\n  'use strict';\n\n  if (H.lang.isNaN(moveZ = +zoom || +moveZ)) {\n    throw new H.lang.InvalidArgumentError(this.control, 2, moveZ);\n  }\n\n  if (H.lang.isNaN(moveX)) {\n    throw new H.lang.InvalidArgumentError(this.control, 0, moveX);\n  }\n\n  if (H.lang.isNaN(moveY)) {\n    throw new H.lang.InvalidArgumentError(this.control, 2, moveY);\n  }\n\n  if (this.control_.isRunning()) {\n    this.control_.set(moveX, moveY, moveZ);\n  }\n};\n\n\n/**\n * @override\n * @export\n */\nH.map.render.p2d.RenderEngine.prototype.endControl =\n    function(opt_preventKinetics, opt_adjustView) {\n  'use strict';\n  var that = this,\n      timeFromLastFrame,\n      controlEndTs,\n      offset,\n      initialSpeed,\n      currentSpeed,\n      deceleration,\n      kineticMove,\n      direction,\n      duration,\n      requestedData,\n      zoomChange;\n\n  if (this.control_.isRunning()) {\n    this.stopAnimation_(true);\n    controlEndTs = H.util.shims.now();\n    timeFromLastFrame = controlEndTs - this.controlFrameTs_;\n\n    if (timeFromLastFrame >= 1) {\n      offset = this.control_.getOffsetValues();\n      this.applyControl_(offset, timeFromLastFrame);\n    }\n\n    if (this.kinetics_ && !opt_preventKinetics && !opt_adjustView) {\n      initialSpeed = this.control_.getSpeed();\n      direction = this.control_.getDirection();\n\n      duration = this.kinetics_.duration;\n      currentSpeed = (this.kinetics_.power || 1) * initialSpeed;\n      deceleration = -(currentSpeed / duration);\n\n      kineticMove = new H.util.kinetics.KineticMove(deceleration, currentSpeed);\n\n      if (!H.lang.isNaN(direction['x']) && !H.lang.isNaN(direction['y']) && currentSpeed > 0) {\n        this.startAnimation_(function(progress, timeFromStart, frameTime, timeStamp) {\n          if (controlEndTs) {\n            //adjust frameTime for first frame\n            frameTime = timeStamp - controlEndTs;\n            controlEndTs = 0;\n          }\n          currentSpeed = kineticMove.getCurrentSpeed(progress * duration) * frameTime;\n          if (!H.lang.isNaN(currentSpeed)) {\n            zoomChange = direction['z'] * currentSpeed;\n            if (zoomChange) {\n              that.zoomAt_(that.clampZoomWithRatio_(that.zoom_ + zoomChange),\n                  that.control_['atX'], that.control_['atY']);\n            }\n\n            that.applyPxOffset(\n                H.math.round(direction['x'] * currentSpeed),\n                H.math.round(direction['y'] * currentSpeed));\n\n          }\n        }, duration, undefined, this.kinetics_.ease);\n\n      }\n    } else if (typeof(opt_adjustView) === 'function') {\n\n      requestedData = {\n        'camera': this.getCameraData_(),\n        'zoom': this.zoom_ - this.ratioZoomAdjustment_\n      };\n      opt_adjustView(requestedData);\n      requestedData.zoom += this.ratioZoomAdjustment_;\n      this.applyAdjustedView_(requestedData);\n    }\n\n    this.control_.reset();\n  }\n};\n\n\n/**\n * This method moves map in decelerated move to target adjusted view\n * @param {Object} requestedData\n * @private\n */\nH.map.render.p2d.RenderEngine.prototype.applyAdjustedView_ = function(requestedData) {\n  'use strict';\n  var that = this,\n      mapCenter = this.mapCenter_,\n      destPoint = this.pixelProjection_['projection'].geoToPoint(requestedData['camera']['position']),\n      destPosition = this.pixelProjection_.pointToPixel(destPoint),\n      destY = destPosition['y'],\n      destX = destPosition['x'],\n      destZ = requestedData['zoom'],\n      startPoint = this.pixelProjection_.pointToPixel(mapCenter),\n      startY = startPoint['y'],\n      startX = startPoint['x'],\n      startZ = this.zoom_,\n      speed = this.control_.getSpeed(),\n      atX = this.control_['atX'],\n      atY = this.control_['atY'],\n      duration,\n      lastPath = 0,\n      deceleration,\n      distance,\n      direction,\n      dx,\n      dy,\n      dz;\n\n  destX = this.getClosestX_(startX, destX);\n  dx = destX - startX;\n  dy = destY - startY;\n  dz = destZ - startZ;\n  distance = H.math.sqrt(dx * dx + dy * dy + dz * dz);\n  if (speed === 0 || distance === 0) {\n    //either we are already at target (when distance is 0) or we are not moving at all (when speed is 0), do noting\n    return;\n  }\n  //normalized direction vector\n  direction = {\n    x: dx / distance,\n    y: dy / distance,\n    z: dz / distance\n  };\n  duration = (2 * distance) / speed;\n  deceleration = speed * speed / (2 * distance);\n  this.startAnimation_(function(progress, timeFromStart, frameTime, timeStamp) {\n    var path,\n        deltaPath,\n        newZoom,\n        zoomChange;\n    if (progress !== 1) {\n      //use path delta (decelerated move for nice effect of slowing down)\n      //and direction vector, to modify zoom and center\n      path = (speed * timeFromStart - deceleration * timeFromStart * timeFromStart / 2);\n      deltaPath = path - lastPath;\n      zoomChange = direction.z * deltaPath;\n      if (zoomChange) {\n        newZoom = that.clampZoomWithRatio_(that.zoom_ + zoomChange);\n        that.zoomAt_(that.clampZoomWithRatio_(newZoom), atX, atY);\n      }\n\n      that.applyPxOffset(\n          H.math.round(direction.x * deltaPath),\n          H.math.round(direction.y * deltaPath));\n      lastPath = path;\n    } else {\n      //progress === 1 means we have reached the last frame of animation\n      //correct position to destination coords and render\n      that.mapCenter_ = destPoint;\n      that.zoomAt_(that.clampZoomWithRatio_(destZ), atX, atY);\n      that.synchronize_();\n      that.relaunch_();\n    }\n    //we are not using ease since decelerated move does that already\n  }, duration);\n};\n\n\n/**\n * Function listenes to control value changes and updates current animation\n * @param {H.util.Event} evt\n * @private\n */\nH.map.render.p2d.RenderEngine.prototype.onAnimationControl_ = function(evt) {\n  'use strict';\n  var that = this,\n      newZoom,\n      offset = evt['offset'];\n\n  this.prioCenter_.set(0, 0);\n  if (offset['x'] || offset['y'] || offset['z']) {\n    this.controlFrameTs_ = H.util.shims.now();\n    this.startAnimation_(function(progress, timeFromStart, frameTime, timeStamp) {\n      that.controlFrameTs_ = timeStamp;\n      that.applyControl_(offset, frameTime);\n    }, Number.POSITIVE_INFINITY);\n  } else {\n    //if all values are 0 we can stop animation (no move)\n    this.stopAnimation_(true);\n  }\n};\n\n\n/**\n * This method applies the control offset\n * @param {H.map.render.p2d.ControlUtils.ControlOffset} offset\n * @param {number=} opt_frameTime\n * @private\n */\nH.map.render.p2d.RenderEngine.prototype.applyControl_ = function(offset, opt_frameTime) {\n  'use strict';\n  var frameTime = opt_frameTime || 0;\n  //console.log(offset);\n  if (offset['z']) {\n    this.zoomAt_(this.clampZoomWithRatio_(this.zoom_ + offset['z'] * frameTime),\n        this.control_['atX'], this.control_['atY']);\n  }\n  this.applyPxOffset(offset['x'] * frameTime, offset['y'] * frameTime);\n};\n\n\n/**\n * Function starts internal animation\n * @param {function(number, number, number, number)} onFrame\n * @param {number} duration\n * @param {function()=} opt_onFinish\n * @param {function(number):number=} opt_ease\n * @private\n */\nH.map.render.p2d.RenderEngine.prototype.startAnimation_ =\n    function(onFrame, duration, opt_onFinish, opt_ease) {\n  'use strict';\n  if (this.animation_ && this.animation_.isRunning()) {\n    this.animation_.stop(true);\n  }\n\n  this.animation_ = new H.util.animation.Animation(onFrame, duration,\n      opt_onFinish, opt_ease);\n  this.animation_.start();\n};\n\n\n/**\n * Function stops running animation\n * @private\n * @param {boolean=} opt_suppressCallback\n */\nH.map.render.p2d.RenderEngine.prototype.stopAnimation_ = function(opt_suppressCallback) {\n  'use strict';\n  if (this.animation_ && this.animation_.isRunning()) {\n    this.animation_.stop(opt_suppressCallback);\n  }\n};\n\n\n/**\n * @override\n * @export\n * @method\n */\nH.map.render.p2d.RenderEngine.prototype.enter = H.util.doNothing;\n\n\n/**\n * @override\n * @export\n */\nH.map.render.p2d.RenderEngine.prototype.exit = function(callback) {\n  'use strict';\n  // TODO: hackish way to realign 2d to panorama should there be more generic\n  // way to do that?\n  var cameraData = this.viewModel.getCameraData();\n  this.onViewUpdate(/** @type {H.map.ViewModel.UpdateEvent} */({\n    'requested': {\n      'camera': cameraData,\n      'zoom': cameraData['zoom'],\n      'animate': true\n    }\n  }));\n  this.fadeout(this.layersContainer_, callback);\n};\n\n\n/**\n * @override\n */\nH.map.render.p2d.RenderEngine.prototype.capture = function(x1, y1, x2, y2) {\n  'use strict';\n  var surfaceCanvas = this.surface_.getElement(),\n      captureCanvas = /** @type {HTMLCanvasElement}*/(surfaceCanvas.ownerDocument.createElement('canvas')),\n      ctx = captureCanvas.getContext('2d'),\n      pixelRatio = this.pixelRatio;\n\n  captureCanvas.width = (x2 - x1) * pixelRatio;\n  captureCanvas.height = (y2 - y1) * pixelRatio;\n\n  // Draw surface canvas into capturing canvas by shifting position accordingly\n  ctx.drawImage(surfaceCanvas, -x1 * pixelRatio, -y1 * pixelRatio);\n\n  return captureCanvas;\n};\n\n\n/**\n * Capabilities object, describes values that can be rendered by RenderEngine ex.:\n * {\n * 'zoom': {\n *   'min': -8,\n *   'max': 22\n * },\n * 'camera': {\n *   'pitch' : {'min': 0, 'max': 0},\n *   'roll' : {'min': 0, 'max': 0},\n *   'yaw' : {'min': 0, 'max': 0},\n *   'fov' : {'min': 70, 'max': 70}\n * }\n * }\n *\n */\nH.map.render.p2d.RenderEngine.Capabilities;\n\n\n// TODO: add option that supplies default projection to the engine\n/**\n * @typedef {{\n *   renderBaseBackground: (Object|undefined),\n *   pixelRatio: (number),\n *   enableSubpixelRendering: (boolean|undefined)\n * }}\n * @property {Object=} renderBaseBackground Object describes how many cached zoom levels should be used as a base map\n *    background while base map tiles are\n * @property {number} pixelRatio The pixelRatio to use for over-sampling in cases of high-resolution displays\n * @property {boolean=} enableSubpixelRendering\n * @publish\n */\nH.map.render.p2d.RenderEngine.Options;\n\n",
		"goog.provide('H.map.DataModel');\n\n\ngoog.require('H.lang');\ngoog.require('H.lang.InvalidArgumentError');\ngoog.require('H.map.layer.Layer');\ngoog.require('H.util.EventTarget');\ngoog.require('H.util.OList');\n\n\n\n/**\n * The class represents data model of the map. It holds list of layers that are rendered\n * by map's RenderEngine. The class listens to 'update' events from layers and dispatches\n * them to the RenderEngine.\n * @publish\n * @export\n * @final\n * @extends {H.util.OList}\n * @constructor\n * @param {Array=} opt_layers array of layers to be added to the data model\n */\nH.map.DataModel = function(opt_layers) {\n  'use strict';\n  H.map.DataModel.superClass_.constructor.call(this);\n\n  this.dispatchEvent = H.lang.bind(this.dispatchEvent, this);\n\n  if (opt_layers) {\n    var i = 0,\n        len = opt_layers.length;\n    for (; i < len; i++) {\n      this.add(opt_layers[i]);\n    }\n  }\n};\nH.lang.inherits(H.map.DataModel, H.util.OList);\n\n\n/**\n * To register an \"update\" event listener\n * @private\n * @param {H.map.layer.Layer} layer The layer to register\n */\nH.map.DataModel.prototype.registerLayer_ = function(layer) {\n  'use strict';\n  var that = this;\n  layer.addEventListener(layer.EventType.UPDATE, this.dispatchEvent, false);\n};\n\n\n/**\n * To deregister an \"update\" listeners\n * @private\n * @param {H.map.layer.Layer} layer The layer to register\n */\nH.map.DataModel.prototype.deregisterLayer_ = function(layer) {\n  'use strict';\n  layer.removeEventListener(layer.EventType.UPDATE, this.dispatchEvent, false);\n};\n\n\n/**\n * This method adds layer to the data model, which will result in displaying the layer\n * on the map respecting the order in which they were added.\n * @param {H.map.layer.Layer} layer The Layer to add\n * @param {number=} opt_idx index where the new element should be inserted\n * @throws InvalidArgument if the given layer doesn't inherit H.map.layer.Layer\n * @publish\n * @export\n */\nH.map.DataModel.prototype.add = function(layer, opt_idx) {\n  'use strict';\n\n  H.lang.isInstanceOf(layer, H.map.layer.Layer, this.add, 0);\n  H.map.DataModel.superClass_.add.call(this, layer, opt_idx);\n  this.registerLayer_(layer);\n};\n\n\n/**\n * @param {number} idx\n * @param {H.map.layer.Layer} layer\n * @throws InvalidArgument if the given layer doesn't inherit H.map.layer.Layer\n * @return {H.map.layer.Layer}\n * @publish\n * @export\n */\nH.map.DataModel.prototype.set = function(idx, layer) {\n  'use strict';\n  var replacedLayer;\n\n  H.lang.isInstanceOf(layer, H.map.layer.Layer, this.set, 0);\n  replacedLayer = /** @type {H.map.layer.Layer} */ (H.map.DataModel.superClass_.set.call(this, idx, layer));\n  this.registerLayer_(layer);\n  this.deregisterLayer_(replacedLayer);\n  return replacedLayer;\n};\n\n\n/**\n * This method removes layer with the given index. This will effectively remove\n * the layer from the map.\n * @param {number} idx index of the layer to be removed\n * @throws IllegalArgument if the given index is out of bounds\n * @return {H.map.layer.Layer}\n * @publish\n * @export\n */\nH.map.DataModel.prototype.removeAt = function(idx) {\n  'use strict';\n  var layer;\n\n  if (layer = /** @type {H.map.layer.Layer} */ (H.map.DataModel.superClass_.removeAt.call(this, idx))) {\n    this.deregisterLayer_(layer);\n  }\n  return layer;\n};\n\n\n/**\n * This method removes a given layer. This will effectively remove the layer from the map.\n * @publish\n * @export\n * @param {H.map.layer.Layer} layer The layer to be removed\n * @return {boolean} signals if the layer could be found in the list and is removed\n */\nH.map.DataModel.prototype.remove = function(layer) {\n  'use strict';\n  var wasFound;\n\n  if (wasFound = H.map.DataModel.superClass_.remove.call(this, layer)) {\n    this.deregisterLayer_(layer);\n  }\n  return wasFound;\n};\n\n\n/**\n * This method removes all layers from data model.\n * @publish\n * @export\n */\nH.map.DataModel.prototype.flush = function() {\n  'use strict';\n  var i = this.getLength();\n  while (i--) {\n    this.removeAt(i);\n  }\n  H.map.DataModel.superClass_.flush.call(this);\n};\n\n",
		"goog.provide('H.net.Xhr');\n\n\n\n/**\n * Sends a XHR request and invokes the provided callback once the request finished.\n * Must not be published, platform-API internal use only!\n * @export\n * @constructor\n * @param {string} url The absolute URL of the XHR service to be called\n * @param {function(string=, string=)} callback The function to be called once the request\n *        finished. It gets the response text and an optional error type as arguments.\n *        Possible error types are:\n *        <ul>\n *          <li>{@code undefined} - if no error occurred </li>\n *          <li>{@code \"abort\"} - if the request was explicit aborted {@see H.net.Xhr.prototype.abort}}</li>\n *          <li>{@code \"timeout\"} - if the request timed out {@see H.net.Xhr.Options#timeout} </li>\n *          <li>{@code \"network\"} - if a {@code NetworkError} occurred </li>\n *          <li>{@code \"cors\"} - if the cross origin request can not be made</li>\n *        </ul>\n *\n * @param {H.net.Xhr.Options=} opt_options The optional parameters for this XHR request\n */\nH.net.Xhr = function(url, callback, opt_options) {\n  'use strict';\n  var request,\n      header,\n      headerValue,\n      optionsHeaders = opt_options && opt_options['headers'] || {},\n      options = {},\n      method,\n      that = this,\n      // Attaches event listeners to the created request object and makes the actual call\n      attachEventsAndSend = function() {\n        var onfinished = that.onfinished_.bind(that),\n            // Default timeout in ms for the request\n            requestTimeout = +options['timeout'] || 0;\n\n        // On default browsers of some devices XHR timeouts are not supported (aka Samsung Galaxy Tablet)\n        if (H.net.Xhr.XhrTimeoutSupport_) {\n          that.addEventListener_('timeout', onfinished);\n          request.timeout = requestTimeout;\n        } else if (requestTimeout) {\n          // Therefore we use custom timeout toe emulate it\n          that.xhrTimeout_ = setTimeout(function() {\n            request.abort();\n            that.onfinished_({'type': 'timeout'});\n          }, requestTimeout);\n        }\n\n        that.addEventListener_('error', onfinished);\n        that.addEventListener_('load', onfinished);\n\n        request.send(options['data']);\n      };\n\n  if (!H.lang.isFunction(callback)) {\n    throw new H.lang.InvalidArgumentError(H.net.Xhr, 1, 'function required');\n  }\n\n  // Make sure that URL is string\n  url += '';\n\n  //extend headers\n  H.lang.extend(optionsHeaders, H.net.Xhr.defaultOptions_['headers'], optionsHeaders);\n  //extend other options\n  H.lang.extend(options, H.net.Xhr.defaultOptions_, opt_options || {});\n  options['headers'] = optionsHeaders;\n\n  /**\n   * A reference to the callback function\n   * @private\n   * @type {function(?, (string|undefined))}\n   */\n  this.callback_ = callback;\n\n  /**\n   * A reference to the native XHR / XDR object\n   * @private\n   * @type {XMLHttpRequest|XDomainRequest}\n   */\n  this.request_ = request = new XMLHttpRequest();\n\n  // HTTP method to use\n  method = options['method'];\n\n  // We have to open the request before setting the timeout, otherwise IE9 throws an error:\n  try {\n    request.open(method, url, true);\n\n    for (header in options['headers']) {\n      headerValue = options['headers'][header];\n      if (headerValue) {\n        request.setRequestHeader(header, headerValue);\n      }\n    }\n\n    // This is not needed in case of IE9's XDomainRequest\n    request['withCredentials'] = !!options['withCredentials'];\n\n    // Attach event listeners to the request\n    attachEventsAndSend();\n  } catch (xhrEx) { // We've got 'Access Denied' via XHR\n    // If exception is thrown fall back to XDR in case if it is supported\n    // Keep in mind that in that case we cannot set custom headers\n    if (!H.net.Xhr.XhrCorsSupport_) {\n      this.request_ = request = new XDomainRequest();\n\n      try {\n        request.open(method, url);\n\n        // Attach event listeners to the request\n        attachEventsAndSend();\n      } catch (xdrEx) { // We've got 'Access Denied' via XDR\n        this.onfinished_({'type': 'cors'});\n      }\n    } else { // XHR failed because CORS is not supported\n      this.onfinished_({'type': 'cors'});\n    }\n  }\n};\n\n\n/**\n * The deafault options to re-use for the constructor\n * @private\n * @type {Object}\n */\nH.net.Xhr.defaultOptions_ = {\n  'method': 'GET',\n  'headers': {},\n  'data': null\n};\n\n\n/**\n * A flag to indicate if the XMLHttpRequest supports CORS requests\n * @private\n * @type {boolean}\n */\nH.net.Xhr.XhrCorsSupport_ = 'withCredentials' in new XMLHttpRequest;\n\n\n/**\n * A flag to indicate if the XMLHttpRequest supports timeout property\n * @private\n * @type {boolean}\n */\nH.net.Xhr.XhrTimeoutSupport_ = 'timeout' in new XMLHttpRequest;\n\n\n/**\n * X-browser helper to add an event listener\n * @private\n * @param {string} type\n * @param {function(?):?} listener\n */\nH.net.Xhr.prototype.addEventListener_ = function(type, listener) {\n  'use strict';\n  if (H.net.Xhr.XhrCorsSupport_) {\n    this.request_.addEventListener(type, listener);\n  } else {\n    this.request_['on' + type] = listener;\n  }\n\n};\n\n\n/**\n * X-browser helper to remove an event listener\n * @private\n * @param {string} type\n * @param {function(?):?} listener\n */\nH.net.Xhr.prototype.removeEventListener_ = function(type, listener) {\n  'use strict';\n  if (H.net.Xhr.XhrCorsSupport_) {\n    this.request_.removeEventListener(type, listener);\n  } else {\n    this.request_['on' + type] = null;\n  }\n};\n\n\n/**\n * It aborts an ongoing request.\n * If the request is not already finished, the request's callback is invoked with error \"abort\"\n * @export\n */\nH.net.Xhr.prototype.abort = function() {\n  'use strict';\n  // If the request was not finished yet?\n  if (this.request_) {\n    this.request_.abort();\n    // Some browsers (like IE9) doesn't trigger an \"abort\" event, we have to do it manually:\n    if (this.request_) {\n      this.onfinished_({'type': 'abort'});\n    }\n  }\n};\n\n\n/**\n * A listener for \"timeout\", \"abort\", \"error\" and \"load\" events\n * @private\n * @param {{type: string}} evt\n */\nH.net.Xhr.prototype.onfinished_ = function(evt) {\n  'use strict';\n  var evtType = evt.type,\n      request = this.request_,\n      responseText,\n      errorType,\n      onfinished,\n      callback;\n\n  // Clean custom timeout which might have been initialized in constructor\n  if (this.xhrTimeout_) {\n    clearTimeout(this.xhrTimeout_);\n  }\n\n  if (evtType === 'load') {\n    if (request instanceof XMLHttpRequest && request.status !== 200) {\n      // XHR fires a \"load\" event, even if the HTTP status is not 200. We treat it as an error type \"network\":\n      errorType = 'network';\n    } else {\n      responseText = request.responseText;\n    }\n  } else {\n    // Treat this case as security error during CORS request\n    // Check for readyState is required for IE9, otherwise it throws \"SCRIPT575 c00c023f\" error\n    if (request.readyState === 4 && request.status === 0 && evtType == 'error') {\n      errorType = 'cors';\n    } else {\n      errorType = evtType != 'error' ? evtType : 'network';\n    }\n  }\n\n  onfinished = this.onfinished_;\n  this.removeEventListener_('timeout', onfinished);\n  this.removeEventListener_('error', onfinished);\n  this.removeEventListener_('load', onfinished);\n\n  callback = this.callback_;\n  delete this.onfinished_;\n  delete this.callback_;\n  delete this.request_;\n  callback(responseText, errorType);\n};\n\n\n/**\n * @property {number=} timeout\n *           The number of milliseconds to wait before the request timed out (0 means no timeout)\n * @property {boolean=} withCredentials\n *           Indicates whether user credentials should be included with the request, defaults to {@code false}\n *           This option is ignored by IE9 because of technical limitations.\n * @property {string=} method\n *           The http request method which should be used. (i.e GET, POST...)\n * @property {*=} data\n *           The data which will be send by the request. For more details see native {@code XMLHttpRequest#send} method.\n *           more details.\n * @property {Object=} headers\n *           Map of request headers and their values which should\n *           be set for the current request\n *\n * @typedef {{\n *   timeout:         (number|undefined),\n *   withCredentials: (boolean|undefined),\n *   method:          (string|undefined),\n *   data:            (*|undefined),\n *   headers:         (Object|undefined)\n * }}\n */\nH.net.Xhr.Options;\n",
		"goog.provide('H.map.Circle');\n\ngoog.require('H.geo.Point');\ngoog.require('H.geo.Strip');\ngoog.require('H.lang');\ngoog.require('H.map.Polygon');\ngoog.require('H.math');\n\n\n\n/**\n * A Polygon with a circular shape.\n * @publish\n * @export\n * @extends {H.map.Polygon}\n * @final\n * @constructor\n * @param {H.geo.IPoint} center The geographical coordinates of the circle's center\n * @param {number} radius The radius of the circle in meters\n * @param {H.map.Circle.Options=} opt_options\n *    An object that specifies circle options and their initial values (among these,\n *    <code>precision</code> has a significant impact on the shape of the circle - please\n *    see <code>{@link H.map.Circle.Options}</code>\n */\nH.map.Circle = function(center, radius, opt_options) {\n  'use strict';\n  // Initialize the circle as an Polygon with a null-strip:\n  H.map.Circle.superClass_.constructor.call(this, null, opt_options);\n  // Set the circle specific properties:\n  this.setCenter(center);\n  this.setRadius(radius);\n  if (opt_options && 'precision' in opt_options) {\n    this.setPrecision(opt_options['precision']);\n  }\n};\nH.lang.inherits(H.map.Circle, H.map.Polygon);\n\n\n/**\n * To set the geographical center point of this circle.\n * If the specified center is an instance of H.geo.Point you must not modify this Point instance without calling\n * setCenter immediately afterwards.\n *\n * @param {H.geo.IPoint} center\n\n * @publish\n * @export\n */\nH.map.Circle.prototype.setCenter = function(center) {\n  'use strict';\n  if (!(center = H.geo.Point.fromIPoint(center)).equals(this.center_)) {\n    this.center_ = center;\n    H.map.Circle.superClass_.setStrip.call(this, null);\n  }\n};\n\n\n/**\n * To get the center point of this circle\n * You must not modify the returned Point instance without calling setCenter immediately afterwards.\n *\n * @return {H.geo.Point}\n\n * @publish\n * @export\n */\nH.map.Circle.prototype.getCenter = function() {\n  'use strict';\n  return this.center_;\n};\n\n\n/**\n * To set the length of the radius of the circle in meters.\n * The value is clamped to the of {@code[0 ... 20015089.27787877]}  (half WGS84 mean circumference)\n *\n * @param {number} radius\n *\n * @publish\n * @export\n */\nH.map.Circle.prototype.setRadius = function(radius) {\n  'use strict';\n  // The maximum radius is a quarter of the earth's circumference, don't worry, CC will fold the constants\n  if (H.lang.isNaN((radius = H.math.clamp(radius, 0, H.math.PI * H.geo.WGS84_MEAN_RADIUS / 2)))) {\n    throw new H.lang.InvalidArgumentError(this.setRadius, 0, radius);\n  }\n  if (this.radius_ !== radius) {\n    this.radius_ = radius;\n    H.map.Circle.superClass_.setStrip.call(this, null);\n  }\n};\n\n\n/**\n * To get the length of the radius of the circle in meters.\n *\n * @return {number}\n *\n * @publish\n * @export\n */\nH.map.Circle.prototype.getRadius = function() {\n  'use strict';\n  return this.radius_;\n};\n\n\n/**\n * The precision of the circle.\n * @private\n * @type {number}\n */\nH.map.Circle.prototype.precision_ = 60;\n\n\n/**\n * To set the precision of this circle {@see H.map.Circle.Options#precision}\n *\n * @param {number} precision\n *\n * @publish\n * @export\n */\nH.map.Circle.prototype.setPrecision = function(precision) {\n  'use strict';\n  if (!H.lang.isNumber(precision)) {\n    throw new H.lang.InvalidArgumentError(this.setPrecision, 0, precision);\n  }\n  if (this.precision_ !== (precision = H.math.clamp(H.math.round(precision), 4, 360))) {\n    this.precision_ = precision;\n    H.map.Circle.superClass_.setStrip.call(this, null);\n  }\n};\n\n\n/**\n * The key of the precision property. Not tagged as constants to reduce code size!\n * @private\n * @type {string}\n */\nH.map.Circle.prototype.precisionKey_ = 'precision';\n\n\n/**\n * To get the precision value of this circle\n *\n * @return {number}\n *\n * @publish\n * @export\n */\nH.map.Circle.prototype.getPrecision = function() {\n  'use strict';\n  return this.precision_;\n};\n\n\n/*######################################################################################################################\n             Nice try to compute the bounds based on center and radius, but it computes the wrong ones\n\nH.map.Circle.prototype.setBounds_ = function() {\n 'use strict';\n var radius = this.radius_,\n   center = this.center_,\n   hypotenuse = H.math.sqrt(radius * radius * 2);\n return this.bounds = H.geo.Rect.coverPoints([\n     center,\n     center.walk(0, radius, true),\n     center.walk(90, radius, true),\n     center.walk(180, radius, true),\n     center.walk(270, radius, true)\n ], true);\n};\n\n######################################################################################################################*/\n\n\n/**\n * @override\n * @export\n */\nH.map.Circle.prototype.setNorthPoleCovering = function() {\n  'use strict';\n  // We ignore the call. This flag is set in getStrip_\n  return this;\n};\n\n\n/**\n * @override\n * @export\n */\nH.map.Circle.prototype.setStrip = function() {\n  'use strict';\n  // We ignore the call. The circle's strip will be defined in getStrip_ only\n  return this;\n};\n\n\n/**\n * @override\n * @export\n */\nH.map.Circle.prototype.getStrip = function() {\n  'use strict';\n  return this.strip || H.map.Circle.superClass_.setStrip.call(this, this.getStrip_()).strip;\n};\n\n\n/**\n * To get the computed strip of the circle\n * @private\n * @return {H.geo.Strip}\n */\nH.map.Circle.prototype.getStrip_ = function() {\n  'use strict';\n  var center = this.center_,\n      lat = center['lat'],\n      radius = this.radius_,\n      i = 0,\n      end = 360,\n      strip = new H.geo.Strip,\n      precision,\n      step;\n\n  // Circle close to pole became an open polygon - some wave around the globe, than we need proper filling\n  this.isCoveringNorthPole = lat > 0;\n\n  if (H.math.abs(lat) === 90) {\n    // Center is exact at a pole, so we just add points with same latitude but different longitudes\n    lat = center.walk(0, radius, true)['lat'];\n    for (; i < end; i += 120) {\n      strip.pushLatLngAlt(lat, i - 180, H.lang.UNDEF);\n    }\n  } else {\n    precision = this.precision_;\n    step = 360 / precision;\n    // We drop the last point (360°) because Circle is a Polygon which doesn't need the closing leg\n    for (; i < end; i += step) {\n      // Uses walk() over Great Circle!\n      strip.pushPoint(center.walk(i, radius, true));\n    }\n  }\n  return strip;\n};\n\n\n/**\n * @publish\n * @property {H.map.SpatialStyle=} style the style to be used when tracing the polyline\n * @property {boolean=} visibility An optional boolean value indicating whether this\n *      map object is visible, default is {@code true}\n * @property {number=} precision The precision of a circle as a number of segments to be\n *      used when rendering the circle. The value is clamped to the range between [4 ... 360],\n *      where 60 is the default. Note that the lower the value the more angular and\n *      the less circle-like the shape appears and, conversely, the higher the value the\n *      smoother and more rounded the result. Thus, starting at the extreme low end of the\n *      possible values, 4 produces a square, 6 a hexagon, while 30 results in a\n *      circle-like shape, although it appears increasingly angular as the zoom level\n *      increases (as you zoom in), and finally 360 produces a smooth circle.\n * @property {number=} zIndex\n *      The z-index value of the circle, default is {@code 0}\n * @property {number=} min\n *      The minimum zoom level for which the circle is visible, default is {@code -Infinity}\n * @property {number=} max\n *      The maximum zoom level for which the circle is visible, default is {@code Infinity}\n * @property {(H.map.provider.Provider|null)=} provider\n *           The provider of this object. This property is only needed if a customized Implementation of\n *           ObjectProvider wants to instantiate an object.\n *\n * @typedef {{\n *   style: H.map.SpatialStyle,\n *   visibility: boolean,\n *   precision: number,\n *   zIndex: (number|undefined),\n *   min: (number|undefined),\n *   max: (number|undefined),\n *   provider: (H.map.provider.ObjectProvider|null|undefined)\n* }}\n */\nH.map.Circle.Options;\n",
		"goog.provide('H.map.DomMarker');\n\ngoog.require('H.map.AbstractMarker');\ngoog.require('H.map.DomIcon');\n\n\n\n//################################################  CONSTRUCTOR  #######################################################\n/**\n * A marker with a visual representation in the form of a full styleable and scripteable DOM element.\n * DomMarker are predestinated if small amounts of markers with dynamic styled and/or scripted icons should be displayed\n * om the map (e.g. animated interactive SVG).\n * @publish\n * @export\n * @extends {H.map.AbstractMarker}\n * @final\n * @constructor\n * @param {H.geo.IPoint} position\n * @param {H.map.DomMarker.Options=} opt_options\n */\nH.map.DomMarker = function(position, opt_options) {\n  'use strict';\n  H.map.DomMarker.superClass_.constructor.call(this, position, opt_options);\n};\nH.lang.inherits(H.map.DomMarker, H.map.AbstractMarker);\n\n\n/**\n * @override\n */\nH.map.DomMarker.prototype.type = H.map.Object.Type['DOM_MARKER'];\n\n\n//#################################################  Z-ORDER  ##########################################################\n/**\n * @override\n */\nH.map.DomMarker.prototype.zOrderIdx = 2;\n\n\n//###############################################  DEFAULT ICON  #######################################################\n/**\n * @override\n */\nH.map.DomMarker.prototype.createDefaultIcon = function(options) {\n  'use strict';\n  var icon = new H.map.DomIcon(options.svg, /** @type {H.map.DomIcon.Options} */ (options)),\n      anchor = options.anchor;\n  icon.elem.style.margin = -anchor['y'] + 'px 0 0 -' + anchor['x'] + 'px';\n  return icon;\n};\n\n\n//###################################################  ICON  ###########################################################\n/**\n * @override\n */\nH.map.DomMarker.prototype.iconConstructor = H.map.DomIcon;\n\n\n//################################################  OPTIONS  ###########################################################\n/**\n * Options used to initialize a DomMarker\n * @publish\n *\n * @property {number=} min\n *           The minimum zoom level for which the object is visible, default is {@code -Infinity}\n * @property {number=} max\n *           The maximum zoom level for which the object is visible, default is {@code Infinity}\n * @property {boolean=} visibility\n *           Indicates whether the map object is visible at all, default is {@code true}.\n * @property {number=} zIndex\n *           The z-index value of the map object, default is {@code 0}\n * @property {(H.map.provider.Provider|null)=} provider\n *           The provider of this object. This property is only needed if a customized Implementation of ObjectProvider\n *           wants to instantiate an object.\n * @property {H.map.DomIcon=} icon\n *           The icon to use for the visual representation, if omitted a default icon is used.\n *\n * @typedef {{\n *   min: (number|undefined),\n *   max: (number|undefined),\n *   visibility: (boolean|undefined),\n *   zIndex: (number|undefined),\n *   provider: (H.map.provider.ObjectProvider|null|undefined),\n *   icon: (H.map.DomIcon|undefined)\n * }}\n */\nH.map.DomMarker.Options;\n",
		"goog.provide('H.map.Marker');\n\ngoog.require('H.map.AbstractMarker');\ngoog.require('H.map.Icon');\ngoog.require('H.map.provider.Invalidations');\ngoog.require('H.util.events');\n\n\n\n//################################################  CONSTRUCTOR  #######################################################\n/**\n * A marker with a visual representation in the form of a bitmap icon.\n * Marker are predestinated if large amounts of markers with static icons should be displayed om the map.\n * @publish\n * @export\n * @extends {H.map.AbstractMarker}\n * @final\n * @constructor\n * @param {H.geo.IPoint} position The location of this marker\n * @param {H.map.Marker.Options=} opt_options The values to initialize this marker\n */\nH.map.Marker = function(position, opt_options) {\n  'use strict';\n  H.map.Marker.superClass_.constructor.call(this, position, opt_options);\n};\nH.lang.inherits(H.map.Marker, H.map.AbstractMarker);\n\n\n/**\n * @override\n */\nH.map.Marker.prototype.type = H.map.Object.Type['MARKER'];\n\n\n//#################################################  Z-ORDER  ##########################################################\n/**\n * @override\n */\nH.map.Marker.prototype.zOrderIdx = 1;\n\n\n//###############################################  INVALIDATION  #######################################################\n/**\n * @override\n */\nH.map.Marker.prototype.invalidate = function(flags) {\n  'use strict';\n  var retVal;\n  // We block VISUAL invalidations as long as neither the previous nor the current icon state is READY\n  // to prevent unnecessary rendering:\n  if (flags !== H.map.provider.Invalidations.Flag.VISUAL ||\n      this.previousIconState_ === H.map.Icon.READY || this.icon.getState() === H.map.Icon.READY) {\n    retVal = H.map.Marker.superClass_.invalidate.call(this, flags);\n  }\n  return retVal || false;\n};\n\n\n/**\n * Keeps the state of the previous icon, see invalidate()\n * @private\n * @type {H.map.Icon.prototype.State}\n */\nH.map.Marker.prototype.previousIconState_ = H.map.Icon.LOADING;\n\n\n//###################################################  ICON  ###########################################################\n/**\n * @override\n */\nH.map.Marker.prototype.iconConstructor = H.map.Icon;\n\n\n/**\n * Indicates whether this marker is currently listening to icon's \"statechange\" event\n * @private\n * @type {boolean}\n */\nH.map.Marker.prototype.isListeningForStateChange_ = false;\n\n\n/**\n * The listener for the \"statechange\" event\n * @private\n */\nH.map.Marker.prototype.onIconStateChange_ = function() {\n  this.invalidate(H.map.provider.Invalidations.Flag.VISUAL);\n};\n\n\n/**\n * @override\n * @export\n */\nH.map.Marker.prototype.setIcon = function(icon) {\n  'use strict';\n  var STATECHANGE = 'statechange',\n      current = this.icon;\n\n  // Remove the listener from the old icon if necessary:\n  if (this.isListeningForStateChange_) {\n    current.removeEventListener(STATECHANGE, this.onIconStateChange_, false, this);\n    delete this.isListeningForStateChange_;\n  }\n  // Save the state of the current icon - see invalidate()\n  if (current) {\n    this.previousIconState_ = current.getState();\n  }\n\n  H.map.Marker.superClass_.setIcon.call(this, icon);\n\n  // Add a listener to the new icon if necessary:\n  if (icon.getState() === H.map.Icon.LOADING) {\n    this.isListeningForStateChange_ = true;\n    H.util.events.listenOnce(/** @type {H.map.Icon} */ (icon),\n        STATECHANGE, this.onIconStateChange_, false, this);\n  }\n  return this;\n};\n\n\n//###############################################  DEFAULT ICON  #######################################################\n/**\n * @override\n */\nH.map.Marker.prototype.createDefaultIcon = function(options) {\n  'use strict';\n  return new H.map.Icon(options.svg, /** @type {H.map.Icon.Options} */ (options));\n};\n\n\n//################################################  OPTIONS  ###########################################################\n/**\n * Options used to initialize a Marker\n * @publish\n *\n * @property {number=} min\n *           The minimum zoom level for which the object is visible, default is {@code -Infinity}\n * @property {number=} max\n *           The maximum zoom level for which the object is visible, default is {@code Infinity}\n * @property {boolean=} visibility\n *           Indicates whether the map object is visible at all, default is {@code true}.\n * @property {number=} zIndex\n *           The z-index value of the map object, default is {@code 0}\n * @property {(H.map.provider.Provider|null)=} provider\n *           The provider of this object. This property is only needed if a customized Implementation of ObjectProvider\n *           wants to instantiate an object.\n * @property {H.map.Icon=} icon\n *           The icon to use for the visual representation, if omitted a default icon is used.\n *\n * @typedef {{\n *   min: (number|undefined),\n *   max: (number|undefined),\n *   visibility: (boolean|undefined),\n *   zIndex: (number|undefined),\n *   provider: (H.map.provider.ObjectProvider|null|undefined),\n *   icon: (H.map.Icon|undefined)\n * }}\n */\nH.map.Marker.Options;\n",
		"goog.provide('H.map.provider.MarkerTileProvider');\n\ngoog.require('H.lang');\ngoog.require('H.lang.InvalidArgumentError');\ngoog.require('H.map.provider.RemoteTileProvider');\n\n\n\n/**\n * A MarkerTileProvider uses network service to provide markers on tile basis.\n * @publish\n * @export\n * @final\n *\n * @extends {H.map.provider.RemoteTileProvider}\n * @constructor\n * @param {H.map.provider.MarkerTileProvider.Options} options configuration for tile provider\n */\nH.map.provider.MarkerTileProvider = function(options) {\n  'use strict';\n  var requestData = 'requestData';\n  if (!options || !H.lang.isFunction(options[requestData])) {\n    throw new H.lang.InvalidArgumentError(H.map.provider.MarkerTileProvider, 0, 'options.' + requestData);\n  }\n\n  H.map.provider.MarkerTileProvider.superClass_.constructor.call(this, options);\n\n  /**\n   * User supplied function that fetches and produces map objects\n   * @type {function(number, number, number, function(Array.<H.map.AbstractMarker>), Function):\n   *      H.util.ICancelable}\n   * @private\n   */\n  this.requestData_ = options['requestData'];\n\n  /**\n   * If set to true provides gives back dom markers\n   * @type {boolean}\n   * @private\n   */\n  this.providesDomMarkers_ = !!options['providesDomMarkers'] || false;\n};\nH.lang.inherits(H.map.provider.MarkerTileProvider, H.map.provider.RemoteTileProvider);\n\n\n/**\n * @override\n * @export\n */\nH.map.provider.MarkerTileProvider.prototype.requestInternal = function(x, y, z, onResponse, onError) {\n  'use strict';\n  var that = this,\n      filterMarkers = function(data) {\n        var filteredData = [],\n            icon,\n            marker,\n            i = data.length;\n        while (i--) {\n          marker = data[i];\n          // bind marker to provider and tile\n          marker.tileKey = that['getTileKey'](x, y, z);\n          marker.setParentEventTarget(that);\n\n          icon = marker.getIcon();\n          if (H.lang.isInstanceOf(marker, H.map.DomMarker) || icon.getState() === icon.State['READY']) {\n            filteredData.push(data[i]);\n          }\n        }\n        onResponse(/** @type {Array.<(H.map.Object|null)>} */ (filteredData));\n      };\n  return this.requestData_(x, y, z, filterMarkers, onError);\n};\n\n\n/**\n * To signal to this provider that a map object has been changed.\n * The method marks tile, that contains that objectm as invalid and triggers dispatchUpdate()\n * @publish\n *\n * @export\n * @param {!H.map.AbstractMarker} marker The map object to be invalidated\n * @param {H.math.BitMask} flags The flags indicating the types of occurred changes\n */\nH.map.provider.MarkerTileProvider.prototype.invalidateObject = function(marker, flags) {\n  'use strict';\n  var tile;\n  if (flags !== H.map.provider.Invalidations.Flag.NONE) {\n    tile = /** @type {H.map.provider.Tile} */ (this.getCache().get(marker.tileKey));\n    if (tile) {\n      tile['valid'] = false;\n    }\n    this.dispatchUpdate();\n  }\n};\n\n\n/**\n * Checks whether this provider is currently providing {@link H.map.DomMarker} map objects.\n * @publish\n * @export\n * @return {boolean}\n */\nH.map.provider.MarkerTileProvider.prototype.providesDomMarkers = function() {\n  'use strict';\n  return this.providesDomMarkers_;\n};\n\n\n/**\n * Options which are used to initialize the MarkerTileProvider object.\n * @typedef {{\n *   min: (number|undefined),\n *   max: (number|undefined),\n *   requestData: (function(number, number, number, function(Array.<H.map.AbstractMarker>), Function):\n *      H.util.ICancelable),\n *   providesDomMarkers: (boolean|undefined)\n * }}\n * @publish\n * @property {number=} min The minimal supported zoom level, default is {@code 0}\n * @property {number=} max The maximal supported zoom level, default is {@code 22}\n * @property {function(number, number, number, function(Array.<H.map.AbstractMarker>), Function):\n *   H.util.ICancelable} requestData function that fetches marker data and creates array of\n * {@code H.map.AbstractMarker} that is passed success callback, if function fails to fetch data\n * onError callback must be called\n * @property {boolean=} providesDomMarkers indicates if markers provided are of type\n * {@code H.map.DomMarker} or {@code H.map.Marker}, default is {@code H.map.Marker}\n */\nH.map.provider.MarkerTileProvider.Options;\n",
		"goog.provide('H.map.layer.MarkerTileLayer');\n\ngoog.require('H.map.layer.BaseTileLayer');\ngoog.require('H.map.provider.MarkerTileProvider');\n\n\n\n/**\n * ObjectTileLayer represents map objects which are requested on a tile basis\n *\n * @constructor\n * @extends {H.map.layer.BaseTileLayer}\n * @implements {H.map.layer.IMarkerLayer}\n * @param {H.map.provider.MarkerTileProvider} provider\n * @param {H.map.layer.ITileLayer.Options=} opt_options\n * @export\n * @publish\n */\nH.map.layer.MarkerTileLayer = function(provider, opt_options) {\n  'use strict';\n  H.map.layer.MarkerTileLayer.superClass_.constructor.call(this, provider, opt_options);\n};\nH.lang.inherits(H.map.layer.MarkerTileLayer, H.map.layer.BaseTileLayer);\n\n\n/**\n * This method calcualtes the tile grid bounds\n * @param {H.geo.Rect} geoRect\n * @param {number} zoom\n * @return {H.math.Rect}\n * @private\n */\nH.map.layer.MarkerTileLayer.prototype.calculateTileGrid_ = function(geoRect, zoom) {\n  'use strict';\n\n  var zoomFloored,\n      rect;\n\n  zoomFloored = H.math.floor(zoom);\n  this['pixelProjection'].rescale(zoomFloored);\n  rect = this.geoRectToRect(geoRect);\n  return this.getTileBounds(rect, zoomFloored);\n};\n\n\n/**\n * This method merges markers from tile layer response to\n * single set of markers\n *\n * @param {H.map.layer.ITileLayer.Response} markerTiles\n * @return {H.map.layer.IMarkerLayer.TiledResponse}\n *\n * @private\n */\nH.map.layer.MarkerTileLayer.prototype.mergeMarkerTiles_ = function(markerTiles) {\n  'use strict';\n  var tiles = markerTiles['tiles'],\n      requested = markerTiles['total'],\n      l = tiles.length,\n      markers = [],\n      tile,\n      j,\n      i;\n\n  for (i = 0; i < l; i++) {\n    tile = tiles[i];\n    j = tile['data'].length;\n    while (j--) {\n      markers.push(tile['data'][j]);\n    }\n  }\n\n  return {\n    'markers': markers,\n    'total': tiles.length,\n    'requested': requested\n  };\n\n};\n\n\n/**\n * @const\n * @private\n * @type {H.map.layer.IMarkerLayer.TiledResponse}\n */\nH.map.layer.MarkerTileLayer.EMPTY_RESPONSE_ = {\n  'markers': [],\n  'total': 0,\n  'requested': 0\n};\n\n\n/**\n * This method requests marker tiles from the provider\n * @param {H.geo.Rect} geoRect\n * @param {number} zoom\n * @param {boolean} cacheOnly\n * @param {H.math.Point} prioCenter\n * @return {H.map.layer.IMarkerLayer.TiledResponse}\n *\n * @private\n */\nH.map.layer.MarkerTileLayer.prototype.requestTiledMarkers_ = function(geoRect, zoom, cacheOnly, prioCenter) {\n  'use strict';\n  var tileBounds,\n      markerTiles;\n  tileBounds = this.calculateTileGrid_(geoRect, zoom);\n  markerTiles = this.getProviderTiles(tileBounds, tileBounds['left'] > tileBounds['right'],\n      ~~zoom, cacheOnly, prioCenter);\n  return this.mergeMarkerTiles_(markerTiles);\n};\n\n\n/**\n * @export\n * @override\n */\nH.map.layer.MarkerTileLayer.prototype.requestMarkers = function(geoRect, zoom, cacheOnly, prioCenter) {\n  'use strict';\n  if (!this.provider['providesDomMarkers']()) {\n    return this.requestTiledMarkers_(geoRect, zoom, cacheOnly, prioCenter);\n  } else {\n    return H.map.layer.MarkerTileLayer.EMPTY_RESPONSE_;\n  }\n};\n\n\n/**\n * @export\n * @override\n */\nH.map.layer.MarkerTileLayer.prototype.requestDomMarkers = function(geoRect, zoom, cacheOnly, prioCenter) {\n  'use strict';\n  if (this.provider['providesDomMarkers']()) {\n    return this.requestTiledMarkers_(geoRect, zoom, cacheOnly, prioCenter);\n  } else {\n    return H.map.layer.MarkerTileLayer.EMPTY_RESPONSE_;\n  }\n};\n\n\n",
		"/*\n * don't provide for uncompiled (will result in provide error due\n * to double provision if H-core is included\n */\nif (COMPILED) {\n  goog.provide('H');\n}\n\n\n/**\n * @suppress {duplicate}\n * @ignore\n */\nvar H = H.global['H'] || {};\n\n\n/**\n * HERE Maps for Javascript\n * @namespace\n * @publish\n * @name H\n */\n\n\n\ngoog.require('H.Map');\n\ngoog.require('H.geo.Point');\ngoog.require('H.geo.Rect');\n\ngoog.require('H.map');\ngoog.require('H.map.Circle');\ngoog.require('H.map.DomMarker');\ngoog.require('H.map.Marker');\ngoog.require('H.map.Polygon');\ngoog.require('H.map.Polyline');\ngoog.require('H.map.Rect');\n\n//must require namespaces if we build documentation via deps.list\ngoog.require('H.map.layer');\ngoog.require('H.map.layer.MarkerTileLayer');\ngoog.require('H.map.provider');\ngoog.require('H.map.render');\ngoog.require('H.map.render.p2d');\ngoog.require('H.map.render.p2d.canvas');\ngoog.require('H.net');\ngoog.require('H.util.kinetics');\ngoog.require('H.util.BuildInfo');\n\n\n/**\n * Function returns the module build information\n * @return {H.util.BuildInfo}\n * @export\n */\nH.buildInfo = function() {\n  'use strict';\n  return H.util.BuildInfo.get('{BUILD_NAME}', '{BUILD_VERSION}', '{BUILD_REVISION}');\n};\n// For dev only\n//goog.require('H.map.render.panorama.RenderEngine');\n"
	]
}